import { __decorate } from "tslib";
import { Component, ViewChild } from '@angular/core';
import { ModelService } from '../services/model.service';
import { ControllerService } from '../services/controller.service';
import { FormService } from './form.service';
var PasswordFormComponent = /** @class */ (function () {
    function PasswordFormComponent(model, controller, formService) {
        this.model = model;
        this.controller = controller;
        this.formService = formService;
    }
    PasswordFormComponent.prototype.ngOnInit = function () { };
    PasswordFormComponent.prototype.changeVisibility = function (state) {
        if (state === 'visible') {
            this.password = '';
            this.textBox.element.nativeElement.focus();
        }
    };
    PasswordFormComponent.prototype.action = function () {
        var data = this.formService.form.formData;
        data.openingFilePassword = this.password;
        this.formService.closeForm('passwordForm');
        this.controller.postOpen(data);
    };
    PasswordFormComponent.ctorParameters = function () { return [
        { type: ModelService },
        { type: ControllerService },
        { type: FormService }
    ]; };
    __decorate([
        ViewChild('textBox')
    ], PasswordFormComponent.prototype, "textBox", void 0);
    PasswordFormComponent = __decorate([
        Component({
            selector: 'sti-password-form',
            template: "\n    <sti-base-form [fontFamily]=\"model.options.toolbar.fontFamily\"\n      [color]=\"model.options.toolbar.fontColor\"\n      [name]=\"'passwordForm'\"\n      [caption]=\"model.loc('PasswordSaveReport').replace(':', '')\"\n      [level]=\"2\"\n      [defaultTop]=\"150\"\n      (changeVisibility)=\"changeVisibility($event)\"\n      (action)=\"action()\">\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 5px;\">\n        <tbody>\n          <tr class=\"stiJsViewerClearAllStyles\">\n            <td class=\"stiJsViewerCaptionControls\">\n              {{model.loc('PasswordEnter')}}\n            </td>\n            <td class=\"stiJsViewerCaptionControls\">\n              <sti-text-box #textBox [type]=\"'password'\" [width]=\"200\" [focusOnCreate]=\"true\" [value]=\"password\" (onchange)=\"password = $event.value\">\n              </sti-text-box>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </sti-base-form>\n  "
        })
    ], PasswordFormComponent);
    return PasswordFormComponent;
}());
export { PasswordFormComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFzc3dvcmQtZm9ybS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9zdGltdWxzb2Z0LXZpZXdlci1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL2Zvcm1zL3Bhc3N3b3JkLWZvcm0uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDekQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDbkUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBK0I3QztJQU1FLCtCQUFtQixLQUFtQixFQUFTLFVBQTZCLEVBQVMsV0FBd0I7UUFBMUYsVUFBSyxHQUFMLEtBQUssQ0FBYztRQUFTLGVBQVUsR0FBVixVQUFVLENBQW1CO1FBQVMsZ0JBQVcsR0FBWCxXQUFXLENBQWE7SUFBSSxDQUFDO0lBRWxILHdDQUFRLEdBQVIsY0FBYSxDQUFDO0lBRWQsZ0RBQWdCLEdBQWhCLFVBQWlCLEtBQWE7UUFDNUIsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO1lBQ25CLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztTQUM1QztJQUNILENBQUM7SUFFRCxzQ0FBTSxHQUFOO1FBQ0UsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQzVDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBRTNDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7O2dCQWpCeUIsWUFBWTtnQkFBcUIsaUJBQWlCO2dCQUFzQixXQUFXOztJQUp2RjtRQUFyQixTQUFTLENBQUMsU0FBUyxDQUFDOzBEQUEyQjtJQUZyQyxxQkFBcUI7UUE1QmpDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxtQkFBbUI7WUFDN0IsUUFBUSxFQUFFLDIrQkF1QlQ7U0FDRixDQUFDO09BRVcscUJBQXFCLENBd0JqQztJQUFELDRCQUFDO0NBQUEsQUF4QkQsSUF3QkM7U0F4QlkscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNb2RlbFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9tb2RlbC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQ29udHJvbGxlclNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb250cm9sbGVyLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vZm9ybS5zZXJ2aWNlJztcclxuaW1wb3J0IHsgVGV4dEJveENvbXBvbmVudCB9IGZyb20gJy4uL2NvbnRyb2xzL3RleHQtYm94LmNvbXBvbmV0JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnc3RpLXBhc3N3b3JkLWZvcm0nLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8c3RpLWJhc2UtZm9ybSBbZm9udEZhbWlseV09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZm9udEZhbWlseVwiXHJcbiAgICAgIFtjb2xvcl09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZm9udENvbG9yXCJcclxuICAgICAgW25hbWVdPVwiJ3Bhc3N3b3JkRm9ybSdcIlxyXG4gICAgICBbY2FwdGlvbl09XCJtb2RlbC5sb2MoJ1Bhc3N3b3JkU2F2ZVJlcG9ydCcpLnJlcGxhY2UoJzonLCAnJylcIlxyXG4gICAgICBbbGV2ZWxdPVwiMlwiXHJcbiAgICAgIFtkZWZhdWx0VG9wXT1cIjE1MFwiXHJcbiAgICAgIChjaGFuZ2VWaXNpYmlsaXR5KT1cImNoYW5nZVZpc2liaWxpdHkoJGV2ZW50KVwiXHJcbiAgICAgIChhY3Rpb24pPVwiYWN0aW9uKClcIj5cclxuICAgICAgPHRhYmxlIGNsYXNzPVwic3RpSnNWaWV3ZXJDbGVhckFsbFN0eWxlc1wiIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIHN0eWxlPVwibWFyZ2luOiA1cHg7XCI+XHJcbiAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgPHRyIGNsYXNzPVwic3RpSnNWaWV3ZXJDbGVhckFsbFN0eWxlc1wiPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJzdGlKc1ZpZXdlckNhcHRpb25Db250cm9sc1wiPlxyXG4gICAgICAgICAgICAgIHt7bW9kZWwubG9jKCdQYXNzd29yZEVudGVyJyl9fVxyXG4gICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJzdGlKc1ZpZXdlckNhcHRpb25Db250cm9sc1wiPlxyXG4gICAgICAgICAgICAgIDxzdGktdGV4dC1ib3ggI3RleHRCb3ggW3R5cGVdPVwiJ3Bhc3N3b3JkJ1wiIFt3aWR0aF09XCIyMDBcIiBbZm9jdXNPbkNyZWF0ZV09XCJ0cnVlXCIgW3ZhbHVlXT1cInBhc3N3b3JkXCIgKG9uY2hhbmdlKT1cInBhc3N3b3JkID0gJGV2ZW50LnZhbHVlXCI+XHJcbiAgICAgICAgICAgICAgPC9zdGktdGV4dC1ib3g+XHJcbiAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICA8L3RyPlxyXG4gICAgICAgIDwvdGJvZHk+XHJcbiAgICAgIDwvdGFibGU+XHJcbiAgICA8L3N0aS1iYXNlLWZvcm0+XHJcbiAgYFxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIFBhc3N3b3JkRm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIEBWaWV3Q2hpbGQoJ3RleHRCb3gnKSB0ZXh0Qm94OiBUZXh0Qm94Q29tcG9uZW50O1xyXG5cclxuICBwYXNzd29yZDogc3RyaW5nO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbW9kZWw6IE1vZGVsU2VydmljZSwgcHVibGljIGNvbnRyb2xsZXI6IENvbnRyb2xsZXJTZXJ2aWNlLCBwdWJsaWMgZm9ybVNlcnZpY2U6IEZvcm1TZXJ2aWNlKSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKSB7IH1cclxuXHJcbiAgY2hhbmdlVmlzaWJpbGl0eShzdGF0ZTogc3RyaW5nKSB7XHJcbiAgICBpZiAoc3RhdGUgPT09ICd2aXNpYmxlJykge1xyXG4gICAgICB0aGlzLnBhc3N3b3JkID0gJyc7XHJcbiAgICAgIHRoaXMudGV4dEJveC5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFjdGlvbigpIHtcclxuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmZvcm1TZXJ2aWNlLmZvcm0uZm9ybURhdGE7XHJcbiAgICBkYXRhLm9wZW5pbmdGaWxlUGFzc3dvcmQgPSB0aGlzLnBhc3N3b3JkO1xyXG4gICAgdGhpcy5mb3JtU2VydmljZS5jbG9zZUZvcm0oJ3Bhc3N3b3JkRm9ybScpO1xyXG5cclxuICAgIHRoaXMuY29udHJvbGxlci5wb3N0T3BlbihkYXRhKTtcclxuICB9XHJcbn1cclxuIl19