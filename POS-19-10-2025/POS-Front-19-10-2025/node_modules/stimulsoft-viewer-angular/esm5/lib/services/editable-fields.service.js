import { __decorate, __values } from "tslib";
import { Injectable } from '@angular/core';
import { ControllerService } from './controller.service';
import { ModelService } from './model.service';
import { HelperService } from './helper.service';
var EditableFieldsService = /** @class */ (function () {
    function EditableFieldsService(controller, model, helper) {
        var _this = this;
        this.controller = controller;
        this.model = model;
        this.helper = helper;
        this.visible = false;
        this.editableFields = [];
        controller.getActionMessage().subscribe(function (message) {
            switch (message.action) {
                case 'Editor':
                    _this.visible = !_this.visible;
                    if (_this.visible) {
                        _this.showAllEditableFields();
                    }
                    else {
                        _this.hideAllEditableFields();
                    }
                    break;
            }
        });
        controller.getMessage().subscribe(function (message) {
            if (message.action === 'GetPages' && _this.visible) {
                setTimeout(function () { return _this.showAllEditableFields(); });
            }
            else {
                _this.visible = false;
            }
        });
    }
    EditableFieldsService.prototype.showAllEditableFields = function () {
        var _this = this;
        this.editableFields = [];
        this.model.pages.forEach(function (page, pageIndex) {
            var e_1, _a;
            var pageElements = page.page.getElementsByTagName('*');
            try {
                for (var pageElements_1 = __values(pageElements), pageElements_1_1 = pageElements_1.next(); !pageElements_1_1.done; pageElements_1_1 = pageElements_1.next()) {
                    var pageElement = pageElements_1_1.value;
                    var editableStrAttr = pageElement.getAttribute('editable');
                    if (editableStrAttr) {
                        var attrArray = editableStrAttr.split(';');
                        var params = {};
                        params.compIndex = attrArray[0];
                        params.pageIndex = _this.model.reportParams.viewMode === 'SinglePage' ? _this.model.reportParams.pageNumber : pageIndex.toString();
                        params.type = attrArray[1];
                        if (params.type === 'CheckBox') {
                            _this.showCheckBoxEditableField(pageElement, params, attrArray);
                        }
                        else if (params.type === 'Text') {
                            _this.showTextEditableField(pageElement, params);
                        }
                        else if (params.type === 'RichText') {
                            _this.showRichTextEditableField(pageElement, params);
                        }
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (pageElements_1_1 && !pageElements_1_1.done && (_a = pageElements_1.return)) _a.call(pageElements_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        });
    };
    EditableFieldsService.prototype.hideAllEditableFields = function () {
        if (this.currentEditableTextArea) {
            this.currentEditableTextArea.onblur();
        }
        this.editableFields.forEach(function (eField) {
            eField.className = eField.className.replace(' stiEditableField stiEditableFieldSelected', '');
            eField.onclick = null;
            eField.style.outline = '';
        });
    };
    EditableFieldsService.prototype.showCheckBoxEditableField = function (editableCell, params, attrArray) {
        var _this = this;
        if (!editableCell.sizes) {
            var imgElements = editableCell.getElementsByTagName('IMG');
            if (imgElements.length === 0) {
                imgElements = editableCell.getElementsByTagName('SVG');
            }
            if (imgElements.length === 0) {
                imgElements = editableCell.getElementsByTagName('svg');
            }
            var imgElement = (imgElements.length > 0) ? imgElements[0] : null;
            if (!imgElement) {
                return;
            }
            if (imgElement.offsetWidth) {
                editableCell.sizes = {
                    inPixels: imgElement.offsetWidth > imgElement.offsetHeight ? imgElement.offsetHeight : imgElement.offsetWidth,
                    widthStyle: imgElement.style.width,
                    heightStyle: imgElement.style.height
                };
            }
            else {
                editableCell.sizes = {
                    inPixels: imgElement.clientWidth > imgElement.clientHeight ? imgElement.clientHeight : imgElement.clientWidth,
                    widthStyle: imgElement.clientWidth + 'px',
                    heightStyle: imgElement.clientHeight + 'px'
                };
            }
        }
        if (this.helper.getNavigatorName() !== 'Google Chrome') {
            editableCell.style.outline = '1px solid gray';
        }
        editableCell.style.textAlign = 'center';
        editableCell.className += ' stiEditableField stiEditableFieldSelected';
        var trueSvgImage = this.getSvgCheckBox(attrArray[3], attrArray[5], this.helper.strToInt(attrArray[6]), attrArray[7], editableCell.sizes.inPixels);
        var falseSvgImage = this.getSvgCheckBox(attrArray[4], attrArray[5], this.helper.strToInt(attrArray[6]), attrArray[7], editableCell.sizes.inPixels);
        params.falseImage = "<div style=\"width: " + editableCell.sizes.widthStyle + "; height: " + editableCell.sizes.heightStyle + "; \"> " + trueSvgImage + "  </div>";
        params.trueImage = "<div style=\"width: " + editableCell.sizes.widthStyle + "; height: " + editableCell.sizes.heightStyle + "; \"> " + falseSvgImage + " </div>";
        params.checked = attrArray[2] === 'true' || attrArray[2] === 'True';
        editableCell.params = params;
        if (!editableCell.hasChanged) {
            editableCell.checked = params.checked;
            editableCell.innerHTML = params.checked ? params.trueImage : params.falseImage;
        }
        editableCell.onclick = function () {
            editableCell.checked = !editableCell.checked;
            editableCell.innerHTML = editableCell.checked ? params.trueImage : params.falseImage;
            editableCell.hasChanged = true;
            _this.addEditableParameters(editableCell);
        };
        this.editableFields.push(editableCell);
    };
    EditableFieldsService.prototype.showTextEditableField = function (editableCell, params) {
        var _this = this;
        editableCell.className += ' stiEditableField stiEditableFieldSelected';
        if (this.helper.getNavigatorName() !== 'Google Chrome') {
            editableCell.style.outline = '1px solid gray';
        }
        editableCell.params = params;
        editableCell.jsObject = this;
        editableCell.onclick = function () {
            if (editableCell.editMode) {
                return;
            }
            if (_this.currentEditableTextArea) {
                _this.currentEditableTextArea.onblur();
            }
            editableCell.editMode = true;
            var textArea = document.createElement('textarea');
            textArea.style.width = (editableCell.offsetWidth - 5) + 'px';
            textArea.style.height = (editableCell.offsetHeight - 5) + 'px';
            textArea.style.maxWidth = (editableCell.offsetWidth - 5) + 'px';
            textArea.style.maxHeight = (editableCell.offsetHeight - 5) + 'px';
            textArea.className = editableCell.className.replace(' stiEditableField stiEditableFieldSelected', '') + ' stiEditableTextArea';
            textArea.style.border = '0px';
            var textContainer = editableCell;
            if (textContainer.firstChild && textContainer.firstChild.nodeName && textContainer.firstChild.nodeName.toLowerCase() === 'div') {
                textContainer = textContainer.childNodes[0];
            }
            textArea.value = textContainer.innerHTML.replace(/<br>/g, '\n');
            editableCell.appendChild(textArea);
            textArea.focus();
            _this.currentEditableTextArea = textArea;
            textArea.onblur = function () {
                editableCell.editMode = false;
                var newText = textArea.value;
                textContainer.innerHTML = newText.replace(/\n/g, '<br>');
                if (_this && textArea.parentNode) {
                    textArea.parentNode.removeChild(textArea);
                }
                _this.currentEditableTextArea = null;
                _this.addEditableParameters(editableCell, newText);
            };
        };
        this.editableFields.push(editableCell);
    };
    EditableFieldsService.prototype.showRichTextEditableField = function (editableCell, params) {
    };
    EditableFieldsService.prototype.addEditableParameters = function (editableCell, newText) {
        if (!this.model.reportParams.editableParameters) {
            this.model.reportParams.editableParameters = {};
        }
        var params = {};
        params.type = editableCell.params.type;
        if (params.type === 'CheckBox') {
            params.checked = editableCell.checked;
        }
        if (params.type === 'Text') {
            params.text = newText != null ? newText : editableCell.innerHTML;
        }
        if (!this.model.reportParams.editableParameters[editableCell.params.pageIndex]) {
            this.model.reportParams.editableParameters[editableCell.params.pageIndex] = {};
        }
        this.model.reportParams.editableParameters[editableCell.params.pageIndex][editableCell.params.compIndex] = params;
    };
    EditableFieldsService.prototype.getSvgCheckBox = function (style, contourColor, size, backColor, width) {
        var head = "<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0\" y=\"0\" width=\"" + width + "px\" height=\"" + width + "px\">";
        var path = "<path stroke=\"" + contourColor + "\" stroke-width=\"" + size + "\" fill=\"" + backColor + "\" stroke-linecap=\"round\" stroke-linejoin=\"round\" transform=\"scale(" + (1 / (200 / width)) + ")\" d=\"";
        var shape = '';
        switch (style) {
            case 'Cross':
                shape = 'm 62.567796,147.97593 c -0.55,-0.14223 -2.162828,-0.5128 -3.584062,-0.82348 -3.647667,-0.79738 -9.670499,-5.83775 -14.242817,-11.91949 l ' +
                    '-3.902341,-5.19058 5.080199,-1.13481 c 7.353071,-1.64253 13.640456,-5.71752 21.826811,-14.14646 l 7.208128,-7.42171 ' +
                    '-6.410736,-7.513354 c -11.773129,-13.79803 -14.346726,-23.01954 -8.627769,-30.91434 2.894109,-3.9952 11.818482,-12.369333 ' +
                    '13.182086,-12.369333 0.411356,0 1.063049,1.6875 1.448207,3.750003 0.980474,5.25038 6.456187,16.76587 10.936694,23 2.075266,2.8875 ' +
                    '3.991125,5.25 4.257464,5.25 0.266339,0 3.775242,-3.4875 7.797566,-7.75 16.397034,-17.37615 29.674184,-19.76481 38.280564,-6.88699 ' +
                    '4.15523,6.21753 4.18631,8.07093 0.14012,8.3552 -5.84833,0.41088 -17.16241,8.5342 -25.51465,18.319104 l -4.63153,5.42599 ' +
                    '4.87803,4.31529 c 6.55108,5.79533 18.8991,11.89272 25.84076,12.76002 3.0455,0.38051 5.53727,1.10582 5.53727,1.6118 0,2.7809 ' +
                    '-9.26611,14.41872 -13.03,16.36511 -7.96116,4.11687 -16.36991,0.71207 -32.764584,-13.26677 l -4.985957,-4.25125 -7.086791,8.97188 c ' +
                    '-3.897736,4.93454 -8.82141,10.1198 -10.9415,11.52281 -3.906121,2.58495 -8.86588,4.41339 -10.691162,3.94136 z';
                break;
            case 'Check':
                shape = 'M 60.972125,162.49704 C 51.172676,136.72254 43.561975,123.37669 35.370344,117.6027 l -4.45827,-3.14248 2.75159,-2.89559 c 3.875121,-4.07793 ' +
                    '10.034743,-7.49924 14.902472,-8.27747 3.859874,-0.61709 4.458306,-0.38024 8.535897,3.37835 2.660692,2.45254 6.265525,7.60856 9.167226,13.11196 ' +
                    '2.630218,4.98849 4.910542,9.06999 5.067388,9.06999 0.156846,0 2.31372,-3.0375 4.793052,-6.75 C 96.259164,91.956015 129.68299,58.786374 157.56485,41.281603 l ' +
                    '8.84913,-5.555656 2.2633,2.631238 2.26329,2.631237 -7.76266,6.294183 C 139.859,66.19023 108.01682,105.51363 89.042715,138.83563 c -6.680477,11.73214 ' +
                    '-7.172359,12.31296 -15.090788,17.81963 -4.501873,3.13071 -9.044031,6.30443 -10.093684,7.05271 -1.708923,1.21826 -2.010678,1.09165 -2.886118,-1.21093 z';
                break;
            case 'CrossRectangle':
                shape = 'm 24.152542,102.04237 0,-72.499996 74.5,0 74.499998,0 0,72.499996 0,72.5 -74.499998,0 -74.5,0 0,-72.5 z m 133.758188,0.25 -0.25819,-57.249996 ' +
                    '-58.999998,0 -59,0 -0.259695,55.999996 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 13.207991,1.25 59.517885,1.25 l ' +
                    '59.039573,0 -0.25819,-57.25 z m -90.574091,43.18692 c -1.823747,-0.3912 -4.926397,-1.85716 -6.894778,-3.25768 -3.319254,-2.36169 -12.289319,-12.40741 ' +
                    '-12.289319,-13.76302 0,-0.32888 2.417494,-1.13897 5.372209,-1.80021 7.185193,-1.60797 13.747505,-5.93496 21.803114,-14.3763 l 6.675323,-6.99496 ' +
                    '-6.379078,-7.31436 C 64.931387,85.71231 61.643682,76.29465 65.471903,68.89169 67.054097,65.83207 78.56175,54.542374 80.098251,54.542374 c 0.45744,0 ' +
                    '1.146839,1.6875 1.531997,3.75 0.980474,5.250386 6.456187,16.765876 10.936694,22.999996 2.075266,2.8875 3.991125,5.25 4.257464,5.25 0.266339,0 ' +
                    '3.775244,-3.4875 7.797564,-7.75 16.39704,-17.376139 29.67419,-19.764806 38.28057,-6.88698 4.15523,6.21752 4.18631,8.07092 0.14012,8.35519 -5.82996,0.40959 ' +
                    '-18.23707,9.34942 -25.91566,18.67328 -3.90068,4.73647 -3.97203,4.95414 -2.2514,6.86861 3.19054,3.54997 13.7039,10.54321 18.97191,12.61967 2.83427,1.11716 ' +
                    '7.43737,2.33421 10.22912,2.70455 2.79175,0.37034 5.07591,0.9956 5.07591,1.38947 0,2.11419 -8.37504,13.20895 -11.6517,15.4355 -8.39423,5.70403 ' +
                    '-16.63203,2.77 -34.14289,-12.16054 l -4.985955,-4.25125 -7.086791,8.97188 c -9.722344,12.3085 -16.524852,16.55998 -23.948565,14.96754 z';
                break;
            case 'CheckRectangle':
                shape = 'm 19.915254,103.5 0,-72.5 71.942245,0 71.942241,0 6.55727,-4.11139 6.55726,-4.11139 1.96722,2.36139 c 1.08197,1.298765 1.98219,2.644166 2.00049,2.98978 ' +
                    '0.0183,0.345615 -2.44173,2.53784 -5.46673,4.87161 l -5.5,4.243219 0,69.378391 0,69.37839 -74.999991,0 -75.000005,0 0,-72.5 z m 133.999996,3.87756 c ' +
                    '0,-49.33933 -0.12953,-53.514947 -1.62169,-52.276568 -2.78014,2.307312 -15.68408,17.90053 -24.32871,29.399008 -10.4919,13.955575 -23.47926,33.53736 ' +
                    '-29.514025,44.5 -4.457326,8.09707 -5.134776,8.80812 -14.291256,15 -5.28667,3.575 -9.903486,6.62471 -10.259592,6.77712 -0.356107,0.15242 -1.912439,-2.99758 ' +
                    '-3.458515,-7 -1.546077,-4.00241 -5.258394,-12.41205 -8.249593,-18.68809 -4.285436,-8.99155 -6.676569,-12.64898 -11.27758,-17.25 C 47.70282,104.62757 ' +
                    '44.364254,102 43.495254,102 c -2.798369,0 -1.704872,-1.66044 3.983717,-6.049158 5.593548,-4.31539 13.183139,-7.091307 16.801313,-6.145133 3.559412,0.930807 ' +
                    '9.408491,8.154973 13.919775,17.192241 l 4.46286,8.94025 4.54378,-6.83321 C 95.518219,96.605618 108.21371,81.688517 125.80695,63.75 L 143.21531,46 l ' +
                    '-53.650021,0 -53.650035,0 0,57.5 0,57.5 59.000005,0 58.999991,0 0,-53.62244 z';
                break;
            case 'CrossCircle':
                shape = 'M 83.347458,173.13597 C 61.069754,168.04956 42.193415,152.8724 32.202285,132.01368 23.4014,113.63986 23.679644,89.965903 32.91889,71.042373 ' +
                    '41.881579,52.685283 60.867647,37.139882 80.847458,31.799452 c 10.235111,-2.735756 31.264662,-2.427393 40.964762,0.600679 26.18668,8.174684 ' +
                    '46.06876,28.926852 51.62012,53.879155 2.43666,10.952327 1.56754,28.058524 -1.98036,38.977594 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 ' +
                    '-6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033911,0.23456 -15.484931,-0.10267 -19.500002,-1.01939 z M 112.4138,158.45825 c 17.13137,-3.13002 ' +
                    '33.71724,-15.96081 41.41353,-32.03742 14.8975,-31.119027 -1.10807,-67.659584 -34.40232,-78.540141 -6.71328,-2.193899 -9.93541,-2.643501 ' +
                    '-19.07755,-2.661999 -9.354252,-0.01893 -12.16228,0.37753 -18.768532,2.649866 -17.155451,5.900919 -29.669426,17.531424 -36.438658,33.866137 ' +
                    '-2.152301,5.193678 -2.694658,8.35455 -3.070923,17.89744 -0.518057,13.139047 0.741843,19.201887 6.111644,29.410237 4.106815,7.80733 15.431893,19.09359 ' +
                    '23.36818,23.28808 12.061362,6.37467 27.138828,8.6356 40.864629,6.1278 z M 69.097458,133.41654 c -2.8875,-2.75881 -5.25,-5.35869 -5.25,-5.77751 ' +
                    '0,-0.41882 5.658529,-6.30954 12.57451,-13.0905 l 12.57451,-12.329 L 76.198053,89.392633 63.399628,76.565738 68.335951,71.554056 c 2.714978,-2.756426 ' +
                    '5.304859,-5.011683 5.75529,-5.011683 0.450432,0 6.574351,5.611554 13.608709,12.470121 l 12.78974,12.470119 4.42889,-4.553471 c 2.43588,-2.50441 ' +
                    '8.39186,-8.187924 13.23551,-12.630032 l 8.80663,-8.076559 5.34744,5.281006 5.34743,5.281007 -12.96155,12.557899 -12.96154,12.557897 13.13318,13.16027 ' +
                    '13.13319,13.16027 -5.18386,4.66074 c -2.85112,2.5634 -5.70472,4.66073 -6.34134,4.66073 -0.63661,0 -6.5434,-5.4 -13.12621,-12 -6.58281,-6.6 -12.3871,-12 ' +
                    '-12.89844,-12 -0.511329,0 -6.593363,5.60029 -13.515627,12.44509 l -12.585935,12.44508 -5.25,-5.016 z';
                break;
            case 'DotCircle':
                shape = 'M 81.652542,170.5936 C 59.374838,165.50719 40.498499,150.33003 30.507369,129.47131 21.706484,111.09749 21.984728,87.42353 31.223974,68.5 ' +
                    '40.186663,50.14291 59.172731,34.597509 79.152542,29.257079 89.387653,26.521323 110.4172,26.829686 120.1173,29.857758 c 26.18668,8.174684 ' +
                    '46.06876,28.926852 51.62012,53.879152 2.43666,10.95233 1.56754,28.05853 -1.98036,38.9776 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 ' +
                    '-6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033907,0.23456 -15.484927,-0.10267 -19.499998,-1.01939 z m 29.999998,-15.098 c 20.68862,-4.34363 ' +
                    '38.01874,-20.45437 44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.0187 0,-30 C 150.08927,65.371023 134.63549,50.297336 114.65254,44.412396 ' +
                    '106.5531,42.027127 90.741304,42.026386 82.695253,44.4109 62.460276,50.407701 46.686742,66.039241 41.6053,85.13096 c -1.948821,7.32201 -1.86506,23.11641 ' +
                    '0.158766,29.93754 8.730326,29.42481 38.97193,46.91812 69.888474,40.4271 z M 90.004747,122.6703 C 76.550209,117.63801 69.825047,101.82445 ' +
                    '75.898143,89.5 c 2.136718,-4.33615 7.147144,-9.356192 11.754399,-11.776953 5.578622,-2.931141 16.413098,-2.927504 22.052908,0.0074 18.03,9.382663 ' +
                    '19.07573,32.784373 1.91442,42.841563 -5.57282,3.26589 -15.830952,4.2617 -21.615123,2.09829 z';
                break;
            case 'DotRectangle':
                shape = 'm 23.847458,101.19491 0,-72.499995 74.5,0 74.499992,0 0,72.499995 0,72.5 -74.499992,0 -74.5,0 0,-72.5 z m 133.999992,-0.008 0,-57.507925 ' +
                    '-59.249992,0.25793 -59.25,0.25793 -0.25819,57.249995 -0.258189,57.25 59.508189,0 59.508182,0 0,-57.50793 z m -94.320573,33.85402 c -0.37368,-0.37368 ' +
                    '-0.679419,-15.67942 -0.679419,-34.01275 l 0,-33.333335 35.513302,0 35.51329,0 -0.2633,33.749995 -0.2633,33.75 -34.570573,0.26275 c -19.013819,0.14452 ' +
                    '-34.876319,-0.043 -35.25,-0.41666 z';
                break;
            case 'NoneCircle':
                shape = 'M 83.5,170.5936 C 61.222296,165.50719 42.345957,150.33003 32.354827,129.47131 23.553942,111.09749 23.832186,87.423523 33.071432,68.5 ' +
                    '42.034121,50.14291 61.020189,34.597509 81,29.257079 c 10.235111,-2.735756 31.26466,-2.427393 40.96476,0.600679 26.18668,8.174684 46.06876,28.926852 ' +
                    '51.62012,53.879155 2.43666,10.95232 1.56754,28.058527 -1.98036,38.977597 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 -6.3909,2.08202 ' +
                    '-10.18566,2.59644 -21.27805,2.88446 -9.033909,0.23456 -15.484929,-0.10267 -19.5,-1.01939 z m 30,-15.098 c 20.68862,-4.34363 38.01874,-20.45437 ' +
                    '44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.018707 0,-29.999997 C 151.93673,65.371023 136.48295,50.297336 116.5,44.412396 108.40056,42.027127 ' +
                    '92.588762,42.026386 84.542711,44.410896 64.307734,50.407697 48.5342,66.039237 43.452758,85.130959 c -1.948821,7.322 -1.86506,23.116411 ' +
                    '0.158766,29.937541 8.730326,29.42481 38.97193,46.91812 69.888476,40.4271 z';
                break;
            case 'NoneRectangle':
                shape = 'm 24.152542,102.04237 0,-72.499997 74.5,0 74.500008,0 0,72.499997 0,72.5 -74.500008,0 -74.5,0 0,-72.5 z m 133.758198,0.25 ' +
                    '-0.25819,-57.249997 -59.000008,0 -59,0 -0.259695,55.999997 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 ' +
                    '13.207991,1.25 59.517885,1.25 l 59.039583,0 -0.25819,-57.25 z';
                break;
        }
        return head + path + shape + '" /></svg>';
    };
    EditableFieldsService.ctorParameters = function () { return [
        { type: ControllerService },
        { type: ModelService },
        { type: HelperService }
    ]; };
    EditableFieldsService = __decorate([
        Injectable()
    ], EditableFieldsService);
    return EditableFieldsService;
}());
export { EditableFieldsService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdGFibGUtZmllbGRzLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9zdGltdWxzb2Z0LXZpZXdlci1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2VzL2VkaXRhYmxlLWZpZWxkcy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRXpELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFHakQ7SUFNRSwrQkFBb0IsVUFBNkIsRUFBVSxLQUFtQixFQUFVLE1BQXFCO1FBQTdHLGlCQXNCQztRQXRCbUIsZUFBVSxHQUFWLFVBQVUsQ0FBbUI7UUFBVSxVQUFLLEdBQUwsS0FBSyxDQUFjO1FBQVUsV0FBTSxHQUFOLE1BQU0sQ0FBZTtRQUp0RyxZQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ2hCLG1CQUFjLEdBQUcsRUFBRSxDQUFDO1FBS3pCLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLFNBQVMsQ0FBQyxVQUFDLE9BQWdCO1lBQ3ZELFFBQVEsT0FBTyxDQUFDLE1BQU0sRUFBRTtnQkFDdEIsS0FBSyxRQUFRO29CQUNYLEtBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxLQUFJLENBQUMsT0FBTyxDQUFDO29CQUM3QixJQUFJLEtBQUksQ0FBQyxPQUFPLEVBQUU7d0JBQ2hCLEtBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO3FCQUM5Qjt5QkFBTTt3QkFDTCxLQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztxQkFDOUI7b0JBQ0QsTUFBTTthQUNUO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFSCxVQUFVLENBQUMsVUFBVSxFQUFFLENBQUMsU0FBUyxDQUFDLFVBQUMsT0FBTztZQUN4QyxJ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SUFBNEk7b0JBQzVJLDBKQUEwSjtvQkFDMUosMklBQTJJO29CQUMzSSxvSkFBb0o7b0JBQ3BKLDhGQUE4RixDQUFDO2dCQUNqRyxNQUFNO1lBRVIsS0FBSyxjQUFjO2dCQUNqQixLQUFLLEdBQUcsMklBQTJJO29CQUNqSix1SkFBdUo7b0JBQ3ZKLHdKQUF3SjtvQkFDeEoscUNBQXFDLENBQUM7Z0JBQ3hDLE1BQU07WUFFUixLQUFLLFlBQVk7Z0JBQ2YsS0FBSyxHQUFHLHVJQUF1STtvQkFDN0ksc0pBQXNKO29CQUN0SixtSkFBbUo7b0JBQ25KLGlKQUFpSjtvQkFDakosa0pBQWtKO29CQUNsSix5SUFBeUk7b0JBQ3pJLDRFQUE0RSxDQUFDO2dCQUMvRSxNQUFNO1lBRVIsS0FBSyxlQUFlO2dCQUNsQixLQUFLLEdBQUcsNEhBQTRIO29CQUNsSSwrSEFBK0g7b0JBQy9ILCtEQUErRCxDQUFDO2dCQUNsRSxNQUFNO1NBQ1Q7UUFFRCxPQUFPLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSyxHQUFHLFlBQVksQ0FBQztJQUM1QyxDQUFDOztnQkFqUitCLGlCQUFpQjtnQkFBaUIsWUFBWTtnQkFBa0IsYUFBYTs7SUFObEcscUJBQXFCO1FBRGpDLFVBQVUsRUFBRTtPQUNBLHFCQUFxQixDQXdSakM7SUFBRCw0QkFBQztDQUFBLEFBeFJELElBd1JDO1NBeFJZLHFCQUFxQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29udHJvbGxlclNlcnZpY2UgfSBmcm9tICcuL2NvbnRyb2xsZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuL29iamVjdHMnO1xyXG5pbXBvcnQgeyBNb2RlbFNlcnZpY2UgfSBmcm9tICcuL21vZGVsLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBIZWxwZXJTZXJ2aWNlIH0gZnJvbSAnLi9oZWxwZXIuc2VydmljZSc7XHJcblxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBFZGl0YWJsZUZpZWxkc1NlcnZpY2Uge1xyXG5cclxuICBwdWJsaWMgdmlzaWJsZSA9IGZhbHNlO1xyXG4gIHB1YmxpYyBlZGl0YWJsZUZpZWxkcyA9IFtdO1xyXG4gIHB1YmxpYyBjdXJyZW50RWRpdGFibGVUZXh0QXJlYTogYW55O1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbnRyb2xsZXI6IENvbnRyb2xsZXJTZXJ2aWNlLCBwcml2YXRlIG1vZGVsOiBNb2RlbFNlcnZpY2UsIHByaXZhdGUgaGVscGVyOiBIZWxwZXJTZXJ2aWNlKSB7XHJcblxyXG4gICAgY29udHJvbGxlci5nZXRBY3Rpb25NZXNzYWdlKCkuc3Vic2NyaWJlKChtZXNzYWdlOiBNZXNzYWdlKSA9PiB7XHJcbiAgICAgIHN3aXRjaCAobWVzc2FnZS5hY3Rpb24pIHtcclxuICAgICAgICBjYXNlICdFZGl0b3InOlxyXG4gICAgICAgICAgdGhpcy52aXNpYmxlID0gIXRoaXMudmlzaWJsZTtcclxuICAgICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93QWxsRWRpdGFibGVGaWVsZHMoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZUFsbEVkaXRhYmxlRmllbGRzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29udHJvbGxlci5nZXRNZXNzYWdlKCkuc3Vic2NyaWJlKChtZXNzYWdlKSA9PiB7XHJcbiAgICAgIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gJ0dldFBhZ2VzJyAmJiB0aGlzLnZpc2libGUpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2hvd0FsbEVkaXRhYmxlRmllbGRzKCkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2hvd0FsbEVkaXRhYmxlRmllbGRzKCkge1xyXG4gICAgdGhpcy5lZGl0YWJsZUZpZWxkcyA9IFtdO1xyXG5cclxuICAgIHRoaXMubW9kZWwucGFnZXMuZm9yRWFjaCgocGFnZSwgcGFnZUluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IHBhZ2VFbGVtZW50cyA9IHBhZ2UucGFnZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xyXG4gICAgICBmb3IgKGNvbnN0IHBhZ2VFbGVtZW50IG9mIHBhZ2VFbGVtZW50cykge1xyXG4gICAgICAgIGNvbnN0IGVkaXRhYmxlU3RyQXR0ciA9IHBhZ2VFbGVtZW50LmdldEF0dHJpYnV0ZSgnZWRpdGFibGUnKTtcclxuICAgICAgICBpZiAoZWRpdGFibGVTdHJBdHRyKSB7XHJcbiAgICAgICAgICBjb25zdCBhdHRyQXJyYXkgPSBlZGl0YWJsZVN0ckF0dHIuc3BsaXQoJzsnKTtcclxuICAgICAgICAgIGNvbnN0IHBhcmFtczogYW55ID0ge307XHJcbiAgICAgICAgICBwYXJhbXMuY29tcEluZGV4ID0gYXR0ckFycmF5WzBdO1xyXG4gICAgICAgICAgcGFyYW1zLnBhZ2VJbmRleCA9IHRoaXMubW9kZWwucmVwb3J0UGFyYW1zLnZpZXdNb2RlID09PSAnU2luZ2xlUGFnZScgPyB0aGlzLm1vZGVsLnJlcG9ydFBhcmFtcy5wYWdlTnVtYmVyIDogcGFnZUluZGV4LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICBwYXJhbXMudHlwZSA9IGF0dHJBcnJheVsxXTtcclxuXHJcbiAgICAgICAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdDaGVja0JveCcpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93Q2hlY2tCb3hFZGl0YWJsZUZpZWxkKHBhZ2VFbGVtZW50LCBwYXJhbXMsIGF0dHJBcnJheSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy50eXBlID09PSAnVGV4dCcpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93VGV4dEVkaXRhYmxlRmllbGQocGFnZUVsZW1lbnQsIHBhcmFtcyk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy50eXBlID09PSAnUmljaFRleHQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1JpY2hUZXh0RWRpdGFibGVGaWVsZChwYWdlRWxlbWVudCwgcGFyYW1zKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaGlkZUFsbEVkaXRhYmxlRmllbGRzKCkge1xyXG4gICAgaWYgKHRoaXMuY3VycmVudEVkaXRhYmxlVGV4dEFyZWEpIHsgdGhpcy5jdXJyZW50RWRpdGFibGVUZXh0QXJlYS5vbmJsdXIoKTsgfVxyXG5cclxuICAgIHRoaXMuZWRpdGFibGVGaWVsZHMuZm9yRWFjaCgoZUZpZWxkKSA9PiB7XHJcbiAgICAgIGVGaWVsZC5jbGFzc05hbWUgPSBlRmllbGQuY2xhc3NOYW1lLnJlcGxhY2UoJyBzdGlFZGl0YWJsZUZpZWxkIHN0aUVkaXRhYmxlRmllbGRTZWxlY3RlZCcsICcnKTtcclxuICAgICAgZUZpZWxkLm9uY2xpY2sgPSBudWxsO1xyXG4gICAgICBlRmllbGQuc3R5bGUub3V0bGluZSA9ICcnO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93Q2hlY2tCb3hFZGl0YWJsZUZpZWxkKGVkaXRhYmxlQ2VsbDogYW55LCBwYXJhbXM6IGFueSwgYXR0ckFycmF5OiBhbnlbXSkge1xyXG4gICAgaWYgKCFlZGl0YWJsZUNlbGwuc2l6ZXMpIHtcclxuICAgICAgbGV0IGltZ0VsZW1lbnRzID0gZWRpdGFibGVDZWxsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdJTUcnKTtcclxuICAgICAgaWYgKGltZ0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkgeyBpbWdFbGVtZW50cyA9IGVkaXRhYmxlQ2VsbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnU1ZHJyk7IH1cclxuICAgICAgaWYgKGltZ0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkgeyBpbWdFbGVtZW50cyA9IGVkaXRhYmxlQ2VsbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJyk7IH1cclxuICAgICAgY29uc3QgaW1nRWxlbWVudCA9IChpbWdFbGVtZW50cy5sZW5ndGggPiAwKSA/IGltZ0VsZW1lbnRzWzBdIDogbnVsbDtcclxuICAgICAgaWYgKCFpbWdFbGVtZW50KSB7IHJldHVybjsgfVxyXG4gICAgICBpZiAoaW1nRWxlbWVudC5vZmZzZXRXaWR0aCkge1xyXG4gICAgICAgIGVkaXRhYmxlQ2VsbC5zaXplcyA9IHtcclxuICAgICAgICAgIGluUGl4ZWxzOiBpbWdFbGVtZW50Lm9mZnNldFdpZHRoID4gaW1nRWxlbWVudC5vZmZzZXRIZWlnaHQgPyBpbWdFbGVtZW50Lm9mZnNldEhlaWdodCA6IGltZ0VsZW1lbnQub2Zmc2V0V2lkdGgsXHJcbiAgICAgICAgICB3aWR0aFN0eWxlOiBpbWdFbGVtZW50LnN0eWxlLndpZHRoLFxyXG4gICAgICAgICAgaGVpZ2h0U3R5bGU6IGltZ0VsZW1lbnQuc3R5bGUuaGVpZ2h0XHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlZGl0YWJsZUNlbGwuc2l6ZXMgPSB7XHJcbiAgICAgICAgICBpblBpeGVsczogaW1nRWxlbWVudC5jbGllbnRXaWR0aCA+IGltZ0VsZW1lbnQuY2xpZW50SGVpZ2h0ID8gaW1nRWxlbWVudC5jbGllbnRIZWlnaHQgOiBpbWdFbGVtZW50LmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgd2lkdGhTdHlsZTogaW1nRWxlbWVudC5jbGllbnRXaWR0aCArICdweCcsXHJcbiAgICAgICAgICBoZWlnaHRTdHlsZTogaW1nRWxlbWVudC5jbGllbnRIZWlnaHQgKyAncHgnXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmhlbHBlci5nZXROYXZpZ2F0b3JOYW1lKCkgIT09ICdHb29nbGUgQ2hyb21lJykgeyBlZGl0YWJsZUNlbGwuc3R5bGUub3V0bGluZSA9ICcxcHggc29saWQgZ3JheSc7IH1cclxuICAgIGVkaXRhYmxlQ2VsbC5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgIGVkaXRhYmxlQ2VsbC5jbGFzc05hbWUgKz0gJyBzdGlFZGl0YWJsZUZpZWxkIHN0aUVkaXRhYmxlRmllbGRTZWxlY3RlZCc7XHJcblxyXG4gICAgY29uc3QgdHJ1ZVN2Z0ltYWdlID0gdGhpcy5nZXRTdmdDaGVja0JveChhdHRyQXJyYXlbM10sIGF0dHJBcnJheVs1XSwgdGhpcy5oZWxwZXIuc3RyVG9JbnQoYXR0ckFycmF5WzZdKSwgYXR0ckFycmF5WzddLCBlZGl0YWJsZUNlbGwuc2l6ZXMuaW5QaXhlbHMpO1xyXG4gICAgY29uc3QgZmFsc2VTdmdJbWFnZSA9IHRoaXMuZ2V0U3ZnQ2hlY2tCb3goYXR0ckFycmF5WzRdLCBhdHRyQXJyYXlbNV0sIHRoaXMuaGVscGVyLnN0clRvSW50KGF0dHJBcnJheVs2XSksIGF0dHJBcnJheVs3XSwgZWRpdGFibGVDZWxsLnNpemVzLmluUGl4ZWxzKTtcclxuICAgIHBhcmFtcy5mYWxzZUltYWdlID0gYDxkaXYgc3R5bGU9XCJ3aWR0aDogJHtlZGl0YWJsZUNlbGwuc2l6ZXMud2lkdGhTdHlsZX07IGhlaWdodDogJHtlZGl0YWJsZUNlbGwuc2l6ZXMuaGVpZ2h0U3R5bGV9OyBcIj4gJHt0cnVlU3ZnSW1hZ2V9ICA8L2Rpdj5gO1xyXG4gICAgcGFyYW1zLnRydWVJbWFnZSA9IGA8ZGl2IHN0eWxlPVwid2lkdGg6ICR7ZWRpdGFibGVDZWxsLnNpemVzLndpZHRoU3R5bGV9OyBoZWlnaHQ6ICR7ZWRpdGFibGVDZWxsLnNpemVzLmhlaWdodFN0eWxlfTsgXCI+ICR7ZmFsc2VTdmdJbWFnZX0gPC9kaXY+YDtcclxuICAgIHBhcmFtcy5jaGVja2VkID0gYXR0ckFycmF5WzJdID09PSAndHJ1ZScgfHwgYXR0ckFycmF5WzJdID09PSAnVHJ1ZSc7XHJcbiAgICBlZGl0YWJsZUNlbGwucGFyYW1zID0gcGFyYW1zO1xyXG5cclxuICAgIGlmICghZWRpdGFibGVDZWxsLmhhc0NoYW5nZWQpIHtcclxuICAgICAgZWRpdGFibGVDZWxsLmNoZWNrZWQgPSBwYXJhbXMuY2hlY2tlZDtcclxuICAgICAgZWRpdGFibGVDZWxsLmlubmVySFRNTCA9IHBhcmFtcy5jaGVja2VkID8gcGFyYW1zLnRydWVJbWFnZSA6IHBhcmFtcy5mYWxzZUltYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRhYmxlQ2VsbC5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICBlZGl0YWJsZUNlbGwuY2hlY2tlZCA9ICFlZGl0YWJsZUNlbGwuY2hlY2tlZDtcclxuICAgICAgZWRpdGFibGVDZWxsLmlubmVySFRNTCA9IGVkaXRhYmxlQ2VsbC5jaGVja2VkID8gcGFyYW1zLnRydWVJbWFnZSA6IHBhcmFtcy5mYWxzZUltYWdlO1xyXG4gICAgICBlZGl0YWJsZUNlbGwuaGFzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuYWRkRWRpdGFibGVQYXJhbWV0ZXJzKGVkaXRhYmxlQ2VsbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZWRpdGFibGVGaWVsZHMucHVzaChlZGl0YWJsZUNlbGwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93VGV4dEVkaXRhYmxlRmllbGQoZWRpdGFibGVDZWxsOiBhbnksIHBhcmFtczogYW55KSB7XHJcblxyXG4gICAgZWRpdGFibGVDZWxsLmNsYXNzTmFtZSArPSAnIHN0aUVkaXRhYmxlRmllbGQgc3RpRWRpdGFibGVGaWVsZFNlbGVjdGVkJztcclxuICAgIGlmICh0aGlzLmhlbHBlci5nZXROYXZpZ2F0b3JOYW1lKCkgIT09ICdHb29nbGUgQ2hyb21lJykgeyBlZGl0YWJsZUNlbGwuc3R5bGUub3V0bGluZSA9ICcxcHggc29saWQgZ3JheSc7IH1cclxuICAgIGVkaXRhYmxlQ2VsbC5wYXJhbXMgPSBwYXJhbXM7XHJcbiAgICBlZGl0YWJsZUNlbGwuanNPYmplY3QgPSB0aGlzO1xyXG5cclxuICAgIGVkaXRhYmxlQ2VsbC5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICBpZiAoZWRpdGFibGVDZWxsLmVkaXRNb2RlKSB7IHJldHVybjsgfVxyXG4gICAgICBpZiAodGhpcy5jdXJyZW50RWRpdGFibGVUZXh0QXJlYSkgeyB0aGlzLmN1cnJlbnRFZGl0YWJsZVRleHRBcmVhLm9uYmx1cigpOyB9XHJcbiAgICAgIGVkaXRhYmxlQ2VsbC5lZGl0TW9kZSA9IHRydWU7XHJcblxyXG4gICAgICBjb25zdCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgICAgIHRleHRBcmVhLnN0eWxlLndpZHRoID0gKGVkaXRhYmxlQ2VsbC5vZmZzZXRXaWR0aCAtIDUpICsgJ3B4JztcclxuICAgICAgdGV4dEFyZWEuc3R5bGUuaGVpZ2h0ID0gKGVkaXRhYmxlQ2VsbC5vZmZzZXRIZWlnaHQgLSA1KSArICdweCc7XHJcbiAgICAgIHRleHRBcmVhLnN0eWxlLm1heFdpZHRoID0gKGVkaXRhYmxlQ2VsbC5vZmZzZXRXaWR0aCAtIDUpICsgJ3B4JztcclxuICAgICAgdGV4dEFyZWEuc3R5bGUubWF4SGVpZ2h0ID0gKGVkaXRhYmxlQ2VsbC5vZmZzZXRIZWlnaHQgLSA1KSArICdweCc7XHJcbiAgICAgIHRleHRBcmVhLmNsYXNzTmFtZSA9IGVkaXRhYmxlQ2VsbC5jbGFzc05hbWUucmVwbGFjZSgnIHN0aUVkaXRhYmxlRmllbGQgc3RpRWRpdGFibGVGaWVsZFNlbGVjdGVkJywgJycpICsgJyBzdGlFZGl0YWJsZVRleHRBcmVhJztcclxuICAgICAgdGV4dEFyZWEuc3R5bGUuYm9yZGVyID0gJzBweCc7XHJcblxyXG4gICAgICBsZXQgdGV4dENvbnRhaW5lciA9IGVkaXRhYmxlQ2VsbDtcclxuICAgICAgaWYgKHRleHRDb250YWluZXIuZmlyc3RDaGlsZCAmJiB0ZXh0Q29udGFpbmVyLmZpcnN0Q2hpbGQubm9kZU5hbWUgJiYgdGV4dENvbnRhaW5lci5maXJzdENoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkaXYnKSB7XHJcbiAgICAgICAgdGV4dENvbnRhaW5lciA9IHRleHRDb250YWluZXIuY2hpbGROb2Rlc1swXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGV4dEFyZWEudmFsdWUgPSB0ZXh0Q29udGFpbmVyLmlubmVySFRNTC5yZXBsYWNlKC88YnI+L2csICdcXG4nKTtcclxuICAgICAgZWRpdGFibGVDZWxsLmFwcGVuZENoaWxkKHRleHRBcmVhKTtcclxuICAgICAgdGV4dEFyZWEuZm9jdXMoKTtcclxuICAgICAgdGhpcy5jdXJyZW50RWRpdGFibGVUZXh0QXJlYSA9IHRleHRBcmVhO1xyXG5cclxuICAgICAgdGV4dEFyZWEub25ibHVyID0gKCkgPT4ge1xyXG4gICAgICAgIGVkaXRhYmxlQ2VsbC5lZGl0TW9kZSA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnN0IG5ld1RleHQgPSB0ZXh0QXJlYS52YWx1ZTtcclxuICAgICAgICB0ZXh0Q29udGFpbmVyLmlubmVySFRNTCA9IG5ld1RleHQucmVwbGFjZSgvXFxuL2csICc8YnI+Jyk7XHJcbiAgICAgICAgaWYgKHRoaXMgJiYgdGV4dEFyZWEucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgdGV4dEFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudEVkaXRhYmxlVGV4dEFyZWEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYWRkRWRpdGFibGVQYXJhbWV0ZXJzKGVkaXRhYmxlQ2VsbCwgbmV3VGV4dCk7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZWRpdGFibGVGaWVsZHMucHVzaChlZGl0YWJsZUNlbGwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzaG93UmljaFRleHRFZGl0YWJsZUZpZWxkKGVkaXRhYmxlQ2VsbDogYW55LCBwYXJhbXM6IGFueSkge1xyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYWRkRWRpdGFibGVQYXJhbWV0ZXJzKGVkaXRhYmxlQ2VsbDogYW55LCBuZXdUZXh0PzogYW55KSB7XHJcbiAgICBpZiAoIXRoaXMubW9kZWwucmVwb3J0UGFyYW1zLmVkaXRhYmxlUGFyYW1ldGVycykgeyB0aGlzLm1vZGVsLnJlcG9ydFBhcmFtcy5lZGl0YWJsZVBhcmFtZXRlcnMgPSB7fTsgfVxyXG4gICAgY29uc3QgcGFyYW1zOiBhbnkgPSB7fTtcclxuICAgIHBhcmFtcy50eXBlID0gZWRpdGFibGVDZWxsLnBhcmFtcy50eXBlO1xyXG4gICAgaWYgKHBhcmFtcy50eXBlID09PSAnQ2hlY2tCb3gnKSB7IHBhcmFtcy5jaGVja2VkID0gZWRpdGFibGVDZWxsLmNoZWNrZWQ7IH1cclxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ1RleHQnKSB7IHBhcmFtcy50ZXh0ID0gbmV3VGV4dCAhPSBudWxsID8gbmV3VGV4dCA6IGVkaXRhYmxlQ2VsbC5pbm5lckhUTUw7IH1cclxuXHJcbiAgICBpZiAoIXRoaXMubW9kZWwucmVwb3J0UGFyYW1zLmVkaXRhYmxlUGFyYW1ldGVyc1tlZGl0YWJsZUNlbGwucGFyYW1zLnBhZ2VJbmRleF0pIHsgdGhpcy5tb2RlbC5yZXBvcnRQYXJhbXMuZWRpdGFibGVQYXJhbWV0ZXJzW2VkaXRhYmxlQ2VsbC5wYXJhbXMucGFnZUluZGV4XSA9IHt9OyB9XHJcbiAgICB0aGlzLm1vZGVsLnJlcG9ydFBhcmFtcy5lZGl0YWJsZVBhcmFtZXRlcnNbZWRpdGFibGVDZWxsLnBhcmFtcy5wYWdlSW5kZXhdW2VkaXRhYmxlQ2VsbC5wYXJhbXMuY29tcEluZGV4XSA9IHBhcmFtcztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0U3ZnQ2hlY2tCb3goc3R5bGU6IHN0cmluZywgY29udG91ckNvbG9yOiBzdHJpbmcsIHNpemU6IG51bWJlciwgYmFja0NvbG9yOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGhlYWQgPSBgPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIiR7d2lkdGh9cHhcIiBoZWlnaHQ9XCIke3dpZHRofXB4XCI+YDtcclxuICAgIGNvbnN0IHBhdGggPSBgPHBhdGggc3Ryb2tlPVwiJHtjb250b3VyQ29sb3J9XCIgc3Ryb2tlLXdpZHRoPVwiJHtzaXplfVwiIGZpbGw9XCIke2JhY2tDb2xvcn1cIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiB0cmFuc2Zvcm09XCJzY2FsZSgkeygxIC8gKDIwMCAvIHdpZHRoKSl9KVwiIGQ9XCJgO1xyXG5cclxuICAgIGxldCBzaGFwZSA9ICcnO1xyXG4gICAgc3dpdGNoIChzdHlsZSkge1xyXG4gICAgICBjYXNlICdDcm9zcyc6XHJcbiAgICAgICAgc2hhcGUgPSAnbSA2Mi41Njc3OTYsMTQ3Ljk3NTkzIGMgLTAuNTUsLTAuMTQyMjMgLTIuMTYyODI4LC0wLjUxMjggLTMuNTg0MDYyLC0wLjgyMzQ4IC0zLjY0NzY2NywtMC43OTczOCAtOS42NzA0OTksLTUuODM3NzUgLTE0LjI0MjgxNywtMTEuOTE5NDkgbCAnICtcclxuICAgICAgICAgICctMy45MDIzNDEsLTUuMTkwNTggNS4wODAxOTksLTEuMTM0ODEgYyA3LjM1MzA3MSwtMS42NDI1MyAxMy42NDA0NTYsLTUuNzE3NTIgMjEuODI2ODExLC0xNC4xNDY0NiBsIDcuMjA4MTI4LC03LjQyMTcxICcgK1xyXG4gICAgICAgICAgJy02LjQxMDczNiwtNy41MTMzNTQgYyAtMTEuNzczMTI5LC0xMy43OTgwMyAtMTQuMzQ2NzI2LC0yMy4wMTk1NCAtOC42Mjc3NjksLTMwLjkxNDM0IDIuODk0MTA5LC0zLjk5NTIgMTEuODE4NDgyLC0xMi4zNjkzMzMgJyArXHJcbiAgICAgICAgICAnMTMuMTgyMDg2LC0xMi4zNjkzMzMgMC40MTEzNTYsMCAxLjA2MzA0OSwxLjY4NzUgMS40NDgyMDcsMy43NTAwMDMgMC45ODA0NzQsNS4yNTAzOCA2LjQ1NjE4NywxNi43NjU4NyAxMC45MzY2OTQsMjMgMi4wNzUyNjYsMi44ODc1ICcgK1xyXG4gICAgICAgICAgJzMuOTkxMTI1LDUuMjUgNC4yNTc0NjQsNS4yNSAwLjI2NjMzOSwwIDMuNzc1MjQyLC0zLjQ4NzUgNy43OTc1NjYsLTcuNzUgMTYuMzk3MDM0LC0xNy4zNzYxNSAyOS42NzQxODQsLTE5Ljc2NDgxIDM4LjI4MDU2NCwtNi44ODY5OSAnICtcclxuICAgICAgICAgICc0LjE1NTIzLDYuMjE3NTMgNC4xODYzMSw4LjA3MDkzIDAuMTQwMTIsOC4zNTUyIC01Ljg0ODMzLDAuNDEwODggLTE3LjE2MjQxLDguNTM0MiAtMjUuNTE0NjUsMTguMzE5MTA0IGwgLTQuNjMxNTMsNS40MjU5OSAnICtcclxuICAgICAgICAgICc0Ljg3ODAzLDQuMzE1MjkgYyA2LjU1MTA4LDUuNzk1MzMgMTguODk5MSwxMS44OTI3MiAyNS44NDA3NiwxMi43NjAwMiAzLjA0NTUsMC4zODA1MSA1LjUzNzI3LDEuMTA1ODIgNS41MzcyNywxLjYxMTggMCwyLjc4MDkgJyArXHJcbiAgICAgICAgICAnLTkuMjY2MTEsMTQuNDE4NzIgLTEzLjAzLDE2LjM2NTExIC03Ljk2MTE2LDQuMTE2ODcgLTE2LjM2OTkxLDAuNzEyMDcgLTMyLjc2NDU4NCwtMTMuMjY2NzcgbCAtNC45ODU5NTcsLTQuMjUxMjUgLTcuMDg2NzkxLDguOTcxODggYyAnICtcclxuICAgICAgICAgICctMy44OTc3MzYsNC45MzQ1NCAtOC44MjE0MSwxMC4xMTk4IC0xMC45NDE1LDExLjUyMjgxIC0zLjkwNjEyMSwyLjU4NDk1IC04Ljg2NTg4LDQuNDEzMzkgLTEwLjY5MTE2MiwzLjk0MTM2IHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnQ2hlY2snOlxyXG4gICAgICAgIHNoYXBlID0gJ00gNjAuOTcyMTI1LDE2Mi40OTcwNCBDIDUxLjE3MjY3NiwxMzYuNzIyNTQgNDMuNTYxOTc1LDEyMy4zNzY2OSAzNS4zNzAzNDQsMTE3LjYwMjcgbCAtNC40NTgyNywtMy4xNDI0OCAyLjc1MTU5LC0yLjg5NTU5IGMgMy44NzUxMjEsLTQuMDc3OTMgJyArXHJcbiAgICAgICAgICAnMTAuMDM0NzQzLC03LjQ5OTI0IDE0LjkwMjQ3MiwtOC4yNzc0NyAzLjg1OTg3NCwtMC42MTcwOSA0LjQ1ODMwNiwtMC4zODAyNCA4LjUzNTg5NywzLjM3ODM1IDIuNjYwNjkyLDIuNDUyNTQgNi4yNjU1MjUsNy42MDg1NiA5LjE2NzIyNiwxMy4xMTE5NiAnICtcclxuICAgICAgICAgICcyLjYzMDIxOCw0Ljk4ODQ5IDQuOTEwNTQyLDkuMDY5OTkgNS4wNjczODgsOS4wNjk5OSAwLjE1Njg0NiwwIDIuMzEzNzIsLTMuMDM3NSA0Ljc5MzA1MiwtNi43NSBDIDk2LjI1OTE2NCw5MS45NTYwMTUgMTI5LjY4Mjk5LDU4Ljc4NjM3NCAxNTcuNTY0ODUsNDEuMjgxNjAzIGwgJyArXHJcbiAgICAgICAgICAnOC44NDkxMywtNS41NTU2NTYgMi4yNjMzLDIuNjMxMjM4IDIuMjYzMjksMi42MzEyMzcgLTcuNzYyNjYsNi4yOTQxODMgQyAxMzkuODU5LDY2LjE5MDIzIDEwOC4wMTY4MiwxMDUuNTEzNjMgODkuMDQyNzE1LDEzOC44MzU2MyBjIC02LjY4MDQ3NywxMS43MzIxNCAnICtcclxuICAgICAgICAgICctNy4xNzIzNTksMTIuMzEyOTYgLTE1LjA5MDc4OCwxNy44MTk2MyAtNC41MDE4NzMsMy4xMzA3MSAtOS4wNDQwMzEsNi4zMDQ0MyAtMTAuMDkzNjg0LDcuMDUyNzEgLTEuNzA4OTIzLDEuMjE4MjYgLTIuMDEwNjc4LDEuMDkxNjUgLTIuODg2MTE4LC0xLjIxMDkzIHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnQ3Jvc3NSZWN0YW5nbGUnOlxyXG4gICAgICAgIHNoYXBlID0gJ20gMjQuMTUyNTQyLDEwMi4wNDIzNyAwLC03Mi40OTk5OTYgNzQuNSwwIDc0LjQ5OTk5OCwwIDAsNzIuNDk5OTk2IDAsNzIuNSAtNzQuNDk5OTk4LDAgLTc0LjUsMCAwLC03Mi41IHogbSAxMzMuNzU4MTg4LDAuMjUgLTAuMjU4MTksLTU3LjI0OTk5NiAnICtcclxuICAgICAgICAgICctNTguOTk5OTk4LDAgLTU5LDAgLTAuMjU5Njk1LDU1Ljk5OTk5NiBjIC0wLjE0MjgzMywzMC44IC0wLjA0NDQ2LDU2LjU2MjUgMC4yMTg2MTUsNTcuMjUgMC4zNzUxODEsMC45ODA0OCAxMy4yMDc5OTEsMS4yNSA1OS41MTc4ODUsMS4yNSBsICcgK1xyXG4gICAgICAgICAgJzU5LjAzOTU3MywwIC0wLjI1ODE5LC01Ny4yNSB6IG0gLTkwLjU3NDA5MSw0My4xODY5MiBjIC0xLjgyMzc0NywtMC4zOTEyIC00LjkyNjM5NywtMS44NTcxNiAtNi44OTQ3NzgsLTMuMjU3NjggLTMuMzE5MjU0LC0yLjM2MTY5IC0xMi4yODkzMTksLTEyLjQwNzQxICcgK1xyXG4gICAgICAgICAgJy0xMi4yODkzMTksLTEzLjc2MzAyIDAsLTAuMzI4ODggMi40MTc0OTQsLTEuMTM4OTcgNS4zNzIyMDksLTEuODAwMjEgNy4xODUxOTMsLTEuNjA3OTcgMTMuNzQ3NTA1LC01LjkzNDk2IDIxLjgwMzExNCwtMTQuMzc2MyBsIDYuNjc1MzIzLC02Ljk5NDk2ICcgK1xyXG4gICAgICAgICAgJy02LjM3OTA3OCwtNy4zMTQzNiBDIDY0LjkzMTM4Nyw4NS43MTIzMSA2MS42NDM2ODIsNzYuMjk0NjUgNjUuNDcxOTAzLDY4Ljg5MTY5IDY3LjA1NDA5Nyw2NS44MzIwNyA3OC41NjE3NSw1NC41NDIzNzQgODAuMDk4MjUxLDU0LjU0MjM3NCBjIDAuNDU3NDQsMCAnICtcclxuICAgICAgICAgICcxLjE0NjgzOSwxLjY4NzUgMS41MzE5OTcsMy43NSAwLjk4MDQ3NCw1LjI1MDM4NiA2LjQ1NjE4NywxNi43NjU4NzYgMTAuOTM2Njk0LDIyLjk5OTk5NiAyLjA3NTI2NiwyLjg4NzUgMy45OTExMjUsNS4yNSA0LjI1NzQ2NCw1LjI1IDAuMjY2MzM5LDAgJyArXHJcbiAgICAgICAgICAnMy43NzUyNDQsLTMuNDg3NSA3Ljc5NzU2NCwtNy43NSAxNi4zOTcwNCwtMTcuMzc2MTM5IDI5LjY3NDE5LC0xOS43NjQ4MDYgMzguMjgwNTcsLTYuODg2OTggNC4xNTUyMyw2LjIxNzUyIDQuMTg2MzEsOC4wNzA5MiAwLjE0MDEyLDguMzU1MTkgLTUuODI5OTYsMC40MDk1OSAnICtcclxuICAgICAgICAgICctMTguMjM3MDcsOS4zNDk0MiAtMjUuOTE1NjYsMTguNjczMjggLTMuOTAwNjgsNC43MzY0NyAtMy45NzIwMyw0Ljk1NDE0IC0yLjI1MTQsNi44Njg2MSAzLjE5MDU0LDMuNTQ5OTcgMTMuNzAzOSwxMC41NDMyMSAxOC45NzE5MSwxMi42MTk2NyAyLjgzNDI3LDEuMTE3MTYgJyArXHJcbiAgICAgICAgICAnNy40MzczNywyLjMzNDIxIDEwLjIyOTEyLDIuNzA0NTUgMi43OTE3NSwwLjM3MDM0IDUuMDc1OTEsMC45OTU2IDUuMDc1OTEsMS4zODk0NyAwLDIuMTE0MTkgLTguMzc1MDQsMTMuMjA4OTUgLTExLjY1MTcsMTUuNDM1NSAtOC4zOTQyMyw1LjcwNDAzICcgK1xyXG4gICAgICAgICAgJy0xNi42MzIwMywyLjc3IC0zNC4xNDI4OSwtMTIuMTYwNTQgbCAtNC45ODU5NTUsLTQuMjUxMjUgLTcuMDg2NzkxLDguOTcxODggYyAtOS43MjIzNDQsMTIuMzA4NSAtMTYuNTI0ODUyLDE2LjU1OTk4IC0yMy45NDg1NjUsMTQuOTY3NTQgeic7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdDaGVja1JlY3RhbmdsZSc6XHJcbiAgICAgICAgc2hhcGUgPSAnbSAxOS45MTUyNTQsMTAzLjUgMCwtNzIuNSA3MS45NDIyNDUsMCA3MS45NDIyNDEsMCA2LjU1NzI3LC00LjExMTM5IDYuNTU3MjYsLTQuMTExMzkgMS45NjcyMiwyLjM2MTM5IGMgMS4wODE5NywxLjI5ODc2NSAxLjk4MjE5LDIuNjQ0MTY2IDIuMDAwNDksMi45ODk3OCAnICtcclxuICAgICAgICAgICcwLjAxODMsMC4zNDU2MTUgLTIuNDQxNzMsMi41Mzc4NCAtNS40NjY3Myw0Ljg3MTYxIGwgLTUuNSw0LjI0MzIxOSAwLDY5LjM3ODM5MSAwLDY5LjM3ODM5IC03NC45OTk5OTEsMCAtNzUuMDAwMDA1LDAgMCwtNzIuNSB6IG0gMTMzLjk5OTk5NiwzLjg3NzU2IGMgJyArXHJcbiAgICAgICAgICAnMCwtNDkuMzM5MzMgLTAuMTI5NTMsLTUzLjUxNDk0NyAtMS42MjE2OSwtNTIuMjc2NTY4IC0yLjc4MDE0LDIuMzA3MzEyIC0xNS42ODQwOCwxNy45MDA1MyAtMjQuMzI4NzEsMjkuMzk5MDA4IC0xMC40OTE5LDEzLjk1NTU3NSAtMjMuNDc5MjYsMzMuNTM3MzYgJyArXHJcbiAgICAgICAgICAnLTI5LjUxNDAyNSw0NC41IC00LjQ1NzMyNiw4LjA5NzA3IC01LjEzNDc3Niw4LjgwODEyIC0xNC4yOTEyNTYsMTUgLTUuMjg2NjcsMy41NzUgLTkuOTAzNDg2LDYuNjI0NzEgLTEwLjI1OTU5Miw2Ljc3NzEyIC0wLjM1NjEwNywwLjE1MjQyIC0xLjkxMjQzOSwtMi45OTc1OCAnICtcclxuICAgICAgICAgICctMy40NTg1MTUsLTcgLTEuNTQ2MDc3LC00LjAwMjQxIC01LjI1ODM5NCwtMTIuNDEyMDUgLTguMjQ5NTkzLC0xOC42ODgwOSAtNC4yODU0MzYsLTguOTkxNTUgLTYuNjc2NTY5LC0xMi42NDg5OCAtMTEuMjc3NTgsLTE3LjI1IEMgNDcuNzAyODIsMTA0LjYyNzU3ICcgK1xyXG4gICAgICAgICAgJzQ0LjM2NDI1NCwxMDIgNDMuNDk1MjU0LDEwMiBjIC0yLjc5ODM2OSwwIC0xLjcwNDg3MiwtMS42NjA0NCAzLjk4MzcxNywtNi4wNDkxNTggNS41OTM1NDgsLTQuMzE1MzkgMTMuMTgzMTM5LC03LjA5MTMwNyAxNi44MDEzMTMsLTYuMTQ1MTMzIDMuNTU5NDEyLDAuOTMwODA3ICcgK1xyXG4gICAgICAgICAgJzkuNDA4NDkxLDguMTU0OTczIDEzLjkxOTc3NSwxNy4xOTIyNDEgbCA0LjQ2Mjg2LDguOTQwMjUgNC41NDM3OCwtNi44MzMyMSBDIDk1LjUxODIxOSw5Ni42MDU2MTggMTA4LjIxMzcxLDgxLjY4ODUxNyAxMjUuODA2OTUsNjMuNzUgTCAxNDMuMjE1MzEsNDYgbCAnICtcclxuICAgICAgICAgICctNTMuNjUwMDIxLDAgLTUzLjY1MDAzNSwwIDAsNTcuNSAwLDU3LjUgNTkuMDAwMDA1LDAgNTguOTk5OTkxLDAgMCwtNTMuNjIyNDQgeic7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdDcm9zc0NpcmNsZSc6XHJcbiAgICAgICAgc2hhcGUgPSAnTSA4My4zNDc0NTgsMTczLjEzNTk3IEMgNjEuMDY5NzU0LDE2OC4wNDk1NiA0Mi4xOTM0MTUsMTUyLjg3MjQgMzIuMjAyMjg1LDEzMi4wMTM2OCAyMy40MDE0LDExMy42Mzk4NiAyMy42Nzk2NDQsODkuOTY1OTAzIDMyLjkxODg5LDcxLjA0MjM3MyAnICtcclxuICAgICAgICAgICc0MS44ODE1NzksNTIuNjg1MjgzIDYwLjg2NzY0NywzNy4xMzk4ODIgODAuODQ3NDU4LDMxLjc5OTQ1MiBjIDEwLjIzNTExMSwtMi43MzU3NTYgMzEuMjY0NjYyLC0yLjQyNzM5MyA0MC45NjQ3NjIsMC42MDA2NzkgMjYuMTg2NjgsOC4xNzQ2ODQgJyArXHJcbiAgICAgICAgICAnNDYuMDY4NzYsMjguOTI2ODUyIDUxLjYyMDEyLDUzLjg3OTE1NSAyLjQzNjY2LDEwLjk1MjMyNyAxLjU2NzU0LDI4LjA1ODUyNCAtMS45ODAzNiwzOC45Nzc1OTQgLTYuNjU2NzksMjAuNDg3MDcgLTI1LjY0ODAxLDM4Ljk1MTYzIC00Ny4zMjY0Nyw0Ni4wMTQwMiAnICtcclxuICAgICAgICAgICctNi4zOTA5LDIuMDgyMDIgLTEwLjE4NTY2LDIuNTk2NDQgLTIxLjI3ODA1LDIuODg0NDYgLTkuMDMzOTExLDAuMjM0NTYgLTE1LjQ4NDkzMSwtMC4xMDI2NyAtMTkuNTAwMDAyLC0xLjAxOTM5IHogTSAxMTIuNDEzOCwxNTguNDU4MjUgYyAxNy4xMzEzNywtMy4xMzAwMiAnICtcclxuICAgICAgICAgICczMy43MTcyNCwtMTUuOTYwODEgNDEuNDEzNTMsLTMyLjAzNzQyIDE0Ljg5NzUsLTMxLjExOTAyNyAtMS4xMDgwNywtNjcuNjU5NTg0IC0zNC40MDIzMiwtNzguNTQwMTQxIC02LjcxMzI4LC0yLjE5Mzg5OSAtOS45MzU0MSwtMi42NDM1MDEgJyArXHJcbiAgICAgICAgICAnLTE5LjA3NzU1LC0yLjY2MTk5OSAtOS4zNTQyNTIsLTAuMDE4OTMgLTEyLjE2MjI4LDAuMzc3NTMgLTE4Ljc2ODUzMiwyLjY0OTg2NiAtMTcuMTU1NDUxLDUuOTAwOTE5IC0yOS42Njk0MjYsMTcuNTMxNDI0IC0zNi40Mzg2NTgsMzMuODY2MTM3ICcgK1xyXG4gICAgICAgICAgJy0yLjE1MjMwMSw1LjE5MzY3OCAtMi42OTQ2NTgsOC4zNTQ1NSAtMy4wNzA5MjMsMTcuODk3NDQgLTAuNTE4MDU3LDEzLjEzOTA0NyAwLjc0MTg0MywxOS4yMDE4ODcgNi4xMTE2NDQsMjkuNDEwMjM3IDQuMTA2ODE1LDcuODA3MzMgMTUuNDMxODkzLDE5LjA5MzU5ICcgK1xyXG4gICAgICAgICAgJzIzLjM2ODE4LDIzLjI4ODA4IDEyLjA2MTM2Miw2LjM3NDY3IDI3LjEzODgyOCw4LjYzNTYgNDAuODY0NjI5LDYuMTI3OCB6IE0gNjkuMDk3NDU4LDEzMy40MTY1NCBjIC0yLjg4NzUsLTIuNzU4ODEgLTUuMjUsLTUuMzU4NjkgLTUuMjUsLTUuNzc3NTEgJyArXHJcbiAgICAgICAgICAnMCwtMC40MTg4MiA1LjY1ODUyOSwtNi4zMDk1NCAxMi41NzQ1MSwtMTMuMDkwNSBsIDEyLjU3NDUxLC0xMi4zMjkgTCA3Ni4xOTgwNTMsODkuMzkyNjMzIDYzLjM5OTYyOCw3Ni41NjU3MzggNjguMzM1OTUxLDcxLjU1NDA1NiBjIDIuNzE0OTc4LC0yLjc1NjQyNiAnICtcclxuICAgICAgICAgICc1LjMwNDg1OSwtNS4wMTE2ODMgNS43NTUyOSwtNS4wMTE2ODMgMC40NTA0MzIsMCA2LjU3NDM1MSw1LjYxMTU1NCAxMy42MDg3MDksMTIuNDcwMTIxIGwgMTIuNzg5NzQsMTIuNDcwMTE5IDQuNDI4ODksLTQuNTUzNDcxIGMgMi40MzU4OCwtMi41MDQ0MSAnICtcclxuICAgICAgICAgICc4LjM5MTg2LC04LjE4NzkyNCAxMy4yMzU1MSwtMTIuNjMwMDMyIGwgOC44MDY2MywtOC4wNzY1NTkgNS4zNDc0NCw1LjI4MTAwNiA1LjM0NzQzLDUuMjgxMDA3IC0xMi45NjE1NSwxMi41NTc4OTkgLTEyLjk2MTU0LDEyLjU1Nzg5NyAxMy4xMzMxOCwxMy4xNjAyNyAnICtcclxuICAgICAgICAgICcxMy4xMzMxOSwxMy4xNjAyNyAtNS4xODM4Niw0LjY2MDc0IGMgLTIuODUxMTIsMi41NjM0IC01LjcwNDcyLDQuNjYwNzMgLTYuMzQxMzQsNC42NjA3MyAtMC42MzY2MSwwIC02LjU0MzQsLTUuNCAtMTMuMTI2MjEsLTEyIC02LjU4MjgxLC02LjYgLTEyLjM4NzEsLTEyICcgK1xyXG4gICAgICAgICAgJy0xMi44OTg0NCwtMTIgLTAuNTExMzI5LDAgLTYuNTkzMzYzLDUuNjAwMjkgLTEzLjUxNTYyNywxMi40NDUwOSBsIC0xMi41ODU5MzUsMTIuNDQ1MDggLTUuMjUsLTUuMDE2IHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnRG90Q2lyY2xlJzpcclxuICAgICAgICBzaGFwZSA9ICdNIDgxLjY1MjU0MiwxNzAuNTkzNiBDIDU5LjM3NDgzOCwxNjUuNTA3MTkgNDAuNDk4NDk5LDE1MC4zMzAwMyAzMC41MDczNjksMTI5LjQ3MTMxIDIxLjcwNjQ4NCwxMTEuMDk3NDkgMjEuOTg0NzI4LDg3LjQyMzUzIDMxLjIyMzk3NCw2OC41ICcgK1xyXG4gICAgICAgICAgJzQwLjE4NjY2Myw1MC4xNDI5MSA1OS4xNzI3MzEsMzQuNTk3NTA5IDc5LjE1MjU0MiwyOS4yNTcwNzkgODkuMzg3NjUzLDI2LjUyMTMyMyAxMTAuNDE3MiwyNi44Mjk2ODYgMTIwLjExNzMsMjkuODU3NzU4IGMgMjYuMTg2NjgsOC4xNzQ2ODQgJyArXHJcbiAgICAgICAgICAnNDYuMDY4NzYsMjguOTI2ODUyIDUxLjYyMDEyLDUzLjg3OTE1MiAyLjQzNjY2LDEwLjk1MjMzIDEuNTY3NTQsMjguMDU4NTMgLTEuOTgwMzYsMzguOTc3NiAtNi42NTY3OSwyMC40ODcwNyAtMjUuNjQ4MDEsMzguOTUxNjMgLTQ3LjMyNjQ3LDQ2LjAxNDAyICcgK1xyXG4gICAgICAgICAgJy02LjM5MDksMi4wODIwMiAtMTAuMTg1NjYsMi41OTY0NCAtMjEuMjc4MDUsMi44ODQ0NiAtOS4wMzM5MDcsMC4yMzQ1NiAtMTUuNDg0OTI3LC0wLjEwMjY3IC0xOS40OTk5OTgsLTEuMDE5MzkgeiBtIDI5Ljk5OTk5OCwtMTUuMDk4IGMgMjAuNjg4NjIsLTQuMzQzNjMgJyArXHJcbiAgICAgICAgICAnMzguMDE4NzQsLTIwLjQ1NDM3IDQ0LjA5ODQ0LC00MC45OTU2IDIuMzYyMjgsLTcuOTgxMyAyLjM2MjI4LC0yMi4wMTg3IDAsLTMwIEMgMTUwLjA4OTI3LDY1LjM3MTAyMyAxMzQuNjM1NDksNTAuMjk3MzM2IDExNC42NTI1NCw0NC40MTIzOTYgJyArXHJcbiAgICAgICAgICAnMTA2LjU1MzEsNDIuMDI3MTI3IDkwLjc0MTMwNCw0Mi4wMjYzODYgODIuNjk1MjUzLDQ0LjQxMDkgNjIuNDYwMjc2LDUwLjQwNzcwMSA0Ni42ODY3NDIsNjYuMDM5MjQxIDQxLjYwNTMsODUuMTMwOTYgYyAtMS45NDg4MjEsNy4zMjIwMSAtMS44NjUwNiwyMy4xMTY0MSAnICtcclxuICAgICAgICAgICcwLjE1ODc2NiwyOS45Mzc1NCA4LjczMDMyNiwyOS40MjQ4MSAzOC45NzE5Myw0Ni45MTgxMiA2OS44ODg0NzQsNDAuNDI3MSB6IE0gOTAuMDA0NzQ3LDEyMi42NzAzIEMgNzYuNTUwMjA5LDExNy42MzgwMSA2OS44MjUwNDcsMTAxLjgyNDQ1ICcgK1xyXG4gICAgICAgICAgJzc1Ljg5ODE0Myw4OS41IGMgMi4xMzY3MTgsLTQuMzM2MTUgNy4xNDcxNDQsLTkuMzU2MTkyIDExLjc1NDM5OSwtMTEuNzc2OTUzIDUuNTc4NjIyLC0yLjkzMTE0MSAxNi40MTMwOTgsLTIuOTI3NTA0IDIyLjA1MjkwOCwwLjAwNzQgMTguMDMsOS4zODI2NjMgJyArXHJcbiAgICAgICAgICAnMTkuMDc1NzMsMzIuNzg0MzczIDEuOTE0NDIsNDIuODQxNTYzIC01LjU3MjgyLDMuMjY1ODkgLTE1LjgzMDk1Miw0LjI2MTcgLTIxLjYxNTEyMywyLjA5ODI5IHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnRG90UmVjdGFuZ2xlJzpcclxuICAgICAgICBzaGFwZSA9ICdtIDIzLjg0NzQ1OCwxMDEuMTk0OTEgMCwtNzIuNDk5OTk1IDc0LjUsMCA3NC40OTk5OTIsMCAwLDcyLjQ5OTk5NSAwLDcyLjUgLTc0LjQ5OTk5MiwwIC03NC41LDAgMCwtNzIuNSB6IG0gMTMzLjk5OTk5MiwtMC4wMDggMCwtNTcuNTA3OTI1ICcgK1xyXG4gICAgICAgICAgJy01OS4yNDk5OTIsMC4yNTc5MyAtNTkuMjUsMC4yNTc5MyAtMC4yNTgxOSw1Ny4yNDk5OTUgLTAuMjU4MTg5LDU3LjI1IDU5LjUwODE4OSwwIDU5LjUwODE4MiwwIDAsLTU3LjUwNzkzIHogbSAtOTQuMzIwNTczLDMzLjg1NDAyIGMgLTAuMzczNjgsLTAuMzczNjggJyArXHJcbiAgICAgICAgICAnLTAuNjc5NDE5LC0xNS42Nzk0MiAtMC42Nzk0MTksLTM0LjAxMjc1IGwgMCwtMzMuMzMzMzM1IDM1LjUxMzMwMiwwIDM1LjUxMzI5LDAgLTAuMjYzMywzMy43NDk5OTUgLTAuMjYzMywzMy43NSAtMzQuNTcwNTczLDAuMjYyNzUgYyAtMTkuMDEzODE5LDAuMTQ0NTIgJyArXHJcbiAgICAgICAgICAnLTM0Ljg3NjMxOSwtMC4wNDMgLTM1LjI1LC0wLjQxNjY2IHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnTm9uZUNpcmNsZSc6XHJcbiAgICAgICAgc2hhcGUgPSAnTSA4My41LDE3MC41OTM2IEMgNjEuMjIyMjk2LDE2NS41MDcxOSA0Mi4zNDU5NTcsMTUwLjMzMDAzIDMyLjM1NDgyNywxMjkuNDcxMzEgMjMuNTUzOTQyLDExMS4wOTc0OSAyMy44MzIxODYsODcuNDIzNTIzIDMzLjA3MTQzMiw2OC41ICcgK1xyXG4gICAgICAgICAgJzQyLjAzNDEyMSw1MC4xNDI5MSA2MS4wMjAxODksMzQuNTk3NTA5IDgxLDI5LjI1NzA3OSBjIDEwLjIzNTExMSwtMi43MzU3NTYgMzEuMjY0NjYsLTIuNDI3MzkzIDQwLjk2NDc2LDAuNjAwNjc5IDI2LjE4NjY4LDguMTc0Njg0IDQ2LjA2ODc2LDI4LjkyNjg1MiAnICtcclxuICAgICAgICAgICc1MS42MjAxMiw1My44NzkxNTUgMi40MzY2NiwxMC45NTIzMiAxLjU2NzU0LDI4LjA1ODUyNyAtMS45ODAzNiwzOC45Nzc1OTcgLTYuNjU2NzksMjAuNDg3MDcgLTI1LjY0ODAxLDM4Ljk1MTYzIC00Ny4zMjY0Nyw0Ni4wMTQwMiAtNi4zOTA5LDIuMDgyMDIgJyArXHJcbiAgICAgICAgICAnLTEwLjE4NTY2LDIuNTk2NDQgLTIxLjI3ODA1LDIuODg0NDYgLTkuMDMzOTA5LDAuMjM0NTYgLTE1LjQ4NDkyOSwtMC4xMDI2NyAtMTkuNSwtMS4wMTkzOSB6IG0gMzAsLTE1LjA5OCBjIDIwLjY4ODYyLC00LjM0MzYzIDM4LjAxODc0LC0yMC40NTQzNyAnICtcclxuICAgICAgICAgICc0NC4wOTg0NCwtNDAuOTk1NiAyLjM2MjI4LC03Ljk4MTMgMi4zNjIyOCwtMjIuMDE4NzA3IDAsLTI5Ljk5OTk5NyBDIDE1MS45MzY3Myw2NS4zNzEwMjMgMTM2LjQ4Mjk1LDUwLjI5NzMzNiAxMTYuNSw0NC40MTIzOTYgMTA4LjQwMDU2LDQyLjAyNzEyNyAnICtcclxuICAgICAgICAgICc5Mi41ODg3NjIsNDIuMDI2Mzg2IDg0LjU0MjcxMSw0NC40MTA4OTYgNjQuMzA3NzM0LDUwLjQwNzY5NyA0OC41MzQyLDY2LjAzOTIzNyA0My40NTI3NTgsODUuMTMwOTU5IGMgLTEuOTQ4ODIxLDcuMzIyIC0xLjg2NTA2LDIzLjExNjQxMSAnICtcclxuICAgICAgICAgICcwLjE1ODc2NiwyOS45Mzc1NDEgOC43MzAzMjYsMjkuNDI0ODEgMzguOTcxOTMsNDYuOTE4MTIgNjkuODg4NDc2LDQwLjQyNzEgeic7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdOb25lUmVjdGFuZ2xlJzpcclxuICAgICAgICBzaGFwZSA9ICdtIDI0LjE1MjU0MiwxMDIuMDQyMzcgMCwtNzIuNDk5OTk3IDc0LjUsMCA3NC41MDAwMDgsMCAwLDcyLjQ5OTk5NyAwLDcyLjUgLTc0LjUwMDAwOCwwIC03NC41LDAgMCwtNzIuNSB6IG0gMTMzLjc1ODE5OCwwLjI1ICcgK1xyXG4gICAgICAgICAgJy0wLjI1ODE5LC01Ny4yNDk5OTcgLTU5LjAwMDAwOCwwIC01OSwwIC0wLjI1OTY5NSw1NS45OTk5OTcgYyAtMC4xNDI4MzMsMzAuOCAtMC4wNDQ0Niw1Ni41NjI1IDAuMjE4NjE1LDU3LjI1IDAuMzc1MTgxLDAuOTgwNDggJyArXHJcbiAgICAgICAgICAnMTMuMjA3OTkxLDEuMjUgNTkuNTE3ODg1LDEuMjUgbCA1OS4wMzk1ODMsMCAtMC4yNTgxOSwtNTcuMjUgeic7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGhlYWQgKyBwYXRoICsgc2hhcGUgKyAnXCIgLz48L3N2Zz4nO1xyXG4gIH1cclxufVxyXG4iXX0=