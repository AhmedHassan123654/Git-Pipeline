import { __decorate } from "tslib";
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { ModelService } from '../services/model.service';
import { MenuService } from './menu.service';
var VerticalMenuItemComponent = /** @class */ (function () {
    function VerticalMenuItemComponent(model, menuService) {
        this.model = model;
        this.menuService = menuService;
        this.styleName = 'stiJsViewerMenuStandartItem';
        this.action = new EventEmitter();
        this.over = false;
        this._enabled = true;
    }
    VerticalMenuItemComponent.prototype.ngOnInit = function () { };
    Object.defineProperty(VerticalMenuItemComponent.prototype, "enabled", {
        get: function () {
            return this._enabled;
        },
        set: function (value) {
            if (!value) {
                this.over = false;
            }
            this._enabled = value;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VerticalMenuItemComponent.prototype, "className", {
        get: function () {
            var _a;
            return this.styleName ? this.styleName + ' ' + (this.enabled ? (this.styleName + (this.over ? 'Over' : (((_a = this.item) === null || _a === void 0 ? void 0 : _a.selected) ? 'Selected' : 'Default'))) : this.styleName + 'Disabled') : '';
        },
        enumerable: true,
        configurable: true
    });
    VerticalMenuItemComponent.prototype.mouseover = function () {
        if (!this.enabled) {
            return;
        }
        this.over = true;
    };
    VerticalMenuItemComponent.prototype.mouseout = function () {
        if (!this.enabled) {
            return;
        }
        this.over = false;
    };
    VerticalMenuItemComponent.prototype.click = function () {
        if (this._enabled) {
            this.action.emit(this.item);
        }
    };
    Object.defineProperty(VerticalMenuItemComponent.prototype, "isSmallItem", {
        get: function () {
            return this.styleName && this.styleName.indexOf('MenuStandartItem') >= 0;
        },
        enumerable: true,
        configurable: true
    });
    VerticalMenuItemComponent.ctorParameters = function () { return [
        { type: ModelService },
        { type: MenuService }
    ]; };
    __decorate([
        Input()
    ], VerticalMenuItemComponent.prototype, "styleName", void 0);
    __decorate([
        Input()
    ], VerticalMenuItemComponent.prototype, "item", void 0);
    __decorate([
        Input()
    ], VerticalMenuItemComponent.prototype, "imageSizesWidth", void 0);
    __decorate([
        Input()
    ], VerticalMenuItemComponent.prototype, "imageSizesHeight", void 0);
    __decorate([
        Output()
    ], VerticalMenuItemComponent.prototype, "action", void 0);
    __decorate([
        Input()
    ], VerticalMenuItemComponent.prototype, "enabled", null);
    VerticalMenuItemComponent = __decorate([
        Component({
            selector: 'sti-vertical-menu-item',
            template: "\n    <div [style.height]=\"item?.type == 'DigitalSignature' ? 'auto' :(model.options.isMobileDevice ? '0.4in' : (model.options.isTouchDevice ? '30px' : '24px'))\"\n         [class]=\"className\"\n         [style.width]=\"item?.type == 'DigitalSignature' ? '100%' :  menuService.getVerticalMenu().width + 'px'\"\n         [style.lineHeight]=\"item?.type == 'DigitalSignature' ? 1.3 : null\"\n         (mouseover)=\"mouseover()\"\n         (mouseout)=\"mouseout()\"\n         (click)=\"click()\">\n         <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%; width: 100%\">\n            <tbody>\n              <tr class=\"stiJsViewerClearAllStyles\">\n                 <td *ngIf=\"item?.imageName != null && !model.options.appearance.rightToLeft\"\n                     style=\"width:22px; min-width = 22px; padding: 0; textAlign: center; lineHeight: 0\"\n                     class=\"stiJsViewerClearAllStyles\">\n                     <img [style.width.px]=\"(imageSizesWidth ? imageSizesWidth : (isSmallItem ? 16 : 32))\"\n                          [style.height.px]=\"(imageSizesHeight ? imageSizesHeight : (isSmallItem ? 16 : 32))\"\n                          [src]=\"model.img(item?.imageName)\"\n                          [style.visible]=\"model.img(item?.imageName) === '' ? 'none' : ''\" />\n                </td>\n\n                <td *ngIf=\"item?.caption != null && !model.options.appearance.rightToLeft && item?.type != 'DigitalSignature'\"\n                     style=\"padding: 0px 20px 0px 7px; text-align: left; white-space: nowrap;\"\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\n                     class=\"stiJsViewerClearAllStyles\">\n                     {{item?.caption}}\n                </td>\n\n                <td *ngIf=\"item?.caption != null && !model.options.appearance.rightToLeft && item?.type == 'DigitalSignature'\"\n                     style=\"padding: 8px 20px 8px 8px ; text-align: left; white-space: nowrap;\"\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\n                     class=\"stiJsViewerClearAllStyles\" [innerHtml]=\"item?.caption\">\n                </td>\n\n                <!-- right-to-left -->\n                <td *ngIf=\"item?.caption != null && model.options.appearance.rightToLeft && item?.type == 'DigitalSignature'\"\n                     style=\"padding: 8px 20px 8px 8px; text-align: right; white-space: nowrap;\"\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\n                     class=\"stiJsViewerClearAllStyles\" [innerHtml]=\"item?.caption\">\n                </td>\n\n                <td *ngIf=\"item?.caption != null && model.options.appearance.rightToLeft && item?.type != 'DigitalSignature'\"\n                     style=\"padding: 0 7px 0 20px; text-align: right; white-space: nowrap;\"\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\n                     class=\"stiJsViewerClearAllStyles\">\n                     {{item?.caption}}\n                </td>\n\n                <td *ngIf=\"item?.imageName != null && model.options.appearance.rightToLeft\"\n                     style=\"width:22px; min-width = 22px; padding: 0; textAlign: center; lineHeight: 0\"\n                     class=\"stiJsViewerClearAllStyles\">\n                     <img [style.width.px]=\"(imageSizesWidth ? imageSizesWidth : (isSmallItem ? 16 : 32))\"\n                          [style.height.px]=\"(imageSizesHeight ? imageSizesHeight : (isSmallItem ? 16 : 32))\"\n                          [src]=\"model.img(item?.imageName)\"\n                          [style.visible]=\"model.img(item?.imageName) === '' ? 'none' : ''\" />\n                </td>\n              </tr>\n            </tbody>\n          </table>\n    </div>\n  "
        })
    ], VerticalMenuItemComponent);
    return VerticalMenuItemComponent;
}());
export { VerticalMenuItemComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVydGljYWwtbWVudS1pdGVtLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3N0aW11bHNvZnQtdmlld2VyLWFuZ3VsYXIvIiwic291cmNlcyI6WyJsaWIvbWVudS92ZXJ0aWNhbC1tZW51LWl0ZW0uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUV6RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFrRTdDO0lBWUUsbUNBQW1CLEtBQW1CLEVBQVMsV0FBd0I7UUFBcEQsVUFBSyxHQUFMLEtBQUssQ0FBYztRQUFTLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBVjlELGNBQVMsR0FBRyw2QkFBNkIsQ0FBQztRQUt6QyxXQUFNLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFFekQsU0FBSSxHQUFHLEtBQUssQ0FBQztRQUNMLGFBQVEsR0FBRyxJQUFJLENBQUM7SUFFbUQsQ0FBQztJQUU1RSw0Q0FBUSxHQUFSLGNBQWEsQ0FBQztJQUVMLHNCQUFJLDhDQUFPO2FBQVg7WUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkIsQ0FBQzthQUVELFVBQVksS0FBYztZQUN4QixJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNWLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO2FBQ25CO1lBQ0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7UUFDeEIsQ0FBQzs7O09BUEE7SUFTRCxzQkFBSSxnREFBUzthQUFiOztZQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBQSxJQUFJLENBQUMsSUFBSSwwQ0FBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDOUwsQ0FBQzs7O09BQUE7SUFFRCw2Q0FBUyxHQUFUO1FBQ0UsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDakIsT0FBTztTQUNSO1FBQ0QsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVELDRDQUFRLEdBQVI7UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNqQixPQUFPO1NBQ1I7UUFDRCxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRUQseUNBQUssR0FBTDtRQUNFLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNqQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7SUFDSCxDQUFDO0lBRUQsc0JBQUksa0RBQVc7YUFBZjtZQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzRSxDQUFDOzs7T0FBQTs7Z0JBekN5QixZQUFZO2dCQUFzQixXQUFXOztJQVY5RDtRQUFSLEtBQUssRUFBRTtnRUFBMkM7SUFDMUM7UUFBUixLQUFLLEVBQUU7MkRBQVk7SUFDWDtRQUFSLEtBQUssRUFBRTtzRUFBeUI7SUFDeEI7UUFBUixLQUFLLEVBQUU7dUVBQTBCO0lBRXhCO1FBQVQsTUFBTSxFQUFFOzZEQUFnRDtJQVNoRDtRQUFSLEtBQUssRUFBRTs0REFFUDtJQWxCVSx5QkFBeUI7UUFoRXJDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSx3QkFBd0I7WUFDbEMsUUFBUSxFQUFFLDB6SEEyRFQ7U0FDRixDQUFDO09BRVcseUJBQXlCLENBc0RyQztJQUFELGdDQUFDO0NBQUEsQUF0REQsSUFzREM7U0F0RFkseUJBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNb2RlbFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9tb2RlbC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4uL3NlcnZpY2VzL29iamVjdHMnO1xyXG5pbXBvcnQgeyBNZW51U2VydmljZSB9IGZyb20gJy4vbWVudS5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnc3RpLXZlcnRpY2FsLW1lbnUtaXRlbScsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxkaXYgW3N0eWxlLmhlaWdodF09XCJpdGVtPy50eXBlID09ICdEaWdpdGFsU2lnbmF0dXJlJyA/ICdhdXRvJyA6KG1vZGVsLm9wdGlvbnMuaXNNb2JpbGVEZXZpY2UgPyAnMC40aW4nIDogKG1vZGVsLm9wdGlvbnMuaXNUb3VjaERldmljZSA/ICczMHB4JyA6ICcyNHB4JykpXCJcclxuICAgICAgICAgW2NsYXNzXT1cImNsYXNzTmFtZVwiXHJcbiAgICAgICAgIFtzdHlsZS53aWR0aF09XCJpdGVtPy50eXBlID09ICdEaWdpdGFsU2lnbmF0dXJlJyA/ICcxMDAlJyA6ICBtZW51U2VydmljZS5nZXRWZXJ0aWNhbE1lbnUoKS53aWR0aCArICdweCdcIlxyXG4gICAgICAgICBbc3R5bGUubGluZUhlaWdodF09XCJpdGVtPy50eXBlID09ICdEaWdpdGFsU2lnbmF0dXJlJyA/IDEuMyA6IG51bGxcIlxyXG4gICAgICAgICAobW91c2VvdmVyKT1cIm1vdXNlb3ZlcigpXCJcclxuICAgICAgICAgKG1vdXNlb3V0KT1cIm1vdXNlb3V0KClcIlxyXG4gICAgICAgICAoY2xpY2spPVwiY2xpY2soKVwiPlxyXG4gICAgICAgICA8dGFibGUgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzXCIgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgc3R5bGU9XCJoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlXCI+XHJcbiAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICA8dHIgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzXCI+XHJcbiAgICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwiaXRlbT8uaW1hZ2VOYW1lICE9IG51bGwgJiYgIW1vZGVsLm9wdGlvbnMuYXBwZWFyYW5jZS5yaWdodFRvTGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MjJweDsgbWluLXdpZHRoID0gMjJweDsgcGFkZGluZzogMDsgdGV4dEFsaWduOiBjZW50ZXI7IGxpbmVIZWlnaHQ6IDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInN0aUpzVmlld2VyQ2xlYXJBbGxTdHlsZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgPGltZyBbc3R5bGUud2lkdGgucHhdPVwiKGltYWdlU2l6ZXNXaWR0aCA/IGltYWdlU2l6ZXNXaWR0aCA6IChpc1NtYWxsSXRlbSA/IDE2IDogMzIpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW3N0eWxlLmhlaWdodC5weF09XCIoaW1hZ2VTaXplc0hlaWdodCA/IGltYWdlU2l6ZXNIZWlnaHQgOiAoaXNTbWFsbEl0ZW0gPyAxNiA6IDMyKSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtzcmNdPVwibW9kZWwuaW1nKGl0ZW0/LmltYWdlTmFtZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS52aXNpYmxlXT1cIm1vZGVsLmltZyhpdGVtPy5pbWFnZU5hbWUpID09PSAnJyA/ICdub25lJyA6ICcnXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcblxyXG4gICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwiaXRlbT8uY2FwdGlvbiAhPSBudWxsICYmICFtb2RlbC5vcHRpb25zLmFwcGVhcmFuY2UucmlnaHRUb0xlZnQgJiYgaXRlbT8udHlwZSAhPSAnRGlnaXRhbFNpZ25hdHVyZSdcIlxyXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmc6IDBweCAyMHB4IDBweCA3cHg7IHRleHQtYWxpZ246IGxlZnQ7IHdoaXRlLXNwYWNlOiBub3dyYXA7XCJcclxuICAgICAgICAgICAgICAgICAgICAgW3N0eWxlLmZvbnRTaXplXT1cIm1vZGVsLm9wdGlvbnMuaXNNb2JpbGVEZXZpY2UgPyAnMC4xNmluJyA6ICcnXCJcclxuICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgIHt7aXRlbT8uY2FwdGlvbn19XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICAgIDx0ZCAqbmdJZj1cIml0ZW0/LmNhcHRpb24gIT0gbnVsbCAmJiAhbW9kZWwub3B0aW9ucy5hcHBlYXJhbmNlLnJpZ2h0VG9MZWZ0ICYmIGl0ZW0/LnR5cGUgPT0gJ0RpZ2l0YWxTaWduYXR1cmUnXCJcclxuICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJwYWRkaW5nOiA4cHggMjBweCA4cHggOHB4IDsgdGV4dC1hbGlnbjogbGVmdDsgd2hpdGUtc3BhY2U6IG5vd3JhcDtcIlxyXG4gICAgICAgICAgICAgICAgICAgICBbc3R5bGUuZm9udFNpemVdPVwibW9kZWwub3B0aW9ucy5pc01vYmlsZURldmljZSA/ICcwLjE2aW4nIDogJydcIlxyXG4gICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInN0aUpzVmlld2VyQ2xlYXJBbGxTdHlsZXNcIiBbaW5uZXJIdG1sXT1cIml0ZW0/LmNhcHRpb25cIj5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcblxyXG4gICAgICAgICAgICAgICAgPCEtLSByaWdodC10by1sZWZ0IC0tPlxyXG4gICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwiaXRlbT8uY2FwdGlvbiAhPSBudWxsICYmIG1vZGVsLm9wdGlvbnMuYXBwZWFyYW5jZS5yaWdodFRvTGVmdCAmJiBpdGVtPy50eXBlID09ICdEaWdpdGFsU2lnbmF0dXJlJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwicGFkZGluZzogOHB4IDIwcHggOHB4IDhweDsgdGV4dC1hbGlnbjogcmlnaHQ7IHdoaXRlLXNwYWNlOiBub3dyYXA7XCJcclxuICAgICAgICAgICAgICAgICAgICAgW3N0eWxlLmZvbnRTaXplXT1cIm1vZGVsLm9wdGlvbnMuaXNNb2JpbGVEZXZpY2UgPyAnMC4xNmluJyA6ICcnXCJcclxuICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzXCIgW2lubmVySHRtbF09XCJpdGVtPy5jYXB0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICAgIDx0ZCAqbmdJZj1cIml0ZW0/LmNhcHRpb24gIT0gbnVsbCAmJiBtb2RlbC5vcHRpb25zLmFwcGVhcmFuY2UucmlnaHRUb0xlZnQgJiYgaXRlbT8udHlwZSAhPSAnRGlnaXRhbFNpZ25hdHVyZSdcIlxyXG4gICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmc6IDAgN3B4IDAgMjBweDsgdGV4dC1hbGlnbjogcmlnaHQ7IHdoaXRlLXNwYWNlOiBub3dyYXA7XCJcclxuICAgICAgICAgICAgICAgICAgICAgW3N0eWxlLmZvbnRTaXplXT1cIm1vZGVsLm9wdGlvbnMuaXNNb2JpbGVEZXZpY2UgPyAnMC4xNmluJyA6ICcnXCJcclxuICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgIHt7aXRlbT8uY2FwdGlvbn19XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICAgIDx0ZCAqbmdJZj1cIml0ZW0/LmltYWdlTmFtZSAhPSBudWxsICYmIG1vZGVsLm9wdGlvbnMuYXBwZWFyYW5jZS5yaWdodFRvTGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MjJweDsgbWluLXdpZHRoID0gMjJweDsgcGFkZGluZzogMDsgdGV4dEFsaWduOiBjZW50ZXI7IGxpbmVIZWlnaHQ6IDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInN0aUpzVmlld2VyQ2xlYXJBbGxTdHlsZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgPGltZyBbc3R5bGUud2lkdGgucHhdPVwiKGltYWdlU2l6ZXNXaWR0aCA/IGltYWdlU2l6ZXNXaWR0aCA6IChpc1NtYWxsSXRlbSA/IDE2IDogMzIpKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW3N0eWxlLmhlaWdodC5weF09XCIoaW1hZ2VTaXplc0hlaWdodCA/IGltYWdlU2l6ZXNIZWlnaHQgOiAoaXNTbWFsbEl0ZW0gPyAxNiA6IDMyKSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtzcmNdPVwibW9kZWwuaW1nKGl0ZW0/LmltYWdlTmFtZSlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS52aXNpYmxlXT1cIm1vZGVsLmltZyhpdGVtPy5pbWFnZU5hbWUpID09PSAnJyA/ICdub25lJyA6ICcnXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgIDwvdGFibGU+XHJcbiAgICA8L2Rpdj5cclxuICBgXHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgVmVydGljYWxNZW51SXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIEBJbnB1dCgpIHN0eWxlTmFtZSA9ICdzdGlKc1ZpZXdlck1lbnVTdGFuZGFydEl0ZW0nO1xyXG4gIEBJbnB1dCgpIGl0ZW06IEl0ZW07XHJcbiAgQElucHV0KCkgaW1hZ2VTaXplc1dpZHRoOiBudW1iZXI7XHJcbiAgQElucHV0KCkgaW1hZ2VTaXplc0hlaWdodDogbnVtYmVyO1xyXG5cclxuICBAT3V0cHV0KCkgYWN0aW9uOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgb3ZlciA9IGZhbHNlO1xyXG4gIHByaXZhdGUgX2VuYWJsZWQgPSB0cnVlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbW9kZWw6IE1vZGVsU2VydmljZSwgcHVibGljIG1lbnVTZXJ2aWNlOiBNZW51U2VydmljZSkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkgeyB9XHJcblxyXG4gIEBJbnB1dCgpIGdldCBlbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XHJcbiAgfVxyXG5cclxuICBzZXQgZW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICB0aGlzLm92ZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuX2VuYWJsZWQgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIGdldCBjbGFzc05hbWUoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLnN0eWxlTmFtZSA/IHRoaXMuc3R5bGVOYW1lICsgJyAnICsgKHRoaXMuZW5hYmxlZCA/ICh0aGlzLnN0eWxlTmFtZSArICh0aGlzLm92ZXIgPyAnT3ZlcicgOiAodGhpcy5pdGVtPy5zZWxlY3RlZCA/ICdTZWxlY3RlZCcgOiAnRGVmYXVsdCcpKSkgOiB0aGlzLnN0eWxlTmFtZSArICdEaXNhYmxlZCcpIDogJyc7XHJcbiAgfVxyXG5cclxuICBtb3VzZW92ZXIoKSB7XHJcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLm92ZXIgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgbW91c2VvdXQoKSB7XHJcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLm92ZXIgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIGNsaWNrKCkge1xyXG4gICAgaWYgKHRoaXMuX2VuYWJsZWQpIHtcclxuICAgICAgdGhpcy5hY3Rpb24uZW1pdCh0aGlzLml0ZW0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IGlzU21hbGxJdGVtKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc3R5bGVOYW1lICYmIHRoaXMuc3R5bGVOYW1lLmluZGV4T2YoJ01lbnVTdGFuZGFydEl0ZW0nKSA+PSAwO1xyXG4gIH1cclxufVxyXG4iXX0=