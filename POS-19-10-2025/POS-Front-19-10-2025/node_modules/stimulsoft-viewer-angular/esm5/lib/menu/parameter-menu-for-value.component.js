import { __decorate } from "tslib";
import { Component, Input } from '@angular/core';
import { ModelService } from '../services/model.service';
import { HelperService } from '../services/helper.service';
import { InteractionsService } from '../services/interactions.service';
var ParameterMenuForValueComponent = /** @class */ (function () {
    function ParameterMenuForValueComponent(model, helper, intearctionService) {
        this.model = model;
        this.helper = helper;
        this.intearctionService = intearctionService;
    }
    ParameterMenuForValueComponent.prototype.ngOnInit = function () { };
    ParameterMenuForValueComponent.prototype.action = function (item) {
        this.menu.params.value = this.menu.params.key = item.key;
        this.menu.state = 'initialDown';
        if (this.menu.params.binding) {
            if (!this.model.options.paramsVariablesStartValues) {
                this.model.options.paramsVariablesStartValues = this.helper.copyObject(this.model.options.paramsVariables);
            }
            this.intearctionService.postInteraction({ action: 'InitVars', variables: this.intearctionService.getParametersValues() });
        }
    };
    ParameterMenuForValueComponent.prototype.getValue = function (item) {
        return (item.value !== '' && this.menu.params.type !== 'DateTime' && this.menu.params.type !== 'TimeSpan')
            ? item.value
            : this.helper.getStringKey(item.key, this.menu.params);
    };
    ParameterMenuForValueComponent.ctorParameters = function () { return [
        { type: ModelService },
        { type: HelperService },
        { type: InteractionsService }
    ]; };
    __decorate([
        Input()
    ], ParameterMenuForValueComponent.prototype, "menu", void 0);
    ParameterMenuForValueComponent = __decorate([
        Component({
            selector: 'sti-parameter-menu-for-value',
            template: "\n      <sti-parameter-find *ngIf=\"menu.params.items.length > 10\" [variable]=\"menu.params\"></sti-parameter-find>\n\n      <sti-parameter-menu-separator *ngIf=\"menu.params.items.length > 10\"></sti-parameter-menu-separator>\n\n      <div style=\"max-height: 400px\" [style.overflow]=\"menu.params.items.length > 10 ? 'hidden auto' : 'hidden'\">\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\n          [style.fontFamily]=\"model.options.toolbar.fontFamily\"\n          [style.color]=\"model.options.toolbar.fontColor\"\n          [style.fontSize]=\"'12px'\"\n          [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\n            <tbody>\n              <tr *ngFor=\"let item of menu.params.items\" class=\"stiJsViewerClearAllStyles\" [style.display]=\"item.visible ? '' : 'none'\">\n                <td class=\"stiJsViewerClearAllStyles\">\n                  <sti-parameter-menu-item>\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%\">\n                          <tbody>\n                            <tr class=\"stiJsViewerClearAllStyles\">\n                              <td class=\"stiJsViewerClearAllStyles\">\n                                  <sti-parameter-menu-item (action)=\"action(item)\">\n                                    {{getValue(item)}}\n                                  </sti-parameter-menu-item>\n                              </td>\n                            </tr>\n                          </tbody>\n                      </table>\n                  </sti-parameter-menu-item>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n  "
        })
    ], ParameterMenuForValueComponent);
    return ParameterMenuForValueComponent;
}());
export { ParameterMenuForValueComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyYW1ldGVyLW1lbnUtZm9yLXZhbHVlLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL3N0aW11bHNvZnQtdmlld2VyLWFuZ3VsYXIvIiwic291cmNlcyI6WyJsaWIvbWVudS9wYXJhbWV0ZXItbWVudS1mb3ItdmFsdWUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUV6RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDekQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTNELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBdUN2RTtJQUlFLHdDQUFtQixLQUFtQixFQUFTLE1BQXFCLEVBQVMsa0JBQXVDO1FBQWpHLFVBQUssR0FBTCxLQUFLLENBQWM7UUFBUyxXQUFNLEdBQU4sTUFBTSxDQUFlO1FBQVMsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFxQjtJQUFJLENBQUM7SUFFekgsaURBQVEsR0FBUixjQUFhLENBQUM7SUFFZCwrQ0FBTSxHQUFOLFVBQU8sSUFBYztRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDekQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO1FBRWhDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO1lBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQywwQkFBMEIsRUFBRTtnQkFDbEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsMEJBQTBCLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7YUFDNUc7WUFFRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLG1CQUFtQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQzNIO0lBRUgsQ0FBQztJQUVELGlEQUFRLEdBQVIsVUFBUyxJQUFjO1FBQ3JCLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxLQUFLLEVBQUUsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUM7WUFDeEcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLO1lBQ1osQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzRCxDQUFDOztnQkF0QnlCLFlBQVk7Z0JBQWlCLGFBQWE7Z0JBQTZCLG1CQUFtQjs7SUFGM0c7UUFBUixLQUFLLEVBQUU7Z0VBQVk7SUFGVCw4QkFBOEI7UUFyQzFDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSw4QkFBOEI7WUFDeEMsUUFBUSxFQUFFLDJ2REFnQ1Q7U0FDRixDQUFDO09BRVcsOEJBQThCLENBMkIxQztJQUFELHFDQUFDO0NBQUEsQUEzQkQsSUEyQkM7U0EzQlksOEJBQThCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL21lbnUuc2VydmljZSc7XHJcbmltcG9ydCB7IE1vZGVsU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL21vZGVsLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBIZWxwZXJTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvaGVscGVyLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBWYXJpYWJsZSB9IGZyb20gJy4uL3NlcnZpY2VzL29iamVjdHMnO1xyXG5pbXBvcnQgeyBJbnRlcmFjdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvaW50ZXJhY3Rpb25zLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdzdGktcGFyYW1ldGVyLW1lbnUtZm9yLXZhbHVlJyxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgICA8c3RpLXBhcmFtZXRlci1maW5kICpuZ0lmPVwibWVudS5wYXJhbXMuaXRlbXMubGVuZ3RoID4gMTBcIiBbdmFyaWFibGVdPVwibWVudS5wYXJhbXNcIj48L3N0aS1wYXJhbWV0ZXItZmluZD5cclxuXHJcbiAgICAgIDxzdGktcGFyYW1ldGVyLW1lbnUtc2VwYXJhdG9yICpuZ0lmPVwibWVudS5wYXJhbXMuaXRlbXMubGVuZ3RoID4gMTBcIj48L3N0aS1wYXJhbWV0ZXItbWVudS1zZXBhcmF0b3I+XHJcblxyXG4gICAgICA8ZGl2IHN0eWxlPVwibWF4LWhlaWdodDogNDAwcHhcIiBbc3R5bGUub3ZlcmZsb3ddPVwibWVudS5wYXJhbXMuaXRlbXMubGVuZ3RoID4gMTAgPyAnaGlkZGVuIGF1dG8nIDogJ2hpZGRlbidcIj5cclxuICAgICAgICA8dGFibGUgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzIHN0aUpzVmlld2VyUGFyYW1ldGVyc01lbnVJbm5lclRhYmxlXCIgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCJcclxuICAgICAgICAgIFtzdHlsZS5mb250RmFtaWx5XT1cIm1vZGVsLm9wdGlvbnMudG9vbGJhci5mb250RmFtaWx5XCJcclxuICAgICAgICAgIFtzdHlsZS5jb2xvcl09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZm9udENvbG9yXCJcclxuICAgICAgICAgIFtzdHlsZS5mb250U2l6ZV09XCInMTJweCdcIlxyXG4gICAgICAgICAgW3N0eWxlLndpZHRoXT1cIihtZW51LnBhcmVudC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoIC0gNSkgKyAncHgnXCI+XHJcbiAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICA8dHIgKm5nRm9yPVwibGV0IGl0ZW0gb2YgbWVudS5wYXJhbXMuaXRlbXNcIiBjbGFzcz1cInN0aUpzVmlld2VyQ2xlYXJBbGxTdHlsZXNcIiBbc3R5bGUuZGlzcGxheV09XCJpdGVtLnZpc2libGUgPyAnJyA6ICdub25lJ1wiPlxyXG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwic3RpSnNWaWV3ZXJDbGVhckFsbFN0eWxlc1wiPlxyXG4gICAgICAgICAgICAgICAgICA8c3RpLXBhcmFtZXRlci1tZW51LWl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzXCIgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgc3R5bGU9XCJ3aWR0aDogMTAwJVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cInN0aUpzVmlld2VyQ2xlYXJBbGxTdHlsZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwic3RpSnNWaWV3ZXJDbGVhckFsbFN0eWxlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0aS1wYXJhbWV0ZXItbWVudS1pdGVtIChhY3Rpb24pPVwiYWN0aW9uKGl0ZW0pXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7Z2V0VmFsdWUoaXRlbSl9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdGktcGFyYW1ldGVyLW1lbnUtaXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICAgIDwvc3RpLXBhcmFtZXRlci1tZW51LWl0ZW0+XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICA8L2Rpdj5cclxuICBgXHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgUGFyYW1ldGVyTWVudUZvclZhbHVlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgQElucHV0KCkgbWVudTogTWVudTtcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIG1vZGVsOiBNb2RlbFNlcnZpY2UsIHB1YmxpYyBoZWxwZXI6IEhlbHBlclNlcnZpY2UsIHB1YmxpYyBpbnRlYXJjdGlvblNlcnZpY2U6IEludGVyYWN0aW9uc1NlcnZpY2UpIHsgfVxyXG5cclxuICBuZ09uSW5pdCgpIHsgfVxyXG5cclxuICBhY3Rpb24oaXRlbTogVmFyaWFibGUpIHtcclxuICAgIHRoaXMubWVudS5wYXJhbXMudmFsdWUgPSB0aGlzLm1lbnUucGFyYW1zLmtleSA9IGl0ZW0ua2V5O1xyXG4gICAgdGhpcy5tZW51LnN0YXRlID0gJ2luaXRpYWxEb3duJztcclxuXHJcbiAgICBpZiAodGhpcy5tZW51LnBhcmFtcy5iaW5kaW5nKSB7XHJcbiAgICAgIGlmICghdGhpcy5tb2RlbC5vcHRpb25zLnBhcmFtc1ZhcmlhYmxlc1N0YXJ0VmFsdWVzKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5vcHRpb25zLnBhcmFtc1ZhcmlhYmxlc1N0YXJ0VmFsdWVzID0gdGhpcy5oZWxwZXIuY29weU9iamVjdCh0aGlzLm1vZGVsLm9wdGlvbnMucGFyYW1zVmFyaWFibGVzKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5pbnRlYXJjdGlvblNlcnZpY2UucG9zdEludGVyYWN0aW9uKHsgYWN0aW9uOiAnSW5pdFZhcnMnLCB2YXJpYWJsZXM6IHRoaXMuaW50ZWFyY3Rpb25TZXJ2aWNlLmdldFBhcmFtZXRlcnNWYWx1ZXMoKSB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZShpdGVtOiBWYXJpYWJsZSkge1xyXG4gICAgcmV0dXJuIChpdGVtLnZhbHVlICE9PSAnJyAmJiB0aGlzLm1lbnUucGFyYW1zLnR5cGUgIT09ICdEYXRlVGltZScgJiYgdGhpcy5tZW51LnBhcmFtcy50eXBlICE9PSAnVGltZVNwYW4nKVxyXG4gICAgICA/IGl0ZW0udmFsdWVcclxuICAgICAgOiB0aGlzLmhlbHBlci5nZXRTdHJpbmdLZXkoaXRlbS5rZXksIHRoaXMubWVudS5wYXJhbXMpO1xyXG4gIH1cclxufVxyXG4iXX0=