import { __decorate } from "tslib";
import { Component, ViewChild } from '@angular/core';
import { ModelService } from '../services/model.service';
import { HelperService } from '../services/helper.service';
import { DashboardService } from '../services/dashboard.service';
var DashboardsPanelComponent = /** @class */ (function () {
    function DashboardsPanelComponent(model, helper, dashboardService) {
        this.model = model;
        this.helper = helper;
        this.dashboardService = dashboardService;
        this.imagesPath = 'Dashboards.Actions.Light.';
    }
    DashboardsPanelComponent.prototype.ngOnInit = function () { };
    DashboardsPanelComponent.prototype.ngAfterViewInit = function () {
        this.model.controls.navigatePanel.el = this.element;
    };
    Object.defineProperty(DashboardsPanelComponent.prototype, "dbsMode", {
        get: function () {
            return this.dashboardsCount > 0 && this.reportsCount === 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DashboardsPanelComponent.prototype, "dashboardsCount", {
        get: function () {
            var _a, _b;
            var count = 0;
            if ((_b = (_a = this.model) === null || _a === void 0 ? void 0 : _a.reportParams) === null || _b === void 0 ? void 0 : _b.dashboards) {
                this.model.reportParams.dashboards.forEach(function (i) {
                    if (i['type'] === 'Dashboard') {
                        count++;
                    }
                });
            }
            return count;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DashboardsPanelComponent.prototype, "reportsCount", {
        get: function () {
            var _a, _b;
            if ((_b = (_a = this.model) === null || _a === void 0 ? void 0 : _a.reportParams) === null || _b === void 0 ? void 0 : _b.dashboards) {
                return this.model.reportParams.dashboards.length - this.dashboardsCount;
            }
            return 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(DashboardsPanelComponent.prototype, "previewSettings", {
        get: function () {
            return this.model.reportParams.previewSettings || {};
        },
        enumerable: true,
        configurable: true
    });
    DashboardsPanelComponent.ctorParameters = function () { return [
        { type: ModelService },
        { type: HelperService },
        { type: DashboardService }
    ]; };
    __decorate([
        ViewChild('element')
    ], DashboardsPanelComponent.prototype, "element", void 0);
    DashboardsPanelComponent = __decorate([
        Component({
            selector: 'sti-dashboards-panel',
            template: "\n    <div #element\n      [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\"\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\n      [style.fontColor]=\"helper.val(model.options.toolbar.fontColor)\"\n      [style.display]=\"model.controls.dashboardsPanel.visible ? '' : 'none'\"\n      [style.background]=\"dbsMode ? 'transparent' : ''\"\n      [style.borderColor]=\"dbsMode ? 'transparent' : ''\">\n      <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\n        <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 0px; box-sizing: border-box;\"\n          [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\"\n          [style.background]=\"dbsMode ? 'transparent' : ''\"\n          [style.borderColor]=\"dbsMode ? 'transparent' : ''\">\n          <tbody>\n            <tr class=\"stiJsViewerClearAllStyles\">\n              <td class=\"stiJsViewerClearAllStyles\" style=\"width: 100%;\">\n                <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\"\n                  [style.align]=\"model.options.appearance.rightToLeft ? 'right' : (model.options.toolbar.alignment == 'default' ? 'left' : model.options.toolbar.alignment)\">\n                  <tbody>\n                      <tr>\n                         <td *ngFor=\"let info of model.reportParams.dashboards; let i=index\">\n                            <sti-dashboard-button\n                              [info]=\"info\"\n                              [dbsMode]=\"dbsMode\"\n                              [display]=\"dashboardsCount == 1 && reportsCount == 0 ? 'none': null\">\n                            </sti-dashboard-button>\n                        </td>\n                      </tr>\n                  </tbody>\n                </table>\n              </td>\n\n              <!-- actions table -->\n              <td class=\"stiJsViewerClearAllStyles\">\n                <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin-right:2px\">\n                  <tbody>\n                      <tr>\n                        <td *ngIf=\"model.options.toolbar.showRefreshButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Refresh.png'\"\n                            [tooltip]=\"model.loc('Refresh')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'Refresh'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardRefreshButton ? '' : 'none'\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showParametersButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Parameters.png'\"\n                            [tooltip]=\"model.loc('Parameters')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'Parameters'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showOpenButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Open.png'\"\n                            [tooltip]=\"model.loc('Open')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'OpenDashboard'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardOpenButton ? '' : 'none'\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showDesignButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Edit.png'\"\n                            [tooltip]=\"model.loc('Edit')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'postDesign'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardEditButton ? '' : 'none'\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showFullScreenButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'CloseFullScreen.png'\"\n                            [caption]=\"model.loc('Close')\"\n                            [tooltip]=\"model.loc('FullScreen')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'postFullScreen'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardFullScreenButton ? '' : 'none'\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showSaveButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Menu.png'\"\n                            [tooltip]=\"model.loc('Save')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'ExportDashboard'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardMenuButton && ((previewSettings.dashboardShowReportSnapshots && !model.options.jsMode) || previewSettings.dashboardShowExports) ? '' :'none'\">\n                          </sti-button>\n                        </td>\n                      </tr>\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  "
        })
    ], DashboardsPanelComponent);
    return DashboardsPanelComponent;
}());
export { DashboardsPanelComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFzaGJvYXJkcy1wYW5lbC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9zdGltdWxzb2Z0LXZpZXdlci1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL2NvbXBvbmVudHMvZGFzaGJvYXJkcy1wYW5lbC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQXFDLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4RixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDekQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzNELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBdUlqRTtJQU1FLGtDQUFtQixLQUFtQixFQUFTLE1BQXFCLEVBQVMsZ0JBQWtDO1FBQTVGLFVBQUssR0FBTCxLQUFLLENBQWM7UUFBUyxXQUFNLEdBQU4sTUFBTSxDQUFlO1FBQVMscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQUZ4RyxlQUFVLEdBQUcsMkJBQTJCLENBQUM7SUFFbUUsQ0FBQztJQUVwSCwyQ0FBUSxHQUFSLGNBQWEsQ0FBQztJQUVkLGtEQUFlLEdBQWY7UUFDRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDdEQsQ0FBQztJQUdELHNCQUFJLDZDQUFPO2FBQVg7WUFDRSxPQUFPLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssQ0FBQyxDQUFDO1FBQzdELENBQUM7OztPQUFBO0lBRUQsc0JBQUkscURBQWU7YUFBbkI7O1lBQ0UsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ2QsZ0JBQUksSUFBSSxDQUFDLEtBQUssMENBQUUsWUFBWSwwQ0FBRSxVQUFVLEVBQUU7Z0JBQ3ZDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFVBQWlCLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQztvQkFDbEQsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssV0FBVyxFQUFFO3dCQUM3QixLQUFLLEVBQUUsQ0FBQztxQkFDVDtnQkFDSCxDQUFDLENBQUMsQ0FBQzthQUNKO1lBQ0QsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLGtEQUFZO2FBQWhCOztZQUNFLGdCQUFJLElBQUksQ0FBQyxLQUFLLDBDQUFFLFlBQVksMENBQUUsVUFBVSxFQUFFO2dCQUN4QyxPQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLFVBQWlCLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUM7YUFDakY7WUFDRCxPQUFPLENBQUMsQ0FBQztRQUNYLENBQUM7OztPQUFBO0lBRUQsc0JBQUkscURBQWU7YUFBbkI7WUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLGVBQWUsSUFBSSxFQUFFLENBQUM7UUFDdkQsQ0FBQzs7O09BQUE7O2dCQWxDeUIsWUFBWTtnQkFBaUIsYUFBYTtnQkFBMkIsZ0JBQWdCOztJQUp6RjtRQUFyQixTQUFTLENBQUMsU0FBUyxDQUFDOzZEQUFxQjtJQUYvQix3QkFBd0I7UUFySXBDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxzQkFBc0I7WUFDaEMsUUFBUSxFQUFFLDgrU0FnSVQ7U0FDRixDQUFDO09BRVcsd0JBQXdCLENBeUNwQztJQUFELCtCQUFDO0NBQUEsQUF6Q0QsSUF5Q0M7U0F6Q1ksd0JBQXdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIEFmdGVyVmlld0luaXQsIEVsZW1lbnRSZWYsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBNb2RlbFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9tb2RlbC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgSGVscGVyU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2hlbHBlci5zZXJ2aWNlJztcclxuaW1wb3J0IHsgRGFzaGJvYXJkU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2Rhc2hib2FyZC5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnc3RpLWRhc2hib2FyZHMtcGFuZWwnLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8ZGl2ICNlbGVtZW50XHJcbiAgICAgIFtjbGFzc109XCInc3RpSnNWaWV3ZXJUb29sQmFyJyArIChtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnIHN0aUpzVmlld2VyVG9vbEJhclNlcGFyYXRlZCcgOiAnJylcIlxyXG4gICAgICBbc3R5bGUuZm9udEZhbWlseV09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZm9udEZhbWlseVwiXHJcbiAgICAgIFtzdHlsZS5mb250Q29sb3JdPVwiaGVscGVyLnZhbChtb2RlbC5vcHRpb25zLnRvb2xiYXIuZm9udENvbG9yKVwiXHJcbiAgICAgIFtzdHlsZS5kaXNwbGF5XT1cIm1vZGVsLmNvbnRyb2xzLmRhc2hib2FyZHNQYW5lbC52aXNpYmxlID8gJycgOiAnbm9uZSdcIlxyXG4gICAgICBbc3R5bGUuYmFja2dyb3VuZF09XCJkYnNNb2RlID8gJ3RyYW5zcGFyZW50JyA6ICcnXCJcclxuICAgICAgW3N0eWxlLmJvcmRlckNvbG9yXT1cImRic01vZGUgPyAndHJhbnNwYXJlbnQnIDogJydcIj5cclxuICAgICAgPGRpdiBbc3R5bGUucGFkZGluZ1RvcF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NpbXBsZScgPyAnMnB4JyA6ICcnXCI+XHJcbiAgICAgICAgPHRhYmxlIGNsYXNzPVwic3RpSnNWaWV3ZXJUb29sQmFyVGFibGVcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBzdHlsZT1cIm1hcmdpbjogMHB4OyBib3gtc2l6aW5nOiBib3JkZXItYm94O1wiXHJcbiAgICAgICAgICBbc3R5bGUuYm9yZGVyXT1cIm1vZGVsLm9wdGlvbnMudG9vbGJhci5kaXNwbGF5TW9kZSA9PSAnU2VwYXJhdGVkJyA/ICcwcHgnIDogJydcIlxyXG4gICAgICAgICAgW3N0eWxlLmJhY2tncm91bmRdPVwiZGJzTW9kZSA/ICd0cmFuc3BhcmVudCcgOiAnJ1wiXHJcbiAgICAgICAgICBbc3R5bGUuYm9yZGVyQ29sb3JdPVwiZGJzTW9kZSA/ICd0cmFuc3BhcmVudCcgOiAnJ1wiPlxyXG4gICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICA8dHIgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzXCI+XHJcbiAgICAgICAgICAgICAgPHRkIGNsYXNzPVwic3RpSnNWaWV3ZXJDbGVhckFsbFN0eWxlc1wiIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+XHJcbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJzdGlKc1ZpZXdlclRvb2xCYXJUYWJsZVwiIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgIFtzdHlsZS5hbGlnbl09XCJtb2RlbC5vcHRpb25zLmFwcGVhcmFuY2UucmlnaHRUb0xlZnQgPyAncmlnaHQnIDogKG1vZGVsLm9wdGlvbnMudG9vbGJhci5hbGlnbm1lbnQgPT0gJ2RlZmF1bHQnID8gJ2xlZnQnIDogbW9kZWwub3B0aW9ucy50b29sYmFyLmFsaWdubWVudClcIj5cclxuICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPHRkICpuZ0Zvcj1cImxldCBpbmZvIG9mIG1vZGVsLnJlcG9ydFBhcmFtcy5kYXNoYm9hcmRzOyBsZXQgaT1pbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0aS1kYXNoYm9hcmQtYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbmZvXT1cImluZm9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGJzTW9kZV09XCJkYnNNb2RlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc3BsYXldPVwiZGFzaGJvYXJkc0NvdW50ID09IDEgJiYgcmVwb3J0c0NvdW50ID09IDAgPyAnbm9uZSc6IG51bGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3RpLWRhc2hib2FyZC1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICA8IS0tIGFjdGlvbnMgdGFibGUgLS0+XHJcbiAgICAgICAgICAgICAgPHRkIGNsYXNzPVwic3RpSnNWaWV3ZXJDbGVhckFsbFN0eWxlc1wiPlxyXG4gICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwic3RpSnNWaWV3ZXJUb29sQmFyVGFibGVcIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDoycHhcIj5cclxuICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgKm5nSWY9XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuc2hvd1JlZnJlc2hCdXR0b24gJiYgbW9kZWwub3B0aW9ucy50b29sYmFyLnZpc2libGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RpLWJ1dHRvbiBbaW1hZ2VOYW1lXT1cImltYWdlc1BhdGggKyAnUmVmcmVzaC5wbmcnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0b29sdGlwXT1cIm1vZGVsLmxvYygnUmVmcmVzaCcpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoZWxwTGlua109XCJoZWxwZXIuaGVscExpbmtzWydEYXNoYm9hcmRUb29sYmFyJ11cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21hcmdpbl09XCInMnB4IDAgMnB4IDJweCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FjdGlvbk5hbWVdPVwiJ1JlZnJlc2gnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoZWlnaHRdPVwibW9kZWwub3B0aW9ucy50b29sYmFyLmRpc3BsYXlNb2RlID09ICdTZXBhcmF0ZWQnID8gKGRic01vZGUgPyAobW9kZWwub3B0aW9ucy5pc1RvdWNoRGV2aWNlID8gJzI4cHgnIDogJzIzcHgnKSA6ICcyOHB4JykgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt3aWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAoZGJzTW9kZSA/IChtb2RlbC5vcHRpb25zLmlzVG91Y2hEZXZpY2UgPyAnMjhweCcgOiAnMjNweCcpIDogJzI4cHgnKSA6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lubmVyVGFibGVXaWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnMTAwJSc6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ltYWdlQ2VsbFRleHRBbGlnbl09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnY2VudGVyJzogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzcGxheV09XCJwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkVG9vbEJhciAmJiBwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkUmVmcmVzaEJ1dHRvbiA/ICcnIDogJ25vbmUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdGktYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwibW9kZWwub3B0aW9ucy50b29sYmFyLnNob3dQYXJhbWV0ZXJzQnV0dG9uICYmIG1vZGVsLm9wdGlvbnMudG9vbGJhci52aXNpYmxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0aS1idXR0b24gW2ltYWdlTmFtZV09XCJpbWFnZXNQYXRoICsgJ1BhcmFtZXRlcnMucG5nJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdG9vbHRpcF09XCJtb2RlbC5sb2MoJ1BhcmFtZXRlcnMnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaGVscExpbmtdPVwiaGVscGVyLmhlbHBMaW5rc1snRGFzaGJvYXJkVG9vbGJhciddXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXJnaW5dPVwiJzJweCAwIDJweCAycHgnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthY3Rpb25OYW1lXT1cIidQYXJhbWV0ZXJzJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaGVpZ2h0XT1cIm1vZGVsLm9wdGlvbnMudG9vbGJhci5kaXNwbGF5TW9kZSA9PSAnU2VwYXJhdGVkJyA/IChkYnNNb2RlID8gKG1vZGVsLm9wdGlvbnMuaXNUb3VjaERldmljZSA/ICcyOHB4JyA6ICcyM3B4JykgOiAnMjhweCcpIDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbd2lkdGhdPVwibW9kZWwub3B0aW9ucy50b29sYmFyLmRpc3BsYXlNb2RlID09ICdTZXBhcmF0ZWQnID8gKGRic01vZGUgPyAobW9kZWwub3B0aW9ucy5pc1RvdWNoRGV2aWNlID8gJzI4cHgnIDogJzIzcHgnKSA6ICcyOHB4JykgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbm5lclRhYmxlV2lkdGhdPVwibW9kZWwub3B0aW9ucy50b29sYmFyLmRpc3BsYXlNb2RlID09ICdTZXBhcmF0ZWQnID8gJzEwMCUnOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbWFnZUNlbGxUZXh0QWxpZ25dPVwibW9kZWwub3B0aW9ucy50b29sYmFyLmRpc3BsYXlNb2RlID09ICdTZXBhcmF0ZWQnID8gJ2NlbnRlcic6IG51bGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0aS1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgKm5nSWY9XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuc2hvd09wZW5CdXR0b24gJiYgbW9kZWwub3B0aW9ucy50b29sYmFyLnZpc2libGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RpLWJ1dHRvbiBbaW1hZ2VOYW1lXT1cImltYWdlc1BhdGggKyAnT3Blbi5wbmcnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0b29sdGlwXT1cIm1vZGVsLmxvYygnT3BlbicpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoZWxwTGlua109XCJoZWxwZXIuaGVscExpbmtzWydEYXNoYm9hcmRUb29sYmFyJ11cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21hcmdpbl09XCInMnB4IDAgMnB4IDJweCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FjdGlvbk5hbWVdPVwiJ09wZW5EYXNoYm9hcmQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoZWlnaHRdPVwibW9kZWwub3B0aW9ucy50b29sYmFyLmRpc3BsYXlNb2RlID09ICdTZXBhcmF0ZWQnID8gKGRic01vZGUgPyAobW9kZWwub3B0aW9ucy5pc1RvdWNoRGV2aWNlID8gJzI4cHgnIDogJzIzcHgnKSA6ICcyOHB4JykgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt3aWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAoZGJzTW9kZSA/IChtb2RlbC5vcHRpb25zLmlzVG91Y2hEZXZpY2UgPyAnMjhweCcgOiAnMjNweCcpIDogJzI4cHgnKSA6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lubmVyVGFibGVXaWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnMTAwJSc6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ltYWdlQ2VsbFRleHRBbGlnbl09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnY2VudGVyJzogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzcGxheV09XCJwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkVG9vbEJhciAmJiBwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkT3BlbkJ1dHRvbiA/ICcnIDogJ25vbmUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdGktYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwibW9kZWwub3B0aW9ucy50b29sYmFyLnNob3dEZXNpZ25CdXR0b24gJiYgbW9kZWwub3B0aW9ucy50b29sYmFyLnZpc2libGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3RpLWJ1dHRvbiBbaW1hZ2VOYW1lXT1cImltYWdlc1BhdGggKyAnRWRpdC5wbmcnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0b29sdGlwXT1cIm1vZGVsLmxvYygnRWRpdCcpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoZWxwTGlua109XCJoZWxwZXIuaGVscExpbmtzWydEYXNoYm9hcmRUb29sYmFyJ11cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW21hcmdpbl09XCInMnB4IDAgMnB4IDJweCdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2FjdGlvbk5hbWVdPVwiJ3Bvc3REZXNpZ24nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoZWlnaHRdPVwibW9kZWwub3B0aW9ucy50b29sYmFyLmRpc3BsYXlNb2RlID09ICdTZXBhcmF0ZWQnID8gKGRic01vZGUgPyAobW9kZWwub3B0aW9ucy5pc1RvdWNoRGV2aWNlID8gJzI4cHgnIDogJzIzcHgnKSA6ICcyOHB4JykgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt3aWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAoZGJzTW9kZSA/IChtb2RlbC5vcHRpb25zLmlzVG91Y2hEZXZpY2UgPyAnMjhweCcgOiAnMjNweCcpIDogJzI4cHgnKSA6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lubmVyVGFibGVXaWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnMTAwJSc6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ltYWdlQ2VsbFRleHRBbGlnbl09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnY2VudGVyJzogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzcGxheV09XCJwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkVG9vbEJhciAmJiBwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkRWRpdEJ1dHRvbiA/ICcnIDogJ25vbmUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdGktYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwibW9kZWwub3B0aW9ucy50b29sYmFyLnNob3dGdWxsU2NyZWVuQnV0dG9uICYmIG1vZGVsLm9wdGlvbnMudG9vbGJhci52aXNpYmxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0aS1idXR0b24gW2ltYWdlTmFtZV09XCJpbWFnZXNQYXRoICsgJ0Nsb3NlRnVsbFNjcmVlbi5wbmcnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtjYXB0aW9uXT1cIm1vZGVsLmxvYygnQ2xvc2UnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdG9vbHRpcF09XCJtb2RlbC5sb2MoJ0Z1bGxTY3JlZW4nKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaGVscExpbmtdPVwiaGVscGVyLmhlbHBMaW5rc1snRGFzaGJvYXJkVG9vbGJhciddXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXJnaW5dPVwiJzJweCAwIDJweCAycHgnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthY3Rpb25OYW1lXT1cIidwb3N0RnVsbFNjcmVlbidcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2hlaWdodF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAoZGJzTW9kZSA/IChtb2RlbC5vcHRpb25zLmlzVG91Y2hEZXZpY2UgPyAnMjhweCcgOiAnMjNweCcpIDogJzI4cHgnKSA6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lubmVyVGFibGVXaWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnMTAwJSc6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ltYWdlQ2VsbFRleHRBbGlnbl09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnY2VudGVyJzogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzcGxheV09XCJwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkVG9vbEJhciAmJiBwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkRnVsbFNjcmVlbkJ1dHRvbiA/ICcnIDogJ25vbmUnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdGktYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkICpuZ0lmPVwibW9kZWwub3B0aW9ucy50b29sYmFyLnNob3dTYXZlQnV0dG9uICYmIG1vZGVsLm9wdGlvbnMudG9vbGJhci52aXNpYmxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0aS1idXR0b24gW2ltYWdlTmFtZV09XCJpbWFnZXNQYXRoICsgJ01lbnUucG5nJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdG9vbHRpcF09XCJtb2RlbC5sb2MoJ1NhdmUnKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaGVscExpbmtdPVwiaGVscGVyLmhlbHBMaW5rc1snRGFzaGJvYXJkVG9vbGJhciddXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXJnaW5dPVwiJzJweCAwIDJweCAycHgnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFthY3Rpb25OYW1lXT1cIidFeHBvcnREYXNoYm9hcmQnXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtoZWlnaHRdPVwibW9kZWwub3B0aW9ucy50b29sYmFyLmRpc3BsYXlNb2RlID09ICdTZXBhcmF0ZWQnID8gKGRic01vZGUgPyAobW9kZWwub3B0aW9ucy5pc1RvdWNoRGV2aWNlID8gJzI4cHgnIDogJzIzcHgnKSA6ICcyOHB4JykgOiBudWxsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt3aWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAoZGJzTW9kZSA/IChtb2RlbC5vcHRpb25zLmlzVG91Y2hEZXZpY2UgPyAnMjhweCcgOiAnMjNweCcpIDogJzI4cHgnKSA6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lubmVyVGFibGVXaWR0aF09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnMTAwJSc6IG51bGxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ltYWdlQ2VsbFRleHRBbGlnbl09XCJtb2RlbC5vcHRpb25zLnRvb2xiYXIuZGlzcGxheU1vZGUgPT0gJ1NlcGFyYXRlZCcgPyAnY2VudGVyJzogbnVsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzcGxheV09XCJwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkVG9vbEJhciAmJiBwcmV2aWV3U2V0dGluZ3MuZGFzaGJvYXJkTWVudUJ1dHRvbiAmJiAoKHByZXZpZXdTZXR0aW5ncy5kYXNoYm9hcmRTaG93UmVwb3J0U25hcHNob3RzICYmICFtb2RlbC5vcHRpb25zLmpzTW9kZSkgfHwgcHJldmlld1NldHRpbmdzLmRhc2hib2FyZFNob3dFeHBvcnRzKSA/ICcnIDonbm9uZSdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N0aS1idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIGBcclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXNoYm9hcmRzUGFuZWxDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQge1xyXG5cclxuICBAVmlld0NoaWxkKCdlbGVtZW50JykgZWxlbWVudDogRWxlbWVudFJlZjtcclxuXHJcbiAgcHVibGljIGltYWdlc1BhdGggPSAnRGFzaGJvYXJkcy5BY3Rpb25zLkxpZ2h0Lic7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBtb2RlbDogTW9kZWxTZXJ2aWNlLCBwdWJsaWMgaGVscGVyOiBIZWxwZXJTZXJ2aWNlLCBwdWJsaWMgZGFzaGJvYXJkU2VydmljZTogRGFzaGJvYXJkU2VydmljZSkgeyB9XHJcblxyXG4gIG5nT25Jbml0KCkgeyB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMubW9kZWwuY29udHJvbHMubmF2aWdhdGVQYW5lbC5lbCA9IHRoaXMuZWxlbWVudDtcclxuICB9XHJcblxyXG5cclxuICBnZXQgZGJzTW9kZSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmRhc2hib2FyZHNDb3VudCA+IDAgJiYgdGhpcy5yZXBvcnRzQ291bnQgPT09IDA7XHJcbiAgfVxyXG5cclxuICBnZXQgZGFzaGJvYXJkc0NvdW50KCk6IG51bWJlciB7XHJcbiAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgaWYgKHRoaXMubW9kZWw/LnJlcG9ydFBhcmFtcz8uZGFzaGJvYXJkcykge1xyXG4gICAgICAodGhpcy5tb2RlbC5yZXBvcnRQYXJhbXMuZGFzaGJvYXJkcyBhcyBbXSkuZm9yRWFjaChpID0+IHtcclxuICAgICAgICBpZiAoaVsndHlwZSddID09PSAnRGFzaGJvYXJkJykge1xyXG4gICAgICAgICAgY291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvdW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0IHJlcG9ydHNDb3VudCgpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMubW9kZWw/LnJlcG9ydFBhcmFtcz8uZGFzaGJvYXJkcykge1xyXG4gICAgICByZXR1cm4gKHRoaXMubW9kZWwucmVwb3J0UGFyYW1zLmRhc2hib2FyZHMgYXMgW10pLmxlbmd0aCAtIHRoaXMuZGFzaGJvYXJkc0NvdW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuICBnZXQgcHJldmlld1NldHRpbmdzKCk6IGFueSB7XHJcbiAgICByZXR1cm4gdGhpcy5tb2RlbC5yZXBvcnRQYXJhbXMucHJldmlld1NldHRpbmdzIHx8IHt9O1xyXG4gIH1cclxufVxyXG4iXX0=