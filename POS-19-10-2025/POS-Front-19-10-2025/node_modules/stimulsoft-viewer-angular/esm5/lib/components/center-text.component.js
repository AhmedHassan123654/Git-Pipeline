import { __decorate } from "tslib";
import { Component, ViewChild } from '@angular/core';
import { ModelService } from '../services/model.service';
import { ControllerService } from '../services/controller.service';
import { HelperService } from '../services/helper.service';
var CenterTextComponent = /** @class */ (function () {
    function CenterTextComponent(model, controller, helper) {
        var _this = this;
        this.model = model;
        this.controller = controller;
        this.helper = helper;
        this.text = '';
        this.opacity = 0;
        this.display = 'none';
        controller.getActionMessage().subscribe(function (message) {
            switch (message.action) {
                case 'centerText':
                    _this.show(message.data);
                    break;
                case 'hideCenterText':
                    _this.hide();
                    break;
            }
        });
    }
    CenterTextComponent.prototype.ngOnInit = function () { };
    CenterTextComponent.prototype.show = function (text) {
        var _this = this;
        this.display = '';
        this.opacity = 0;
        this.text = text;
        setTimeout(function () {
            _this.helper.setObjectToCenter(_this.element.nativeElement);
            _this.opacity = 1;
        });
        if (this.hideTimer) {
            clearTimeout(this.hideTimer);
        }
        this.hideTimer = setTimeout(function () {
            _this.hide();
        }, 2000);
    };
    CenterTextComponent.prototype.hide = function () {
        var _this = this;
        this.opacity = 0;
        if (this.hideTimer) {
            clearTimeout(this.hideTimer);
        }
        this.hideTimer = setTimeout(function () {
            _this.display = 'none';
        }, 300);
    };
    CenterTextComponent.ctorParameters = function () { return [
        { type: ModelService },
        { type: ControllerService },
        { type: HelperService }
    ]; };
    __decorate([
        ViewChild('element')
    ], CenterTextComponent.prototype, "element", void 0);
    CenterTextComponent = __decorate([
        Component({
            selector: 'sti-center-text',
            template: "\n    <div #element\n      style=\"position: absolute; z-index: 1000; transition-property: opacity; transition-duration: 300ms; text-shadow: rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px; font-size: 100px;\"\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\n      [style.color]=\"model.options.toolbar.fontColor\"\n      [style.opacity]=\"opacity\"\n      [style.display]=\"display\">\n      <div>\n        {{text}}\n      </div>\n    </div>\n  "
        })
    ], CenterTextComponent);
    return CenterTextComponent;
}());
export { CenterTextComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2VudGVyLXRleHQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vc3RpbXVsc29mdC12aWV3ZXItYW5ndWxhci8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL2NlbnRlci10ZXh0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxTQUFTLEVBQWMsTUFBTSxlQUFlLENBQUM7QUFDekUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRW5FLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQWtCM0Q7SUFVRSw2QkFBbUIsS0FBbUIsRUFBUyxVQUE2QixFQUFTLE1BQXFCO1FBQTFHLGlCQVlDO1FBWmtCLFVBQUssR0FBTCxLQUFLLENBQWM7UUFBUyxlQUFVLEdBQVYsVUFBVSxDQUFtQjtRQUFTLFdBQU0sR0FBTixNQUFNLENBQWU7UUFObkcsU0FBSSxHQUFHLEVBQUUsQ0FBQztRQUNWLFlBQU8sR0FBRyxDQUFDLENBQUM7UUFDWixZQUFPLEdBQUcsTUFBTSxDQUFDO1FBS3RCLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLFNBQVMsQ0FBQyxVQUFDLE9BQWdCO1lBQ3ZELFFBQVEsT0FBTyxDQUFDLE1BQU0sRUFBRTtnQkFDdEIsS0FBSyxZQUFZO29CQUNmLEtBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUN4QixNQUFNO2dCQUVSLEtBQUssZ0JBQWdCO29CQUNuQixLQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBQ1osTUFBTTthQUNUO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsc0NBQVEsR0FBUixjQUFhLENBQUM7SUFFUCxrQ0FBSSxHQUFYLFVBQVksSUFBWTtRQUF4QixpQkFhQztRQVpDLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLFVBQVUsQ0FBQztZQUNULEtBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMxRCxLQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztRQUNuQixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUFFLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7U0FBRTtRQUNyRCxJQUFJLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQztZQUMxQixLQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDZCxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDWCxDQUFDO0lBRU0sa0NBQUksR0FBWDtRQUFBLGlCQU1DO1FBTEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDakIsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQUUsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUFFO1FBQ3JELElBQUksQ0FBQyxTQUFTLEdBQUcsVUFBVSxDQUFDO1lBQzFCLEtBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3hCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNWLENBQUM7O2dCQXJDeUIsWUFBWTtnQkFBcUIsaUJBQWlCO2dCQUFpQixhQUFhOztJQVJwRjtRQUFyQixTQUFTLENBQUMsU0FBUyxDQUFDO3dEQUFxQjtJQUYvQixtQkFBbUI7UUFoQi9CLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSxpQkFBaUI7WUFDM0IsUUFBUSxFQUFFLDBnQkFXVDtTQUNGLENBQUM7T0FFVyxtQkFBbUIsQ0FnRC9CO0lBQUQsMEJBQUM7Q0FBQSxBQWhERCxJQWdEQztTQWhEWSxtQkFBbUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgVmlld0NoaWxkLCBFbGVtZW50UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE1vZGVsU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL21vZGVsLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbnRyb2xsZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9vYmplY3RzJztcclxuaW1wb3J0IHsgSGVscGVyU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2hlbHBlci5zZXJ2aWNlJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnc3RpLWNlbnRlci10ZXh0JyxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGRpdiAjZWxlbWVudFxyXG4gICAgICBzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgei1pbmRleDogMTAwMDsgdHJhbnNpdGlvbi1wcm9wZXJ0eTogb3BhY2l0eTsgdHJhbnNpdGlvbi1kdXJhdGlvbjogMzAwbXM7IHRleHQtc2hhZG93OiByZ2IoMCwgMCwgMCkgLTFweCAtMXB4IDBweCwgcmdiKDAsIDAsIDApIDFweCAtMXB4IDBweCwgcmdiKDAsIDAsIDApIC0xcHggMXB4IDBweCwgcmdiKDAsIDAsIDApIDFweCAxcHggMHB4OyBmb250LXNpemU6IDEwMHB4O1wiXHJcbiAgICAgIFtzdHlsZS5mb250RmFtaWx5XT1cIm1vZGVsLm9wdGlvbnMudG9vbGJhci5mb250RmFtaWx5XCJcclxuICAgICAgW3N0eWxlLmNvbG9yXT1cIm1vZGVsLm9wdGlvbnMudG9vbGJhci5mb250Q29sb3JcIlxyXG4gICAgICBbc3R5bGUub3BhY2l0eV09XCJvcGFjaXR5XCJcclxuICAgICAgW3N0eWxlLmRpc3BsYXldPVwiZGlzcGxheVwiPlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIHt7dGV4dH19XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgYFxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIENlbnRlclRleHRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG5cclxuICBAVmlld0NoaWxkKCdlbGVtZW50JykgZWxlbWVudDogRWxlbWVudFJlZjtcclxuXHJcbiAgcHVibGljIHRleHQgPSAnJztcclxuICBwdWJsaWMgb3BhY2l0eSA9IDA7XHJcbiAgcHVibGljIGRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gIHByaXZhdGUgaGlkZVRpbWVyOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBtb2RlbDogTW9kZWxTZXJ2aWNlLCBwdWJsaWMgY29udHJvbGxlcjogQ29udHJvbGxlclNlcnZpY2UsIHB1YmxpYyBoZWxwZXI6IEhlbHBlclNlcnZpY2UpIHtcclxuICAgIGNvbnRyb2xsZXIuZ2V0QWN0aW9uTWVzc2FnZSgpLnN1YnNjcmliZSgobWVzc2FnZTogTWVzc2FnZSkgPT4ge1xyXG4gICAgICBzd2l0Y2ggKG1lc3NhZ2UuYWN0aW9uKSB7XHJcbiAgICAgICAgY2FzZSAnY2VudGVyVGV4dCc6XHJcbiAgICAgICAgICB0aGlzLnNob3cobWVzc2FnZS5kYXRhKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlICdoaWRlQ2VudGVyVGV4dCc6XHJcbiAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkgeyB9XHJcblxyXG4gIHB1YmxpYyBzaG93KHRleHQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5kaXNwbGF5ID0gJyc7XHJcbiAgICB0aGlzLm9wYWNpdHkgPSAwO1xyXG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLmhlbHBlci5zZXRPYmplY3RUb0NlbnRlcih0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCk7XHJcbiAgICAgIHRoaXMub3BhY2l0eSA9IDE7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAodGhpcy5oaWRlVGltZXIpIHsgY2xlYXJUaW1lb3V0KHRoaXMuaGlkZVRpbWVyKTsgfVxyXG4gICAgdGhpcy5oaWRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICB9LCAyMDAwKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBoaWRlKCkge1xyXG4gICAgdGhpcy5vcGFjaXR5ID0gMDtcclxuICAgIGlmICh0aGlzLmhpZGVUaW1lcikgeyBjbGVhclRpbWVvdXQodGhpcy5oaWRlVGltZXIpOyB9XHJcbiAgICB0aGlzLmhpZGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9LCAzMDApO1xyXG4gIH1cclxufVxyXG4iXX0=