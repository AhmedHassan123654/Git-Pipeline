import { __decorate } from "tslib";
import { Component, Input } from '@angular/core';
import { ModelService } from '../services/model.service';
import { HelperService } from '../services/helper.service';
import { MenuService } from '../menu/menu.service';
var DatePickerDayButtonComponent = /** @class */ (function () {
    function DatePickerDayButtonComponent(model, helper, menuService) {
        this.model = model;
        this.helper = helper;
        this.menuService = menuService;
        this.caption = '';
        this.enabled = false;
        this.selected = false;
        this.closeOnAction = true;
    }
    DatePickerDayButtonComponent.prototype.action = function () {
        this.date.day = this.row * 7 + this.col - this.getFirstDay() + 1;
        if (this.closeOnAction && this.menuService.getMenu('datePickerMenu') != null) {
            this.menuService.getMenu('datePickerMenu').state = 'initialUp';
        }
    };
    DatePickerDayButtonComponent.prototype.getFirstDay = function () {
        var firstDay = new Date(this.date.year, this.date.month - 1, 1).getDay();
        if (firstDay === 0) {
            firstDay = 7;
        }
        if (this.model.options.appearance.datePickerFirstDayOfWeek !== 'Sunday') {
            firstDay--;
        }
        return firstDay;
    };
    DatePickerDayButtonComponent.prototype.ngOnInit = function () { };
    DatePickerDayButtonComponent.ctorParameters = function () { return [
        { type: ModelService },
        { type: HelperService },
        { type: MenuService }
    ]; };
    __decorate([
        Input()
    ], DatePickerDayButtonComponent.prototype, "col", void 0);
    __decorate([
        Input()
    ], DatePickerDayButtonComponent.prototype, "row", void 0);
    __decorate([
        Input()
    ], DatePickerDayButtonComponent.prototype, "caption", void 0);
    __decorate([
        Input()
    ], DatePickerDayButtonComponent.prototype, "enabled", void 0);
    __decorate([
        Input()
    ], DatePickerDayButtonComponent.prototype, "selected", void 0);
    __decorate([
        Input()
    ], DatePickerDayButtonComponent.prototype, "date", void 0);
    __decorate([
        Input()
    ], DatePickerDayButtonComponent.prototype, "closeOnAction", void 0);
    DatePickerDayButtonComponent = __decorate([
        Component({
            selector: 'sti-date-picker-day-button',
            template: "\n    <sti-button [styleName]=\"'stiJsViewerDatePickerDayButton'\"\n                [width]=\"model.options.isTouchDevice ? '25px' : '23px'\"\n                [height]=\"model.options.isTouchDevice ? '25px' : '23px'\"\n                [captionAlign]=\"'center'\"\n                [innerTableWidth]=\"'100%'\"\n                [captionPadding]=\"'0px'\"\n                [margin]=\"'1px'\"\n                [caption]=\"caption\"\n                [enabled]=\"enabled\"\n                [selected]=\"selected\"\n                (action)=\"action()\">\n    </sti-button>\n  "
        })
    ], DatePickerDayButtonComponent);
    return DatePickerDayButtonComponent;
}());
export { DatePickerDayButtonComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS1waWNrZXItZGF5LWJ1dHRvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9zdGltdWxzb2Z0LXZpZXdlci1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL2NvbnRyb2xzL2RhdGUtcGlja2VyLWRheS1idXR0b24uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFekQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzNELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQW9CbkQ7SUFVRSxzQ0FBbUIsS0FBbUIsRUFBUyxNQUFxQixFQUFTLFdBQXdCO1FBQWxGLFVBQUssR0FBTCxLQUFLLENBQWM7UUFBUyxXQUFNLEdBQU4sTUFBTSxDQUFlO1FBQVMsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFONUYsWUFBTyxHQUFHLEVBQUUsQ0FBQztRQUNiLFlBQU8sR0FBRyxLQUFLLENBQUM7UUFDaEIsYUFBUSxHQUFHLEtBQUssQ0FBQztRQUVqQixrQkFBYSxHQUFHLElBQUksQ0FBQztJQUUyRSxDQUFDO0lBRTFHLDZDQUFNLEdBQU47UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDakUsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLElBQUksSUFBSSxFQUFFO1lBQzVFLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSyxHQUFHLFdBQVcsQ0FBQztTQUNoRTtJQUNILENBQUM7SUFFRCxrREFBVyxHQUFYO1FBQ0UsSUFBSSxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3pFLElBQUksUUFBUSxLQUFLLENBQUMsRUFBRTtZQUNsQixRQUFRLEdBQUcsQ0FBQyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyx3QkFBd0IsS0FBSyxRQUFRLEVBQUU7WUFDdkUsUUFBUSxFQUFFLENBQUM7U0FDWjtRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFRCwrQ0FBUSxHQUFSLGNBQWEsQ0FBQzs7Z0JBcEJZLFlBQVk7Z0JBQWlCLGFBQWE7Z0JBQXNCLFdBQVc7O0lBUjVGO1FBQVIsS0FBSyxFQUFFOzZEQUFhO0lBQ1o7UUFBUixLQUFLLEVBQUU7NkRBQWE7SUFDWjtRQUFSLEtBQUssRUFBRTtpRUFBYztJQUNiO1FBQVIsS0FBSyxFQUFFO2lFQUFpQjtJQUNoQjtRQUFSLEtBQUssRUFBRTtrRUFBa0I7SUFDakI7UUFBUixLQUFLLEVBQUU7OERBQXNCO0lBQ3JCO1FBQVIsS0FBSyxFQUFFO3VFQUFzQjtJQVJuQiw0QkFBNEI7UUFsQnhDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSw0QkFBNEI7WUFDdEMsUUFBUSxFQUFFLDRqQkFhVDtTQUNGLENBQUM7T0FFVyw0QkFBNEIsQ0ErQnhDO0lBQUQsbUNBQUM7Q0FBQSxBQS9CRCxJQStCQztTQS9CWSw0QkFBNEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgTW9kZWxTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvbW9kZWwuc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGVUaW1lT2JqZWN0IH0gZnJvbSAnLi4vc2VydmljZXMvb2JqZWN0cyc7XHJcbmltcG9ydCB7IEhlbHBlclNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9oZWxwZXIuc2VydmljZSc7XHJcbmltcG9ydCB7IE1lbnVTZXJ2aWNlIH0gZnJvbSAnLi4vbWVudS9tZW51LnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICdzdGktZGF0ZS1waWNrZXItZGF5LWJ1dHRvbicsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxzdGktYnV0dG9uIFtzdHlsZU5hbWVdPVwiJ3N0aUpzVmlld2VyRGF0ZVBpY2tlckRheUJ1dHRvbidcIlxyXG4gICAgICAgICAgICAgICAgW3dpZHRoXT1cIm1vZGVsLm9wdGlvbnMuaXNUb3VjaERldmljZSA/ICcyNXB4JyA6ICcyM3B4J1wiXHJcbiAgICAgICAgICAgICAgICBbaGVpZ2h0XT1cIm1vZGVsLm9wdGlvbnMuaXNUb3VjaERldmljZSA/ICcyNXB4JyA6ICcyM3B4J1wiXHJcbiAgICAgICAgICAgICAgICBbY2FwdGlvbkFsaWduXT1cIidjZW50ZXInXCJcclxuICAgICAgICAgICAgICAgIFtpbm5lclRhYmxlV2lkdGhdPVwiJzEwMCUnXCJcclxuICAgICAgICAgICAgICAgIFtjYXB0aW9uUGFkZGluZ109XCInMHB4J1wiXHJcbiAgICAgICAgICAgICAgICBbbWFyZ2luXT1cIicxcHgnXCJcclxuICAgICAgICAgICAgICAgIFtjYXB0aW9uXT1cImNhcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgW2VuYWJsZWRdPVwiZW5hYmxlZFwiXHJcbiAgICAgICAgICAgICAgICBbc2VsZWN0ZWRdPVwic2VsZWN0ZWRcIlxyXG4gICAgICAgICAgICAgICAgKGFjdGlvbik9XCJhY3Rpb24oKVwiPlxyXG4gICAgPC9zdGktYnV0dG9uPlxyXG4gIGBcclxufSlcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRlUGlja2VyRGF5QnV0dG9uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgQElucHV0KCkgY29sOiBudW1iZXI7XHJcbiAgQElucHV0KCkgcm93OiBudW1iZXI7XHJcbiAgQElucHV0KCkgY2FwdGlvbiA9ICcnO1xyXG4gIEBJbnB1dCgpIGVuYWJsZWQgPSBmYWxzZTtcclxuICBASW5wdXQoKSBzZWxlY3RlZCA9IGZhbHNlO1xyXG4gIEBJbnB1dCgpIGRhdGU6IERhdGVUaW1lT2JqZWN0O1xyXG4gIEBJbnB1dCgpIGNsb3NlT25BY3Rpb24gPSB0cnVlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbW9kZWw6IE1vZGVsU2VydmljZSwgcHVibGljIGhlbHBlcjogSGVscGVyU2VydmljZSwgcHVibGljIG1lbnVTZXJ2aWNlOiBNZW51U2VydmljZSkgeyB9XHJcblxyXG4gIGFjdGlvbigpIHtcclxuICAgIHRoaXMuZGF0ZS5kYXkgPSB0aGlzLnJvdyAqIDcgKyB0aGlzLmNvbCAtIHRoaXMuZ2V0Rmlyc3REYXkoKSArIDE7XHJcbiAgICBpZiAodGhpcy5jbG9zZU9uQWN0aW9uICYmIHRoaXMubWVudVNlcnZpY2UuZ2V0TWVudSgnZGF0ZVBpY2tlck1lbnUnKSAhPSBudWxsKSB7XHJcbiAgICAgIHRoaXMubWVudVNlcnZpY2UuZ2V0TWVudSgnZGF0ZVBpY2tlck1lbnUnKS5zdGF0ZSA9ICdpbml0aWFsVXAnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Rmlyc3REYXkoKTogbnVtYmVyIHtcclxuICAgIGxldCBmaXJzdERheSA9IG5ldyBEYXRlKHRoaXMuZGF0ZS55ZWFyLCB0aGlzLmRhdGUubW9udGggLSAxLCAxKS5nZXREYXkoKTtcclxuICAgIGlmIChmaXJzdERheSA9PT0gMCkge1xyXG4gICAgICBmaXJzdERheSA9IDc7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tb2RlbC5vcHRpb25zLmFwcGVhcmFuY2UuZGF0ZVBpY2tlckZpcnN0RGF5T2ZXZWVrICE9PSAnU3VuZGF5Jykge1xyXG4gICAgICBmaXJzdERheS0tO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpcnN0RGF5O1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7IH1cclxufVxyXG4iXX0=