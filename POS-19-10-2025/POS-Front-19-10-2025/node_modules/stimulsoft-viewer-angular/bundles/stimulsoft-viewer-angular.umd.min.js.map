{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","ng://stimulsoft-viewer-angular/lib/services/objects.ts","ng://stimulsoft-viewer-angular/lib/services/model.service.ts","ng://stimulsoft-viewer-angular/lib/services/animation.service.ts","ng://stimulsoft-viewer-angular/lib/services/helper.service.ts","ng://stimulsoft-viewer-angular/lib/services/http-client.service.ts","ng://stimulsoft-viewer-angular/lib/services/styles.service.ts","ng://stimulsoft-viewer-angular/lib/services/page.service.ts","ng://stimulsoft-viewer-angular/lib/services/mouse.service.ts","ng://stimulsoft-viewer-angular/lib/menu/menu.service.ts","ng://stimulsoft-viewer-angular/lib/forms/form.service.ts","ng://stimulsoft-viewer-angular/lib/services/full-screen.service.ts","ng://stimulsoft-viewer-angular/lib/services/controller.service.ts","ng://stimulsoft-viewer-angular/lib/services/collections.service.ts","ng://stimulsoft-viewer-angular/lib/services/export.service.ts","ng://stimulsoft-viewer-angular/lib/services/mail.service.ts","ng://stimulsoft-viewer-angular/lib/services/api.service.ts","ng://stimulsoft-viewer-angular/lib/services/print.service.ts","ng://stimulsoft-viewer-angular/lib/services/dashboard.service.ts","ng://stimulsoft-viewer-angular/lib/services/tooltip.service.ts","ng://stimulsoft-viewer-angular/lib/services/find.service.ts","ng://stimulsoft-viewer-angular/lib/services/md5.service.ts","ng://stimulsoft-viewer-angular/lib/services/drill-down.service.ts","ng://stimulsoft-viewer-angular/lib/services/interactions.service.ts","ng://stimulsoft-viewer-angular/lib/services/radio-button.service.ts","ng://stimulsoft-viewer-angular/lib/services/editable-fields.service.ts","ng://stimulsoft-viewer-angular/lib/services/toolbar.service.ts","ng://stimulsoft-viewer-angular/lib/stimulsoft-viewer-angular.component.ts","ng://stimulsoft-viewer-angular/lib/controls/button.component.ts","ng://stimulsoft-viewer-angular/lib/components/page.component.ts","ng://stimulsoft-viewer-angular/lib/components/report-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/toolbar.component.ts","ng://stimulsoft-viewer-angular/lib/controls/toolbar-separator.component.ts","ng://stimulsoft-viewer-angular/lib/controls/page-control.component.ts","ng://stimulsoft-viewer-angular/lib/controls/text-box.componet.ts","ng://stimulsoft-viewer-angular/lib/menu/menu.component.ts","ng://stimulsoft-viewer-angular/lib/menu/meni-item.component.ts","ng://stimulsoft-viewer-angular/lib/controls/tooltip.component.ts","ng://stimulsoft-viewer-angular/lib/components/find-panel.component.ts","ng://stimulsoft-viewer-angular/lib/controls/text-block.component.ts","ng://stimulsoft-viewer-angular/lib/components/bookmarks-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/interactions-panel.component.ts","ng://stimulsoft-viewer-angular/lib/controls/form-button.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter-text-box.component.ts","ng://stimulsoft-viewer-angular/lib/controls/checkbox.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter-checkbox.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter-button.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-edit-list.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-item.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-separator.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter-find.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-not-edit-list.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-for-value.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-for-range.component.ts","ng://stimulsoft-viewer-angular/lib/menu/date-picker-menu.component.ts","ng://stimulsoft-viewer-angular/lib/controls/drop-down-list.component.ts","ng://stimulsoft-viewer-angular/lib/menu/vertical-menu.component.ts","ng://stimulsoft-viewer-angular/lib/menu/vertical-menu-item.component.ts","ng://stimulsoft-viewer-angular/lib/controls/date-picker-day-button.component.ts","ng://stimulsoft-viewer-angular/lib/menu/double-date-picker-menu.component.ts","ng://stimulsoft-viewer-angular/lib/forms/base-form.component.ts","ng://stimulsoft-viewer-angular/lib/forms/export-form.component.ts","ng://stimulsoft-viewer-angular/lib/forms/group-panel.component.ts","ng://stimulsoft-viewer-angular/lib/controls/radio-button.components.ts","ng://stimulsoft-viewer-angular/lib/controls/drop-down-list-for-export-form.component.ts","ng://stimulsoft-viewer-angular/lib/menu/document-security-menu.component.ts","ng://stimulsoft-viewer-angular/lib/menu/digital-signature-menu.component copy.ts","ng://stimulsoft-viewer-angular/lib/forms/send-email-form.component.ts","ng://stimulsoft-viewer-angular/lib/controls/text-area.component.ts","ng://stimulsoft-viewer-angular/lib/components/drill-down-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/open-dialog.component.ts","ng://stimulsoft-viewer-angular/lib/forms/password-form.component.ts","ng://stimulsoft-viewer-angular/lib/forms/error-message-form.component.ts","ng://stimulsoft-viewer-angular/lib/components/resources-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/progress.component.ts","ng://stimulsoft-viewer-angular/lib/components/navigate-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/about-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/toolbar-dop.component.ts","ng://stimulsoft-viewer-angular/lib/components/center-text.component.ts","ng://stimulsoft-viewer-angular/lib/forms/notification-form.component.ts","ng://stimulsoft-viewer-angular/lib/components/dashboards-panel.component.ts","ng://stimulsoft-viewer-angular/lib/controls/dashboard-panel-button.component.ts","ng://stimulsoft-viewer-angular/lib/stimulsoft-viewer-angular.module.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__values","o","s","Symbol","iterator","m","call","next","value","done","TypeError","ControlClass","this","toolbar","ControlProps","reportPanel","drillDownPanel","findPanel","resourcesPanel","bookmarksPanel","navigatePanel","parametersPanel","dashboardsPanel","viewer","tooltip","aboutPanel","prototype","document","getElementsByTagName","pageService","el","_visible","subject","Subject","enabled","layout","Rectangle","_a","nativeElement","offsetHeight","offsetWidth","calculateLayout","getVisibility","asObservable","width","height","left","bottom","right","_top","Variable","name","alias","description","basicType","type","allowUserValues","dateTimeType","items","keyTo","isChecked","focusOnCreate","visible","binding","isNull","DateTimeObject","year","month","day","hours","minutes","seconds","Item","caption","imageName","haveSubMenu","imageSizes","selected","ModelService","_reportParams","controls","pages","months","dayOfWeek","dateRanges","encodingData","pdfSecurityCertificates","paperSizes","drillDownButtons","showProgress","parameters","pagesArray","action","reportParams","reportType","drillDownGuid","dashboardDrillDownGuid","pagesCount","pageNumber","zoom","viewMode","reportFileName","collapsingStates","bookmarksContent","resources","isCompilationMode","variablesValues","parametersDateFormat","options","appearance","parametersPanelDateFormat","tableOfContentsPointers","isEditableReport","userValues","dashboards","previewSettings","setReportParams","getReportParams","copyObject","p","v","pop","hasOwnProperty","_options","data","toLower","jsOptions","exports","defaultSettings","localization","loc","images","clearViewerState","setupOptions","attr","img","obj","_this","result","keys","forEach","substr","toLowerCase","clear","undefined","_imagesForBookmark","form","originalPageNumber","editableParameters","drillDownParameters","elementName","viewerId","newToken","clientGuid","paramsVariables","multiFilterStates","isParametersReceived","drillDownInProgress","prevPageNumber","fullScreenOptions","interactions","style","createPostParameters","asObject","useOptions","params","postParams","stiweb_component","stiweb_imagesScalingFactor","getImagesScalingFactor","properties","btoa","JSON","stringify","routes","formValues","cacheMode","server","cacheTimeout","cacheItemPriority","_b","_d","_c","multiPageWidthCount","multiPageHeightCount","multiPageContainerWidth","multiPageContainerHeight","multiPageMargins","showBookmarks","showBookmarksButton","openLinksWindow","chartRenderType","reportDisplayMode","useRelativeUrls","passQueryParametersForResources","passQueryParametersToReport","version","shortProductVersion","reportDesignerMode","imagesQuality","parametersPanelSortDataItems","combineReportPages","isAngular","allowAutoUpdateCookies","useLocalizedCache","base64Data","jsonParams","useCompression","a","split","b","j","Math","random","toFixed","join","showExportToPowerPoint","showExportToPdf","showExportToXps","showExportToOpenDocumentWriter","showExportToOpenDocumentCalc","showExportToText","showExportToRtf","showExportToWord2007","showExportToCsv","showExportToJson","showExportToDbf","showExportToXml","showExportToDif","showExportToSylk","showExportToExcel","showExportToExcel2007","showExportToExcelXml","showExportToHtml","showExportToHtml5","showExportToMht","showExportToImageBmp","showExportToImageGif","showExportToImageJpeg","showExportToImageMetafile","showExportToImagePcx","showExportToImagePng","showExportToImageTiff","showExportToImageSvg","showExportToImageSvgz","showExportToDocument","showSaveButton","showSendEmailButton","isTouchDevice","interfaceType","isMobileDevice","initializeMobile","showPinToolbarButton","menuAnimDuration","formAnimDuration","scrollDuration","menuHideDelay","timeoutAutoUpdateCache","backgroundColor","getHTMLColor","borderColor","fontColor","pageBorderColor","parametersValues","parameterRowHeight","minParametersCountForMultiColumns","datePickerFirstDayOfWeek","splice","autoZoom","_f","_e","actions","getReport","viewerEvent","printReport","openReport","exportReport","interaction","window","File","FileReader","FileList","Blob","showOpenButton","requestResourcesUrl","customStylesUrl","viewerStyles","createElement","setAttribute","getResourceUrl","head","appendChild","toString","pagesNavigationIsActive","fullScreenMode","scrollbarsMode","imagesForBookmarks_1","documentElement","test","navigator","userAgent","isViewPortExist","metas","metas_1","metas_1_1","meta","viewPortTag","id","content","parametersPanelPosition","parametersPanelColumnsCount","displayMode","showZoomButton","defaultZoom","showButtonCaptions","showFindButton","showEditorButton","showFullScreenButton","showAboutButton","showViewModeButton","wnd","devicePixelRatio","deviceXDPI","logicalXDPI","color","indexOf","resourceParameter","url","getActionRequestUrl","theme","useCacheForResources","requestUrl","replace","query","substring","Injectable","AnimationService","model","showAnimationForScroll","finishScrollTop","endTime","completeFunction","currentScrollTop","scrollTop","clearTimeout","animationTimer","resultScrollTop","t","Date","getTime","step","round","abs","setTimeout","scrollTo","HelperService","animationService","val","def","trim","findPosY","mainClassName","noScroll","curtop","getScrollYOffset","offsetParent","className","offsetTop","y","scrolltop","parentElement","findPosX","curleft","getScrollXOffset","offsetLeft","x","scrollleft","scrollLeft","showHelpWindow","helpLanguage","cultureName","openNewWindow","specs","open","scrollToAnchor","anchorName","componentGuid","aHyperlinks","identicalAnchors","i_1","getAttribute","push","guidIndex","aHyperlinks_1","anchor_1","anchorParent_1","anchorHeight_1","anchorOffsetTop_1","identicalAnchor","nextAnchorParent","max","targetTop","page","getPageFromAnchorElement","anchorParentTopPos","pageTopPos","removeBookmarksLabel","label","bookmarksLabel","labelMargin","labelWidth","labelHeight","margins","pageAttributes","pageLeftMargin","strToInt","pageTopMargin","marginLeft","marginTop","insertBefore","childNodes","removeChild","anchorElement","parseInt","strToDouble","parseFloat","getCountObjects","objectArray","count","singleObject","replaceMonths","enName","locName","enShortName","locShortName","getDate","dateTimeObj","getDateTimeObject","date","dateTimeObject","getFullYear","getMonth","getHours","getMinutes","getSeconds","getDateTimeFromString","format","charIsDigit","ch","dateTime","hour","minute","second","millisecond","char","pos","values","charAt","index","isNaN","getStringDateTime","object","dateTimeObjectToString","typeDateTimeObject","formatDate","dateToLocaleString","timeString","toLocaleTimeString","isAmericanFormat","yyyy","yy","M","MM","dd","h","tt","formatTime","formatString","mm","hh","h12","hh12","n","nn","ss","getStringKey","stringToTime","timeStr","timeArray","time","newGuid","chars","uuid","rnd","getCountDaysOfMonth","setObjectToCenter","defaultTop","leftPos","viewerSize","topPos","top","checkCloudAuthorization","getCookie_","cookie","search","setStr","offset","end","unescape","getCookie","standaloneJsMode","localStorage","getItem","removeCookie","setItem","setCookie","path","domain","secure","expires","location","pathname","expDate","setTime","escape","getNavigatorName","getHumanFileSize","decimals","floor","log","pow","getZoomMenuItems","Print","Save","SendEmail","Bookmarks","Parameters","FirstPage","PrevPage","NextPage","LastPage","FullScreen","Zoom","ViewMode","Editor","Find","DashboardToolbar","DashboardElementToolbar","DashboardExport","DashboardPdfExport","DashboardExcelExport","DashboardImageExport","DashboardDataExport","getBackText","withoutBrackets","backText","String","fromCharCode","StiHttpClientService","httpClient","helper","post","responseType","reqTimeout","requestTimeout","getFormData","pipe","timeout","catchError","error","httpError","throwError","formData","FormData","append","postForm","doc","postOnlyData","paramsField","jsDesigner","ignoreBeforeUnload","body","submit","HttpClient","StylesService","pagesCss","setupStyle","styleSheet","cssText","innerHTML","addCustomFontStyles","customFonts","existsStyles","e","customFont","contentForCss","originalFontFamily","existsThisStyle","existsStyles_1","existsStyles_1_1","addChartScript","script","currChartScripts","getElementById","chartScripts","textContent","PageService","k","calculateLayoutInner","reportLayout","paramsLayout","autoHide","bookmarksTreeWidth","firstChild","styleTop","exists","position","reportMargins","marginRight","marginBottom","getZoomByPageWidth","getZoom","getZoomByPageHeight","MouseService","documetMouseDown","documetMouseMove","documetMouseUp","addEventListener","event","getDocumentMouseUp","getDocumentMouseMove","getDocumentMouseDown","MenuService","mouseService","VERTICAL_MENU_NAME","menuMouseUp","_menus","subscribe","closeAllMenus","datePicker","find","state","addMenu","menu","isMenuVisible","showMenu","menuName","sizeStyle","innerContent","showMenuInternal","parentButton","parent","menuEl","coords","getMenuCoordinates","isVertMenu","browserWidth","innerWidth","clientWidth","browserHeight","innerHeight","clientHeight","animDirect","rightToLeft","getVerticalMenu","getMenu","FormService","menuService","mouseX","mouseY","formX","formY","move","stopMove","showForm","isMooving","closeForm","notificationFormOptions","centerForm","baseForm","element","level","startMove","touchEvent","changedTouches","screenX","screenY","screenX_1","screenY_1","FullScreenService","changeFullScreenMode","zIndex","overflow","ControllerService","stylesService","formService","fullScreenService","styleService","actionSubject","setInterval","text","showError","message","ErrorEvent","navigateNode","postBookmarkNodeAction","setupHandlers","getMessage","stimulsoftFontContent","hideToolbar","showToolbar","keepToolbar","toolbarHideTimer","getActionMessage","cAction","postData","subAction","isReportRecieved","startRefreshReportTimer","refreshTime","loadViewer","atob","checkTrExp","initAutoUpdateCache","paramsVariablesStartValues","getPages","postExport","settings","isDashboardExport","exportFormat","exportSettings","OpenAfterExport","openExportedReportWindow","loadFile","fileName","openingFileName","postOpen","bookmarkPage","bookmarkAnchor","min","printDestination","openDialogFileMask","postReportResource","messageText","success","errorMessage","showReportIsNotSpecifiedMessage","alert","resourceName","viewType","reportResourceParams","node","compunentGuid","viewerResized","allowAutoUpdateCache","timerAutoUpdateCache","clearInterval","refreshReportTimer","cloudMode","serverMode","alternateValid","buildDate","trDays_1","cancelAction","buttonCaption","href","image","CollectionsService","getImageTypesItems","getDataTypesItems","getExcelTypesItems","getHtmlTypesItems","getZoomItems","item","getImageFormatForHtmlItems","getExportModeItems","getImageResolutionItems","getImageCompressionMethodItems","getImageQualityItems","getBorderTypeItems","getEncodingDataItems","getImageFormatItems","withoutMonochrome","getMonochromeDitheringTypeItems","getTiffCompressionSchemeItems","getEncodingDifFileItems","getExportModeRtfItems","getEncodingDbfFileItems","getAllowEditableItems","getEncryptionKeyLengthItems","getDataExportModeItems","getFilterConditionItems","dataType","getBoolItems","getPaperSizesItems","getOrientationItems","getDashboardImageQualityItems","getPdfSecurityCertificatesItems","issuer","from","to","thumbprint","ExportService","collections","controller","sendMail","export","update","getDefaultExportSettings","showExportDialog","email","exportFormSettings","getExportSetings","getDefaultSettings","components","getComponents","openAfterExport","groups","getGroups","names","margin","openingGroupsStr","openingGroups","parse","pageRangeAllIsDisabled","savingReportGroup","opened","SavingReportGroup","pageRangeGroup","PageRangeGroup","settingsGroup","SettingsGroup","storeExportSettings","getCommonExportFormat","exportSettingsStr","exportSettings_1","ImageType","DataType","ExcelType","HtmlType","defSettings_1","resultSettings_1","showOpenAfterExport","updateTypes","defaultExportSettings","propertyName","Format","MailService","exportService","postMail","fillDefaults","showEmailDialog","emailReport","Email","defaultEmailAddress","Message","defaultEmailMessage","defaultEmailSubject","ext","Attachment","ApiService","mailService","EXPORT_FORMATS","zoomPageHeight","zoomPageWidth","printPdf","printWithPreview","printWithoutPreview","showExportForm","some","f","showExportEmailForm","getExportSettings","exportEmail","PrintService","postPrint","printAsPopup","printAsHtml","printAction","bookmarksPrint","printToPdfMode","printAsPdfPopup","printAsPdf","win","printFrameId","printFrame","border","visibility","pointerEvents","onload","contentWindow","focus","print","pagesWidth","write","close","DashboardService","TooltipService","helpLink","innerState","show","below","showTooltips","showInternal","hideImmediately","showFromTooltip","hide","FindService","symbols","findLabels","lastFindText","matchCase","matchWholeWord","findMode","hideFindLabels","findLabel","oldPositionStyle","selectFindLabel","direction","selectedIndex","labels","isSelected","setSelected","goToFindedElement","showFindLabels","pageElements","pageElements_1","pageElements_1_1","pageElement","innerText","nodeName","isWholeWord","ownerElement","str","word","preSymbol","nextSymbol","Md5Service","hexcase","hex_md5","rstr2hex","rstr_md5","str2rstr_utf8","hex_hmac_md5","rstr_hmac_md5","md5_vm_test","binl2rstr","binl_md5","rstr2binl","Array","g","concat","charCodeAt","l","md5_ff","md5_gg","md5_hh","md5_ii","safe_add","md5_cmn","bit_rol","DrillDownService","addButton","showDrillDownPage","useDbsDrillDownPanel","buttonExist","bt","pagesHeight","updateVisibility","saveState","sButton","InteractionsService","md5","drillDownService","showParametersPanel","postInteraction","variables","getParametersValues","isDashboardDrillDown","sortPropsInDrillDownParameters","countParameters","countColumns","countInColumn","trunc","variable","inArray","outArray","propNames","copyEl","sort","propName","parameter","getVariableValue","value_1","filter","initializeInteractions","elems","querySelectorAll","collapsedHash","elem","cursor","this_1","paintSortingArrow","collapsed","compId","paintCollapsingIcon","onclick","postInteractionDrillDown","postInteractionCollapsing","postInteractionSorting","ctrlKey","onmouseover","opacity","onmouseout","elems_1","elems_1_1","getComponentOffset","component","offsetX","offsetY","startComponent","arrowImg","arrowWidth","arrowHeight","oldPosition","oldClassName","arrowLeftPos","arrowTopPos","collapsImg","src","collapsWidth","collapsHeight","componentOffset","collapsOffset","isCtrl","sortingParameters","ComponentName","DataBand","ComponentIndex","ElementIndex","PageIndex","PageGuid","ReportFile","componentName","collapsingIndex","collapsingParameters","CollapsingStates","updateAllHyperLinks","pointers","aHyperlink","hrefContent","anchorParams","currAnchorName","cuurCompGuid","decodeURI","pageIndex","anchor","nodes","anchors","aHyperlinks_1_1","RadioButtonService","button","groupName","removeButton","buttons","check","uncheck","EditableFieldsService","editableFields","showAllEditableFields","hideAllEditableFields","editableStrAttr","attrArray","compIndex","showCheckBoxEditableField","showTextEditableField","showRichTextEditableField","currentEditableTextArea","onblur","eField","outline","editableCell","sizes","imgElements","imgElement","inPixels","widthStyle","heightStyle","textAlign","trueSvgImage","getSvgCheckBox","falseSvgImage","falseImage","trueImage","checked","hasChanged","addEditableParameters","jsObject","editMode","textArea","maxWidth","maxHeight","textContainer","newText","parentNode","contourColor","size","backColor","shape","ToolbarService","editableFieldsService","interactionService","comps","dopComps","updateButtons","menuItems","initButtons","isFirst","showDesignButton","showPrintButton","arrow","getSaveMenuItems","showParametersButton","showResourcesButton","showFirstPageButton","showPreviousPageButton","showNextPageButton","showLastPageButton","showCurrentPageControl","alignment","reverse","disableNaviButtons","getImage","saveMenuImageSize","imageSize","htmlType","showExportToOdt","excelType","imageType","imageType_","display","getButonWidth","comp","getInnerTableWidth","StimulsoftViewerComponent","api","printService","dashboardService","loaded","EventEmitter","design","initialized","viewInit","onresize","resize","initEvents","ngOnChanges","changes","ngOnInit","ngAfterViewInit","viewerElement","ViewChild","Output","Input","Component","selector","template","providers","ButtonComponent","tooltipService","imageCellTextAlign","imageSizesWidth","imageSizesHeight","closeButton","resourceButton","navagationPanelTooltip","closeButtonAction","over","closeButtonPressed","resourceButtonPressed","_enabled","canShowTooltip","menuObj","actionName","resButtonEl","_styleName","mouseover","showMenuMode","menus","top_1","mouseout","click","emit","styleName","PageComponent","touchesLength","lastTouches","touchAllowPageAction","touchAllowScroll","existsWatermark","childNode","childs","getElementsByClassName","pageContainer","pageWidth","pageHeight","marginsPx","pageSizes","eventTouchStart","scrollWidth","touchStartX","clientX","touchStartScrollY","eventTouchMove","shift","clientY","touchPosX","scrollX","transform","eventTouchEnd","dX","dT","translateX","transitionDuration","ReportPanelComponent","touchZoomFirstDistance","touchZoomSecondDistance","touchZoomValue","maxHeights","repaintOnlyDashboardContent","loadPages","chartScript","slice","heightType","scroll","scrollTimeout","commonPagesHeight","allowTouchZoom","touches","preventDefault","sqrt","pageX","pageY","touchZoomOffset","ToolbarComponent","toolbarService","ToolbarSeparatorComponent","PageControlComponent","textBoxAction","getCorrectValue","toolbarFontColor","TextBoxComponent","onchange","focused","_readOnly","keypress","keyCode","onchanged","oldValue","readOnly","MenuComponent","startAnimation","toState","doneAnimation","menuClick","mouseup","animations","trigger","transition","animate","MenuItemComponent","TooltipComponent","keyframes","FindPanelComponent","findService","changeFind","initItems","textBox","TextBlockComponent","BookmarksPanelComponent","create","clearSelected","getImg1","imagesForBookmark","postAction","bookmarks","root","rootName","parseNodes","folder","bookmark","nodeType","parseNode","pageTitle","InteractionsPanelComponent","currentOpeningParameter","dropDownButtonWasClicked","dateTimeButtonWasClicked","getNameAlign","indexRow","indexColumn","getNamePadding","getCaption","checkLeft","ifLeftRange","getTitle","FormButtonComponent","captionAlign","onaction","ParameterComponent","_params","getReadOnlyCheckbox","getFirstTextBoxValue","listSeparator","nullableAction","firstGuidAction","doubleDateTimeAction","rangeFrom","firstDateTimeAction","firstDateTimeButton","dropDownButtonAction","menuType","ParameterTextBoxComponent","isMenu","secondTextBox","getValue","CheckboxComponent","isEnabled","indeterminate","mouseleave","ParameterCheckboxComponent","isMenuParameter","nullable","onAction","ParameterButtonComponent","ParameterMenuEditListComponent","newItem","dateTimeButtonAction","dateTimeButton","guidButtonAction","removeButtonAction","removeAllAction","closeAction","ParameterMenuItemComponent","active","padding","isOver","mouseDown","mousedown","ParameterMenuSeparatorComponent","ParameterFindComponent","itemText","ParameterMenuNotEditListComponent","selectAll","isAllSelected","every","ParameterMenuForValueComponent","intearctionService","ParameterMenuForRangeComponent","DatePickerMenuComponent","closeOnAction","monthesForDatePickerItems","cols","rows","firstLetters","dayName","toUpperCase","countLetters","getButtonSelected","col","row","getFirstDay","getButtonCaption","firstDay","daysInMonth","curDay","getDay","yearAction","input","timeAction","getShortDayName","getShortDayColor","prevMonthButtonAction","countDaysInMonth","nextMonthButtonAction","DropDownListComponent","showImage","hideListMenu","_key","vm","inputClick","showListMenu","verticalItems","itemStyleName","menuStyleName","VerticalMenuComponent","VerticalMenuItemComponent","DatePickerDayButtonComponent","DoubleDatePickerMenuComponent","setTimeInterval","firstDate","secondDate","setHours","setMinutes","setSeconds","getFirstDayOfWeek","getWeekInterval","now","dayWeek","valueOf","getValuesByDateRangeName","setDate","firstMonth","setMonth","weekValues","datePickerIncludeCurrentDayForRanges","BaseFormComponent","changeVisibility","showCancel","showButtons","showSeparator","ExportFormComponent","PROPERTY_ALIAS","ImageFormatForHtml","EncodingTextOrCsvFile","ExportModeRtf","EncodingDifFile","EncodingDbfFile","formVisible","disabledComponents","updateDisabledComponents","PdfACompliance","ImageQuality","ImageCompressionMethod","ExportObjectFormatting","DataExportMode","UseOnePageHeaderAndFooter","UseDefaultSystemEncoding","TiffCompressionScheme","UseDigitalSignature","RemoveEmptySpaceAtBottom","UsePageHeadersAndFooters","ifComponent","DitheringType","ImageFormat","saveReportMdc","pagesRangeAll","pageRangeCurrentPage","CompressToArchive","componentAction","property","StandardPdfFonts","EmbeddedFonts","UseUnicode","getTextBoxType","GroupPanelComponent","RadioButtonComponent","radioService","ngOnDestroy","DropDownListForExportFormComponent","DocumentSecurityMenuComponent","updateUserAccessPrivileges","privileges","allowPrintDocument","allowModifyContents","allowCopyTextAndGraphics","allowAddOrModifyTextAnnotations","UserAccessPrivileges","getUserAccessPrivileges","DigitalSignatureMenuComponent","SendEmailFormComponent","TextAreaComponent","DrillDownPanelComponent","OpenDialogComponent","fileMask","files","reader","readAsDataURL","PasswordFormComponent","password","openingFilePassword","ErrorMessageFormComponent","messageType","ResourcesPanelComponent","resource","jsMode","getResourceImage","resourceType","getMenuItems","getActionName","ProgressComponent","NavigatePanelComponent","AboutPanelComponent","stopPropagation","isLicensed","licenseIsValid","userName","licenseUserName","ToolbarDopComponent","mainTable","CenterTextComponent","hideTimer","NotificationFormComponent","DashboardsPanelComponent","imagesPath","dashboardsCount","reportsCount","DashboardButtonComponent","showCloseButton","StimulsoftViewerModule","NgModule","declarations","imports","CommonModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { MenuItem } from '../menu/meni-item.component';\r\nimport { ElementRef, Injectable, Optional } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { PageService } from './page.service';\r\n\r\nexport class ComponentDescription {\r\n  constructor(public type: string, public caption?: string, public img?: string, public action?: string,\r\n    public tooltip?: boolean, public arrow?: string, public menuItems?: MenuItem[], public margin?: string, public selected?: boolean) {\r\n    this.selected = false;\r\n  }\r\n}\r\n\r\n\r\nexport class ViewerEvent {\r\n  constructor(public name: string, public value?: any, public bookmarkPage?: number, public bookmarkAnchor?: string, public componentGuid?: string) { }\r\n}\r\n\r\nexport class ControlClass {\r\n  public toolbar: ControlProps = new ControlProps();\r\n  public reportPanel: ControlProps = new ControlProps();\r\n  public drillDownPanel: ControlProps = new ControlProps();\r\n  public findPanel: ControlProps = new ControlProps();\r\n  public resourcesPanel: ControlProps = new ControlProps();\r\n  public bookmarksPanel: ControlProps = new ControlProps();\r\n  public navigatePanel: ControlProps = new ControlProps();\r\n  public parametersPanel: ControlProps = new ControlProps();\r\n  public dashboardsPanel: ControlProps = new ControlProps();\r\n  public viewer: ControlProps = new ControlProps();\r\n  public tooltip: ControlProps = new ControlProps();\r\n  public aboutPanel: ControlProps = new ControlProps();\r\n\r\n  public bookmarksLabel: any;\r\n\r\n  constructor() { }\r\n\r\n  public get head(): HTMLHeadElement {\r\n    return document.getElementsByTagName('head')[0];\r\n  }\r\n}\r\n\r\nexport class ControlProps {\r\n  private _visible = false;\r\n  private subject = new Subject<any>();\r\n\r\n  public enabled = true;\r\n\r\n  public layout: Rectangle = new Rectangle();\r\n  constructor(public pageService?: PageService, public el?: ElementRef) { }\r\n\r\n  public get offsetHeight(): number {\r\n    return this.el?.nativeElement.offsetHeight || 0;\r\n  }\r\n\r\n  public get offsetWidth(): number {\r\n    return this.el?.nativeElement.offsetWidth || 0;\r\n  }\r\n\r\n  public set visible(value: boolean) {\r\n    this._visible = value;\r\n    this.subject.next(value);\r\n    this.pageService?.calculateLayout();\r\n  }\r\n\r\n  public get visible(): boolean {\r\n    return this._visible;\r\n  }\r\n\r\n  public getVisibility(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public get exists(): boolean {\r\n    return this.el != null;\r\n  }\r\n}\r\n\r\nexport class Rectangle {\r\n\r\n  private _top: number = 0;\r\n\r\n  public set top(value: number) {\r\n    this._top = value;\r\n  }\r\n\r\n  public get top(): number {\r\n    return this._top;\r\n  }\r\n\r\n  constructor(public width: number = 0, public height: number = 0, public left: number = 0,\r\n    public bottom: number = 0, public right: number = 0) { }\r\n}\r\n\r\nexport class BookmarkNode {\r\n\r\n  constructor(public name?: string, public url?: string, public page?: number, public compunentGuid?: string, public nodes?: BookmarkNode[],\r\n    public open?: boolean, public selected?: boolean) { }\r\n\r\n}\r\n\r\nexport class InteractionParams {\r\n\r\n  constructor(public action?: string, public drillDownParameters?: any, public drillDownGuid?: string, public dashboardDrillDownGuid?: string,\r\n    public variables?: any, public sortingParameters?: any, public collapsingParameters?: any) { }\r\n}\r\n\r\nexport class InteractionObject {\r\n  constructor(public paramsVariables: any[], public countColumns: any[], public countInColumn: any[]) { }\r\n}\r\n\r\nexport class Variable {\r\n  constructor(public name?: string, public alias?: string, public description?: string, public basicType?: string, public type?: string,\r\n    public allowUserValues?: boolean, public dateTimeType?: string, public items?: Variable[], public key?: any, public value?: any,\r\n    public keyTo?: any, public isChecked: boolean = true, public focusOnCreate?: boolean, public visible: boolean = true, public binding?: boolean,\r\n    public isNull?: boolean) { }\r\n}\r\n\r\nexport class DateTimeObject {\r\n  constructor(public year?: number, public month?: number, public day?: number, public hours?: number, public minutes?: number, public seconds?: number) { }\r\n}\r\n\r\nexport class Item {\r\n  constructor(public name?: string, public caption?: string, public imageName?: string, public key?: any, public haveSubMenu?: boolean, public imageSizes?: any,\r\n    public selected?: boolean, public type?: string) { }\r\n}\r\n\r\nexport class Message {\r\n  constructor(public action: string, public data?: any, public subAction?: string) { }\r\n}\r\n\r\nexport class Form {\r\n  constructor(public name: string, public left: number, public top: number, public isMooving = false, public level?: number,\r\n    public formData?: any) { }\r\n}\r\n\r\nexport class ExportFormSettings {\r\n  constructor(public components: ExportComponent[], public cSettings?: any, public openAfterExport?: boolean, public groups?: any,\r\n    public update?: boolean) { }\r\n}\r\n\r\nexport class ExportGroup {\r\n  constructor(public opened: boolean) { }\r\n}\r\n\r\nexport class ExportComponent {\r\n  constructor(public name: string, public type: string, public margin: string, public label?: string, public tooltip?: string,\r\n    public caption?: string, public checked?: boolean, public width?: number, public disabled?: boolean, public items?: Item[],\r\n    public key?: any) { }\r\n}\r\n\r\n\r\nexport class DrillDown {\r\n  constructor(public caption: string, public selected: boolean = false, public reportParams: any,\r\n    public visible: boolean) { }\r\n}\r\n\r\nexport class ErrorMessage {\r\n  constructor(public error: string, public type: any) { }\r\n}\r\n\r\nexport class Resource {\r\n  constructor(public name: string, public type: string, public alias: string, public id?: string) { }\r\n}\r\n\r\nexport class NotificationFormOptions {\r\n  constructor(public image?: string, public message?: string, public description?: string, public buttonCaption?: string,\r\n    public cancelAction?: any, public action?: any) { }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ControlClass, DrillDown, ErrorMessage, InteractionObject, BookmarkNode, Form, NotificationFormOptions } from './objects';\r\n\r\n@Injectable()\r\nexport class ModelService {\r\n  private _options: any;\r\n  private _reportParams: any = {};\r\n  private _imagesForBookmark: any;\r\n\r\n  public requestUrl: string;\r\n  public action: string;\r\n  public properties: any;\r\n\r\n  public localization: any;\r\n  public controls: ControlClass = new ControlClass();\r\n  public pages: any[] = [];\r\n  public months: string[] = [];\r\n  public dayOfWeek: string[] = [];\r\n  public dateRanges: string[] = [];\r\n  public encodingData: any[] = [];\r\n  public pdfSecurityCertificates: any[] = [];\r\n  public paperSizes: string[] = [];\r\n  public viewerSize: any;\r\n  public drillDownButtons: DrillDown[] = [];\r\n  public openDialogFileMask: string;\r\n  public images: any;\r\n  public errorMessage: ErrorMessage;\r\n  public httpError: any;\r\n  public interactions: InteractionObject;\r\n  public nodes: BookmarkNode[];\r\n  public navigateNode: BookmarkNode;\r\n  public fullScreenOptions: any;\r\n  public showProgress = false;\r\n  public timerAutoUpdateCache: any;\r\n  public refreshReportTimer: any;\r\n  public toolbarHideTimer: any;\r\n  public form: Form;\r\n  public notificationFormOptions: NotificationFormOptions;\r\n\r\n  constructor() { }\r\n\r\n  public get reportParams() {\r\n    return this._reportParams;\r\n  }\r\n\r\n  public set reportParams(parameters: any) {\r\n    this._reportParams.pagesArray = parameters.pagesArray;\r\n\r\n    // Apply new report parameters, if not update current page\r\n    if (parameters.action && parameters.action !== 'GetPages') {\r\n      this.reportParams.type = parameters.reportType;\r\n      this.reportParams.drillDownGuid = parameters.drillDownGuid;\r\n      this.reportParams.dashboardDrillDownGuid = parameters.dashboardDrillDownGuid;\r\n      this.reportParams.pagesCount = parameters.pagesCount;\r\n      if (parameters.pageNumber != null) { this.reportParams.pageNumber = parameters.pageNumber; }\r\n      this.reportParams.zoom = parameters.zoom;\r\n      this.reportParams.viewMode = parameters.viewMode;\r\n      this.reportParams.reportFileName = parameters.reportFileName;\r\n      this.reportParams.collapsingStates = parameters.collapsingStates;\r\n      if (parameters.bookmarksContent) { this.reportParams.bookmarksContent = parameters.bookmarksContent; }\r\n      if (parameters.resources) { this.reportParams.resources = parameters.resources; }\r\n      this.reportParams.isCompilationMode = parameters.isCompilationMode;\r\n      if (parameters.variablesValues) { this.reportParams.variablesValues = parameters.variablesValues; }\r\n      if (parameters.parametersDateFormat) { this.options.appearance.parametersPanelDateFormat = parameters.parametersDateFormat; }\r\n      if (parameters.tableOfContentsPointers) this.reportParams.tableOfContentsPointers = parameters.tableOfContentsPointers;\r\n      this.reportParams.isEditableReport = parameters.isEditableReport;\r\n      if (parameters.userValues) { this.options.userValues = parameters.userValues; }\r\n      this.reportParams.dashboards = parameters.dashboards;\r\n      this.reportParams.previewSettings = parameters.previewSettings;\r\n    }\r\n  }\r\n\r\n  public setReportParams(parameters: any) {\r\n    this._reportParams = parameters;\r\n  }\r\n\r\n  public getReportParams() {\r\n    return this.copyObject(this._reportParams);\r\n  }\r\n\r\n  public copyObject(o: any): any {\r\n    if (!o || 'object' !== typeof o) {\r\n      return o;\r\n    }\r\n    const c = 'function' === typeof o.pop ? [] : {};\r\n    let p;\r\n    let v;\r\n    for (p in o) {\r\n      if (o.hasOwnProperty(p) && p !== 'pagesArray') {\r\n        v = o[p];\r\n        if (v && 'object' === typeof v) {\r\n          c[p] = this.copyObject(v);\r\n        } else {\r\n          c[p] = v;\r\n        }\r\n      }\r\n    }\r\n    return c;\r\n  }\r\n\r\n  public set options(data: any) {\r\n    this._options = this.toLower(data.options);\r\n    if (data.jsOptions) {\r\n      for (const key in data.jsOptions) {\r\n        if (data.jsOptions.hasOwnProperty(key)) {\r\n          this._options[key] = data.jsOptions[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    this._options.exports.defaultSettings = data.defaultSettings;\r\n    this.localization = data.loc;\r\n    this.months = data.months;\r\n    this.dayOfWeek = data.dayOfWeek;\r\n    this.images = data.images;\r\n    this.dateRanges = data.dateRanges;\r\n    this.paperSizes = data.paperSizes;\r\n    this.encodingData = data.encodingData;\r\n    this.pdfSecurityCertificates = data.pdfSecurityCertificates;\r\n    this.clearViewerState();\r\n    this.setupOptions();\r\n  }\r\n\r\n  public get options() {\r\n    return this._options;\r\n  }\r\n\r\n  public loc(attr: string): string {\r\n    return this.localization[attr] ?? attr;\r\n  }\r\n\r\n  public img(name: string): string {\r\n    if (name != null && name.length > 0 && !this.images[name]) {\r\n      //console.warn(`Image: ${name} not found`);\r\n    }\r\n    return this.images[name] ?? '';\r\n  }\r\n\r\n  private toLower(obj: any): any {\r\n    const result = {};\r\n    Object.keys(obj).forEach(key => {\r\n      result[key.substr(0, 1).toLowerCase() + key.substr(1)] = (typeof (obj[key]) === 'object' && obj[key] !== null) ? this.toLower(obj[key]) : obj[key];\r\n    });\r\n    return result;\r\n  }\r\n\r\n  public clear() {\r\n    this._options = undefined;\r\n    this._reportParams = {};\r\n    this._imagesForBookmark = undefined;\r\n    this.pages = [];\r\n    this.form = null;\r\n  }\r\n\r\n  public clearViewerState() {\r\n    this.reportParams = {};\r\n    this.reportParams.type = 'Auto';\r\n    this.reportParams.pageNumber = 0;\r\n    this.reportParams.originalPageNumber = 0;\r\n    this.reportParams.drillDownGuid = null;\r\n    this.reportParams.dashboardDrillDownGuid = null;\r\n    this.reportParams.collapsingStates = null;\r\n    this.reportParams.bookmarksContent = null;\r\n    this.reportParams.editableParameters = null;\r\n    this.reportParams.resources = null;\r\n    this.reportParams.drillDownParameters = [];\r\n    this.reportParams.elementName = null;\r\n    this.reportParams.variablesValues = null;\r\n    this.reportParams.tableOfContentsPointers = [];\r\n    this.reportParams.isEditableReport = false;\r\n\r\n    this.options.viewerId = this.newToken();\r\n    this.options.clientGuid = this.newToken();\r\n    this.options.paramsVariables = null;\r\n    this.options.multiFilterStates = null;\r\n    this.options.isParametersReceived = false;\r\n    this.options.drillDownInProgress = false;\r\n    // this.controls.mainPanel.style.background = '';\r\n    // this.tableElementGridStates = {};\r\n\r\n    // Restore current page number, if reload current report\r\n    if (this.reportParams.prevPageNumber) {\r\n      this.reportParams.pageNumber = this.reportParams.prevPageNumber;\r\n      delete this.reportParams.prevPageNumber;\r\n    }\r\n\r\n    this.fullScreenOptions = null;\r\n    this.drillDownButtons = [];\r\n    this.controls.parametersPanel.visible = false;\r\n    this.controls.bookmarksPanel.visible = false;\r\n    this.interactions = null;\r\n    /*\r\n    this.controls.drillDownPanel.visible = false;\r\n    this.controls.findPanel.visible = false;\r\n    this.controls.parametersPanel.visible = false;\r\n    this.controls.resourcesPanel.visible = false;*/\r\n  }\r\n\r\n  public style(value: string): string {\r\n    return value !== '' && value != null ? value : '';\r\n  }\r\n\r\n  public createPostParameters(data?: any, asObject: boolean = true, useOptions: boolean = true): any {\r\n    let params: any;\r\n\r\n    // Object params\r\n    const postParams = {\r\n      stiweb_component: 'Viewer',\r\n      stiweb_imagesScalingFactor: this.getImagesScalingFactor()\r\n    };\r\n\r\n    if (this.properties) {\r\n      postParams['properties'] = btoa(JSON.stringify(this.properties));\r\n    }\r\n\r\n    if (this.options && useOptions) {\r\n      params = {\r\n        viewerId: this.options.viewerId,\r\n        routes: this.options.routes,\r\n        formValues: this.options.formValues,\r\n        clientGuid: this.options.clientGuid,\r\n        drillDownGuid: this.reportParams.drillDownGuid,\r\n        dashboardDrillDownGuid: this.reportParams.dashboardDrillDownGuid,\r\n        cacheMode: this.options.server.cacheMode,\r\n        cacheTimeout: this.options.server.cacheTimeout,\r\n        cacheItemPriority: this.options.server.cacheItemPriority,\r\n        pageNumber: this.reportParams.pageNumber,\r\n        originalPageNumber: this.reportParams.originalPageNumber,\r\n        reportType: this.reportParams.type,\r\n        zoom: (this.reportParams.zoom && this.reportParams.zoom > 0) ? this.reportParams.zoom : (this.options?.toolbar?.zoom > 0 ? this.options?.toolbar?.zoom : 100),\r\n        viewMode: this.reportParams.viewMode || this.options.toolbar.viewMode,\r\n        multiPageWidthCount: this.reportParams.multiPageWidthCount,\r\n        multiPageHeightCount: this.reportParams.multiPageHeightCount,\r\n        multiPageContainerWidth: this.reportParams.multiPageContainerWidth,\r\n        multiPageContainerHeight: this.reportParams.multiPageContainerHeight,\r\n        multiPageMargins: this.reportParams.multiPageMargins,\r\n        showBookmarks: this.options.toolbar.showBookmarksButton,\r\n        openLinksWindow: this.options.appearance.openLinksWindow,\r\n        chartRenderType: this.options.appearance.chartRenderType,\r\n        reportDisplayMode: this.options.appearance.reportDisplayMode,\r\n        drillDownParameters: this.reportParams.drillDownParameters,\r\n        editableParameters: this.reportParams.editableParameters,\r\n        useRelativeUrls: this.options.server.useRelativeUrls,\r\n        passQueryParametersForResources: this.options.server.passQueryParametersForResources,\r\n        passQueryParametersToReport: this.options.server.passQueryParametersToReport,\r\n        version: this.options.shortProductVersion,\r\n        reportDesignerMode: this.options.reportDesignerMode,\r\n        imagesQuality: this.options.appearance.imagesQuality,\r\n        parametersPanelSortDataItems: this.options.appearance.parametersPanelSortDataItems,\r\n        combineReportPages: this.options.appearance.combineReportPages,\r\n        isAngular: true,\r\n        allowAutoUpdateCookies: this.options.server.allowAutoUpdateCookies\r\n      };\r\n\r\n      if (this.options.server.useLocalizedCache && this.options.localization) {\r\n        params['useLocalizedCache'] = true;\r\n        params['localization'] = this.options.localization;\r\n      }\r\n\r\n      if (this.options.userValues) {\r\n        params['userValues'] = this.options.userValues;\r\n      }\r\n\r\n    } else {\r\n      params = {};\r\n    }\r\n\r\n    if (data) {\r\n      Object.keys(data).forEach(key => params[key] = data[key]);\r\n    }\r\n\r\n    // Object params\r\n    if (params.action) {\r\n      postParams['stiweb_action'] = params.action;\r\n      delete params.action;\r\n    }\r\n    if (params.base64Data) {\r\n      postParams['stiweb_data'] = params.base64Data;\r\n      delete params.base64Data;\r\n    }\r\n\r\n    if (this.options && useOptions) {\r\n      // Params\r\n      const jsonParams = JSON.stringify(params);\r\n      if (this.options.server.useCompression) {\r\n        // postParams['stiweb_packed_parameters'] = StiGZipHelper.pack(jsonParams);\r\n        postParams['stiweb_parameters'] = btoa(jsonParams);\r\n      } else {\r\n        postParams['stiweb_parameters'] = btoa(jsonParams);\r\n      }\r\n    }\r\n\r\n    if (asObject) { return postParams; }\r\n  }\r\n\r\n  private newToken(): string {\r\n    const a = '1234567890abcdefghijklmnopqrstuvwxyz'.split('');\r\n    const b = [];\r\n    const length = 32;\r\n    for (let i = 0; i < length; i++) {\r\n      const j = (Math.random() * (a.length - 1)).toFixed(0);\r\n      b[i] = a[j];\r\n    }\r\n    return b.join('');\r\n  }\r\n\r\n  private setupOptions() {\r\n    if (!this.options.exports.showExportToPowerPoint && !this.options.exports.showExportToPdf && !this.options.exports.showExportToXps &&\r\n      !this.options.exports.showExportToOpenDocumentWriter && !this.options.exports.showExportToOpenDocumentCalc && !this.options.exports.showExportToText &&\r\n      !this.options.exports.showExportToRtf && !this.options.exports.showExportToWord2007 && !this.options.exports.showExportToCsv && !this.options.exports.showExportToJson &&\r\n      !this.options.exports.showExportToDbf && !this.options.exports.showExportToXml && !this.options.exports.showExportToDif && !this.options.exports.showExportToSylk &&\r\n      !this.options.exports.showExportToExcel && !this.options.exports.showExportToExcel2007 && !this.options.exports.showExportToExcelXml && !this.options.exports.showExportToHtml &&\r\n      !this.options.exports.showExportToHtml5 && !this.options.exports.showExportToMht && !this.options.exports.showExportToImageBmp && !this.options.exports.showExportToImageGif &&\r\n      !this.options.exports.showExportToImageJpeg && !this.options.exports.showExportToImageMetafile && !this.options.exports.showExportToImagePcx &&\r\n      !this.options.exports.showExportToImagePng && !this.options.exports.showExportToImageTiff && !this.options.exports.showExportToImageSvg && !this.options.exports.showExportToImageSvgz) {\r\n      if (!this.options.exports.showExportToDocument) {\r\n        this.options.toolbar.showSaveButton = false;\r\n      }\r\n      this.options.toolbar.showSendEmailButton = false;\r\n    }\r\n    // Options\r\n    this.options.isTouchDevice = this.options.appearance.interfaceType === 'Auto'\r\n      ? this.isTouchDevice() && this.isMobileDevice()\r\n      : this.options.appearance.interfaceType === 'Touch';\r\n    this.options.isMobileDevice = this.options.appearance.interfaceType === 'Auto' && !this.options.reportDesignerMode\r\n      ? this.isTouchDevice() && this.isMobileDevice()\r\n      : this.options.appearance.interfaceType === 'Mobile';\r\n\r\n    if (this.options.isMobileDevice) {\r\n      this.initializeMobile();\r\n    } else {\r\n      this.options.toolbar.showPinToolbarButton = false;\r\n    }\r\n\r\n    this.controls.toolbar.visible = this.options.toolbar.visible;\r\n    this.options.menuAnimDuration = 150;\r\n    this.options.formAnimDuration = 200;\r\n    this.options.scrollDuration = 350;\r\n    this.options.menuHideDelay = 250;\r\n\r\n    this.options.server.timeoutAutoUpdateCache = 180000;\r\n    this.options.toolbar.backgroundColor = this.getHTMLColor(this.options.toolbar.backgroundColor);\r\n    this.options.toolbar.borderColor = this.getHTMLColor(this.options.toolbar.borderColor);\r\n    this.options.toolbar.fontColor = this.getHTMLColor(this.options.toolbar.fontColor);\r\n    this.options.appearance.pageBorderColor = this.getHTMLColor(this.options.appearance.pageBorderColor);\r\n    this.options.parametersValues = {};\r\n    this.options.parameterRowHeight = this.options.isTouchDevice ? 35 : 30;\r\n    this.options.minParametersCountForMultiColumns = 5;\r\n\r\n    // First Day Of Week\r\n    if (this.options.appearance.datePickerFirstDayOfWeek === 'Sunday') {\r\n      this.dayOfWeek.splice(6, 1);\r\n      this.dayOfWeek.splice(0, 0, 'Sunday');\r\n    }\r\n\r\n    if (this.options?.toolbar?.zoom === -1 || this.options?.toolbar?.zoom === -2) {\r\n      this.reportParams.autoZoom = this.options?.toolbar?.zoom;\r\n    }\r\n\r\n    // Actions\r\n    if (!this.options.actions.getReport) { this.options.actions.getReport = this.options.actions.viewerEvent; }\r\n    if (!this.options.actions.printReport) { this.options.actions.printReport = this.options.actions.viewerEvent; }\r\n    if (!this.options.actions.openReport) { this.options.actions.openReport = this.options.actions.viewerEvent; }\r\n    if (!this.options.actions.exportReport) { this.options.actions.exportReport = this.options.actions.viewerEvent; }\r\n    if (!this.options.actions.interaction) { this.options.actions.interaction = this.options.actions.viewerEvent; }\r\n\r\n    if (!(window.File && window.FileReader && window.FileList && window.Blob)) { this.options.toolbar.showOpenButton = false; }\r\n\r\n    // Render JsViewer styles into HEAD\r\n    if (this.options.requestResourcesUrl || this.options.appearance.customStylesUrl) {\r\n      const viewerStyles = document.createElement('link');\r\n      viewerStyles.setAttribute('type', 'text/css');\r\n      viewerStyles.setAttribute('rel', 'stylesheet');\r\n      viewerStyles.setAttribute('href', this.options.appearance.customStylesUrl || this.getResourceUrl('styles'));\r\n      this.controls.head.appendChild(viewerStyles);\r\n    }\r\n\r\n    this.options.viewerId = (Math.random() * 1000000).toString();\r\n  }\r\n\r\n  public pagesNavigationIsActive(): boolean {\r\n    return (this.options.appearance.fullScreenMode || this.options.appearance.scrollbarsMode) && this.reportParams.viewMode === 'Continuous';\r\n  }\r\n\r\n  get imagesForBookmark(): any {\r\n    if (!this._imagesForBookmark) {\r\n      const names = ['root', 'folder', 'folderOpen', 'node', 'empty', 'line', 'join', 'joinBottom', 'plus', 'plusBottom', 'minus', 'minusBottom'];\r\n      const imagesForBookmarks = {};\r\n      names.forEach(name => imagesForBookmarks[name] = this.images['Bookmarks' + name + '.png']);\r\n      this._imagesForBookmark = imagesForBookmarks;\r\n    }\r\n    return this._imagesForBookmark;\r\n  }\r\n\r\n  public isTouchDevice() {\r\n    return ('ontouchstart' in document.documentElement);\r\n  }\r\n\r\n  public isMobileDevice() {\r\n    return /iPhone|iPad|iPod|Macintosh|Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n  }\r\n\r\n  public initializeMobile() {\r\n    let isViewPortExist = false;\r\n    const metas: any = this.controls.head.getElementsByTagName('meta');\r\n    for (const meta of metas) {\r\n      if (meta.name && meta.name.toLowerCase() === 'viewport') {\r\n        isViewPortExist = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!isViewPortExist) {\r\n      const viewPortTag = document.createElement('meta');\r\n      viewPortTag.id = 'viewport';\r\n      viewPortTag.name = 'viewport';\r\n      viewPortTag.content = 'initial-scale=1.0,width=device-width,user-scalable=0';\r\n      this.controls.head.appendChild(viewPortTag);\r\n    }\r\n\r\n    this.options.appearance.fullScreenMode = true;\r\n    this.options.appearance.scrollbarsMode = true;\r\n    this.options.appearance.parametersPanelPosition = 'Left';\r\n    this.options.appearance.parametersPanelColumnsCount = 1;\r\n    this.options.toolbar.displayMode = 'Separated';\r\n    this.options.toolbar.viewMode = 'SinglePage';\r\n    this.options.toolbar.showZoomButton = false;\r\n    const defaultZoom = this.options.toolbar.zoom === -2 ? -2 : -1; // PageWidth or PageHeight\r\n    this.options.toolbar.zoom = this.reportParams.zoom = defaultZoom;\r\n    this.options.toolbar.showButtonCaptions = false;\r\n    this.options.toolbar.showOpenButton = false;\r\n    this.options.toolbar.showFindButton = false;\r\n    this.options.toolbar.showEditorButton = false;\r\n    this.options.toolbar.showFullScreenButton = false;\r\n    this.options.toolbar.showAboutButton = false;\r\n    this.options.toolbar.showViewModeButton = false;\r\n  }\r\n\r\n  public getImagesScalingFactor() {\r\n    const wnd: any = window;\r\n    const devicePixelRatio = window.devicePixelRatio || (wnd.deviceXDPI && wnd.logicalXDPI ? wnd.deviceXDPI / wnd.logicalXDPI : 1);\r\n    if (!devicePixelRatio || devicePixelRatio <= 1) {\r\n      return '1';\r\n    } else {\r\n      return devicePixelRatio.toString();\r\n    }\r\n  }\r\n\r\n  public getHTMLColor(color: any) {\r\n    if (color.indexOf(',') > 0 && color.indexOf('rgb') < 0) {\r\n      return `rgb(${color})`;\r\n    }\r\n    return color;\r\n  }\r\n\r\n  public getResourceUrl(resourceParameter: string) {\r\n    let url = this.getActionRequestUrl(this.options.requestResourcesUrl, this.options.actions.viewerEvent);\r\n    url += url.indexOf('?') > 0 ? '&' : '?';\r\n    url += 'stiweb_component=Viewer&stiweb_action=Resource&stiweb_data=' + resourceParameter + '&stiweb_theme=' + this.options.theme;\r\n    url += '&stiweb_cachemode=' + (this.options.server.useCacheForResources\r\n      ? this.options.server.cacheMode === 'ObjectSession' || this.options.server.cacheMode === 'StringSession'\r\n        ? 'session'\r\n        : 'cache'\r\n      : 'none');\r\n    url += '&stiweb_version=' + this.options.shortProductVersion;\r\n\r\n    return url;\r\n  }\r\n\r\n  public getActionRequestUrl(requestUrl: string, action?: string) {\r\n    if (!action) {\r\n      return requestUrl;\r\n    }\r\n\r\n    if (action.indexOf('?') < 0) {\r\n      return requestUrl.replace('{action}', action);\r\n    }\r\n\r\n    const query = action.substring(action.indexOf('?') + 1);\r\n    action = action.substring(0, action.indexOf('?'));\r\n\r\n    return requestUrl.replace('{action}', action) + (requestUrl.indexOf('?') > 0 ? '&' : '?') + query;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\n\r\n@Injectable()\r\nexport class AnimationService {\r\n  constructor(private model: ModelService) { }\r\n\r\n  public showAnimationForScroll(reportPanel, finishScrollTop, endTime, completeFunction) {\r\n    if (!reportPanel) {\r\n      return;\r\n    }\r\n    let currentScrollTop = 0;\r\n    if (this.model.options.appearance.scrollbarsMode) {\r\n      currentScrollTop = reportPanel.scrollTop;\r\n    } else {\r\n      currentScrollTop = document.documentElement.scrollTop;\r\n      if (currentScrollTop === 0) {\r\n        currentScrollTop = document.getElementsByTagName('BODY')[0].scrollTop;\r\n      }\r\n    }\r\n\r\n    clearTimeout(reportPanel.animationTimer);\r\n    const d = new Date();\r\n    const t = d.getTime();\r\n    let step = Math.round((finishScrollTop - currentScrollTop) / ((Math.abs(endTime - t) + 1) / 30));\r\n\r\n    // Last step\r\n    if (Math.abs(step) > Math.abs(finishScrollTop - currentScrollTop)) {\r\n      step = finishScrollTop - currentScrollTop;\r\n    }\r\n\r\n    currentScrollTop += step;\r\n    let resultScrollTop: number;\r\n\r\n    if (t < endTime) {\r\n      resultScrollTop = currentScrollTop;\r\n      reportPanel.animationTimer = setTimeout(() => {\r\n        this.showAnimationForScroll(reportPanel, finishScrollTop, endTime, completeFunction);\r\n      }, 30);\r\n    } else {\r\n      resultScrollTop = finishScrollTop;\r\n      if (completeFunction) {\r\n        completeFunction();\r\n      }\r\n    }\r\n\r\n    if (this.model.options.appearance.scrollbarsMode) {\r\n      reportPanel.scrollTop = resultScrollTop;\r\n    } else {\r\n      window.scrollTo(0, resultScrollTop);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { AnimationService } from './animation.service';\r\nimport { DateTimeObject } from './objects';\r\nimport { MenuItem } from '../menu/meni-item.component';\r\n\r\n@Injectable()\r\nexport class HelperService {\r\n\r\n  constructor(private model: ModelService, private animationService: AnimationService) { }\r\n\r\n  public val(value: string, def?: string): string {\r\n    return value != null && value.trim() !== '' ? value : (def || '');\r\n  }\r\n\r\n  public findPosY(obj: any, mainClassName?: string, noScroll?: boolean) {\r\n    let curtop = noScroll ? 0 : this.getScrollYOffset(obj, mainClassName);\r\n    if (obj.offsetParent) {\r\n      while (obj.className !== mainClassName) {\r\n        curtop += obj.offsetTop;\r\n        if (!obj.offsetParent) {\r\n          break;\r\n        }\r\n        obj = obj.offsetParent;\r\n      }\r\n    } else if (obj.y) {\r\n      curtop += obj.y;\r\n    }\r\n    return curtop;\r\n  }\r\n\r\n  public getScrollYOffset(obj: any, mainClassName: string): number {\r\n    let scrolltop = 0;\r\n    if (obj.parentElement) {\r\n      while (obj.className !== mainClassName) {\r\n        if ('scrollTop' in obj) {\r\n          scrolltop -= obj.scrollTop;\r\n        }\r\n        if (!obj.parentElement) {\r\n          break;\r\n        }\r\n        obj = obj.parentElement;\r\n      }\r\n    }\r\n\r\n    return scrolltop;\r\n  }\r\n\r\n  public findPosX(obj: any, mainClassName: string, noScroll?: boolean) {\r\n    let curleft = noScroll ? 0 : this.getScrollXOffset(obj, mainClassName);\r\n    if (obj.offsetParent) {\r\n      while (obj.className !== mainClassName) {\r\n        curleft += obj.offsetLeft;\r\n        if (!obj.offsetParent) {\r\n          break;\r\n        }\r\n        obj = obj.offsetParent;\r\n      }\r\n    } else if (obj.x) {\r\n      curleft += obj.x;\r\n    }\r\n    return curleft;\r\n  }\r\n\r\n  public getScrollXOffset(obj: any, mainClassName: string) {\r\n    let scrollleft = 0;\r\n    if (obj.parentElement) {\r\n      while (obj.className !== mainClassName) {\r\n        if ('scrollLeft' in obj) {\r\n          scrollleft -= obj.scrollLeft;\r\n        }\r\n        if (!obj.parentElement) {\r\n          break;\r\n        }\r\n        obj = obj.parentElement;\r\n      }\r\n    }\r\n\r\n    return scrollleft;\r\n  }\r\n\r\n  public showHelpWindow(url: string) {\r\n    let helpLanguage = 'en';\r\n    switch (this.model.options.cultureName) {\r\n      case 'ru': helpLanguage = 'ru';\r\n      // case 'de': helpLanguage = 'de';\r\n    }\r\n    this.openNewWindow('https://www.stimulsoft.com/' + helpLanguage + '/documentation/online/' + url);\r\n  }\r\n\r\n  public openNewWindow(url: string, name?: string, specs?: string) {\r\n    return window.open(url, name, specs);\r\n  }\r\n\r\n  public scrollToAnchor(anchorName: string, componentGuid?: string) {\r\n    let aHyperlinks = this.model.controls.reportPanel.el.nativeElement.getElementsByTagName(\"a\");\r\n    const identicalAnchors = [];\r\n    if (anchorName) {\r\n      anchorName = anchorName.replace(/!!#92/g, '\\\\');\r\n    }\r\n\r\n    if (componentGuid) {\r\n      for (let i = 0; i < aHyperlinks.length; i++) {\r\n        if (aHyperlinks[i].getAttribute('guid') === componentGuid) {\r\n          identicalAnchors.push(aHyperlinks[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (identicalAnchors.length === 0) {\r\n      let guidIndex = anchorName.indexOf(\"#GUID#\");\r\n\r\n      if (identicalAnchors.length == 0) {\r\n        let aHyperlinks = this.model.controls.reportPanel.el.nativeElement.getElementsByTagName(\"a\");\r\n        for (var i = 0; i < aHyperlinks.length; i++) {\r\n          if (aHyperlinks[i].name && ((guidIndex >= 0 && (aHyperlinks[i].name.indexOf(anchorName.substring(guidIndex + 6)) >= 0 || anchorName.substring(0, guidIndex) == aHyperlinks[i].name)) || aHyperlinks[i].name == anchorName))\r\n            identicalAnchors.push(aHyperlinks[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (identicalAnchors.length > 0) {\r\n      const anchor = identicalAnchors[0];\r\n      const anchorParent = anchor.parentElement || anchor;\r\n      let anchorHeight = anchorParent.offsetHeight;\r\n      const anchorOffsetTop = anchorParent.offsetTop;\r\n\r\n      identicalAnchors.forEach((identicalAnchor) => {\r\n        const nextAnchorParent = identicalAnchor.parentElement || identicalAnchor;\r\n        if (nextAnchorParent.offsetTop > anchorOffsetTop) {\r\n          anchorHeight = Math.max(anchorHeight, nextAnchorParent.offsetTop - anchorOffsetTop + nextAnchorParent.offsetHeight);\r\n        }\r\n      });\r\n\r\n      const date = new Date();\r\n      const endTime = date.getTime() + this.model.options.scrollDuration;\r\n      const targetTop = this.findPosY(anchor, this.model.options.appearance.scrollbarsMode ? 'stiJsViewerReportPanel' : null, true) - anchorParent.offsetHeight * 2;\r\n\r\n      this.animationService.showAnimationForScroll(this.model.controls.reportPanel.el.nativeElement, targetTop, endTime, () => {\r\n        const page = this.getPageFromAnchorElement(anchor);\r\n        const anchorParentTopPos = this.findPosY(anchorParent, 'stiJsViewerReportPanel', true);\r\n        const pageTopPos = page ? this.findPosY(page, 'stiJsViewerReportPanel', true) : anchorParentTopPos;\r\n\r\n        this.removeBookmarksLabel();\r\n\r\n        const label = document.createElement('div');\r\n        this.model.controls.bookmarksLabel = label;\r\n        label.className = 'stiJsViewerBookmarksLabel';\r\n\r\n        const labelMargin = 20 * (this.model.reportParams.zoom / 100);\r\n        const labelWidth = page ? page.offsetWidth - labelMargin - 6 : anchorParent.offsetWidth;\r\n        const labelHeight = anchorHeight - 2;\r\n        label.style.width = labelWidth + 'px';\r\n        label.style.height = labelHeight + 'px';\r\n\r\n        const margins = page.pageAttributes.margins?.replace('px', '').split(' ');\r\n        const pageLeftMargin = page.pageAttributes.margins ? this.strToInt(margins[3]) : 0;\r\n        const pageTopMargin = page.pageAttributes.margins ? this.strToInt(margins[0]) : 0;\r\n        label.style.marginLeft = (labelMargin / 2 - pageLeftMargin) + 'px';\r\n        label.style.marginTop = (anchorParentTopPos - pageTopPos - pageTopMargin - (this.model.reportParams.zoom / 100) - 1) + 'px';\r\n\r\n        page.insertBefore(label, page.childNodes[0]);\r\n      });\r\n    }\r\n  }\r\n\r\n  public removeBookmarksLabel() {\r\n    if (this.model.controls.bookmarksLabel) {\r\n      this.model.controls.bookmarksLabel.parentElement.removeChild(this.model.controls.bookmarksLabel);\r\n      this.model.controls.bookmarksLabel = null;\r\n    }\r\n  }\r\n\r\n  public getPageFromAnchorElement(anchorElement: any) {\r\n    let obj = anchorElement;\r\n    while (obj.parentElement) {\r\n      if (obj.className && obj.className.indexOf('stiJsViewerPage') === 0) {\r\n        return obj;\r\n      }\r\n      obj = obj.parentElement;\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  public strToInt(value: any): number {\r\n    const result = parseInt(value, 10);\r\n    return result || 0;\r\n  }\r\n\r\n  public strToDouble(value: any): number {\r\n    if (value === null) {\r\n      return null;\r\n    }\r\n    const result = parseFloat(value.toString().replace(',', '.').trim());\r\n    return result || 0;\r\n  }\r\n\r\n  public copyObject(o: any): any {\r\n    if (!o || 'object' !== typeof o) {\r\n      return o;\r\n    }\r\n    const c = 'function' === typeof o.pop ? [] : {};\r\n    let p;\r\n    let v;\r\n    for (p in o) {\r\n      if (o.hasOwnProperty(p)) {\r\n        v = o[p];\r\n        if (v && 'object' === typeof v) {\r\n          c[p] = this.copyObject(v);\r\n        } else {\r\n          c[p] = v;\r\n        }\r\n      }\r\n    }\r\n    return c;\r\n  }\r\n\r\n  public getCountObjects(objectArray: any): number {\r\n    let count = 0;\r\n    if (objectArray) {\r\n      for (const singleObject in objectArray) {\r\n        count++;\r\n      }\r\n    }\r\n    return count;\r\n  }\r\n\r\n  public replaceMonths(value: string): string {\r\n    for (let i = 1; i <= 12; i++) {\r\n      let enName = '';\r\n      let locName = '';\r\n      switch (i) {\r\n        case 1:\r\n          enName = 'January';\r\n          locName = this.model.loc('MonthJanuary');\r\n          break;\r\n\r\n        case 2:\r\n          enName = 'February';\r\n          locName = this.model.loc('MonthFebruary');\r\n          break;\r\n\r\n        case 3:\r\n          enName = 'March';\r\n          locName = this.model.loc('MonthMarch');\r\n          break;\r\n\r\n        case 4:\r\n          enName = 'April';\r\n          locName = this.model.loc('MonthApril');\r\n          break;\r\n\r\n        case 5:\r\n          enName = 'May';\r\n          locName = this.model.loc('MonthMay');\r\n          break;\r\n\r\n        case 6:\r\n          enName = 'June';\r\n          locName = this.model.loc('MonthJune');\r\n          break;\r\n\r\n        case 7:\r\n          enName = 'July';\r\n          locName = this.model.loc('MonthJuly');\r\n          break;\r\n\r\n        case 8:\r\n          enName = 'August';\r\n          locName = this.model.loc('MonthAugust');\r\n          break;\r\n\r\n        case 9:\r\n          enName = 'September';\r\n          locName = this.model.loc('MonthSeptember');\r\n          break;\r\n\r\n        case 10:\r\n          enName = 'October';\r\n          locName = this.model.loc('MonthOctober');\r\n          break;\r\n\r\n        case 11:\r\n          enName = 'November';\r\n          locName = this.model.loc('MonthNovember');\r\n          break;\r\n\r\n        case 12:\r\n          enName = 'December';\r\n          locName = this.model.loc('MonthDecember');\r\n          break;\r\n      }\r\n\r\n      const enShortName = enName.substring(0, 3);\r\n      const locShortName = locName.substring(0, 3);\r\n      value = value.replace(enName, i as any).replace(enName.toLowerCase(), i as any).replace(enShortName, i as any).replace(enShortName.toLowerCase(), i as any);\r\n      value = value.replace(locName, i as any).replace(locName.toLowerCase(), i as any).replace(locShortName, i as any).replace(locShortName.toLowerCase(), i as any);\r\n\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  getDate(dateTimeObj: DateTimeObject): Date {\r\n    return new Date(dateTimeObj.year, dateTimeObj.month - 1, dateTimeObj.day, dateTimeObj.hours, dateTimeObj.minutes, dateTimeObj.seconds);\r\n  }\r\n\r\n  public getDateTimeObject(date?: Date) {\r\n    if (!date) { date = new Date(); }\r\n    const dateTimeObject: DateTimeObject = new DateTimeObject();\r\n    dateTimeObject.year = date.getFullYear();\r\n    dateTimeObject.month = date.getMonth() + 1;\r\n    dateTimeObject.day = date.getDate();\r\n    dateTimeObject.hours = date.getHours();\r\n    dateTimeObject.minutes = date.getMinutes();\r\n    dateTimeObject.seconds = date.getSeconds();\r\n\r\n    return dateTimeObject;\r\n  }\r\n\r\n  public getDateTimeFromString(value: string, format: string): any {\r\n    const charIsDigit = (ch: string) => {\r\n      return ('0123456789'.indexOf(ch) >= 0);\r\n    };\r\n\r\n    if (!value) {\r\n      return new Date();\r\n    }\r\n    value = this.replaceMonths(value);\r\n\r\n    let dateTime = new Date();\r\n\r\n    // If the date format is not specified, then deserializator for getting date and time is applied\r\n    if (format === null) {\r\n      format = 'dd.MM.yyyy hh:mm:ss';\r\n    }\r\n    // Otherwise the format is parsed. Now only numeric date and time formats are supported\r\n\r\n    let year = 1970;\r\n    let month = 1;\r\n    let day = 1;\r\n    let hour = 0;\r\n    let minute = 0;\r\n    let second = 0;\r\n    let millisecond = 0;\r\n\r\n    let char = '';\r\n    let pos = 0;\r\n    const values = [];\r\n\r\n    // Parse date and time into separate numeric values\r\n    while (pos < value.length) {\r\n      char = value.charAt(pos);\r\n      if (charIsDigit(char)) {\r\n        values.push(char);\r\n        pos++;\r\n\r\n        while (pos < value.length && charIsDigit(value.charAt(pos))) {\r\n          values[values.length - 1] += value.charAt(pos);\r\n          pos++;\r\n        }\r\n\r\n        values[values.length - 1] = this.strToInt(values[values.length - 1]);\r\n      }\r\n\r\n      pos++;\r\n    }\r\n\r\n    pos = 0;\r\n    let charCount = 0;\r\n    let index = -1;\r\n    let is12hour = false;\r\n\r\n    // Parsing format and replacement of appropriate values of date and time\r\n    while (pos < format.length) {\r\n      char = format.charAt(pos);\r\n      charCount = 0;\r\n\r\n      if (char === 'Y' || char === 'y' || char === 'M' || char === 'd' || char === 'h' || char === 'H' ||\r\n        char === 'm' || char === 's' || char === 'f' || char === 'F' || char === 't' || char === 'z') {\r\n        index++;\r\n\r\n        while (pos < format.length && format.charAt(pos) === char) {\r\n          pos++;\r\n          charCount++;\r\n        }\r\n      }\r\n\r\n      switch (char) {\r\n        case 'Y': // full year\r\n          year = values[index];\r\n          break;\r\n\r\n        case 'y': // year\r\n          if (values[index] < 1000) {\r\n            year = 2000 + values[index];\r\n          } else {\r\n            year = values[index];\r\n          }\r\n          break;\r\n\r\n        case 'M': // month\r\n          month = values[index];\r\n          break;\r\n\r\n        case 'd': // day\r\n          day = values[index];\r\n          break;\r\n\r\n        case 'h': // (hour 12)\r\n          is12hour = true;\r\n          hour = values[index];\r\n          break;\r\n\r\n        case 'H': // (hour 24)\r\n          hour = values[index];\r\n          break;\r\n\r\n        case 'm': // minute\r\n          minute = values[index];\r\n          break;\r\n\r\n        case 's': // second\r\n          second = values[index];\r\n          break;\r\n\r\n        case 'f': // second fraction\r\n        case 'F': // second fraction, trailing zeroes are trimmed\r\n          millisecond = values[index];\r\n          break;\r\n\r\n        case 't': // PM or AM\r\n          if (value.toLowerCase().indexOf('am') >= 0 && hour === 12) { hour = 0; }\r\n          if (value.toLowerCase().indexOf('pm') >= 0 && hour < 12) { hour += 12; }\r\n          break;\r\n\r\n        default:\r\n          pos++;\r\n          break;\r\n      }\r\n    }\r\n\r\n    dateTime = new Date(year || new Date().getFullYear(), month - 1 || 0, day || 1, hour || 0, minute || 0, second, millisecond || 0);\r\n\r\n    if (!dateTime || isNaN(dateTime as any)) {\r\n      return new Date();\r\n    }\r\n\r\n    return dateTime;\r\n  }\r\n\r\n  public getStringDateTime(object, dateTimeType) {\r\n    if (dateTimeType === 'Date') {\r\n      object.hours = 0;\r\n      object.minutes = 0;\r\n      object.seconds = 0;\r\n    }\r\n    return object.month + '/' + object.day + '/' + object.year + ' ' +\r\n      (object.hours > 12 ? object.hours - 12 : object.hours) + ':' + object.minutes + ':' + object.seconds + ' ' +\r\n      (object.hours < 12 ? 'AM' : 'PM');\r\n  }\r\n\r\n  public dateTimeObjectToString(dateTimeObject, typeDateTimeObject?) {\r\n    const date = new Date(dateTimeObject.year, dateTimeObject.month - 1, dateTimeObject.day, dateTimeObject.hours, dateTimeObject.minutes, dateTimeObject.seconds);\r\n\r\n    if (this.model.options.appearance.parametersPanelDateFormat !== '') {\r\n      return this.formatDate(date, this.model.options.appearance.parametersPanelDateFormat);\r\n    }\r\n\r\n    return this.dateToLocaleString(date, typeDateTimeObject);\r\n  }\r\n\r\n  public dateToLocaleString(date, dateTimeType?): string {\r\n    const timeString = date.toLocaleTimeString();\r\n    const isAmericanFormat = timeString.toLowerCase().indexOf('am') >= 0 || timeString.toLowerCase().indexOf('pm') >= 0;\r\n    let formatDate = isAmericanFormat ? 'MM/dd/yyyy' : 'dd.MM.yyyy';\r\n\r\n    const yyyy = date.getFullYear();\r\n    const yy = yyyy.toString().substring(2);\r\n    const M = date.getMonth() + 1;\r\n    const MM = M < 10 ? '0' + M : M;\r\n    const d = date.getDate();\r\n    const dd = d < 10 ? '0' + d : d;\r\n\r\n    formatDate = formatDate.replace(/yyyy/i, yyyy);\r\n    formatDate = formatDate.replace(/yy/i, yy);\r\n    formatDate = formatDate.replace(/MM/i, MM);\r\n    formatDate = formatDate.replace(/M/i, M);\r\n    formatDate = formatDate.replace(/dd/i, dd);\r\n    formatDate = formatDate.replace(/d/i, d);\r\n\r\n    let h = date.getHours();\r\n    let tt = '';\r\n\r\n    if (isAmericanFormat) {\r\n      tt = h < 12 ? ' AM' : ' PM';\r\n      h = h > 12 ? h - 12 : h;\r\n      if (h === 0) {\r\n        h = 12;\r\n      }\r\n    } else {\r\n      h = h < 10 ? '0' + h : h;\r\n    }\r\n\r\n    let m = date.getMinutes();\r\n    m = m < 10 ? '0' + m : m;\r\n    let s = date.getSeconds();\r\n    s = s < 10 ? '0' + s : s;\r\n\r\n    const formatTime = h + ':' + m + ':' + s + tt;\r\n\r\n    if (dateTimeType === 'Time') {\r\n      return formatTime;\r\n    }\r\n    if (dateTimeType === 'Date') {\r\n      return formatDate;\r\n    }\r\n\r\n    return formatDate + ' ' + formatTime;\r\n  }\r\n\r\n  public formatDate(formatDate, formatString: string): string {\r\n    const yyyy = formatDate.getFullYear();\r\n    const yy = yyyy.toString().substring(2);\r\n    const m = formatDate.getMonth() + 1;\r\n    const mm = m < 10 ? '0' + m : m;\r\n    const d = formatDate.getDate();\r\n    const dd = d < 10 ? '0' + d : d;\r\n\r\n    const h = formatDate.getHours();\r\n    const hh = h < 10 ? '0' + h : h;\r\n    const h12 = h > 12 ? h - 12 : (h > 0 ? h : 12);\r\n    const hh12 = h12 < 10 ? '0' + h12 : h12;\r\n    const n = formatDate.getMinutes();\r\n    const nn = n < 10 ? '0' + n : n;\r\n    const s = formatDate.getSeconds();\r\n    const ss = s < 10 ? '0' + s : s;\r\n    const tt = h < 12 ? 'AM' : 'PM';\r\n\r\n    formatString = formatString.replace(/yyyy/gi, yyyy);\r\n    formatString = formatString.replace(/yy/gi, yy);\r\n    formatString = formatString.replace(/Y/, yyyy);\r\n    formatString = formatString.replace(/MM/g, mm);\r\n    formatString = formatString.replace(/M/g, m);\r\n    formatString = formatString.replace(/dd/g, dd);\r\n    formatString = formatString.replace(/d/g, d);\r\n    formatString = formatString.replace(/hh/g, hh12);\r\n    formatString = formatString.replace(/h/g, h12);\r\n    formatString = formatString.replace(/HH/g, hh);\r\n    formatString = formatString.replace(/H/g, h);\r\n    formatString = formatString.replace(/mm/g, nn);\r\n    formatString = formatString.replace(/m/g, n);\r\n    formatString = formatString.replace(/ss/g, ss);\r\n    formatString = formatString.replace(/s/g, s);\r\n    formatString = formatString.replace(/tt/gi, tt);\r\n    formatString = formatString.replace(/t/gi, tt.substr(0, 1));\r\n\r\n    return formatString;\r\n  }\r\n\r\n  public getStringKey(key: string, params): string {\r\n    if (key === null) {\r\n      return '';\r\n    }\r\n\r\n    return ((params.type === 'DateTime') ? this.dateTimeObjectToString(key, params.dateTimeType) : key);\r\n  }\r\n\r\n  public stringToTime(timeStr: string) {\r\n    const timeArray = timeStr.split(':');\r\n    const time = { hours: 0, minutes: 0, seconds: 0 };\r\n\r\n    time.hours = this.strToInt(timeArray[0]);\r\n    if (timeArray.length > 1) { time.minutes = this.strToInt(timeArray[1]); }\r\n    if (timeArray.length > 2) { time.seconds = this.strToInt(timeArray[2]); }\r\n    if (time.hours < 0) { time.hours = 0; }\r\n    if (time.minutes < 0) { time.minutes = 0; }\r\n    if (time.seconds < 0) { time.seconds = 0; }\r\n\r\n    if (time.hours > 23) { time.hours = 23; }\r\n    if (time.minutes > 59) { time.minutes = 59; }\r\n    if (time.seconds > 59) { time.seconds = 59; }\r\n\r\n    return time;\r\n  }\r\n\r\n  public newGuid() {\r\n    const chars = '0123456789abcdefghijklmnopqrstuvwxyz'.split('');\r\n    const uuid = [];\r\n    const rnd = Math.random;\r\n    let r;\r\n    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\r\n    uuid[14] = '4';\r\n\r\n    for (let i = 0; i < 36; i++) {\r\n      if (!uuid[i]) {\r\n        r = 0 | rnd() * 16;\r\n        uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r & 0xf];\r\n      }\r\n    }\r\n\r\n    return uuid.join('');\r\n  }\r\n\r\n  public getCountDaysOfMonth(year: number, month: number): number {\r\n    const countDaysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n    let count = countDaysInMonth[month];\r\n\r\n    if (month === 1) {\r\n      if (year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0)) {\r\n        count = 29;\r\n      } else {\r\n        count = 28;\r\n      }\r\n    }\r\n    return count;\r\n  }\r\n\r\n  public setObjectToCenter(object: any, defaultTop?: number): any {\r\n    const leftPos = (this.model.viewerSize.width / 2 - object.offsetWidth / 2);\r\n    const topPos = this.model.options.appearance.fullScreenMode ? (this.model.viewerSize.height / 2 - object.offsetHeight / 2) : (defaultTop ? defaultTop : 250);\r\n    return { left: Math.max(leftPos, 0), top: Math.max(topPos, 0) };\r\n  }\r\n\r\n  public checkCloudAuthorization(action): boolean {\r\n    return true;\r\n  }\r\n\r\n  private getCookie_(name: string): string {\r\n    const cookie = ' ' + document.cookie;\r\n    const search = ' ' + name + '=';\r\n    let setStr = null;\r\n    let offset = 0;\r\n    let end = 0;\r\n    if (cookie.length > 0) {\r\n      offset = cookie.indexOf(search);\r\n      if (offset !== -1) {\r\n        offset += search.length;\r\n        end = cookie.indexOf(';', offset);\r\n        if (end === -1) {\r\n          end = cookie.length;\r\n        }\r\n        setStr = unescape(cookie.substring(offset, end));\r\n      }\r\n    }\r\n    return setStr;\r\n  }\r\n\r\n  public getCookie(name: string): string {\r\n    if (this.model.options.standaloneJsMode || typeof localStorage === 'undefined' || name.indexOf('sti_') == 0 || name.indexOf('login') == 0) {\r\n      return this.getCookie_(name);\r\n    }\r\n\r\n    let value = localStorage.getItem(name);\r\n    if (value != null) {\r\n      return value;\r\n    } else {\r\n      value = this.getCookie_(name);\r\n      if (value != null) {\r\n        this.removeCookie(name);\r\n        localStorage.setItem(name, value);\r\n      }\r\n      return value;\r\n    }\r\n  }\r\n\r\n  public removeCookie(name: string) {\r\n    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/';\r\n  }\r\n\r\n  public setCookie(name: string, value, path?, domain?, secure?, expires?) {\r\n    if (this.model.options.standaloneJsMode || typeof localStorage === 'undefined' || name.indexOf('sti_') === 0 || name.indexOf('login') === 0) {\r\n      // save to cookies\r\n      if (value && typeof (value) === 'string' && value.length >= 4096) { return; }\r\n      const pathName = location.pathname;\r\n      const expDate = new Date();\r\n      expDate.setTime(expDate.getTime() + (365 * 24 * 3600 * 1000));\r\n      document.cookie = name + '=' + escape(value) +\r\n        '; expires=' + (expires || expDate['toGMTString']()) +\r\n        ((path) ? '; path=' + path : '; path=/') +\r\n        ((domain) ? '; domain=' + domain : '') +\r\n        ((secure) ? '; secure' : '');\r\n    } else {\r\n      // save to localstorage\r\n      localStorage.setItem(name, value);\r\n    }\r\n  }\r\n\r\n  public getNavigatorName(): string {\r\n    if (!navigator) { return 'Unknown'; }\r\n    const userAgent = navigator.userAgent;\r\n\r\n    if (userAgent.indexOf('Edge') >= 0) { return 'Edge'; }\r\n    if (userAgent.indexOf('MSIE') >= 0 || userAgent.indexOf('Trident') >= 0) { return 'MSIE'; }\r\n    if (userAgent.indexOf('Gecko') >= 0) {\r\n      if (userAgent.indexOf('Chrome') >= 0) { return 'Chrome'; }\r\n      if (userAgent.indexOf('Safari') >= 0) { return 'Safari'; }\r\n      return 'Mozilla';\r\n    }\r\n    if (userAgent.indexOf('Opera') >= 0) { return 'Opera'; }\r\n  }\r\n\r\n  public isTouchDevice(): boolean {\r\n    return ('ontouchstart' in document.documentElement);\r\n  }\r\n\r\n  public isMobileDevice(): boolean {\r\n    return /iPhone|iPad|iPod|Macintosh|Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n  }\r\n\r\n  public getHumanFileSize(value: number, decimals: number): string {\r\n    const i = Math.floor(Math.log(value) / Math.log(1024));\r\n    return ((value / Math.pow(1024, i)).toFixed(decimals)) + ' ' + ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'][i];\r\n  }\r\n\r\n  getZoomMenuItems(): any {\r\n    const items: MenuItem[] = [{ name: 'Zoom25', caption: '25%', img: '' },\r\n    { name: 'Zoom50', caption: '50%', img: '' },\r\n    { name: 'Zoom75', caption: '75%', img: '' },\r\n    { name: 'Zoom100', caption: '100%', img: '' },\r\n    { name: 'Zoom150', caption: '150%', img: '' },\r\n    { name: 'Zoom200', caption: '200%', img: '' }];\r\n\r\n    if (this.model.options.toolbar.displayMode !== 'Separated') {\r\n      items.push({ type: 'separator' });\r\n      items.push({ name: 'ZoomOnePage', caption: this.model.loc('ZoomOnePage'), img: 'ZoomOnePage.png' });\r\n      items.push({ name: 'ZoomPageWidth', caption: this.model.loc('ZoomPageWidth'), img: 'ZoomPageWidth.png' });\r\n    }\r\n    return items;\r\n  }\r\n\r\n  public get helpLinks(): any {\r\n    return {\r\n      Print: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Save: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      SendEmail: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Bookmarks: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Parameters: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      FirstPage: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      PrevPage: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      NextPage: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      LastPage: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      FullScreen: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Zoom: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      ViewMode: 'user-manual/index.html?viewer_reports.htm#displayingmode',\r\n      Editor: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Find: 'user-manual/index.html?viewer_reports.htm#searchpanel',\r\n      DashboardToolbar: 'user-manual/index.html?viewer_dashboards.htm#controlbuttonsofthedashboard',\r\n      DashboardElementToolbar: 'user-manual/index.html?viewer_dashboards.htm#elementcontrols',\r\n      DashboardExport: 'user-manual/index.html?exports_dashboards.htm',\r\n      DashboardPdfExport: 'user-manual/index.html?exports_dashboards.htm#pdfexportsettings',\r\n      DashboardExcelExport: 'user-manual/index.html?exports_dashboards.htm#excelexportsettings',\r\n      DashboardImageExport: 'user-manual/index.html?exports_dashboards.htm#imageexportsettings',\r\n      DashboardDataExport: 'user-manual/index.html?exports_dashboards.htm#exportsettingsofdata'\r\n    };\r\n  }\r\n\r\n  public getBackText(withoutBrackets?: boolean): string {\r\n    const backText = String.fromCharCode(84) + 'r' + String.fromCharCode(105) + 'a';\r\n    if (withoutBrackets) {\r\n      return backText + String.fromCharCode(108);\r\n    }\r\n    return String.fromCharCode(91) + backText + String.fromCharCode(108) + String.fromCharCode(93);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, timeout } from 'rxjs/operators';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\n\r\n@Injectable()\r\nexport class StiHttpClientService {\r\n\r\n  constructor(private httpClient: HttpClient, public model: ModelService, private helper: HelperService) { }\r\n\r\n  public post(url: string, data: any, responseType: string = 'json'): Observable<any> {\r\n    const model = this.model;\r\n    model.showProgress = true;\r\n    const reqTimeout = this.model.options?.server?.requestTimeout > 0 ? this.model.options?.server?.requestTimeout * 1000 : 1000 * 1000;\r\n    if (responseType === 'json') {\r\n      return this.httpClient.post(url, this.getFormData(data)).pipe(\r\n        // retry(3),\r\n        timeout(reqTimeout),\r\n\r\n        catchError((error: any) => {\r\n          model.httpError = error;\r\n          model.showProgress = false;\r\n          this.model.controls.navigatePanel.enabled = true;\r\n          this.model.controls.toolbar.enabled = true;\r\n          return throwError('Something bad happened; please try again later.');\r\n        }));\r\n    } else {\r\n      return this.httpClient.post(url, this.getFormData(data), { responseType: 'text' }).pipe(\r\n        // retry(3),\r\n        timeout(reqTimeout),\r\n        catchError((error: any) => {\r\n          model.httpError = error;\r\n          model.showProgress = false;\r\n          this.model.controls.navigatePanel.enabled = true;\r\n          this.model.controls.toolbar.enabled = true;\r\n          return throwError('Something bad happened; please try again later.');\r\n        }));\r\n    }\r\n  }\r\n\r\n  private getFormData(data: any): FormData {\r\n    const formData: FormData = new FormData();\r\n    Object.keys(data).forEach(key => formData.append(key, data[key]));\r\n    return formData;\r\n  }\r\n\r\n  public postForm(url: string, data: any, doc: any, postOnlyData: boolean = false) {\r\n    if (!doc) { doc = document; }\r\n    const form = doc.createElement('FORM');\r\n    form.setAttribute('method', 'POST');\r\n    form.setAttribute('action', url);\r\n\r\n    const params = postOnlyData ? data : this.model.createPostParameters(data, true);\r\n\r\n    Object.keys(params).forEach(key => {\r\n      const paramsField = doc.createElement('INPUT');\r\n      paramsField.setAttribute('type', 'hidden');\r\n      paramsField.setAttribute('name', key);\r\n      paramsField.setAttribute('value', params[key]);\r\n      form.appendChild(paramsField);\r\n    });\r\n\r\n    if (this.model.options.jsDesigner) {\r\n      this.model.options.jsDesigner.options.ignoreBeforeUnload = true;\r\n    }\r\n\r\n    doc.body.appendChild(form);\r\n    form.submit();\r\n    doc.body.removeChild(form);\r\n\r\n    setTimeout(() => {\r\n      if (this.model.options.jsDesigner) {\r\n        this.model.options.jsDesigner.options.ignoreBeforeUnload = false;\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\n\r\n@Injectable()\r\nexport class StylesService {\r\n  private pagesCss = {};\r\n\r\n  constructor(private model: ModelService) { }\r\n\r\n  public setupStyle(style: string, id: string) {\r\n    if (this.pagesCss[id] == null) {\r\n      this.pagesCss[id] = document.createElement('STYLE');\r\n      this.pagesCss[id].id = this.model.options?.viewerId + 'Styles';\r\n      this.pagesCss[id].setAttribute('type', 'text/css');\r\n      this.model.controls.head.appendChild(this.pagesCss[id]);\r\n    }\r\n    if (this.pagesCss[id].styleSheet) {\r\n      this.pagesCss[id].styleSheet.cssText = style;\r\n    } else {\r\n      this.pagesCss[id].innerHTML = style;\r\n    }\r\n  }\r\n\r\n  public addCustomFontStyles(customFonts: any[]) {\r\n    if (!customFonts) { return; }\r\n\r\n    let existsStyles: any = [];\r\n    try {\r\n      existsStyles = document.getElementsByTagName('head')[0].getElementsByTagName('style');\r\n    } catch (e) { }\r\n\r\n    customFonts.forEach((customFont: any) => {\r\n      if (customFont.contentForCss && customFont.originalFontFamily) {\r\n        const style = document.createElement('style');\r\n        style.innerHTML = `@font-face {\\r\\nfont-family: '${customFont.originalFontFamily}';\\r\\n src: url(${customFont.contentForCss});\\r\\n }`;\r\n\r\n        let existsThisStyle = false;\r\n\r\n        for (const estyle of existsStyles) {\r\n          if (estyle.innerHTML.indexOf(`font-family: '${customFont.originalFontFamily}'`) > 0) {\r\n            existsThisStyle = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (!existsThisStyle) {\r\n          document.getElementsByTagName('head')[0].appendChild(style);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  public addChartScript(script: string) {\r\n    const currChartScripts = document.getElementById(this.model.options.viewerId + 'chartScriptJsViewer');\r\n    if (currChartScripts) {\r\n      this.model.controls.head.removeChild(currChartScripts);\r\n    }\r\n\r\n    if (script) {\r\n      const chartScripts = document.createElement('Script');\r\n      chartScripts.setAttribute('type', 'text/javascript');\r\n      chartScripts.id = this.model.options.viewerId + 'chartScriptJsViewer';\r\n      chartScripts.textContent = script;\r\n      this.model.controls.head.appendChild(chartScripts);\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\nimport { Rectangle } from './objects';\r\n\r\n@Injectable()\r\nexport class PageService {\r\n\r\n  constructor(private model: ModelService, private helper: HelperService) {\r\n    Object.keys(model.controls).forEach(k => model.controls[k].pageService = this);\r\n  }\r\n\r\n  public calculateLayout() {\r\n    setTimeout(() => {\r\n      this.calculateLayoutInner();\r\n    });\r\n  }\r\n\r\n  public calculateLayoutInner() {\r\n    const reportLayout: Rectangle = new Rectangle();\r\n    const paramsLayout: Rectangle = new Rectangle();\r\n\r\n    if (!this.model.controls.reportPanel.el) {\r\n      return reportLayout;\r\n    }\r\n\r\n    if (this.model.controls.dashboardsPanel.el) {\r\n      reportLayout.top += this.model.controls.dashboardsPanel.offsetHeight;\r\n    }\r\n\r\n    if (this.model.reportParams.type === 'Report') {\r\n      if (this.model.controls.toolbar && this.model.controls.toolbar.visible && !(this.model.options.isMobileDevice && this.model.options.toolbar.autoHide)) {\r\n        reportLayout.top += this.model.controls.toolbar.offsetHeight;\r\n      }\r\n\r\n      if (this.model.controls.drillDownPanel && this.model.controls.drillDownPanel.visible) {\r\n        reportLayout.top += this.model.controls.drillDownPanel.offsetHeight;\r\n      }\r\n      if (this.model.controls.findPanel && this.model.controls.findPanel.visible) {\r\n        reportLayout.top += this.model.controls.findPanel.offsetHeight;\r\n      }\r\n      if (this.model.controls.resourcesPanel && this.model.controls.resourcesPanel.visible) {\r\n        reportLayout.top += this.model.controls.resourcesPanel.offsetHeight;\r\n      }\r\n\r\n      if (this.model.controls.bookmarksPanel && this.model.controls.bookmarksPanel.visible) {\r\n        reportLayout.left += this.model.options.appearance.bookmarksTreeWidth;\r\n        if (this.model.options.toolbar.displayMode === 'Simple') {\r\n          reportLayout.left += 2;\r\n        }\r\n      }\r\n\r\n      if (this.model.controls.navigatePanel && this.model.controls.navigatePanel.visible && !(this.model.options.isMobileDevice && this.model.options.toolbar.autoHide)) {\r\n        reportLayout.bottom = this.model.controls.navigatePanel.offsetHeight;\r\n      }\r\n    }\r\n\r\n    if (this.model.controls.parametersPanel && this.model.controls.parametersPanel.visible) {\r\n      this.model.controls.parametersPanel.layout = paramsLayout;\r\n      paramsLayout.top = reportLayout.top;\r\n\r\n      if (this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n        paramsLayout.left = reportLayout.left;\r\n        paramsLayout.width = this.model.controls.parametersPanel.el.nativeElement.firstChild.offsetWidth;\r\n        reportLayout.left += paramsLayout.width;\r\n        if (this.model.options.toolbar.displayMode === 'Simple') {\r\n          reportLayout.left += 2;\r\n        }\r\n      }\r\n\r\n      if (this.model.options.appearance.parametersPanelPosition === 'Top') {\r\n        paramsLayout.height = this.model.controls.parametersPanel.offsetHeight;\r\n        reportLayout.top += paramsLayout.height;\r\n      }\r\n    }\r\n\r\n    if (this.model.controls.bookmarksPanel) {\r\n      // this.model.controls.bookmarksPanel.layout = new Rectangle();\r\n      let styleTop = this.model.options.toolbar.visible ? this.model.controls.toolbar.offsetHeight : 0;\r\n      if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n        styleTop = 0;\r\n      }\r\n      styleTop += this.model.controls.parametersPanel.exists && this.model.options.appearance.parametersPanelPosition === 'Top' ? this.model.controls.parametersPanel.offsetHeight : 0;\r\n      styleTop += this.model.controls.findPanel.exists ? this.model.controls.findPanel.offsetHeight : 0;\r\n      styleTop += this.model.controls.drillDownPanel.exists ? this.model.controls.drillDownPanel.offsetHeight : 0;\r\n      styleTop += this.model.controls.resourcesPanel.exists ? this.model.controls.resourcesPanel.offsetHeight : 0;\r\n\r\n      this.model.controls.bookmarksPanel.layout.top = styleTop; // reportLayout.top;\r\n    }\r\n\r\n    if (this.model.options.toolbar.displayMode === 'Simple' && reportLayout.top > 0) {\r\n      reportLayout.top += 2;\r\n    }\r\n\r\n    if (this.model.controls.reportPanel.el?.nativeElement.style.position === 'relative') {\r\n      reportLayout.top = paramsLayout.height;\r\n    }\r\n\r\n    const reportMargins = {\r\n      top: parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginTop ? this.model.controls.reportPanel.el.nativeElement.style.marginTop : 0),\r\n      right: parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginRight ? this.model.controls.reportPanel.el.nativeElement.style.marginRight : 0),\r\n      bottom: parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginBottom ? this.model.controls.reportPanel.el.nativeElement.style.marginBottom : 0),\r\n      left: parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginLeft ? this.model.controls.reportPanel.el.nativeElement.style.marginLeft : 0)\r\n    };\r\n\r\n    reportLayout.width = this.model.controls.reportPanel.offsetWidth - reportLayout.left - reportLayout.right + reportMargins.left + reportMargins.right;\r\n    reportLayout.height = this.model.controls.reportPanel.el.nativeElement.style.position === 'absolute'\r\n      ? this.model.controls.reportPanel.offsetHeight - reportLayout.top - reportLayout.bottom + reportMargins.top + reportMargins.bottom\r\n      : Math.round(reportLayout.width * 0.56); // use 16:9 aspect ratio for automatic height\r\n\r\n    this.model.controls.reportPanel.layout = reportLayout;\r\n  }\r\n\r\n  public getZoomByPageWidth(): number {\r\n    const pageNumber = this.model.reportParams.viewMode === 'SinglePage' ? 0 : (this.model.reportParams.pageNumber || 0);\r\n    return (this.model.controls.reportPanel.layout.width - 40) * this.getZoom() / (this.model.pages[pageNumber]?.page?.offsetWidth || 1);\r\n  }\r\n\r\n  public getZoomByPageHeight(): number {\r\n    const pageNumber = this.model.reportParams.viewMode === 'SinglePage' ? 0 : (this.model.reportParams.pageNumber || 0);\r\n    return (this.model.controls.reportPanel.layout.height - 40) * this.getZoom() / (this.model.pages[pageNumber]?.page?.offsetHeight || 1);\r\n  }\r\n\r\n  private getZoom(): number {\r\n    return this.model.reportParams.zoom < 0 ? 100 : this.model.reportParams.zoom;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class MouseService {\r\n\r\n  private documetMouseDown = new Subject<any>();\r\n  private documetMouseMove = new Subject<any>();\r\n  private documetMouseUp = new Subject<any>();\r\n\r\n  constructor() {\r\n    document.addEventListener('mouseup', (event) => {\r\n      this.documetMouseUp.next(event);\r\n    });\r\n\r\n    document.addEventListener('mousemove', (event) => {\r\n      this.documetMouseMove.next(event);\r\n    });\r\n\r\n    document.addEventListener('mousedown', (event) => {\r\n      this.documetMouseDown.next(event);\r\n    });\r\n  }\r\n\r\n  public getDocumentMouseUp(): Observable<any> {\r\n    return this.documetMouseUp.asObservable();\r\n  }\r\n\r\n  public getDocumentMouseMove(): Observable<any> {\r\n    return this.documetMouseMove.asObservable();\r\n  }\r\n\r\n  public getDocumentMouseDown(): Observable<any> {\r\n    return this.documetMouseDown.asObservable();\r\n  }\r\n\r\n}\r\n","import { Injectable, ElementRef, EventEmitter } from '@angular/core';\r\nimport { MenuItem } from './meni-item.component';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MouseService } from '../services/mouse.service';\r\nimport { Variable, Item } from '../services/objects';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\nexport class Menu {\r\n  constructor(public name: string, public items: MenuItem[], public parent: ElementRef, public type: string, public state?: string,\r\n    public menuEl?: ElementRef, public top?: number, public left?: number, public innerContent?: ElementRef, public width?: number, public height?: number,\r\n    public menuStyleName?: string, public params?: Variable, public verticalItems?: Item[], public action?: EventEmitter<any>,\r\n    public itemStyleName?: string, public value?: any, public sizeStyle?: string) { }\r\n}\r\n\r\n@Injectable()\r\nexport class MenuService {\r\n  public VERTICAL_MENU_NAME = 'verticalMenu';\r\n\r\n  public menuMouseUp = '';\r\n\r\n  private _menus: {} = {};\r\n  private subject = new Subject<Menu>();\r\n\r\n  constructor(private helper: HelperService, private model: ModelService, private mouseService: MouseService) {\r\n    this.mouseService.getDocumentMouseUp().subscribe((event) => {\r\n      if (this.menuMouseUp === '') {\r\n        this.closeAllMenus();\r\n      } else if (this.menuMouseUp !== 'datePickerMenu' && this.menuMouseUp !== this.VERTICAL_MENU_NAME) {\r\n        const datePicker = Object.values(this._menus).find(m => (m as Menu).type === 'datePickerMenu') as Menu;\r\n        if (datePicker != null) {\r\n          datePicker.state = 'initialDown';\r\n        }\r\n      }\r\n      this.menuMouseUp = '';\r\n    });\r\n  }\r\n\r\n  public getVisibility(): Observable<Menu> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public addMenu(menu: Menu): void {\r\n    this._menus[menu.name] = menu;\r\n  }\r\n\r\n  public closeAllMenus() {\r\n    Object.values(this._menus).forEach((m: Menu) => m.state = m.type === 'buttonMenu' && this.model.options.isMobileDevice ? 'initialLeft' : 'initialDown');\r\n  }\r\n\r\n  public isMenuVisible(): boolean {\r\n    return Object.values(this._menus).find(m => (m as Menu).state === 'expanded') != null;\r\n  }\r\n\r\n  public showMenu(menuName: string) {\r\n    const menu: Menu = this._menus[menuName];\r\n\r\n    if (menu?.type !== 'datePickerMenu' && menu?.type !== this.VERTICAL_MENU_NAME) {\r\n      this.closeAllMenus();\r\n    }\r\n\r\n    if (menu) {\r\n      menu.sizeStyle = 'opacity: 0;';\r\n      if (this.model.options.isMobileDevice && menu.type === 'buttonMenu') {\r\n        setTimeout(() => {\r\n          const innerContent = menu.innerContent.nativeElement;\r\n          menu.left = 0;\r\n          menu.top = 0;\r\n          menu.width = innerContent.offsetWidth;\r\n          menu.height = innerContent.offsetHeight;\r\n          menu.state = 'initialLeft';\r\n          menu.sizeStyle = null;\r\n\r\n          setTimeout(() => {\r\n            menu.state = 'expanded';\r\n          });\r\n        });\r\n      } else {\r\n        setTimeout(() => {\r\n          menu.sizeStyle = null;\r\n          this.showMenuInternal(menu);\r\n        });\r\n      }\r\n      this.subject.next(menu);\r\n    }\r\n  }\r\n\r\n  private showMenuInternal(menu: Menu) {\r\n    const isVertMenu = true;\r\n\r\n    const parentButton = menu.parent.nativeElement;\r\n    const innerContent = menu.innerContent.nativeElement;\r\n    const offsetHeight = menu.menuEl.nativeElement.offsetHeight;\r\n    const style = menu.menuEl.nativeElement.style;\r\n\r\n    const coords = this.getMenuCoordinates(parentButton, innerContent, offsetHeight, style, isVertMenu);\r\n\r\n    menu.left = coords.left;\r\n    menu.top = coords.top;\r\n    menu.width = menu.width || coords.width;\r\n    menu.height = coords.height;\r\n    menu.state = coords.state;\r\n\r\n    setTimeout(() => {\r\n      menu.state = 'expanded';\r\n    });\r\n  }\r\n\r\n  public getMenuCoordinates(parentButton: any, innerContent: any, offsetHeight: number, style: any, isVertMenu: boolean): any {\r\n    const menu: any = {};\r\n    const browserWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n    const browserHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\r\n    const rightAlign = false;\r\n    const mainClassName = 'stiJsViewerMainPanel';\r\n    let animDirect = 'Down';\r\n    const leftOffset = 0;\r\n\r\n    let left = (isVertMenu)\r\n      ? (this.model.options.appearance.rightToLeft || rightAlign\r\n        ? (this.helper.findPosX(parentButton, mainClassName) - innerContent.offsetWidth + parentButton.offsetWidth) - (leftOffset || 0)\r\n        : this.helper.findPosX(parentButton, mainClassName) - (leftOffset || 0))\r\n      : ((animDirect === 'Right')\r\n        ? (this.helper.findPosX(parentButton, mainClassName) + parentButton.offsetWidth + 2)\r\n        : (this.helper.findPosX(parentButton, mainClassName) - parentButton.offsetWidth - 2));\r\n\r\n    if (left + innerContent.offsetWidth > browserWidth) {\r\n      left = browserWidth - innerContent.offsetWidth - 15;\r\n    }\r\n    if (left < 0) {\r\n      left = 10;\r\n    }\r\n    menu.left = left;\r\n\r\n    if (animDirect === 'Down' &&\r\n      this.helper.findPosY(parentButton) + parentButton.offsetHeight + innerContent.offsetHeight > browserHeight &&\r\n      this.helper.findPosY(parentButton) - innerContent.offsetHeight > 0) {\r\n      animDirect = 'Up';\r\n    }\r\n\r\n    menu.top = (isVertMenu)\r\n      ? ((animDirect === 'Down')\r\n        ? (this.helper.findPosY(parentButton, mainClassName) + parentButton.offsetHeight + 2)\r\n        : (this.helper.findPosY(parentButton, mainClassName) - offsetHeight))\r\n      : (this.helper.findPosY(parentButton, mainClassName) + parentButton.offsetHeight + innerContent.offsetHeight > browserHeight &&\r\n        (browserHeight - innerContent.offsetHeight - 10) > 0)\r\n        ? (browserHeight - innerContent.offsetHeight - 10)\r\n        : this.helper.findPosY(parentButton, mainClassName);\r\n\r\n    menu.width = innerContent.offsetWidth;\r\n    menu.height = innerContent.offsetHeight;\r\n\r\n    if (menu.top + innerContent.offsetHeight > browserHeight) {\r\n      menu.top = (browserHeight - innerContent.offsetHeight - 10);\r\n    }\r\n\r\n    if (menu.top < 0) {\r\n      menu.top = 10;\r\n    }\r\n\r\n    menu.state = animDirect === 'Down' ? 'initialDown' : 'initialUp';\r\n\r\n    return menu;\r\n  }\r\n\r\n  get menus(): Menu[] {\r\n    return Object.values(this._menus);\r\n  }\r\n\r\n  getVerticalMenu(): Menu {\r\n    return this._menus[this.VERTICAL_MENU_NAME];\r\n  }\r\n\r\n  getMenu(name: string): Menu {\r\n    return this._menus[name];\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Form } from '../services/objects';\r\nimport { MouseService } from '../services/mouse.service';\r\nimport { MenuService } from '../menu/menu.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { BaseFormComponent } from './base-form.component';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Injectable()\r\nexport class FormService {\r\n\r\n  private mouseX = 0;\r\n  private mouseY = 0;\r\n  private formX = 0;\r\n  private formY = 0;\r\n\r\n  constructor(public mouseService: MouseService, public menuService: MenuService, public helper: HelperService, public model: ModelService) {\r\n    mouseService.getDocumentMouseMove().subscribe((event: MouseEvent) => {\r\n      this.move(event);\r\n    });\r\n\r\n    mouseService.getDocumentMouseUp().subscribe((event: MouseEvent) => {\r\n      this.stopMove();\r\n    });\r\n  }\r\n\r\n  public get form(): Form {\r\n    return this.model.form;\r\n  }\r\n\r\n  public set form(form: Form) {\r\n    this.model.form = form;\r\n  }\r\n\r\n  public showForm(name: string, formData?: any) {\r\n    this.form = { name, left: 0, top: 0, isMooving: false, formData };\r\n  }\r\n\r\n  public closeForm(name: string) {\r\n    if (this.form?.name === 'notificationForm' && this.model.notificationFormOptions?.action) {\r\n      this.model.notificationFormOptions.action();\r\n    }\r\n    this.form = null;\r\n  }\r\n\r\n  public centerForm(baseForm: BaseFormComponent, defaultTop: number) {\r\n    if (this.form != null) {\r\n      setTimeout(() => {\r\n        const position = this.helper.setObjectToCenter(baseForm.element.nativeElement, defaultTop);\r\n        this.form.left = position.left;\r\n        this.form.top = position.top;\r\n        this.form.level = baseForm.level;\r\n      });\r\n    }\r\n  }\r\n\r\n  public startMove(name: string, event: MouseEvent, touchEvent?: TouchEvent) {\r\n    if (event || touchEvent && touchEvent.changedTouches.length > 0) {\r\n      this.formX = this.form.left;\r\n      this.formY = this.form.top;\r\n      this.mouseX = event?.screenX || touchEvent.changedTouches[0].screenX;\r\n      this.mouseY = event?.screenY || touchEvent.changedTouches[0].screenY;\r\n      this.form.isMooving = true;\r\n    }\r\n  }\r\n\r\n  public move(event: any) {\r\n    if (this.form?.isMooving) {\r\n      const screenX = event.screenX || (event.changedTouches.length > 0 ? event.changedTouches[0].screenX : -1);\r\n      const screenY = event.screenY || (event.changedTouches.length > 0 ? event.changedTouches[0].screenY : -1);\r\n      this.form.left = this.formX + (screenX - this.mouseX);\r\n      this.form.top = this.formY + (screenY - this.mouseY);\r\n      this.menuService.closeAllMenus();\r\n    }\r\n  }\r\n\r\n  public stopMove() {\r\n    if (this.form?.isMooving) {\r\n      this.form.isMooving = false;\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { PageService } from './page.service';\r\n\r\n@Injectable()\r\nexport class FullScreenService {\r\n\r\n  constructor(public model: ModelService, public pageService: PageService) { }\r\n\r\n  public changeFullScreenMode(fullScreenMode: boolean) {\r\n    this.model.options.appearance.fullScreenMode = fullScreenMode;\r\n    const viewer = this.model.controls.viewer.el.nativeElement;\r\n\r\n    if (fullScreenMode) {\r\n      this.model.fullScreenOptions = {\r\n        scrollbarsMode: this.model.options.appearance.scrollbarsMode,\r\n        zIndex: viewer.style.zIndex,\r\n        position: viewer.style.position,\r\n        width: viewer.style.width,\r\n        height: viewer.style.height,\r\n        overflow: document.body.style.overflow\r\n      };\r\n\r\n      this.model.options.appearance.scrollbarsMode = true;\r\n      viewer.style.zIndex = '1000000';\r\n      viewer.style.position = this.model.options.reportDesignerMode ? 'absolute' : 'fixed';\r\n      viewer.style.width = null;\r\n      viewer.style.height = null;\r\n      document.body.style.overflow = 'hidden';\r\n    } else if (this.model.fullScreenOptions) {\r\n      this.model.options.appearance.scrollbarsMode = this.model.fullScreenOptions.scrollbarsMode;\r\n      viewer.style.zIndex = this.model.fullScreenOptions.zIndex;\r\n      viewer.style.position = this.model.fullScreenOptions.position;\r\n      viewer.style.width = this.model.fullScreenOptions.width;\r\n      viewer.style.height = this.model.fullScreenOptions.height;\r\n      document.body.style.overflow = this.model.fullScreenOptions.overflow;\r\n\r\n      this.model.fullScreenOptions = null;\r\n    }\r\n\r\n    this.pageService.calculateLayout();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { StiHttpClientService } from './http-client.service';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { ModelService } from './model.service';\r\nimport { StylesService } from './styles.service';\r\nimport { ViewerEvent, BookmarkNode, Message } from './objects';\r\nimport { PageService } from './page.service';\r\nimport { HelperService } from './helper.service';\r\nimport { FormService } from '../forms/form.service';\r\nimport { FullScreenService } from './full-screen.service';\r\nimport { MenuService, Menu } from '../menu/menu.service';\r\n\r\n@Injectable()\r\nexport class ControllerService {\r\n\r\n  private subject = new Subject<any>();\r\n  public actionSubject = new Subject<Message>();\r\n\r\n  constructor(private httpClient: StiHttpClientService, private model: ModelService,\r\n    private stylesService: StylesService, private pageService: PageService, private helper: HelperService,\r\n    private formService: FormService, private fullScreenService: FullScreenService, private menuService: MenuService,\r\n    private styleService: StylesService) {\r\n\r\n    setInterval(() => {\r\n      if (this.model.httpError) {\r\n        if (this.model.httpError.error?.text) {\r\n          this.showError(this.model.httpError.error?.text);\r\n        } else if (this.model.httpError.message) {\r\n          this.showError(null, this.model.httpError.message);\r\n        } else if (this.model.httpError.error instanceof ErrorEvent) {\r\n          this.showError(this.model.httpError.error.message);\r\n        }\r\n        this.model.httpError = null;\r\n      }\r\n      if (this.model.navigateNode) {\r\n        this.postBookmarkNodeAction(this.model.navigateNode);\r\n        this.model.navigateNode = null;\r\n      }\r\n    }, 250);\r\n\r\n    this.setupHandlers();\r\n  }\r\n\r\n  public setupHandlers() {\r\n    this.getMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'GetReport':\r\n        case 'OpenReport':\r\n          setTimeout(() => {\r\n            this.styleService.addCustomFontStyles(message.data?.customFonts);\r\n\r\n            if (this.model.options.appearance.fullScreenMode) {\r\n              this.fullScreenService.changeFullScreenMode(true);\r\n            }\r\n\r\n            if (message.data?.stimulsoftFontContent && !this.model.options.stimulsoftFontContent) {\r\n              this.model.options.stimulsoftFontContent = message.data.stimulsoftFontContent;\r\n              this.styleService.addCustomFontStyles([{\r\n                contentForCss: message.data.stimulsoftFontContent,\r\n                originalFontFamily: 'Stimulsoft'\r\n              }]);\r\n            }\r\n          });\r\n          break;\r\n      }\r\n    });\r\n\r\n    this.model.controls.bookmarksPanel.getVisibility().subscribe((value) => {\r\n      if (value && this.model.options.isMobileDevice) {\r\n        this.model.controls.parametersPanel.visible = false;\r\n      }\r\n      if (value) {\r\n        this.hideToolbar();\r\n      } else {\r\n        this.showToolbar();\r\n      }\r\n    });\r\n\r\n    this.model.controls.parametersPanel.getVisibility().subscribe((value) => {\r\n      if (value && this.model.options.isMobileDevice) {\r\n        this.model.controls.bookmarksPanel.visible = false;\r\n      }\r\n      if (value) {\r\n        this.hideToolbar();\r\n      } else {\r\n        this.showToolbar();\r\n      }\r\n    });\r\n\r\n    this.menuService.getVisibility().subscribe((menu: Menu) => {\r\n      this.hideToolbar();\r\n    });\r\n  }\r\n\r\n  public hideToolbar() {\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      this.model.controls.toolbar.visible = false;\r\n      this.model.controls.navigatePanel.visible = false;\r\n    }\r\n  }\r\n\r\n  public showToolbar() {\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      this.model.controls.toolbar.visible = true;\r\n      this.model.controls.navigatePanel.visible = true;\r\n      setTimeout(() => {\r\n        this.keepToolbar();\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  public keepToolbar() {\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      clearTimeout(this.model.toolbarHideTimer);\r\n      this.model.toolbarHideTimer = setTimeout(() => {\r\n        this.hideToolbar();\r\n      }, 4000);\r\n    }\r\n  }\r\n\r\n  public getMessage(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public getActionMessage(): Observable<Message> {\r\n    return this.actionSubject.asObservable();\r\n  }\r\n\r\n  public post(action: string, cAction?: string, postData?: any, responseType: string = 'json', subAction?: string) {\r\n    this.model.controls.navigatePanel.enabled = false;\r\n    this.model.controls.toolbar.enabled = false;\r\n    let url: string;\r\n    if (!cAction) {\r\n      url = this.model.requestUrl.replace('{action}', action === 'GetReport' || this.model.options.server.cacheMode === 'None' ? this.model.options.actions.getReport : this.model.options.actions.viewerEvent);\r\n    } else {\r\n      url = this.model.requestUrl.replace('{action}', cAction);\r\n    }\r\n    if (postData) {\r\n      postData.action = action;\r\n    } else {\r\n      postData = { action };\r\n    }\r\n\r\n    this.httpClient.post(url, this.model.createPostParameters(postData), responseType).subscribe(data => {\r\n      this.model.showProgress = false;\r\n      this.model.controls.navigatePanel.enabled = true;\r\n      this.model.controls.toolbar.enabled = true;\r\n\r\n      if (data === 'ServerError:The report is not specified.' && this.model.options?.isReportRecieved) {\r\n        this.model.options.isReportRecieved = false;\r\n        this.model.reportParams.prevPageNumber = this.model.reportParams.pageNumber;\r\n        this.post('GetReport');\r\n        return;\r\n      }\r\n\r\n      if (data) {\r\n        this.model.reportParams = data;\r\n        this.startRefreshReportTimer(data.refreshTime);\r\n      }\r\n      this.subject.next({ action, data, subAction });\r\n    });\r\n  }\r\n\r\n  public loadViewer(): void {\r\n    const url = this.model.requestUrl.replace('{action}', this.model.action);\r\n    this.httpClient.post(url, this.model.createPostParameters({ action: 'AngularViewerData' }, true, false), 'json',).subscribe(data => {\r\n      this.model.clear();\r\n      this.stylesService.setupStyle(atob(data['styles']), 'viewer');\r\n      this.model.options = data;\r\n      this.checkTrExp();\r\n      this.initAutoUpdateCache();\r\n      this.subject.next({ action: 'viewer_loaded' });\r\n      this.getReport();\r\n    });\r\n  }\r\n\r\n  public getReport(): void {\r\n    this.model.options.paramsVariablesStartValues = null;\r\n    this.post('GetReport');\r\n  }\r\n\r\n  public getPages(): void {\r\n    this.post('GetPages');\r\n  }\r\n\r\n  public postExport(format: string, settings: any, elementName?: string, isDashboardExport: boolean = false) {\r\n    const data = {\r\n      action: isDashboardExport ? 'ExportDashboard' : 'ExportReport',\r\n      exportFormat: format,\r\n      exportSettings: settings,\r\n      elementName\r\n    };\r\n\r\n    const doc = settings && settings.OpenAfterExport && this.model.options.appearance.openExportedReportWindow === '_blank' ? this.helper.openNewWindow('about:blank', '_blank').document : null;\r\n    const url = this.model.requestUrl;\r\n    this.httpClient.postForm(url.replace('{action}', this.model.options.actions.exportReport), data, doc);\r\n    this.actionSubject.next({ action: 'ExportReport', data });\r\n  }\r\n\r\n  public loadFile(fileName: string, content: any) {\r\n    if (typeof content !== 'string' || content === '') { return; }\r\n\r\n    if (content.indexOf('<?xml') === 0 || content.indexOf('{') === 0) { content = btoa(content); }\r\n\r\n    const data = {\r\n      action: 'OpenReport',\r\n      openingFileName: fileName || 'Report.mdc',\r\n      base64Data: content.indexOf('base64,') > 0 ? content.substr(content.indexOf('base64,') + 7) : content\r\n    };\r\n\r\n    if (fileName && (fileName.toLowerCase().indexOf('.mdx') >= 0 || fileName.toLowerCase().indexOf('.mrx') >= 0)) {\r\n      this.formService.showForm('passwordForm', data);\r\n    } else {\r\n      this.postOpen(data);\r\n    }\r\n  }\r\n\r\n  public postOpen(data: any) {\r\n    this.model.clearViewerState();\r\n    this.model.reportParams.reportFileName = data.openingFileName;\r\n    this.post('OpenReport', this.model.options.actions.openReport, data);\r\n  }\r\n\r\n  public action(event: ViewerEvent): void {\r\n    switch (event.name) {\r\n      case 'Find':\r\n        this.model.controls.findPanel.visible = !this.model.controls.findPanel.visible;\r\n        return;\r\n\r\n      case 'Bookmarks':\r\n        this.model.controls.bookmarksPanel.visible = !this.model.controls.bookmarksPanel.visible;\r\n        return;\r\n\r\n      case 'Parameters':\r\n        this.model.controls.parametersPanel.visible = !this.model.controls.parametersPanel.visible;\r\n        return;\r\n\r\n      case 'BookmarkAction':\r\n        if (this.model.reportParams.pageNumber === event.bookmarkPage || this.model.reportParams.viewMode !== 'SinglePage') {\r\n          this.helper.scrollToAnchor(event.bookmarkAnchor, event.componentGuid);\r\n          return;\r\n        } else {\r\n          this.model.reportParams.pageNumber = event.bookmarkPage;\r\n          this.model.options.bookmarkAnchor = event.bookmarkAnchor;\r\n          this.model.options.componentGuid = event.componentGuid;\r\n        }\r\n        break;\r\n\r\n      case 'GoToPage':\r\n        this.model.reportParams.pageNumber = event.value;\r\n        break;\r\n\r\n      case 'FirstPage':\r\n        this.model.reportParams.pageNumber = 0;\r\n        break;\r\n\r\n      case 'PrevPage':\r\n        this.model.reportParams.pageNumber = Math.max(0, this.model.reportParams.pageNumber - 1);\r\n        break;\r\n\r\n      case 'NextPage':\r\n        this.model.reportParams.pageNumber = Math.min(this.model.reportParams.pagesCount - 1, this.model.reportParams.pageNumber + 1);\r\n        break;\r\n\r\n      case 'LastPage':\r\n        this.model.reportParams.pageNumber = this.model.reportParams.pagesCount - 1;\r\n        break;\r\n\r\n      case 'ViewModeSinglePage':\r\n        this.model.reportParams.viewMode = 'SinglePage';\r\n        break;\r\n\r\n      case 'ViewModeContinuous':\r\n        this.model.reportParams.viewMode = 'Continuous';\r\n        break;\r\n\r\n      case 'ViewModeMultiplePages':\r\n        this.model.reportParams.viewMode = 'MultiplePages';\r\n        break;\r\n\r\n      case 'Zoom25': this.model.reportParams.zoom = 25; break;\r\n      case 'Zoom50': this.model.reportParams.zoom = 50; break;\r\n      case 'Zoom75': this.model.reportParams.zoom = 75; break;\r\n      case 'Zoom100': this.model.reportParams.zoom = 100; break;\r\n      case 'Zoom150': this.model.reportParams.zoom = 150; break;\r\n      case 'Zoom200': this.model.reportParams.zoom = 200; break;\r\n\r\n      case 'ZoomOnePage':\r\n      case 'ZoomPageWidth':\r\n        this.model.reportParams.zoom = event.name === 'ZoomPageWidth' ? this.pageService.getZoomByPageWidth() : this.pageService.getZoomByPageHeight();\r\n        break;\r\n\r\n      case 'Submit':\r\n        this.model.reportParams.editableParameters = null;\r\n        if (this.model.reportParams.type === 'Report') { this.model.reportParams.pageNumber = 0; }\r\n        if (this.model.options.isMobileDevice) { this.model.controls.parametersPanel.visible = false; }\r\n        this.actionSubject.next({ action: 'Variables' });\r\n        return;\r\n\r\n      case 'Reset':\r\n        if (this.model.options.paramsVariablesStartValues) {\r\n          this.model.options.paramsVariables = this.model.options.paramsVariablesStartValues;\r\n        }\r\n        this.actionSubject.next({ action: 'Reset' });\r\n        return;\r\n\r\n      case 'Editor':\r\n        this.actionSubject.next({ action: 'Editor', data: {} });\r\n        return;\r\n\r\n      case 'Resources':\r\n        this.model.controls.resourcesPanel.visible = !this.model.controls.resourcesPanel.visible;\r\n        return;\r\n\r\n      case 'PrintPdf':\r\n      case 'PrintWithPreview':\r\n      case 'PrintWithoutPreview':\r\n        this.actionSubject.next({ action: 'Print', data: { format: event.name } });\r\n        return;\r\n\r\n      case 'Print':\r\n        let format = 'PrintPdf';\r\n        switch (this.model.options.toolbar.printDestination) {\r\n          case 'Pdf':\r\n            format = 'PrintPdf';\r\n            break;\r\n          case 'Direct':\r\n            format = 'PrintWithoutPreview';\r\n            break;\r\n          case 'WithPreview':\r\n            format = 'PrintWithPreview';\r\n            break;\r\n        }\r\n        this.actionSubject.next({ action: 'Print', data: { format } });\r\n        return;\r\n\r\n      case 'Open':\r\n        this.model.openDialogFileMask = null;\r\n        setTimeout(() => {\r\n          this.model.openDialogFileMask = '.mdc,.mdz,.mdx,.mrt,.mrz,.mrx';\r\n        });\r\n        return;\r\n\r\n      case 'ResourceView':\r\n        this.postReportResource(event.value.name, 'View');\r\n        return;\r\n\r\n      case 'ResourceSaveFile':\r\n        this.postReportResource(event.value.name, 'SaveFile');\r\n        return;\r\n\r\n      case 'FullScreen':\r\n        this.fullScreenService.changeFullScreenMode(!this.model.options.appearance.fullScreenMode);\r\n        return;\r\n\r\n      case 'About':\r\n        this.actionSubject.next({ action: 'About' });\r\n        return;\r\n\r\n      case 'Pin':\r\n        this.model.options.toolbar.autoHide = !this.model.options.toolbar.autoHide;\r\n        this.pageService.calculateLayout();\r\n        if (this.model.options.toolbar.autoHide) {\r\n          setTimeout(() => {\r\n            this.hideToolbar();\r\n          }, 200);\r\n        }\r\n        return;\r\n\r\n      case 'Design':\r\n        this.actionSubject.next({ action: 'Design' });\r\n        break;\r\n\r\n      default:\r\n        if (event.name.indexOf('saveMenu') === 0) {\r\n          this.actionSubject.next({ action: 'Export', data: { format: event.name.substr(8) } });\r\n          return;\r\n        } else if (event.name.indexOf('sendEmailMenu') === 0) {\r\n          this.actionSubject.next({ action: 'SendEmail', data: { format: event.name.substr(13) } });\r\n          return;\r\n        }\r\n    }\r\n\r\n    this.getPages();\r\n  }\r\n\r\n  public showError(message: any, messageText?: string): boolean {\r\n    let type = 'Error';\r\n\r\n    // Check for error in 'ServerError:' string format\r\n    if (message != null && typeof (message) === 'string' && message.substr(0, 12) === 'ServerError:') {\r\n      if (message.length <= 13) {\r\n        messageText = 'An unknown error occurred (the server returned an empty value).';\r\n      } else {\r\n        messageText = message.substr(12);\r\n      }\r\n    }\r\n\r\n    // Check for error in JSON format\r\n    if (message != null && message.success === false && message.type && message.text) {\r\n      type = message.type;\r\n      messageText = message.text;\r\n    }\r\n\r\n    this.model.errorMessage = { error: 'Unknown error', type };\r\n\r\n    if (messageText != null) {\r\n      if (messageText === 'The report is not specified.' && !this.model.options.appearance.showReportIsNotSpecifiedMessage) { return true; }\r\n\r\n      this.model.errorMessage = { error: messageText.replace('\\n', '<br>'), type };\r\n\r\n      if (this.model.images) {\r\n        this.formService.showForm('errorMessageForm');\r\n      } else {\r\n        alert(messageText);\r\n      }\r\n      this.actionSubject.next({ action: 'Error' });\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public postReportResource(resourceName: string, viewType: string) {\r\n    const data = {\r\n      action: 'ReportResource',\r\n      reportResourceParams: {\r\n        resourceName,\r\n        viewType\r\n      }\r\n    };\r\n\r\n    const doc = viewType === 'View' ? this.helper.openNewWindow('about:blank', '_blank').document : null;\r\n    const url = this.model.requestUrl;\r\n    this.httpClient.postForm(url.replace('{action}', this.model.options.actions.viewerEvent), data, doc);\r\n  }\r\n\r\n  public postBookmarkNodeAction(node: BookmarkNode) {\r\n    node.selected = true;\r\n    this.action({ name: 'BookmarkAction', bookmarkPage: node.page, bookmarkAnchor: node.url.replace(/\\\\\\'/g, '\\'').substr(1), componentGuid: node.compunentGuid });\r\n  }\r\n\r\n  public viewerResized() {\r\n    this.menuService.closeAllMenus();\r\n  }\r\n\r\n  public initAutoUpdateCache() {\r\n    if (this.model.options.server.allowAutoUpdateCache) {\r\n      if (this.model.timerAutoUpdateCache) {\r\n        clearInterval(this.model.timerAutoUpdateCache);\r\n      }\r\n      this.model.timerAutoUpdateCache = setInterval(() => this.post('UpdateCache'), this.model.options.server.timeoutAutoUpdateCache);\r\n    }\r\n  }\r\n\r\n  public startRefreshReportTimer(timeout: number) {\r\n    if (this.model.refreshReportTimer != null) {\r\n      clearInterval(this.model.refreshReportTimer);\r\n      this.model.refreshReportTimer = null;\r\n    }\r\n\r\n    if (timeout && timeout > 0) {\r\n      this.model.refreshReportTimer = setInterval(() => {\r\n        if (!this.model.showProgress) {\r\n          this.post('Refresh');\r\n        }\r\n      }, timeout * 1000);\r\n    }\r\n  }\r\n\r\n  public checkTrExp() {\r\n    if (!this.model.options.cloudMode && !this.model.options.serverMode && !this.model.options.standaloneJsMode && !this.model.options.reportDesignerMode && !this.model.options.alternateValid) {\r\n      let buildDate = new Date();\r\n      try {\r\n        /*if (this.model.options.jsMode && typeof Stimulsoft != 'undefined') {\r\n          let innerDate = Stimulsoft.StiVersion.created.innerDate;\r\n          if (innerDate['getFullYear'] && innerDate.getFullYear() > 2017)\r\n            buildDate = Stimulsoft.StiVersion.created.innerDate;\r\n        }\r\n        else*/ if (this.model.options.buildDate) {\r\n          buildDate = new Date(this.model.options.buildDate);\r\n        }\r\n      } catch (e) {\r\n        buildDate = new Date();\r\n      }\r\n\r\n      const trDays = Math.floor(((new Date()).getTime() - buildDate.getTime()) / 1000 / 60 / 60 / 24);\r\n      if (trDays > 60) {\r\n        setTimeout(() => {\r\n          const message = trDays > 120 ? this.model.loc('NoticesYourTrialHasExpired') : this.model.loc('NoticesYouUsingTrialVersion');\r\n          const image = 'Notifications.Warning.png';\r\n          const buttonCaption = this.model.loc('ButtonOk');\r\n          let cancelAction: any;\r\n          let action: any;\r\n\r\n          if (trDays > 120) {\r\n            action = cancelAction = () => { window.location.href = 'https://www.stimulsoft.com/en/online-store'; };\r\n          }\r\n\r\n          this.model.notificationFormOptions = { message, image, buttonCaption, cancelAction, action };\r\n          this.formService.showForm('notificationForm');\r\n        }, 3000);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { Item } from './objects';\r\n\r\n@Injectable()\r\nexport class CollectionsService {\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  public getImageTypesItems() {\r\n    const items = [];\r\n    if (this.model.options.exports.showExportToImageBmp) { items.push(new Item('Bmp', 'Bmp', null, 'Bmp')); }\r\n    if (this.model.options.exports.showExportToImageGif) { items.push(new Item('Gif', 'Gif', null, 'Gif')); }\r\n    if (this.model.options.exports.showExportToImageJpeg) { items.push(new Item('Jpeg', 'Jpeg', null, 'Jpeg')); }\r\n    if (this.model.options.exports.showExportToImagePcx) { items.push(new Item('Pcx', 'Pcx', null, 'Pcx')); }\r\n    if (this.model.options.exports.showExportToImagePng) { items.push(new Item('Png', 'Png', null, 'Png')); }\r\n    if (this.model.options.exports.showExportToImageTiff) { items.push(new Item('Tiff', 'Tiff', null, 'Tiff')); }\r\n    if (this.model.options.exports.showExportToImageMetafile) { items.push(new Item('Emf', 'Emf', null, 'Emf')); }\r\n    if (this.model.options.exports.showExportToImageSvg) { items.push(new Item('Svg', 'Svg', null, 'Svg')); }\r\n    if (this.model.options.exports.showExportToImageSvgz) { items.push(new Item('Svgz', 'Svgz', null, 'Svgz')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getDataTypesItems() {\r\n    const items = [];\r\n    if (this.model.options.exports.showExportToCsv) { items.push(new Item('Csv', 'Csv', null, 'Csv')); }\r\n    if (this.model.options.exports.showExportToDbf) { items.push(new Item('Dbf', 'Dbf', null, 'Dbf')); }\r\n    if (this.model.options.exports.showExportToXml) { items.push(new Item('Xml', 'Xml', null, 'Xml')); }\r\n    if (this.model.options.exports.showExportToDif) { items.push(new Item('Dif', 'Dif', null, 'Dif')); }\r\n    if (this.model.options.exports.showExportToSylk) { items.push(new Item('Sylk', 'Sylk', null, 'Sylk')); }\r\n    if (this.model.options.exports.showExportToJson) { items.push(new Item('Json', 'Json', null, 'Json')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getExcelTypesItems() {\r\n    const items = [];\r\n    if (this.model.options.exports.showExportToExcel2007) { items.push(new Item('Excel2007', 'Excel', null, 'Excel2007')); }\r\n    if (this.model.options.exports.showExportToExcel) { items.push(new Item('ExcelBinary', 'Excel 97-2003', null, 'ExcelBinary')); }\r\n    if (this.model.options.exports.showExportToExcelXml) { items.push(new Item('ExcelXml', 'Excel Xml 2003', null, 'ExcelXml')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getHtmlTypesItems() {\r\n    const items = [];\r\n    if (this.model.options.exports.showExportToHtml) { items.push(new Item('Html', 'Html', null, 'Html')); }\r\n    if (this.model.options.exports.showExportToHtml5) { items.push(new Item('Html5', 'Html5', null, 'Html5')); }\r\n    if (this.model.options.exports.showExportToMht) { items.push(new Item('Mht', 'Mht', null, 'Mht')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getZoomItems() {\r\n    const items = [];\r\n    [0.25, 0.5, 0.75, 1, 1.25, 1.5, 2].forEach((item, i) => items.push(new Item('item' + i, (item * 100) + '%', null, item)));\r\n    return items;\r\n  }\r\n\r\n  public getImageFormatForHtmlItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Jpeg', null, 'Jpeg'));\r\n    items.push(new Item('item1', 'Gif', null, 'Gif'));\r\n    items.push(new Item('item2', 'Bmp', null, 'Bmp'));\r\n    items.push(new Item('item3', 'Png', null, 'Png'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getExportModeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Table', null, 'Table'));\r\n    items.push(new Item('item1', 'Span', null, 'Span'));\r\n    items.push(new Item('item2', 'Div', null, 'Div'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getImageResolutionItems() {\r\n    const items = [];\r\n    ['10', '25', '50', '75', '100', '200', '300', '400', '500'].forEach((item, i) => items.push(new Item('item' + i, item, null, parseInt(item, 10))));\r\n    return items;\r\n  }\r\n\r\n  public getImageCompressionMethodItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Jpeg', null, 'Jpeg'));\r\n    items.push(new Item('item1', 'Flate', null, 'Flate'));\r\n    return items;\r\n  }\r\n\r\n  public getImageQualityItems() {\r\n    const items = [];\r\n    [0.25, 0.5, 0.75, 0.85, 0.9, 0.95, 1].forEach((item, i) => items.push(new Item('item' + i, (item * 100).toString(), null, item)));\r\n    return items;\r\n  }\r\n\r\n  public getBorderTypeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('BorderTypeSimple'), null, 'Simple'));\r\n    items.push(new Item('item1', this.model.loc('BorderTypeSingle'), null, 'UnicodeSingle'));\r\n    items.push(new Item('item2', this.model.loc('BorderTypeDouble'), null, 'UnicodeDouble'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getEncodingDataItems() {\r\n    const items = [];\r\n    this.model.encodingData.forEach((item, i) => items.push(new Item('item' + i, item.value, null, item.key)));\r\n    return items;\r\n  }\r\n\r\n  public getImageFormatItems(withoutMonochrome: boolean = false) {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('ImageFormatColor'), null, 'Color'));\r\n    items.push(new Item('item1', this.model.loc('ImageFormatGrayscale'), null, 'Grayscale'));\r\n    if (!withoutMonochrome) { items.push(new Item('item2', this.model.loc('ImageFormatMonochrome'), null, 'Monochrome')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getMonochromeDitheringTypeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'None', null, 'None'));\r\n    items.push(new Item('item1', 'FloydSteinberg', null, 'FloydSteinberg'));\r\n    items.push(new Item('item2', 'Ordered', null, 'Ordered'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getTiffCompressionSchemeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Default', null, 'Default'));\r\n    items.push(new Item('item1', 'CCITT3', null, 'CCITT3'));\r\n    items.push(new Item('item2', 'CCITT4', null, 'CCITT4'));\r\n    items.push(new Item('item3', 'LZW', null, 'LZW'));\r\n    items.push(new Item('item4', 'None', null, 'None'));\r\n    items.push(new Item('item5', 'Rle', null, 'Rle'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getEncodingDifFileItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', '437', null, '437'));\r\n    items.push(new Item('item1', '850', null, '850'));\r\n    items.push(new Item('item2', '852', null, '852'));\r\n    items.push(new Item('item3', '857', null, '857'));\r\n    items.push(new Item('item4', '860', null, '860'));\r\n    items.push(new Item('item5', '861', null, '861'));\r\n    items.push(new Item('item6', '862', null, '862'));\r\n    items.push(new Item('item7', '863', null, '863'));\r\n    items.push(new Item('item8', '865', null, '865'));\r\n    items.push(new Item('item9', '866', null, '866'));\r\n    items.push(new Item('item10', '869', null, '869'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getExportModeRtfItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('ExportModeRtfTable'), null, 'Table'));\r\n    items.push(new Item('item1', this.model.loc('ExportModeRtfFrame'), null, 'Frame'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getEncodingDbfFileItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Default', null, 'Default'));\r\n    items.push(new Item('item1', '437 U.S. MS-DOS', null, 'USDOS'));\r\n    items.push(new Item('item2', '620 Mazovia(Polish) MS-DOS', null, 'MazoviaDOS'));\r\n    items.push(new Item('item3', '737 Greek MS-DOS(437G)', null, 'GreekDOS'));\r\n    items.push(new Item('item4', '850 International MS-DOS', null, 'InternationalDOS'));\r\n    items.push(new Item('item5', '852 Eastern European MS-DOS', null, 'EasternEuropeanDOS'));\r\n    items.push(new Item('item6', '857 Turkish MS-DOS', null, 'TurkishDOS'));\r\n    items.push(new Item('item7', '861 Icelandic MS-DOS', null, 'IcelandicDOS'));\r\n    items.push(new Item('item8', '865 Nordic MS-DOS', null, 'NordicDOS'));\r\n    items.push(new Item('item9', '866 Russian MS-DOS', null, 'RussianDOS'));\r\n    items.push(new Item('item10', '895 Kamenicky(Czech) MS-DOS', null, 'KamenickyDOS'));\r\n    items.push(new Item('item11', '1250 Eastern European Windows', null, 'EasternEuropeanWindows'));\r\n    items.push(new Item('item12', '1251 Russian Windows', null, 'RussianWindows'));\r\n    items.push(new Item('item13', '1252 WindowsANSI', null, 'WindowsANSI'));\r\n    items.push(new Item('item14', '1253 GreekWindows', null, 'GreekWindows'));\r\n    items.push(new Item('item15', '1254 TurkishWindows', null, 'TurkishWindows'));\r\n    items.push(new Item('item16', '10000 StandardMacintosh', null, 'StandardMacintosh'));\r\n    items.push(new Item('item17', '10006 GreekMacintosh', null, 'GreekMacintosh'));\r\n    items.push(new Item('item18', '10007 RussianMacintosh', null, 'RussianMacintosh'));\r\n    items.push(new Item('item19', '10029 EasternEuropeanMacintosh', null, 'EasternEuropeanMacintosh'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getAllowEditableItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('NameYes'), null, 'Yes'));\r\n    items.push(new Item('item1', this.model.loc('NameNo'), null, 'No'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getEncryptionKeyLengthItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', '40 bit RC4 (Acrobat 3)', null, 'Bit40'));\r\n    items.push(new Item('item1', '128 bit RC4 (Acrobat 5)', null, 'Bit128'));\r\n    items.push(new Item('item2', '128 bit AES (Acrobat 7)', null, 'Bit128_r4'));\r\n    items.push(new Item('item3', '256 bit AES (Acrobat 9)', null, 'Bit256_r5'));\r\n    items.push(new Item('item4', '256 bit AES (Acrobat X)', null, 'Bit256_r6'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getDataExportModeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('BandsFilterDataOnly'), null, 'Data'));\r\n    items.push(new Item('item1', this.model.loc('BandsFilterDataAndHeaders'), null, 'DataAndHeaders'));\r\n    items.push(new Item('item2', this.model.loc('BandsFilterDataAndHeadersFooters'), null, 'DataAndHeadersFooters'));\r\n    items.push(new Item('item3', this.model.loc('BandsFilterAllBands'), null, 'AllBands'));\r\n    return items;\r\n  }\r\n\r\n  public getFilterConditionItems(dataType) {\r\n    const items = [];\r\n    switch (dataType) {\r\n      case 'String':\r\n        items.push(new Item('item0', this.model.loc('ConditionEqualTo'), '', 'EqualTo'));\r\n        items.push(new Item('item1', this.model.loc('ConditionNotEqualTo'), '', 'NotEqualTo'));\r\n        items.push('separator1');\r\n        items.push(new Item('item2', this.model.loc('ConditionContaining'), '', 'Containing'));\r\n        items.push(new Item('item3', this.model.loc('ConditionNotContaining'), '', 'NotContaining'));\r\n        items.push('separator2');\r\n        items.push(new Item('item4', this.model.loc('ConditionBeginningWith'), '', 'BeginningWith'));\r\n        items.push(new Item('item5', this.model.loc('ConditionEndingWith'), '', 'EndingWith'));\r\n        items.push('separator3');\r\n        items.push(new Item('item2', this.model.loc('ConditionBetween'), '', 'Between'));\r\n        items.push(new Item('item3', this.model.loc('ConditionNotBetween'), '', 'NotBetween'));\r\n        items.push('separator4');\r\n        items.push(new Item('item6', this.model.loc('ConditionGreaterThan'), '', 'GreaterThan'));\r\n        items.push(new Item('item7', this.model.loc('ConditionGreaterThanOrEqualTo'), '', 'GreaterThanOrEqualTo'));\r\n        items.push('separator5');\r\n        items.push(new Item('item8', this.model.loc('ConditionLessThan'), '', 'LessThan'));\r\n        items.push(new Item('item9', this.model.loc('ConditionLessThanOrEqualTo'), '', 'LessThanOrEqualTo'));\r\n        items.push('separator6');\r\n        items.push(new Item('item10', this.model.loc('ConditionIsNull'), '', 'IsNull'));\r\n        items.push(new Item('item11', this.model.loc('ConditionIsNotNull'), '', 'IsNotNull'));\r\n        items.push('separator7');\r\n        items.push(new Item('item12', this.model.loc('ConditionIsBlank'), '', 'IsBlank'));\r\n        items.push(new Item('item13', this.model.loc('ConditionIsNotBlank'), '', 'IsNotBlank'));\r\n        break;\r\n      case 'Numeric':\r\n      case 'DateTime':\r\n        {\r\n          items.push(new Item('item0', this.model.loc('ConditionEqualTo'), '', 'EqualTo'));\r\n        }\r\n        items.push(new Item('item1', this.model.loc('ConditionNotEqualTo'), '', 'NotEqualTo'));\r\n        items.push('separator1');\r\n        items.push(new Item('item2', this.model.loc('ConditionBetween'), '', 'Between'));\r\n        items.push(new Item('item3', this.model.loc('ConditionNotBetween'), '', 'NotBetween'));\r\n        items.push('separator2');\r\n        items.push(new Item('item4', this.model.loc('ConditionGreaterThan'), '', 'GreaterThan'));\r\n        items.push(new Item('item5', this.model.loc('ConditionGreaterThanOrEqualTo'), '', 'GreaterThanOrEqualTo'));\r\n        items.push('separator3');\r\n        items.push(new Item('item6', this.model.loc('ConditionLessThan'), '', 'LessThan'));\r\n        items.push(new Item('item7', this.model.loc('ConditionLessThanOrEqualTo'), '', 'LessThanOrEqualTo'));\r\n        items.push('separator4');\r\n        items.push(new Item('item8', this.model.loc('ConditionIsNull'), '', 'IsNull'));\r\n        items.push(new Item('item9', this.model.loc('ConditionIsNotNull'), '', 'IsNotNull'));\r\n        break;\r\n      case 'Boolean':\r\n        {\r\n          items.push(new Item('item0', this.model.loc('ConditionEqualTo'), '', 'EqualTo'));\r\n        }\r\n        items.push(new Item('item1', this.model.loc('ConditionNotEqualTo'), '', 'NotEqualTo'));\r\n        break;\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getBoolItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('NameTrue'), null, 'True'));\r\n    items.push(new Item('item1', this.model.loc('NameFalse'), null, 'False'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getPaperSizesItems() {\r\n    const items = [];\r\n    this.model.paperSizes.forEach((item, i) => items.push(new Item('item' + i, item, null, item)));\r\n    return items;\r\n  }\r\n\r\n  public getOrientationItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('Portrait'), null, 'Portrait'));\r\n    items.push(new Item('item1', this.model.loc('Landscape'), null, 'Landscape'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getDashboardImageQualityItems() {\r\n    const items = [];\r\n    [50, 75, 100, 150, 200, 300, 500].forEach((item, i) => items.push(new Item('item' + i, item + '%', null, item.toString())));\r\n    return items;\r\n  }\r\n\r\n  public getPdfSecurityCertificatesItems() {\r\n    let items = [];\r\n    if (this.model.pdfSecurityCertificates) {\r\n      for (var i = 0; i < this.model.pdfSecurityCertificates.length; i++) {\r\n        var item = this.model.pdfSecurityCertificates[i];\r\n        items.push(new Item('item' + i, \"Name: \" + item.name + \"<br>Issuer: \" + item.issuer + \"<br>Valid from: \" + item.from + \" to \" + item.to, null, item.thumbprint, null, null, null, 'DigitalSignature'));\r\n      }\r\n    }\r\n    return items;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ExportFormSettings, ExportComponent, Message } from './objects';\r\nimport { FormService } from '../forms/form.service';\r\nimport { HelperService } from './helper.service';\r\nimport { ModelService } from './model.service';\r\nimport { CollectionsService } from './collections.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ExportService {\r\n\r\n  public exportFormSettings: ExportFormSettings;\r\n  public exportSettings: any = {};\r\n  public format: string;\r\n  public sendMail = false;\r\n\r\n  private subject = new Subject<any>();\r\n\r\n  constructor(public formService: FormService, public helper: HelperService, public model: ModelService, public collections: CollectionsService,\r\n    public controller: ControllerService) {\r\n\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'Export':\r\n          this.export(message.data.format);\r\n          break;\r\n        case 'SendEmail':\r\n          this.export(message.data.format, false, true);\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  public getMessage(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public export(format: string, update: boolean = false, sendMail: boolean = false) {\r\n    if (!this.helper.checkCloudAuthorization('export')) {\r\n      return;\r\n    }\r\n\r\n    this.sendMail = sendMail;\r\n    this.format = format;\r\n    this.exportSettings = this.getDefaultExportSettings(this.format);\r\n\r\n    if ((this.model.options.exports.showExportDialog && !sendMail) || (this.model.options.email.showExportDialog && sendMail)) {\r\n      this.exportFormSettings = this.getExportSetings(update);\r\n      if (!update) {\r\n        this.formService.closeForm('exportForm');\r\n        setTimeout(() => {\r\n          this.formService.showForm('exportForm');\r\n        });\r\n      }\r\n    } else {\r\n      this.postExport();\r\n    }\r\n  }\r\n\r\n  public postExport() {\r\n    if (!this.sendMail) {\r\n      this.controller.postExport(this.format, this.exportSettings);\r\n    } else {\r\n      this.subject.next('postMail');\r\n    }\r\n  }\r\n\r\n  getExportSetings(update: boolean): ExportFormSettings {\r\n    let result: ExportFormSettings;\r\n\r\n    this.getDefaultSettings();\r\n\r\n    switch (this.format) {\r\n      case 'Document':\r\n        result = { components: this.getComponents(['SaveReportMdc', 'SaveReportMdz', 'SaveReportMdx', 'SaveReportPassword']) };\r\n        break;\r\n\r\n      case 'Pdf':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution', 'ImageCompressionMethod',\r\n            'AllowEditable', 'ImageQuality', /*'StandardPdfFonts',*/ 'EmbeddedFonts', /*'UseUnicode', 'Compressed',*/ 'ExportRtfTextAsImage', 'PdfACompliance', 'UseDigitalSignature', 'DocumentSecurityButton', 'DigitalSignatureButton',\r\n            'OpenAfterExport', 'PasswordInputUser', 'PasswordInputOwner', 'PrintDocument', 'ModifyContents', 'CopyTextAndGraphics',\r\n            'AddOrModifyTextAnnotations', 'KeyLength', 'GetCertificateFromCryptoUI', 'SubjectNameString']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n      case 'Xps':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution', 'ImageQuality', 'OpenAfterExport',\r\n            'ExportRtfTextAsImage']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n      case 'Ppt2007':\r\n        result = { components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution', 'ImageQuality']) };\r\n        break;\r\n\r\n      case 'Html':\r\n        result = {\r\n          components: this.getComponents(['HtmlType', 'Zoom', 'ImageFormatForHtml', 'ExportMode', 'UseEmbeddedImages', 'AddPageBreaks']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n\r\n      case 'Html5':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'HtmlType', 'ImageFormatForHtml', 'ImageResolution',\r\n            'ImageQuality', 'ContinuousPages', 'OpenAfterExport']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n      case 'Mht':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'HtmlType', 'Zoom', 'ImageFormatForHtml',\r\n            'ExportMode', 'AddPageBreaks'])\r\n        };\r\n        break;\r\n      case 'Text':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'KillSpaceLines',\r\n            'PutFeedPageCode', 'DrawBorder', 'CutLongLines', 'BorderType', 'ZoomX', 'ZoomY', 'EncodingTextOrCsvFile'])\r\n        };\r\n        break;\r\n      case 'Rtf':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution',\r\n            'ImageQuality', 'ExportModeRtf', 'UsePageHeadersAndFooters', 'RemoveEmptySpaceAtBottom'])\r\n        };\r\n        break;\r\n      case 'Word2007':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution',\r\n            'ImageQuality', 'UsePageHeadersAndFooters', 'RemoveEmptySpaceAtBottom'])\r\n        };\r\n        break;\r\n      case 'Odt':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution',\r\n            'ImageQuality', 'RemoveEmptySpaceAtBottom'])\r\n        };\r\n        break;\r\n      case 'Excel':\r\n      case 'ExcelBinary':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ExcelType', 'ImageResolution',\r\n            'ImageQuality', 'DataExportMode', 'ExportObjectFormatting', 'UseOnePageHeaderAndFooter', 'ExportEachPageToSheet', 'ExportPageBreaks']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n      case 'ExcelXml':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ExcelType'])\r\n        };\r\n        break;\r\n      case 'Excel2007':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ExcelType', 'ImageResolution',\r\n            'ImageQuality', 'DataExportMode', 'ExportObjectFormatting', 'UseOnePageHeaderAndFooter', 'ExportEachPageToSheet', 'ExportPageBreaks'])\r\n        };\r\n        break;\r\n      case 'Ods':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution',\r\n            'ImageQuality'])\r\n        };\r\n        break;\r\n      case 'Csv':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'EncodingTextOrCsvFile',\r\n            'Separator', 'DataExportMode', 'SkipColumnHeaders'])\r\n        };\r\n        break;\r\n      case 'Dbf':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'EncodingDbfFile'])\r\n        };\r\n        break;\r\n      case 'Dif':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'ExportDataOnly',\r\n            'UseDefaultSystemEncoding', 'EncodingDifFile'])\r\n        };\r\n        break;\r\n      case 'Sylk':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'ExportDataOnly',\r\n            'UseDefaultSystemEncoding', 'EncodingDifFile'])\r\n        };\r\n        break;\r\n      case 'Json':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'DataExportMode'])\r\n        };\r\n        break;\r\n      case 'Xml':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType'])\r\n        };\r\n        break;\r\n      case 'ImageBmp':\r\n      case 'ImageGif':\r\n      case 'ImageJpeg':\r\n      case 'ImagePcx':\r\n      case 'ImagePng':\r\n      case 'ImageTiff':\r\n      case 'ImageEmf':\r\n      case 'ImageSvg':\r\n      case 'ImageSvgz':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageType', 'ImageZoom', 'ImageResolution',\r\n            'ImageFormat', 'DitheringType', 'TiffCompressionScheme', 'CompressToArchive', 'CutEdges'])\r\n        };\r\n        break;\r\n    }\r\n\r\n    result.groups = this.getGroups(this.format);\r\n    result.update = update;\r\n    return result;\r\n  }\r\n\r\n  getComponents(names: string[]): ExportComponent[] {\r\n    const mrgn = '8px';\r\n    const components: ExportComponent[] = [];\r\n    names.forEach(name => {\r\n      switch (name) {\r\n        case 'ImageType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('Type'), width: 160, tooltip: this.model.loc('TypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getImageTypesItems()\r\n          });\r\n          break;\r\n\r\n        case 'DataType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('Type'), width: 160, tooltip: this.model.loc('TypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getDataTypesItems()\r\n          });\r\n          break;\r\n\r\n        case 'ExcelType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('Type'), width: 160, tooltip: this.model.loc('TypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getExcelTypesItems()\r\n          });\r\n          break;\r\n\r\n        case 'HtmlType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('Type'), width: 160, tooltip: this.model.loc('TypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getHtmlTypesItems()\r\n          });\r\n          break;\r\n\r\n        case 'Zoom':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ZoomHtml'), width: 160, tooltip: this.model.loc('ZoomHtmlTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getZoomItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageZoom':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ZoomHtml'), width: 160, tooltip: this.model.loc('ZoomHtmlTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getZoomItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageFormatForHtml':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageFormatForHtml'), width: 160, tooltip: this.model.loc('ImageFormatForHtmlTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getImageFormatForHtmlItems()\r\n          });\r\n          break;\r\n\r\n        case 'ExportMode':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ExportMode'), width: 160, tooltip: this.model.loc('ExportModeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getExportModeItems()\r\n          });\r\n          break;\r\n\r\n        case 'CompressToArchive':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('CompressToArchive'), tooltip: this.model.loc('CompressToArchiveTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'UseEmbeddedImages':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('EmbeddedImageData'), tooltip: this.model.loc('EmbeddedImageDataTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'AddPageBreaks':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('AddPageBreaks'), tooltip: this.model.loc('AddPageBreaksTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ImageResolution':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageResolution'), width: 160, tooltip: this.model.loc('ImageResolutionTooltip'),\r\n            margin: '2px 4px 2px ' + mrgn, items: this.collections.getImageResolutionItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageCompressionMethod':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageCompressionMethod'), width: 160, tooltip: this.model.loc('ImageCompressionMethodTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getImageCompressionMethodItems()\r\n          });\r\n          break;\r\n\r\n        case 'AllowEditable':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('AllowEditable'), width: 160, tooltip: this.model.loc('AllowEditableTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getAllowEditableItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageQuality':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageQuality'), width: 160, tooltip: this.model.loc('ImageQualityTooltip'),\r\n            margin: '2px 4px 2px ' + mrgn, items: this.collections.getImageQualityItems()\r\n          });\r\n          break;\r\n\r\n        case 'ContinuousPages':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ContinuousPages'), tooltip: this.model.loc('ContinuousPagesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'StandardPdfFonts':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('StandardPDFFonts'), tooltip: this.model.loc('StandardPDFFontsTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'EmbeddedFonts':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('EmbeddedFonts'), tooltip: this.model.loc('EmbeddedFontsTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'UseUnicode':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('UseUnicode'), tooltip: this.model.loc('UseUnicodeTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'Compressed':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('Compressed'), tooltip: this.model.loc('CompressedTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportRtfTextAsImage':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportRtfTextAsImage'), tooltip: this.model.loc('ExportRtfTextAsImageTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'PdfACompliance':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('PdfACompliance'), tooltip: this.model.loc('PdfAComplianceTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'KillSpaceLines':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('KillSpaceLines'), tooltip: this.model.loc('KillSpaceLinesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'PutFeedPageCode':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('PutFeedPageCode'), tooltip: this.model.loc('PutFeedPageCodeTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'DrawBorder':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('DrawBorder'), tooltip: this.model.loc('DrawBorderTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'CutLongLines':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('CutLongLines'), tooltip: this.model.loc('CutLongLinesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'BorderType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('BorderType'), width: 160, tooltip: this.model.loc('BorderTypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getBorderTypeItems()\r\n          });\r\n          break;\r\n\r\n        case 'ZoomX':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ZoomXY').replace(':', '') + ' X ', width: 160, tooltip: this.model.loc('ZoomXYTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getZoomItems()\r\n          });\r\n          break;\r\n\r\n        case 'ZoomY':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ZoomXY').replace(':', '') + ' Y ', width: 160, tooltip: this.model.loc('ZoomXYTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getZoomItems()\r\n          });\r\n          break;\r\n\r\n        case 'EncodingTextOrCsvFile':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('EncodingData'), width: 160, tooltip: this.model.loc('EncodingDataTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getEncodingDataItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageFormat':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageFormat'), width: 160, tooltip: this.model.loc('ImageFormatTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getImageFormatItems()\r\n          });\r\n          break;\r\n\r\n        case 'DitheringType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('MonochromeDitheringType'), width: 160, tooltip: this.model.loc('MonochromeDitheringTypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getMonochromeDitheringTypeItems()\r\n          });\r\n          break;\r\n\r\n        case 'TiffCompressionScheme':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('TiffCompressionScheme'), width: 160, tooltip: this.model.loc('TiffCompressionSchemeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getTiffCompressionSchemeItems()\r\n          });\r\n          break;\r\n\r\n        case 'CutEdges':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('CutEdges'), tooltip: this.model.loc('CutEdgesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'MultipleFiles':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('MultipleFiles'), tooltip: this.model.loc('MultipleFilesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportDataOnly':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportDataOnly'), tooltip: this.model.loc('ExportDataOnlyTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'UseDefaultSystemEncoding':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('UseDefaultSystemEncoding'), tooltip: this.model.loc('UseDefaultSystemEncodingTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'EncodingDifFile':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('EncodingDifFile'), width: 160, tooltip: this.model.loc('EncodingDifFileTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getEncodingDifFileItems()\r\n          });\r\n          break;\r\n\r\n        case 'ExportModeRtf':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ExportModeRtf'), width: 160, tooltip: this.model.loc('ExportModeRtfTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getExportModeRtfItems()\r\n          });\r\n          break;\r\n\r\n        case 'UsePageHeadersAndFooters':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('UsePageHeadersFooters'), tooltip: this.model.loc('UsePageHeadersFootersTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'RemoveEmptySpaceAtBottom':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('RemoveEmptySpace'), tooltip: this.model.loc('RemoveEmptySpaceTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'Separator':\r\n          components.push({\r\n            name, type: 'TextBox', label: this.model.loc('Separator'), tooltip: this.model.loc('SeparatorTooltip'), width: 160,\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'DataExportMode':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('BandsFilter'), width: 160, tooltip: this.model.loc('BandsFilterTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getDataExportModeItems()\r\n          });\r\n          break;\r\n\r\n        case 'SkipColumnHeaders':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('SkipColumnHeaders'), tooltip: this.model.loc('SkipColumnHeadersTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportObjectFormatting':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportObjectFormatting'), tooltip: this.model.loc('ExportObjectFormattingTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'UseOnePageHeaderAndFooter':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('UseOnePageHeaderFooter'), tooltip: this.model.loc('UseOnePageHeaderFooterTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportEachPageToSheet':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportEachPageToSheet'), tooltip: this.model.loc('ExportEachPageToSheetTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportPageBreaks':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportPageBreaks'), tooltip: this.model.loc('ExportPageBreaksTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'EncodingDbfFile':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('EncodingDbfFile'), width: 160, tooltip: this.model.loc('EncodingDbfFileTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getEncodingDbfFileItems()\r\n          });\r\n          break;\r\n\r\n        case 'DocumentSecurityButton':\r\n          components.push({\r\n            name, type: 'SmallButton', caption: this.model.loc('DocumentSecurityButton'), width: 160,\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getEncodingDbfFileItems()\r\n          });\r\n          break;\r\n\r\n        case 'UseDigitalSignature':\r\n          components.push({\r\n            name, caption: this.model.loc('DigitalSignatureButton'), type: 'DropDownListForExportForm', tooltip: this.model.loc('UseDigitalSignatureTooltip'), width: 160,\r\n            items: this.collections.getPdfSecurityCertificatesItems(), margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    return components;\r\n  }\r\n\r\n  getGroups(format: string): any {\r\n    const openingGroupsStr = this.helper.getCookie('StimulsoftWebViewerExportSettingsOpeningGroups');\r\n    const openingGroups = openingGroupsStr ? JSON.parse(openingGroupsStr) : null;\r\n    const pageRangeAllIsDisabled = format.indexOf('Image') === 0 && format !== 'ImageTiff';\r\n\r\n    return {\r\n      savingReportGroup: { visible: format === 'Document', opened: openingGroups ? openingGroups.SavingReportGroup : true },\r\n      pageRangeGroup: { visible: format !== 'Document', opened: openingGroups ? openingGroups.PageRangeGroup : true, pageRangeAllIsDisabled },\r\n      settingsGroup: { visible: format !== 'Document', opened: openingGroups ? openingGroups.SettingsGroup : false }\r\n    };\r\n  }\r\n\r\n  getDefaultSettings(): any {\r\n    let settings: any;\r\n    if (this.model.options.exports.storeExportSettings && this.helper.getCookie('StimulsoftWebViewerExportSettings' + this.getCommonExportFormat())) {\r\n      const exportSettingsStr = this.helper.getCookie('StimulsoftWebViewerExportSettings' + this.getCommonExportFormat());\r\n      const exportSettings = JSON.parse(exportSettingsStr);\r\n      let exportFormat = exportSettings.ImageType || exportSettings.DataType || exportSettings.ExcelType || exportSettings.HtmlType;\r\n      if (exportFormat === 'ExcelBinary') { exportFormat = 'Excel'; }\r\n      this.format = exportFormat ? (exportSettings.ImageType ? 'Image' + exportFormat : exportFormat) : this.format;\r\n\r\n      const defSettings = this.getDefaultExportSettings(this.format);\r\n      const resultSettings: any = {};\r\n      Object.keys(defSettings).forEach(key => resultSettings[key] = exportSettings[key] || defSettings[key]);\r\n      Object.keys(exportSettings).forEach(key => resultSettings[key] = exportSettings[key] || defSettings[key]);\r\n\r\n      if (this.model.options.exports.showOpenAfterExport === false) {\r\n        resultSettings.OpenAfterExport = true;\r\n      } else if (!(this.format === 'Pdf' || this.format === 'Xps' || this.format === 'Html' || this.format === 'Excel' || this.format === 'ExcelBinary')) {\r\n        resultSettings.OpenAfterExport = false;\r\n      }\r\n\r\n      if (this.model.options.exports.openAfterExport === true || this.model.options.exports.openAfterExport === false) {\r\n        resultSettings.OpenAfterExport = this.model.options.exports.openAfterExport;\r\n      }\r\n\r\n      settings = resultSettings;\r\n    } else {\r\n      settings = this.getDefaultExportSettings(this.format);\r\n    }\r\n\r\n    this.updateTypes(settings);\r\n\r\n    this.exportSettings = this.helper.copyObject(settings);\r\n  }\r\n\r\n  updateTypes(defaultExportSettings: any) {\r\n    const types = ['ImageType', 'DataType', 'ExcelType', 'HtmlType'];\r\n    types.forEach((propertyName) => {\r\n      if (defaultExportSettings[propertyName]) {\r\n        switch (propertyName) {\r\n          case 'ImageType':\r\n            if (!this.model.options.exports.showExportToImageBmp && defaultExportSettings[propertyName] === 'Bmp') { defaultExportSettings[propertyName] = 'Gif'; }\r\n            if (!this.model.options.exports.showExportToImageGif && defaultExportSettings[propertyName] === 'Gif') { defaultExportSettings[propertyName] = 'Jpeg'; }\r\n            if (!this.model.options.exports.showExportToImageJpeg && defaultExportSettings[propertyName] === 'Jpeg') { defaultExportSettings[propertyName] = 'Pcx'; }\r\n            if (!this.model.options.exports.showExportToImagePcx && defaultExportSettings[propertyName] === 'Pcx') { defaultExportSettings[propertyName] = 'Png'; }\r\n            if (!this.model.options.exports.showExportToImagePng && defaultExportSettings[propertyName] === 'Png') { defaultExportSettings[propertyName] = 'Tiff'; }\r\n            if (!this.model.options.exports.showExportToImageTiff && defaultExportSettings[propertyName] === 'Tiff') { defaultExportSettings[propertyName] = 'Emf'; }\r\n            if (!this.model.options.exports.showExportToImageMetafile && defaultExportSettings[propertyName] === 'Emf') { defaultExportSettings[propertyName] = 'Svg'; }\r\n            if (!this.model.options.exports.showExportToImageSvg && defaultExportSettings[propertyName] === 'Svg') { defaultExportSettings[propertyName] = 'Svgz'; }\r\n            if (!this.model.options.exports.showExportToImageSvgz && defaultExportSettings[propertyName] === 'Svgz') { defaultExportSettings[propertyName] = 'Bmp'; }\r\n            break;\r\n\r\n          case 'DataType':\r\n            if (!this.model.options.exports.showExportToCsv && defaultExportSettings[propertyName] === 'Csv') { defaultExportSettings[propertyName] = 'Dbf'; }\r\n            if (!this.model.options.exports.showExportToDbf && defaultExportSettings[propertyName] === 'Dbf') { defaultExportSettings[propertyName] = 'Xml'; }\r\n            if (!this.model.options.exports.showExportToXml && defaultExportSettings[propertyName] === 'Xml') { defaultExportSettings[propertyName] = 'Dif'; }\r\n            if (!this.model.options.exports.showExportToDif && defaultExportSettings[propertyName] === 'Dif') { defaultExportSettings[propertyName] = 'Sylk'; }\r\n            if (!this.model.options.exports.showExportToSylk && defaultExportSettings[propertyName] === 'Sylk') { defaultExportSettings[propertyName] = 'Csv'; }\r\n            if (!this.model.options.exports.showExportToJson && defaultExportSettings[propertyName] === 'Json') { defaultExportSettings[propertyName] = 'Json'; }\r\n            break;\r\n\r\n          case 'ExcelType':\r\n            if (!this.model.options.exports.showExportToExcel2007 && defaultExportSettings[propertyName] === 'Excel2007') { defaultExportSettings[propertyName] = 'ExcelBinary'; }\r\n            if (!this.model.options.exports.showExportToExcel && defaultExportSettings[propertyName] === 'ExcelBinary') { defaultExportSettings[propertyName] = 'ExcelXml'; }\r\n            if (!this.model.options.exports.showExportToExcelXml && defaultExportSettings[propertyName] === 'ExcelXml') { defaultExportSettings[propertyName] = 'Excel2007'; }\r\n            break;\r\n\r\n          case 'HtmlType':\r\n            if (!this.model.options.exports.showExportToHtml && defaultExportSettings[propertyName] === 'Html') { defaultExportSettings[propertyName] = 'Html5'; }\r\n            if (!this.model.options.exports.showExportToHtml5 && defaultExportSettings[propertyName] === 'Html5') { defaultExportSettings[propertyName] = 'Mht'; }\r\n            if (!this.model.options.exports.showExportToMht && defaultExportSettings[propertyName] === 'Mht') { defaultExportSettings[propertyName] = 'Html'; }\r\n            break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  getCommonExportFormat(): string {\r\n    if (this.format === 'Html' || this.format === 'Html5' || this.format === 'Mht') { return 'Html'; }\r\n    if (this.format === 'Excel' || this.format === 'Excel2007' || this.format === 'ExcelXml') { return 'Excel'; }\r\n    if (this.format === 'Csv' || this.format === 'Dbf' || this.format === 'Xml' || this.format === 'Dif' || this.format === 'Sylk') { return 'Data'; }\r\n    if (this.format === 'ImageBmp' || this.format === 'ImageGif' || this.format === 'ImageJpeg' || this.format === 'ImagePcx' || this.format === 'ImagePng' ||\r\n      this.format === 'ImageTiff' || this.format === 'ImageEmf' || this.format === 'ImageSvg' || this.format === 'ImageSvgz') { return 'Image'; }\r\n\r\n    return this.format;\r\n  }\r\n\r\n  public getDefaultExportSettings(format: string, isDashboardExport: boolean = false) {\r\n    let exportSettings = null;\r\n\r\n    if (isDashboardExport) {\r\n      return this.model.options.exports.defaultSettings['Dashboard' + format];\r\n    }\r\n\r\n    switch (format) {\r\n      case 'Document':\r\n        exportSettings = { Format: 'Mdc' };\r\n        break;\r\n\r\n      case 'Pdf':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiPdfExportSettings'];\r\n        break;\r\n\r\n      case 'Xps':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiXpsExportSettings'];\r\n        break;\r\n\r\n      case 'Ppt2007':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiPpt2007ExportSettings'];\r\n        break;\r\n\r\n      case 'Html':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiHtmlExportSettings'];\r\n        exportSettings.HtmlType = 'Html';\r\n        break;\r\n\r\n      case 'Html5':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiHtmlExportSettings'];\r\n        exportSettings.HtmlType = 'Html5';\r\n        break;\r\n\r\n      case 'Mht':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiHtmlExportSettings'];\r\n        exportSettings.HtmlType = 'Mht';\r\n        break;\r\n\r\n      case 'Text':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiTxtExportSettings'];\r\n        break;\r\n\r\n      case 'Rtf':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiRtfExportSettings'];\r\n        break;\r\n\r\n      case 'Word2007':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiWord2007ExportSettings'];\r\n        break;\r\n\r\n      case 'Odt':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiOdtExportSettings'];\r\n        break;\r\n\r\n      case 'Excel':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiExcelExportSettings'];\r\n        exportSettings.ExcelType = 'ExcelBinary';\r\n        break;\r\n\r\n      case 'ExcelXml':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiExcelExportSettings'];\r\n        exportSettings.ExcelType = 'ExcelXml';\r\n        break;\r\n\r\n      case 'Excel2007':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiExcelExportSettings'];\r\n        exportSettings.ExcelType = 'Excel2007';\r\n        break;\r\n\r\n      case 'Ods':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiOdsExportSettings'];\r\n        break;\r\n\r\n      case 'ImageBmp':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Bmp';\r\n        break;\r\n\r\n      case 'ImageGif':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Gif';\r\n        break;\r\n\r\n      case 'ImageJpeg':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Jpeg';\r\n        break;\r\n\r\n      case 'ImagePcx':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Pcx';\r\n        break;\r\n\r\n      case 'ImagePng':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Png';\r\n        break;\r\n\r\n      case 'ImageTiff':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Tiff';\r\n        break;\r\n\r\n      case 'ImageSvg':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Svg';\r\n        break;\r\n\r\n      case 'ImageSvgz':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Svgz';\r\n        break;\r\n\r\n      case 'ImageEmf':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Emf';\r\n        break;\r\n\r\n      case 'Xml':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Xml';\r\n        break;\r\n\r\n      case 'Csv':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Csv';\r\n        break;\r\n\r\n      case 'Dbf':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Dbf';\r\n        break;\r\n\r\n      case 'Dif':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Dif';\r\n        break;\r\n\r\n      case 'Sylk':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Sylk';\r\n        break;\r\n    }\r\n\r\n    exportSettings.OpenAfterExport = !(this.model.options.exports.showOpenAfterExport === false);\r\n    if (!(format === 'Pdf' || format === 'Xps' || format === 'Html' || format === 'Excel' || format === 'ExcelBinary')) {\r\n      exportSettings.OpenAfterExport = false;\r\n    }\r\n\r\n    return exportSettings;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { ExportService } from './export.service';\r\nimport { FormService } from '../forms/form.service';\r\nimport { ControllerService } from './controller.service';\r\n\r\n@Injectable()\r\nexport class MailService {\r\n\r\n  constructor(public model: ModelService, public exportService: ExportService, public formService: FormService, public controller: ControllerService) {\r\n    exportService.getMessage().subscribe(event => {\r\n      if (event === 'postMail') {\r\n        this.postMail();\r\n      }\r\n    });\r\n  }\r\n\r\n  public postMail() {\r\n    this.fillDefaults();\r\n\r\n    if (this.model.options.email.showEmailDialog) {\r\n      this.formService.showForm('sendEmailForm');\r\n    } else {\r\n      this.sendMail();\r\n    }\r\n  }\r\n\r\n  public sendMail() {\r\n    const data = {\r\n      exportFormat: this.exportService.format,\r\n      exportSettings: this.exportService.exportSettings\r\n    };\r\n\r\n    this.formService.closeForm('sendEmailForm');\r\n    this.controller.post('EmailReport', this.model.options.actions.emailReport, data);\r\n    this.controller.actionSubject.next({ action: 'Email', data });\r\n  }\r\n\r\n  public fillDefaults() {\r\n    this.exportService.exportSettings.Email = this.model.options.email.defaultEmailAddress;\r\n    this.exportService.exportSettings.Message = this.model.options.email.defaultEmailMessage;\r\n    this.exportService.exportSettings.Subject = this.model.options.email.defaultEmailSubject;\r\n\r\n    let ext = this.exportService.format.toLowerCase().replace('image', '');\r\n    switch (ext) {\r\n      case 'excel': ext = 'xls'; break;\r\n      case 'excel2007': ext = 'xlsx'; break;\r\n      case 'excelxml': ext = 'xls'; break;\r\n      case 'html5': ext = 'html'; break;\r\n      case 'jpeg': ext = 'jpg'; break;\r\n      case 'ppt2007': ext = 'ppt'; break;\r\n      case 'text': ext = 'txt'; break;\r\n      case 'word2007': ext = 'docx'; break;\r\n    }\r\n\r\n    this.exportService.exportSettings.Attachment = this.model.reportParams.reportFileName + '.' + ext;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { ExportService } from './export.service';\r\nimport { HelperService } from './helper.service';\r\nimport { MailService } from './mail.service';\r\n\r\n@Injectable()\r\nexport class ApiService {\r\n\r\n  public EXPORT_FORMATS: string[] = ['Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n    'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n    'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'];\r\n\r\n  constructor(private model: ModelService, private controller: ControllerService, private exportService: ExportService,\r\n    private helper: HelperService, private mailService: MailService) { }\r\n\r\n  /**\r\n   * The current page number\r\n   */\r\n  public get currentPage(): number {\r\n    return this.model.reportParams.pageNumber;\r\n  }\r\n\r\n  public set currentPage(value: number) {\r\n    if (value >= 0 && value < this.model.reportParams.pagesCount) {\r\n      this.model.reportParams.pageNumber = value;\r\n      this.controller.getPages();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The total pages count\r\n   */\r\n  public get pageCount() {\r\n    return this.model.reportParams.pageNumber;\r\n  }\r\n\r\n  /**\r\n   * The view mode, can be 'SinglePage', 'Continuous' & 'MultiplePages'\r\n   */\r\n  public get viewMode(): string {\r\n    return this.model.reportParams.viewMode;\r\n  }\r\n\r\n  public set viewMode(value: string) {\r\n    if (value === 'SinglePage' || value === 'Continuous' || value === 'MultiplePages') {\r\n      this.model.reportParams.viewMode = value;\r\n      this.controller.getPages();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The page zoom in percent\r\n   * From 1 to 1000\r\n   */\r\n  public get zoom(): number {\r\n    return this.model.reportParams.zoom;\r\n  }\r\n\r\n  public set zoom(value: number) {\r\n    if (value >= 1 && value <= 1000) {\r\n      this.model.reportParams.zoom = value;\r\n      this.controller.getPages();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Zoom page in height\r\n   */\r\n  public zoomPageHeight() {\r\n    this.controller.action({ name: 'ZoomOnePage' });\r\n  }\r\n\r\n  /**\r\n   * Zoom page in width\r\n   */\r\n  public zoomPageWidth() {\r\n    this.controller.action({ name: 'ZoomPageWidth' });\r\n  }\r\n\r\n  /**\r\n   * Print to PDF\r\n   */\r\n  public printPdf() {\r\n    this.controller.action({ name: 'PrintPdf' });\r\n  }\r\n\r\n  /**\r\n   * Print with preview\r\n   */\r\n  public printWithPreview() {\r\n    this.controller.action({ name: 'PrintWithPreview' });\r\n  }\r\n\r\n  /**\r\n   * Print without preview\r\n   */\r\n  public printWithoutPreview() {\r\n    this.controller.action({ name: 'PrintWithoutPreview' });\r\n  }\r\n\r\n  /**\r\n   * Show export form\r\n   *\r\n   * @param format The format to export, can be 'Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n   * 'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n   * 'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'\r\n   */\r\n  public showExportForm(format: string) {\r\n    if (this.EXPORT_FORMATS.some(f => f === format)) {\r\n      this.controller.actionSubject.next({ action: 'Export', data: { format } });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show export form & email\r\n   *\r\n   * @param format The format to export, can be 'Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n   * 'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n   * 'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'\r\n   */\r\n  public showExportEmailForm(format: string) {\r\n    if (this.EXPORT_FORMATS.some(f => f === format)) {\r\n      this.controller.actionSubject.next({ action: 'SendEmail', data: { format } });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Export report/dashboard to selected format\r\n   * Use default settings if not specified\r\n   *\r\n   * @param format The format to export, can be 'Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n   * 'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n   * 'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'\r\n   *\r\n   * @param settings The export settings\r\n   */\r\n  public export(format: string, settings?: any) {\r\n    if (this.EXPORT_FORMATS.some(f => f === format)) {\r\n      const exportSettings = this.getExportSettings(format, settings);\r\n      this.controller.postExport(format, exportSettings);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Export report/dashboard to seleted format & email\r\n   * Use default settings if not specified\r\n   * Use default email settings if not specified\r\n   *\r\n   * @param format The format to export, can be 'Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n   * 'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n   * 'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'\r\n   *\r\n   * @param settings The export settings\r\n   *\r\n   * @param email The email\r\n   *\r\n   * @param message The email message\r\n   *\r\n   * @param subject The email subject\r\n   */\r\n  public exportEmail(format: string, settings?: any, email?: string, subject?: string, message?: string) {\r\n    if (this.EXPORT_FORMATS.some(f => f === format)) {\r\n      this.exportService.exportSettings = this.getExportSettings(format, settings);\r\n      this.exportService.format = format;\r\n      this.mailService.fillDefaults();\r\n\r\n      if (email) {\r\n        this.exportService.exportSettings.Email = email;\r\n      }\r\n\r\n      if (message) {\r\n        this.exportService.exportSettings.Message = message;\r\n      }\r\n\r\n      if (subject) {\r\n        this.exportService.exportSettings.Subject = subject;\r\n      }\r\n\r\n      this.mailService.sendMail();\r\n    }\r\n  }\r\n\r\n  private getExportSettings(format: string, settings?: any) {\r\n    this.exportService.sendMail = false;\r\n    this.exportService.format = format;\r\n    const exportSettings = this.helper.copyObject(this.exportService.getDefaultExportSettings(format));\r\n    if (settings) {\r\n      Object.keys(settings).forEach(key => exportSettings[key] = settings[key]);\r\n    }\r\n    return exportSettings;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { ExportService } from './export.service';\r\nimport { HelperService } from './helper.service';\r\nimport { StiHttpClientService } from './http-client.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { Message } from './objects';\r\n\r\n@Injectable()\r\nexport class PrintService {\r\n\r\n  constructor(public model: ModelService, public exportService: ExportService, public helper: HelperService,\r\n    public httpClient: StiHttpClientService, public controller: ControllerService) {\r\n\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      if (message.action === 'Print') {\r\n        this.postPrint(message.data.format);\r\n      }\r\n    });\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'PrintReport') {\r\n        switch (message.subAction) {\r\n          case 'PrintWithPreview':\r\n            this.printAsPopup(message.data);\r\n            break;\r\n\r\n          case 'PrintWithoutPreview':\r\n            this.printAsHtml(message.data);\r\n            break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  postPrint(printAction: string) {\r\n    if (printAction === 'PrintPdf' && /iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent) && this.helper.isTouchDevice()) {\r\n      const settings = this.exportService.getDefaultExportSettings('Pdf');\r\n      settings.OpenAfterExport = true;\r\n      this.postExport('Pdf', settings);\r\n      return;\r\n    }\r\n\r\n    const data = {\r\n      action: 'PrintReport',\r\n      printAction,\r\n      bookmarksPrint: this.model.options.appearance.bookmarksPrint\r\n    };\r\n\r\n    const url = ''; // this.model.options.requestUrl.replace('{action}', this.model.options.actions.printReport);\r\n    switch (printAction) {\r\n      case 'PrintPdf':\r\n        if (this.model.options.appearance.printToPdfMode === 'Popup' || this.helper.getNavigatorName() == 'Safari' || this.helper.getNavigatorName() == 'iPad') {\r\n          this.printAsPdfPopup(data);\r\n        } else {\r\n          this.printAsPdf(url, data);\r\n        }\r\n        break;\r\n\r\n      default:\r\n        this.controller.post('PrintReport', this.model.options.actions.printReport, data, 'text', printAction);\r\n        break;\r\n    }\r\n  }\r\n\r\n  public postExport(format: string, settings: any, elementName?: string, isDashboardExport?: boolean) {\r\n    const data = {\r\n      action: isDashboardExport ? 'ExportDashboard' : 'ExportReport',\r\n      exportFormat: format,\r\n      exportSettings: settings,\r\n      elementName\r\n    };\r\n\r\n    const doc = settings && settings.OpenAfterExport && this.model.options.appearance.openExportedReportWindow === '_blank' ? this.helper.openNewWindow('about:blank', '_blank').document : null;\r\n    const url = this.model.requestUrl;\r\n    this.httpClient.postForm(url.replace('{action}', this.model.options.actions.exportReport), data, doc);\r\n  }\r\n\r\n  public printAsPdfPopup(data: any) {\r\n    const url = this.model.requestUrl.replace('{action}', this.model.options.actions.printReport);\r\n    const win = this.helper.openNewWindow('about:blank', '_blank');\r\n    if (win != null) {\r\n      this.httpClient.postForm(url, data, win.document);\r\n    }\r\n  }\r\n\r\n  public printAsPdf(url: string, data: any) {\r\n    data.responseType = 'blob';\r\n    const viewer = this.model.controls.viewer.el.nativeElement;\r\n    const printFrameId = this.model.options.viewerId + '_PdfPrintFrame';\r\n    let printFrame: any = document.getElementById(printFrameId);\r\n    if (printFrame) { viewer.removeChild(printFrame); }\r\n\r\n    printFrame = document.createElement('iframe');\r\n    printFrame.id = printFrameId;\r\n    printFrame.name = printFrameId;\r\n    printFrame.width = '0';\r\n    printFrame.height = '0';\r\n    printFrame.style.position = 'absolute';\r\n    printFrame.style.border = 'none';\r\n\r\n    // Firefox does not load the invisible content of the iframe\r\n    if (this.helper.getNavigatorName() === 'Mozilla') {\r\n      printFrame.width = '100px';\r\n      printFrame.height = '100px';\r\n      printFrame.style.visibility = 'hidden';\r\n      printFrame.style.zIndex = '-100';\r\n      printFrame.style.pointerEvents = 'none';\r\n    }\r\n\r\n    viewer.insertBefore(printFrame, viewer.firstChild);\r\n\r\n    // Manual printing in browsers that do not support automatic PDF printing\r\n    if (this.helper.getNavigatorName() !== 'Mozilla') {\r\n      printFrame.onload = () => {\r\n        printFrame.contentWindow.focus();\r\n        printFrame.contentWindow.print();\r\n      };\r\n    }\r\n\r\n    const form: any = document.createElement('FORM');\r\n    form.setAttribute('id', 'printForm');\r\n    form.setAttribute('method', 'POST');\r\n    form.setAttribute('action', this.model.requestUrl.replace('{action}', this.model.options.actions.printReport));\r\n    form.setAttribute('target', this.model.options.viewerId + '_PdfPrintFrame');\r\n\r\n    const params = this.model.createPostParameters(data, true);\r\n    Object.keys(params).forEach(key => {\r\n      const paramsField = document.createElement('INPUT');\r\n      paramsField.setAttribute('type', 'hidden');\r\n      paramsField.setAttribute('name', key);\r\n      paramsField.setAttribute('value', params[key]);\r\n      form.appendChild(paramsField);\r\n    });\r\n\r\n    document.body.appendChild(form);\r\n    form.submit();\r\n    document.body.removeChild(form);\r\n  }\r\n\r\n  public printAsPopup(text: string) {\r\n    const width = this.model.reportParams.pagesWidth || 790;\r\n    const win = this.helper.openNewWindow('about:blank', 'PrintReport', 'height=900,width=' + width + ',toolbar=no,menubar=yes,scrollbars=yes,resizable=yes,location=no,directories=no,status=no');\r\n    if (win != null) {\r\n      win.document.open();\r\n      win.document.write(text);\r\n      win.document.close();\r\n    }\r\n  }\r\n\r\n  public printAsHtml(text: string) {\r\n    if (this.controller.showError(text)) { return; }\r\n\r\n    const viewer = this.model.controls.viewer.el.nativeElement;\r\n    // Remove '_PdfPrintFrame', this should fix IE strange error\r\n    let printFrameId = this.model.options.viewerId + '_PdfPrintFrame';\r\n    let printFrame: any = document.getElementById(printFrameId);\r\n    if (printFrame) { viewer.removeChild(printFrame); }\r\n\r\n    printFrameId = this.model.options.viewerId + '_HtmlPrintFrame';\r\n    printFrame = document.getElementById(printFrameId);\r\n    if (printFrame) { viewer.removeChild(printFrame); }\r\n\r\n    printFrame = document.createElement('iframe');\r\n    printFrame.id = printFrameId;\r\n    printFrame.name = printFrameId;\r\n    printFrame.width = '0';\r\n    printFrame.height = '0';\r\n    printFrame.style.position = 'absolute';\r\n    printFrame.style.border = 'none';\r\n    viewer.insertBefore(printFrame, viewer.firstChild);\r\n\r\n    printFrame.contentWindow.document.open();\r\n    printFrame.contentWindow.document.write(text);\r\n    printFrame.contentWindow.document.close();\r\n    setTimeout(() => {\r\n      printFrame.contentWindow.focus();\r\n      printFrame.contentWindow.print();\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ControllerService } from './controller.service';\r\nimport { ModelService } from './model.service';\r\nimport { Message } from './objects';\r\n\r\n@Injectable()\r\nexport class DashboardService {\r\n\r\n  constructor(private controller: ControllerService, public model: ModelService) {\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'GetReport' || message.action === 'OpenReport') {\r\n        setTimeout(() => {\r\n          if (this.model.reportParams.autoZoom) {\r\n\r\n          }\r\n        });\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { MenuService } from '../menu/menu.service';\r\n\r\n@Injectable()\r\nexport class TooltipService {\r\n\r\n  public state = 'initial';\r\n  public caption = '';\r\n  public helpLink = '';\r\n  public top = 0;\r\n  public left = 0;\r\n\r\n  private innerState = 'initial';\r\n  private timeout: any;\r\n\r\n  constructor(public model: ModelService, public menuService: MenuService) { }\r\n\r\n  public show(left: number, top: number, caption: string, below: boolean = true, helpLink?: string) {\r\n    if (this.menuService.isMenuVisible() || !this.model.options.appearance.showTooltips) {\r\n      this.hideImmediately();\r\n      return;\r\n    }\r\n\r\n    if (this.caption === caption && this.helpLink === helpLink && this.state !== 'initial') {\r\n      this.showInternal();\r\n      return;\r\n    }\r\n\r\n    this.caption = caption;\r\n    this.helpLink = helpLink;\r\n    this.state = this.innerState = this.state !== 'expanded' ? 'preInitial' : 'preInitial2';\r\n\r\n    setTimeout(() => {\r\n      const tooltip = this.model.controls.tooltip.el.nativeElement;\r\n      const browserWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n      if (!below) {\r\n        top -= tooltip.offsetHeight;\r\n      }\r\n      if (left + tooltip.offsetWidth > browserWidth) {\r\n        left = browserWidth - tooltip.offsetWidth;\r\n      }\r\n\r\n      this.left = left;\r\n      this.top = top;\r\n      if (this.innerState !== 'initial') {\r\n        this.showInternal();\r\n      }\r\n    });\r\n  }\r\n\r\n  private showInternal() {\r\n    this.state = 'expanded';\r\n    this.innerState = 'expanded';\r\n  }\r\n\r\n  public showFromTooltip() {\r\n    if (this.state !== 'preInitial') {\r\n      this.state = 'expanded';\r\n      this.innerState = 'expanded';\r\n    }\r\n  }\r\n\r\n  public hideImmediately() {\r\n    this.innerState = 'initial';\r\n    this.state = 'initial';\r\n  }\r\n\r\n  public hide() {\r\n    this.innerState = 'initial';\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n    this.timeout = setTimeout(() => {\r\n      if (this.innerState === 'initial') {\r\n        this.state = 'initial';\r\n      }\r\n      this.timeout = null;\r\n    }, 1000);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\nimport { AnimationService } from './animation.service';\r\n\r\n@Injectable()\r\nexport class FindService {\r\n\r\n  private symbols = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890';\r\n  private findLabels: any[] = [];\r\n\r\n  public text = '';\r\n  public lastFindText = '';\r\n  public matchCase = false;\r\n  public matchWholeWord = false;\r\n  public findMode = false;\r\n\r\n  constructor(private model: ModelService, private helper: HelperService, private animationService: AnimationService) {\r\n    model.controls.findPanel.getVisibility().subscribe((value) => {\r\n      if (!value) {\r\n        this.hideFindLabels();\r\n        this.lastFindText = '';\r\n      }\r\n    });\r\n  }\r\n\r\n  public hideFindLabels() {\r\n    this.findLabels.forEach((findLabel) => {\r\n      const parentElement = findLabel.parentElement;\r\n      parentElement.removeChild(findLabel);\r\n      if (parentElement.oldPositionStyle) {\r\n        parentElement.style.position = parentElement.oldPositionStyle;\r\n      }\r\n    });\r\n\r\n    this.findLabels = [];\r\n    this.findMode = false;\r\n    this.lastFindText = '';\r\n  }\r\n\r\n  public selectFindLabel(direction: string) {\r\n    if (this.findLabels.length === 0) {\r\n      return;\r\n    }\r\n    let selectedIndex = 0;\r\n    const labels = this.findLabels;\r\n    for (let i = 0; i < labels.length; i++) {\r\n      if (labels[i].isSelected) {\r\n        labels[i].setSelected(false);\r\n        selectedIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    if (direction === 'Next') {\r\n      selectedIndex++;\r\n      if (selectedIndex > labels.length - 1) {\r\n        selectedIndex = 0;\r\n      }\r\n    } else {\r\n      selectedIndex--;\r\n      if (selectedIndex < 0) {\r\n        selectedIndex = labels.length - 1;\r\n      }\r\n    }\r\n    labels[selectedIndex].setSelected(true);\r\n    this.goToFindedElement(labels[selectedIndex]);\r\n  }\r\n\r\n  public showFindLabels() {\r\n    this.hideFindLabels();\r\n    this.findMode = true;\r\n    this.lastFindText = this.text;\r\n    const text = this.matchCase ? this.text : this.text.toLowerCase();\r\n\r\n    this.model.pages.forEach(page => {\r\n      const pageElements = page.page.getElementsByTagName('*');\r\n      for (const pageElement of pageElements) {\r\n        let innerText = pageElement.innerHTML;\r\n        if (innerText && pageElement.childNodes.length === 1 && pageElement.childNodes[0].nodeName === '#text') {\r\n          if (!this.matchCase) {\r\n            innerText = innerText.toLowerCase();\r\n          }\r\n          if (innerText.indexOf(text) >= 0) {\r\n            if (this.matchWholeWord && !this.isWholeWord(innerText, text)) {\r\n              continue;\r\n            }\r\n            const label: any = document.createElement('div');\r\n            label.ownerElement = pageElement;\r\n            label.className = 'stiJsViewerFindLabel';\r\n            label.style.width = (pageElement.offsetWidth - 4) + 'px';\r\n            const labelHeight = pageElement.offsetHeight - 4;\r\n            label.style.height = labelHeight + 'px';\r\n            label.style.top = '0px';\r\n            label.style.left = '0px';\r\n            label.ownerElement.oldPositionStyle = label.ownerElement.style.position;\r\n            if (label.ownerElement.style.position !== 'absolute' && label.ownerElement.style.position !== 'fixed') {\r\n              label.ownerElement.style.position = 'relative';\r\n            }\r\n            pageElement.insertBefore(label, pageElement.childNodes[0]);\r\n\r\n            label.setSelected = function (state) {\r\n              this.isSelected = state;\r\n              this.style.border = '2px solid ' + (state ? 'red' : '#8a8a8a');\r\n            };\r\n\r\n            if (this.findLabels.length === 0) {\r\n              label.setSelected(true);\r\n            }\r\n            this.findLabels.push(label);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (this.findLabels.length > 0) {\r\n      this.goToFindedElement(this.findLabels[0]);\r\n    }\r\n  }\r\n\r\n  goToFindedElement(findLabel: any) {\r\n    if (findLabel && findLabel.ownerElement) {\r\n      const targetTop = this.helper.findPosY(findLabel.ownerElement, this.model.options.appearance.scrollbarsMode ? 'stiJsViewerReportPanel' : null, true) - findLabel.ownerElement.offsetHeight - 50;\r\n      const d = new Date();\r\n      const endTime = d.getTime() + this.model.options.scrollDuration;\r\n      this.animationService.showAnimationForScroll(this.model.controls.reportPanel.el.nativeElement, targetTop, endTime, () => { });\r\n    }\r\n  }\r\n\r\n  isWholeWord(str: string, word: string): boolean {\r\n    const index = str.indexOf(word);\r\n    const preSymbol = str.substring(index - 1, index);\r\n    const nextSymbol = str.substring(index + word.length, index + word.length + 1);\r\n\r\n    return ((preSymbol === '' || this.symbols.indexOf(preSymbol) === -1) && (nextSymbol === '' || this.symbols.indexOf(nextSymbol) === -1));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class Md5Service {\r\n  private hexcase = 0;\r\n  constructor() { }\r\n\r\n  hex_md5(a) { return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(a))) }\r\n  hex_hmac_md5(a, b) { return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(a), this.str2rstr_utf8(b))) }\r\n  md5_vm_test() { return this.hex_md5('abc').toLowerCase() == '900150983cd24fb0d6963f7d28e17f72' }\r\n  rstr_md5(a) { return this.binl2rstr(this.binl_md5(this.rstr2binl(a), a.length * 8)) }\r\n  rstr_hmac_md5(c, f) {\r\n    let e = this.rstr2binl(c); if (e.length > 16) {\r\n      e = this.binl_md5(e, c.length * 8)\r\n    } let a = Array(16), d = Array(16); for (let b = 0; b < 16; b++) { a[b] = e[b] ^ 909522486; d[b] = e[b] ^ 1549556828 } let g = this.binl_md5(a.concat(this.rstr2binl(f)), 512 + f.length * 8);\r\n    return this.binl2rstr(this.binl_md5(d.concat(g), 512 + 128))\r\n  }\r\n  rstr2hex(c) { try { this.hexcase } catch (g) { this.hexcase = 0 } let f = this.hexcase ? '0123456789ABCDEF' : '0123456789abcdef'; let b = ''; let a; for (let d = 0; d < c.length; d++) { a = c.charCodeAt(d); b += f.charAt((a >>> 4) & 15) + f.charAt(a & 15) } return b }\r\n  str2rstr_utf8(c) { let b = ''; let d = -1; let a, e; while (++d < c.length) { a = c.charCodeAt(d); e = d + 1 < c.length ? c.charCodeAt(d + 1) : 0; if (55296 <= a && a <= 56319 && 56320 <= e && e <= 57343) { a = 65536 + ((a & 1023) << 10) + (e & 1023); d++ } if (a <= 127) { b += String.fromCharCode(a) } else { if (a <= 2047) { b += String.fromCharCode(192 | ((a >>> 6) & 31), 128 | (a & 63)) } else { if (a <= 65535) { b += String.fromCharCode(224 | ((a >>> 12) & 15), 128 | ((a >>> 6) & 63), 128 | (a & 63)) } else { if (a <= 2097151) { b += String.fromCharCode(240 | ((a >>> 18) & 7), 128 | ((a >>> 12) & 63), 128 | ((a >>> 6) & 63), 128 | (a & 63)) } } } } } return b }\r\n  rstr2binl(b) { let a = Array(b.length >> 2); for (let c = 0; c < a.length; c++) { a[c] = 0 } for (let c = 0; c < b.length * 8; c += 8) { a[c >> 5] |= (b.charCodeAt(c / 8) & 255) << (c % 32) } return a }\r\n  binl2rstr(b) { let a = ''; for (let c = 0; c < b.length * 32; c += 8) { a += String.fromCharCode((b[c >> 5] >>> (c % 32)) & 255) } return a }\r\n  binl_md5(p, k) { p[k >> 5] |= 128 << ((k) % 32); p[(((k + 64) >>> 9) << 4) + 14] = k; let o = 1732584193; let n = -271733879; let m = -1732584194; let l = 271733878; for (let g = 0; g < p.length; g += 16) { let j = o; let h = n; let f = m; let e = l; o = this.md5_ff(o, n, m, l, p[g + 0], 7, -680876936); l = this.md5_ff(l, o, n, m, p[g + 1], 12, -389564586); m = this.md5_ff(m, l, o, n, p[g + 2], 17, 606105819); n = this.md5_ff(n, m, l, o, p[g + 3], 22, -1044525330); o = this.md5_ff(o, n, m, l, p[g + 4], 7, -176418897); l = this.md5_ff(l, o, n, m, p[g + 5], 12, 1200080426); m = this.md5_ff(m, l, o, n, p[g + 6], 17, -1473231341); n = this.md5_ff(n, m, l, o, p[g + 7], 22, -45705983); o = this.md5_ff(o, n, m, l, p[g + 8], 7, 1770035416); l = this.md5_ff(l, o, n, m, p[g + 9], 12, -1958414417); m = this.md5_ff(m, l, o, n, p[g + 10], 17, -42063); n = this.md5_ff(n, m, l, o, p[g + 11], 22, -1990404162); o = this.md5_ff(o, n, m, l, p[g + 12], 7, 1804603682); l = this.md5_ff(l, o, n, m, p[g + 13], 12, -40341101); m = this.md5_ff(m, l, o, n, p[g + 14], 17, -1502002290); n = this.md5_ff(n, m, l, o, p[g + 15], 22, 1236535329); o = this.md5_gg(o, n, m, l, p[g + 1], 5, -165796510); l = this.md5_gg(l, o, n, m, p[g + 6], 9, -1069501632); m = this.md5_gg(m, l, o, n, p[g + 11], 14, 643717713); n = this.md5_gg(n, m, l, o, p[g + 0], 20, -373897302); o = this.md5_gg(o, n, m, l, p[g + 5], 5, -701558691); l = this.md5_gg(l, o, n, m, p[g + 10], 9, 38016083); m = this.md5_gg(m, l, o, n, p[g + 15], 14, -660478335); n = this.md5_gg(n, m, l, o, p[g + 4], 20, -405537848); o = this.md5_gg(o, n, m, l, p[g + 9], 5, 568446438); l = this.md5_gg(l, o, n, m, p[g + 14], 9, -1019803690); m = this.md5_gg(m, l, o, n, p[g + 3], 14, -187363961); n = this.md5_gg(n, m, l, o, p[g + 8], 20, 1163531501); o = this.md5_gg(o, n, m, l, p[g + 13], 5, -1444681467); l = this.md5_gg(l, o, n, m, p[g + 2], 9, -51403784); m = this.md5_gg(m, l, o, n, p[g + 7], 14, 1735328473); n = this.md5_gg(n, m, l, o, p[g + 12], 20, -1926607734); o = this.md5_hh(o, n, m, l, p[g + 5], 4, -378558); l = this.md5_hh(l, o, n, m, p[g + 8], 11, -2022574463); m = this.md5_hh(m, l, o, n, p[g + 11], 16, 1839030562); n = this.md5_hh(n, m, l, o, p[g + 14], 23, -35309556); o = this.md5_hh(o, n, m, l, p[g + 1], 4, -1530992060); l = this.md5_hh(l, o, n, m, p[g + 4], 11, 1272893353); m = this.md5_hh(m, l, o, n, p[g + 7], 16, -155497632); n = this.md5_hh(n, m, l, o, p[g + 10], 23, -1094730640); o = this.md5_hh(o, n, m, l, p[g + 13], 4, 681279174); l = this.md5_hh(l, o, n, m, p[g + 0], 11, -358537222); m = this.md5_hh(m, l, o, n, p[g + 3], 16, -722521979); n = this.md5_hh(n, m, l, o, p[g + 6], 23, 76029189); o = this.md5_hh(o, n, m, l, p[g + 9], 4, -640364487); l = this.md5_hh(l, o, n, m, p[g + 12], 11, -421815835); m = this.md5_hh(m, l, o, n, p[g + 15], 16, 530742520); n = this.md5_hh(n, m, l, o, p[g + 2], 23, -995338651); o = this.md5_ii(o, n, m, l, p[g + 0], 6, -198630844); l = this.md5_ii(l, o, n, m, p[g + 7], 10, 1126891415); m = this.md5_ii(m, l, o, n, p[g + 14], 15, -1416354905); n = this.md5_ii(n, m, l, o, p[g + 5], 21, -57434055); o = this.md5_ii(o, n, m, l, p[g + 12], 6, 1700485571); l = this.md5_ii(l, o, n, m, p[g + 3], 10, -1894986606); m = this.md5_ii(m, l, o, n, p[g + 10], 15, -1051523); n = this.md5_ii(n, m, l, o, p[g + 1], 21, -2054922799); o = this.md5_ii(o, n, m, l, p[g + 8], 6, 1873313359); l = this.md5_ii(l, o, n, m, p[g + 15], 10, -30611744); m = this.md5_ii(m, l, o, n, p[g + 6], 15, -1560198380); n = this.md5_ii(n, m, l, o, p[g + 13], 21, 1309151649); o = this.md5_ii(o, n, m, l, p[g + 4], 6, -145523070); l = this.md5_ii(l, o, n, m, p[g + 11], 10, -1120210379); m = this.md5_ii(m, l, o, n, p[g + 2], 15, 718787259); n = this.md5_ii(n, m, l, o, p[g + 9], 21, -343485551); o = this.safe_add(o, j); n = this.safe_add(n, h); m = this.safe_add(m, f); l = this.safe_add(l, e) } return Array(o, n, m, l) }\r\n  md5_cmn(h, e, d, c, g, f) { return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e, h), this.safe_add(c, f)), g), d) } md5_ff(g, f, k, j, e, i, h) { return this.md5_cmn((f & k) | ((~f) & j), g, f, e, i, h) }\r\n  md5_gg(g, f, k, j, e, i, h) { return this.md5_cmn((f & j) | (k & (~j)), g, f, e, i, h) } md5_hh(g, f, k, j, e, i, h) { return this.md5_cmn(f ^ k ^ j, g, f, e, i, h) }\r\n  md5_ii(g, f, k, j, e, i, h) { return this.md5_cmn(k ^ (f | (~j)), g, f, e, i, h) } safe_add(a, d) { let c = (a & 65535) + (d & 65535); let b = (a >> 16) + (d >> 16) + (c >> 16); return (b << 16) | (c & 65535) }\r\n  bit_rol(a, b) { return (a << b) | (a >>> (32 - b)) };\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { DrillDown, Message } from './objects';\r\nimport { ControllerService } from './controller.service';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\n\r\n@Injectable()\r\nexport class DrillDownService {\r\n\r\n  constructor(public controller: ControllerService, public model: ModelService, public helper: HelperService) {\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action !== 'InitVars' && message.action !== 'viewer_loaded') {\r\n        this.model.options.drillDownInProgress = false;\r\n        const parameters = message.data;\r\n\r\n        if (this.model.drillDownButtons.length === 0) {\r\n          this.addButton(parameters.reportFileName, {});\r\n        }\r\n\r\n        if (message.action === 'DrillDown') {\r\n          const useDbsDrillDownPanel = false; // jsObject.controls.dashboardsPanel && jsObject.controls.dashboardsPanel.visible && jsObject.controls.dashboardsPanel.selectedButton;\r\n          if (useDbsDrillDownPanel) {\r\n            // jsObject.controls.dashboardsPanel.addDrillDownButton(null, parameters.drillDownGuid, parameters.drillDownParameters, parameters.previewSettings, parameters.reportFileName);\r\n          }\r\n          this.showDrillDownPage(parameters.reportFileName, parameters.drillDownGuid, parameters.drillDownParameters, useDbsDrillDownPanel);\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  private showDrillDownPage(reportFileName: string, drillDownGuid: string, drillDownParameters: any, useDbsDrillDownPanel: boolean) {\r\n    if (useDbsDrillDownPanel) { return; }\r\n\r\n    let buttonExist = false;\r\n    this.model.drillDownButtons.forEach((b: DrillDown) => {\r\n      if (b.reportParams.drillDownGuid === drillDownGuid) {\r\n        this.model.drillDownButtons.forEach(bt => bt.selected = false);\r\n        buttonExist = b.selected = b.visible = true;\r\n      }\r\n    });\r\n\r\n    if (!buttonExist) {\r\n      this.addButton(reportFileName);\r\n      this.model.reportParams.drillDownParameters = drillDownParameters;\r\n      this.model.reportParams.pageNumber = 0;\r\n      this.model.reportParams.pagesWidth = 0;\r\n      this.model.reportParams.pagesHeight = 0;\r\n    }\r\n  }\r\n\r\n  public addButton(caption: string, reportParams: any = {}) {\r\n    this.model.drillDownButtons.forEach(b => b.selected = false);\r\n    this.model.drillDownButtons.push({ caption, selected: true, reportParams, visible: true });\r\n    this.updateVisibility();\r\n  }\r\n\r\n  public updateVisibility() {\r\n    this.model.controls.drillDownPanel.visible = this.model.drillDownButtons.length > 1;\r\n  }\r\n\r\n  public saveState() {\r\n    const sButton = this.model.drillDownButtons.find(b => b.selected);\r\n    if (sButton) {\r\n      sButton.reportParams = this.model.getReportParams();\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { Md5Service } from './md5.service';\r\nimport { InteractionParams, InteractionObject, Variable, Message } from './objects';\r\nimport { HelperService } from './helper.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { DrillDownService } from './drill-down.service';\r\n\r\n@Injectable()\r\nexport class InteractionsService {\r\n\r\n  constructor(public model: ModelService, public md5: Md5Service, public controller: ControllerService, public helper: HelperService,\r\n    public drillDownService: DrillDownService) {\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'InitVars') {\r\n        this.showParametersPanel(message.data);\r\n      }\r\n    });\r\n\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'Variables':\r\n          this.postInteraction({ action: 'Variables', variables: this.getParametersValues() });\r\n          break;\r\n\r\n        case 'Reset':\r\n          this.showParametersPanel(this.model.options.paramsVariables);\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  public postInteraction(params: InteractionParams) {\r\n    this.drillDownService.saveState();\r\n    // Add new drill-down parameters to drill-down queue and calc guid\r\n    if (params.action !== 'InitVars' && (params.action === 'DrillDown' || params.action === 'DashboardDrillDown')) {\r\n      if (this.model.options.drillDownInProgress) {\r\n        return;\r\n      }\r\n\r\n      if (params.action === 'DashboardDrillDown' && params.drillDownParameters) {\r\n        params.drillDownParameters.isDashboardDrillDown = true; // add dbs flag\r\n      }\r\n      const drillDownParameters = this.model.reportParams.drillDownParameters || [];\r\n      params.drillDownParameters = params.drillDownParameters ? drillDownParameters.concat(params.drillDownParameters) : drillDownParameters;\r\n\r\n      if (params.action === 'DrillDown') {\r\n        params.drillDownGuid = this.md5.hex_md5(JSON.stringify(this.sortPropsInDrillDownParameters(params.drillDownParameters)));\r\n      } else {\r\n        params.dashboardDrillDownGuid = this.md5.hex_md5(JSON.stringify(this.sortPropsInDrillDownParameters(params.drillDownParameters)));\r\n      }\r\n\r\n      this.model.options.drillDownInProgress = true;\r\n    }\r\n\r\n    this.controller.post(params.action, this.model.options.actions.interaction, params);\r\n  }\r\n\r\n  showParametersPanel(data: any) {\r\n    if (!data) {\r\n      return;\r\n    }\r\n\r\n    if (this.controller.showError(data)) {\r\n      data = null;\r\n    }\r\n\r\n    this.model.options.isParametersReceived = true;\r\n    this.model.options.paramsVariables = typeof data === 'string' ? JSON.parse(data) : data;\r\n    this.model.controls.parametersPanel.visible = !this.model.options.isMobileDevice;\r\n\r\n    // if (this.model.reportParams.type === 'Dashboard') jsObject.postAction('GetPages');\r\n\r\n    const paramsVariables = this.helper.copyObject(this.model.options.paramsVariables);\r\n    const countParameters: number = this.helper.getCountObjects(paramsVariables);\r\n    const countColumns: number = (countParameters <= this.model.options.minParametersCountForMultiColumns)\r\n      ? 1 : this.model.options.appearance.parametersPanelColumnsCount;\r\n\r\n    let countInColumn = Math.trunc(countParameters / countColumns);\r\n    if (countInColumn * countColumns < countParameters) {\r\n      countInColumn++;\r\n    }\r\n\r\n    // setup lists\r\n    for (let i = 0; i < countParameters; i++) {\r\n      const variable = paramsVariables[i] as Variable;\r\n      if (variable.items) {\r\n        variable.items.forEach((v) => {\r\n          v.isChecked = true;\r\n          v.visible = true;\r\n        });\r\n      }\r\n\r\n      variable.isNull = (variable.type === 'DateTime' && variable.value === null && variable.basicType === 'NullableValue');\r\n    }\r\n\r\n    this.model.interactions = { paramsVariables, countColumns: new Array(countColumns), countInColumn: new Array(countInColumn) };\r\n  }\r\n\r\n  sortPropsInDrillDownParameters(inArray: []): any[] {\r\n    if (!inArray || !inArray.length) {\r\n      return inArray;\r\n    }\r\n    const outArray: any[] = [];\r\n    for (let i = 0; i < inArray.length; i++) {\r\n      const propNames = [];\r\n      const el: any = inArray[i];\r\n      const copyEl = {};\r\n      Object.keys(el).forEach(p => {\r\n        if (el.hasOwnProperty(p)) {\r\n          propNames.push(p);\r\n        }\r\n      });\r\n\r\n      propNames.sort();\r\n      propNames.forEach(propName => copyEl[propName] = el[propName]);\r\n      outArray[i] = copyEl;\r\n    }\r\n    return outArray;\r\n  }\r\n\r\n  public getParametersValues(): any {\r\n    const parametersValues = {};\r\n    Object.keys(this.model.interactions.paramsVariables).forEach(i => {\r\n      const parameter: Variable = this.model.interactions.paramsVariables[i];\r\n      parametersValues[parameter.name] = this.getVariableValue(parameter);\r\n    });\r\n    return parametersValues;\r\n  }\r\n\r\n  getVariableValue(parameter: Variable): any {\r\n    if (parameter.isNull) {\r\n      return null;\r\n    }\r\n\r\n    switch (parameter.basicType) {\r\n      case 'Value':\r\n      case 'NullableValue':\r\n        return this.val(parameter.key, parameter, parameter.allowUserValues ? parameter.value : parameter.key);\r\n\r\n      case 'Range':\r\n        return { from: this.val(parameter.key, parameter), to: this.val(parameter.keyTo, parameter) };\r\n\r\n      case 'List':\r\n        const value = [];\r\n        if (parameter.items) {\r\n          parameter.items.filter(i => parameter.allowUserValues || i.isChecked).forEach(item => value.push(this.val(item.key, parameter)));\r\n        }\r\n        return value;\r\n    }\r\n  }\r\n\r\n  val(key: any, parameter: Variable, value?: any): any {\r\n    return parameter.type === 'DateTime' ? this.helper.getStringDateTime(key, parameter.dateTimeType) : (value === undefined ? key : value);\r\n  }\r\n\r\n  public initializeInteractions(page: any) {\r\n    if (!page) {\r\n      return;\r\n    }\r\n    const elems = page.querySelectorAll ? page.querySelectorAll('td,div,span,rect,path,ellipse') : page.getElementsByTagName('td');\r\n    const collapsedHash = [];\r\n    for (const elem of elems) {\r\n      if (elem.getAttribute('interaction') && (\r\n        elem.getAttribute('pageguid') ||\r\n        elem.getAttribute('reportfile') ||\r\n        elem.getAttribute('collapsed') ||\r\n        elem.getAttribute('databandsort'))) {\r\n\r\n        elem.style.cursor = 'pointer';\r\n\r\n        const sort = elem.getAttribute('sort');\r\n        if (sort) {\r\n          this.paintSortingArrow(elem, sort);\r\n        }\r\n\r\n        const collapsed = elem.getAttribute('collapsed');\r\n        if (collapsed) {\r\n          const compId = elem.getAttribute('compindex') + '|' + elem.getAttribute('interaction');\r\n          if (collapsedHash.indexOf(compId) < 0) {\r\n            this.paintCollapsingIcon(elem, collapsed === 'true');\r\n            collapsedHash.push(compId);\r\n          }\r\n        }\r\n\r\n        elem.onclick = (e: any) => {\r\n          if (elem.getAttribute('pageguid') || elem.getAttribute('reportfile')) {\r\n            this.postInteractionDrillDown(elem);\r\n          } else if (elem.getAttribute('collapsed')) {\r\n            this.postInteractionCollapsing(elem);\r\n          } else {\r\n            this.postInteractionSorting(elem, e.ctrlKey);\r\n          }\r\n        };\r\n\r\n        if (elem.getAttribute('pageguid') || elem.getAttribute('reportfile')) {\r\n          elem.onmouseover = () => elem.style.opacity = 0.75;\r\n          elem.onmouseout = () => elem.style.opacity = 1;\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  public getComponentOffset(component: any) {\r\n    let offsetX = 0;\r\n    let offsetY = 0;\r\n    const startComponent = component;\r\n    while (component && !isNaN(component.offsetLeft) && !isNaN(component.offsetTop)\r\n      && (component === startComponent || component.style.position === '' || component.style.position === 'static')) {\r\n      offsetX += component.offsetLeft - component.scrollLeft;\r\n      offsetY += component.offsetTop - component.scrollTop;\r\n      component = component.offsetParent;\r\n    }\r\n    return { top: offsetY, left: offsetX };\r\n  }\r\n\r\n  public paintSortingArrow(component: any, sort: string) {\r\n    if (component.arrowImg) { return; }\r\n\r\n    const arrowImg = document.createElement(\"div\");\r\n    let sortUpSrc = \"<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12'><path d='M1 9l5-4 5 4z' fill='#eeeeee' stroke='#666'/></svg>\";\r\n    let sortDownSrc = \"<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12'><path d='M1 5l5 4 5-4z' fill='#eeeeee' stroke='#666'/></svg>\";\r\n    arrowImg.innerHTML = sort == \"asc\" ? sortDownSrc : sortUpSrc;\r\n\r\n    const arrowWidth = (this.model.reportParams.zoom / 100) * 16;\r\n    const arrowHeight = (this.model.reportParams.zoom / 100) * 16;\r\n\r\n    arrowImg.style.position = 'absolute';\r\n    arrowImg.style.width = arrowWidth + 'px';\r\n    arrowImg.style.height = arrowHeight + 'px';\r\n    component.appendChild(arrowImg);\r\n    component.arrowImg = arrowImg;\r\n\r\n    const oldPosition = component.style.position;\r\n    const oldClassName = component.className;\r\n    component.style.position = 'relative';\r\n    if (!oldClassName) { component.className = 'stiSortingParentElement'; }\r\n\r\n    const arrowLeftPos = this.helper.findPosX(arrowImg, component.className);\r\n    const arrowTopPos = this.helper.findPosY(arrowImg, component.className);\r\n\r\n    arrowImg.style.marginLeft = (component.offsetWidth - arrowLeftPos - arrowWidth - ((this.model.reportParams.zoom / 100) * 3)) + 'px';\r\n    arrowImg.style.marginTop = (component.offsetHeight / 2 - arrowHeight / 2 - arrowTopPos) + 'px';\r\n    if (oldPosition) component.style.position = oldPosition;\r\n    component.className = oldClassName;\r\n  }\r\n\r\n  public paintCollapsingIcon(component: any, collapsed: boolean) {\r\n    if (component.collapsImg) { return; }\r\n    const collapsImg = document.createElement('img');\r\n    collapsImg.src = collapsed ? this.model.img('CollapsingPlus.png') : this.model.img('CollapsingMinus.png');\r\n    collapsImg.style.position = 'absolute';\r\n    const collapsWidth = (this.model.reportParams.zoom / 100) * 10;\r\n    const collapsHeight = (this.model.reportParams.zoom / 100) * 10;\r\n    collapsImg.style.width = collapsWidth + 'px';\r\n    collapsImg.style.height = collapsHeight + 'px';\r\n    component.appendChild(collapsImg);\r\n    component.collapsImg = collapsImg;\r\n\r\n    const componentOffset = this.getComponentOffset(component);\r\n    const collapsOffset = this.getComponentOffset(collapsImg);\r\n    collapsImg.style.marginLeft = (componentOffset.left - collapsOffset.left + collapsWidth / 3) + 'px';\r\n    collapsImg.style.marginTop = (componentOffset.top - collapsOffset.top + collapsWidth / 3) + 'px';\r\n  }\r\n\r\n  public postInteractionSorting(component: any, isCtrl: boolean) {\r\n    const params: InteractionParams = {\r\n      action: 'Sorting',\r\n      sortingParameters: {\r\n        ComponentName: component.getAttribute('interaction') + ';' + isCtrl.toString(),\r\n        DataBand: component.getAttribute('databandsort')\r\n      }\r\n    };\r\n\r\n    if (this.model.options.isParametersReceived) {\r\n      params.variables = this.getParametersValues();\r\n    }\r\n\r\n    this.postInteraction(params);\r\n  }\r\n\r\n  public postInteractionDrillDown(component: any) {\r\n    const params: InteractionParams = {\r\n      action: 'DrillDown',\r\n      drillDownParameters: {\r\n        ComponentIndex: component.getAttribute('compindex'),\r\n        ElementIndex: component.getAttribute('elementindex'),\r\n        PageIndex: component.getAttribute('pageindex'),\r\n        PageGuid: component.getAttribute('pageguid'),\r\n        ReportFile: component.getAttribute('reportfile')\r\n      }\r\n    };\r\n\r\n    this.postInteraction(params);\r\n  }\r\n\r\n  public postInteractionCollapsing(component: any) {\r\n    const componentName = component.getAttribute('interaction');\r\n    const collapsingIndex = component.getAttribute('compindex');\r\n    const collapsed = component.getAttribute('collapsed') === 'true' ? false : true;\r\n\r\n    if (!this.model.reportParams.collapsingStates) { this.model.reportParams.collapsingStates = {}; }\r\n    if (!this.model.reportParams.collapsingStates[componentName]) { this.model.reportParams.collapsingStates[componentName] = {}; }\r\n    this.model.reportParams.collapsingStates[componentName][collapsingIndex] = collapsed;\r\n\r\n    const params: InteractionParams = {\r\n      action: 'Collapsing',\r\n      collapsingParameters: {\r\n        ComponentName: componentName,\r\n        CollapsingStates: this.model.reportParams.collapsingStates\r\n      }\r\n    };\r\n\r\n    if (this.model.options.isParametersReceived) {\r\n      params.variables = this.getParametersValues();\r\n    }\r\n\r\n    this.postInteraction(params);\r\n  }\r\n\r\n  public updateAllHyperLinks() {\r\n    let pointers = this.model.reportParams.tableOfContentsPointers;\r\n    //var bookmarksPanel = this.controls.bookmarksPanel;\r\n    if (this.model.reportParams.bookmarksContent != null || (pointers && pointers.length > 0)) {\r\n      this.model.pages.forEach(p => {\r\n        const page = p.page;\r\n\r\n        const aHyperlinks = page.getElementsByTagName('a');\r\n\r\n        for (const aHyperlink of aHyperlinks) {\r\n          aHyperlink.hrefContent = aHyperlink.getAttribute('href');\r\n\r\n          if (aHyperlink.hrefContent) {\r\n\r\n            if (aHyperlink.hrefContent.indexOf(\"#\") == 0) {\r\n              let anchorParams = aHyperlink.hrefContent.substring(1).split(\"#GUID#\");\r\n              aHyperlink.anchorName = anchorParams[0];\r\n              aHyperlink.componentGuid = anchorParams.length > 1 ? anchorParams[1] : \"\";\r\n\r\n              aHyperlink.onclick = () => {\r\n                let currAnchorName = aHyperlink.anchorName;\r\n                let cuurCompGuid = aHyperlink.componentGuid;\r\n\r\n                try {\r\n                  currAnchorName = decodeURI(aHyperlink.anchorName)\r\n                }\r\n                catch (e) {\r\n                  currAnchorName = aHyperlink.anchorName;\r\n                }\r\n\r\n                if (pointers.length > 0) {\r\n                  let pageIndex = 1;\r\n\r\n                  for (let i = 0; i < pointers.length; i++) {\r\n                    if (cuurCompGuid) {\r\n                      if (pointers[i].componentGuid == cuurCompGuid) {\r\n                        pageIndex = pointers[i].pageIndex;\r\n                        break;\r\n                      }\r\n                    }\r\n                    else if (currAnchorName) {\r\n                      let pointerAnchor = pointers[i].anchor.indexOf(\"#\") == 0 ? pointers[i].anchor.substring(1) : pointers[i].anchor;\r\n                      if (pointerAnchor == currAnchorName) {\r\n                        pageIndex = pointers[i].pageIndex;\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n\r\n                  let anchorName = \"\";\r\n                  if (currAnchorName) anchorName += currAnchorName;\r\n                  if (cuurCompGuid) anchorName += (\"#GUID#\" + cuurCompGuid);\r\n                  if (anchorName) {\r\n                    this.controller.action({ name: 'BookmarkAction', bookmarkPage: Math.max(pageIndex - 1, 0), bookmarkAnchor: anchorName, componentGuid: aHyperlink.compunentGuid });\r\n                    return false;\r\n                  }\r\n                }\r\n\r\n                if (this.model.reportParams.bookmarksContent != null) {\r\n                  const node = this.model.nodes.find(n => n.name === currAnchorName);\r\n                  if (node) {\r\n                    this.model.navigateNode = node;\r\n                  } else {\r\n                    for (let k = 0; k < document.anchors.length; k++) {\r\n                      if (document.anchors[k].name == currAnchorName) {\r\n                        //jsObject.scrollToAnchor(currAnchorName);\r\n                        this.helper.scrollToAnchor(currAnchorName);\r\n                        return;\r\n                      }\r\n                    }\r\n                  }\r\n                  this.controller.post('BookmarkAction', null, 0);\r\n\r\n\r\n                  /*let aBookmarks = bookmarksPanel.getElementsByTagName(\"a\");\r\n                  for (let k = 0; k < aBookmarks.length; k++) {\r\n                    let clickFunc = aBookmarks[k].getAttribute(\"onclick\");\r\n                    if (clickFunc && clickFunc.indexOf(\"'\" + currAnchorName + \"'\") >= 0) {\r\n                      try {\r\n                        eval(clickFunc);\r\n                        return false;\r\n                      }\r\n                      catch (e) { }\r\n                    }\r\n                  }\r\n\r\n                  this.controller.post('BookmarkAction', null, 0);*/\r\n                  return false;\r\n                }\r\n\r\n                //=================================\r\n                /*let pageIndex = 1;\r\n                for (let i = 0; i < pointers.length; i++) {\r\n                  if (aHyperlink.componentGuid) {\r\n                    if (pointers[i].componentGuid == aHyperlink.componentGuid) {\r\n                      pageIndex = pointers[i].pageIndex;\r\n                      break;\r\n                    }\r\n                  }\r\n                  else if (aHyperlink.bookmarkAnchor) {\r\n                    if (pointers[i].anchor == decodeURI(aHyperlink.bookmarkAnchor)) {\r\n                      pageIndex = pointers[i].pageIndex;\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n                this.controller.action({ name: 'BookmarkAction', bookmarkPage: pageIndex - 1, bookmarkAnchor: decodeURI(aHyperlink.bookmarkAnchor), componentGuid: aHyperlink.compunentGuid });\r\n                return false;\r\n                };\r\n                } else if (this.model.reportParams.bookmarksContent != null) {\r\n                aHyperlink.anchorName = aHyperlink.hrefContent.replace('#', '');\r\n\r\n                aHyperlink.onclick = () => {\r\n                const node = this.model.nodes.find(n => n.url.replace(/\\\\\\'/g, '\\'').substr(1) === aHyperlink.anchorName);\r\n                if (node) {\r\n                  this.model.navigateNode = node;\r\n                } else if (aHyperlink.hrefContent.indexOf('#') === 0) {\r\n                  for (let i = 0; i < document.anchors.length; i++) {\r\n                    const anchor = document.anchors[i];\r\n                    if (anchor.name === aHyperlink.anchorName) {\r\n                      this.helper.scrollToAnchor(aHyperlink.anchorName);\r\n                      return;\r\n                    }\r\n                  }\r\n                  this.controller.post('BookmarkAction', null, 0);\r\n                }\r\n                return false;\r\n                };*/\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { RadioButtonComponent } from '../controls/radio-button.components';\r\n\r\n@Injectable()\r\nexport class RadioButtonService {\r\n\r\n  groups = {};\r\n\r\n  constructor() { }\r\n\r\n  public addButton(button: RadioButtonComponent) {\r\n    if (!this.groups[button.groupName]) {\r\n      this.groups[button.groupName] = [];\r\n    }\r\n    this.groups[button.groupName].push(button);\r\n  }\r\n\r\n  public removeButton(button: RadioButtonComponent) {\r\n    const buttons = this.groups[button.groupName] as RadioButtonComponent[];\r\n    buttons?.splice(buttons.indexOf(button), 1);\r\n  }\r\n\r\n  public check(button: RadioButtonComponent) {\r\n    const buttons = this.groups[button.groupName] as RadioButtonComponent[];\r\n    buttons?.filter(b => b.name !== button.name).forEach(b => b.uncheck());\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ControllerService } from './controller.service';\r\nimport { Message } from './objects';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\n\r\n@Injectable()\r\nexport class EditableFieldsService {\r\n\r\n  public visible = false;\r\n  public editableFields = [];\r\n  public currentEditableTextArea: any;\r\n\r\n  constructor(private controller: ControllerService, private model: ModelService, private helper: HelperService) {\r\n\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'Editor':\r\n          this.visible = !this.visible;\r\n          if (this.visible) {\r\n            this.showAllEditableFields();\r\n          } else {\r\n            this.hideAllEditableFields();\r\n          }\r\n          break;\r\n      }\r\n    });\r\n\r\n    controller.getMessage().subscribe((message) => {\r\n      if (message.action === 'GetPages' && this.visible) {\r\n        setTimeout(() => this.showAllEditableFields());\r\n      } else {\r\n        this.visible = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private showAllEditableFields() {\r\n    this.editableFields = [];\r\n\r\n    this.model.pages.forEach((page, pageIndex) => {\r\n      const pageElements = page.page.getElementsByTagName('*');\r\n      for (const pageElement of pageElements) {\r\n        const editableStrAttr = pageElement.getAttribute('editable');\r\n        if (editableStrAttr) {\r\n          const attrArray = editableStrAttr.split(';');\r\n          const params: any = {};\r\n          params.compIndex = attrArray[0];\r\n          params.pageIndex = this.model.reportParams.viewMode === 'SinglePage' ? this.model.reportParams.pageNumber : pageIndex.toString();\r\n          params.type = attrArray[1];\r\n\r\n          if (params.type === 'CheckBox') {\r\n            this.showCheckBoxEditableField(pageElement, params, attrArray);\r\n          } else if (params.type === 'Text') {\r\n            this.showTextEditableField(pageElement, params);\r\n          } else if (params.type === 'RichText') {\r\n            this.showRichTextEditableField(pageElement, params);\r\n          }\r\n        }\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  private hideAllEditableFields() {\r\n    if (this.currentEditableTextArea) { this.currentEditableTextArea.onblur(); }\r\n\r\n    this.editableFields.forEach((eField) => {\r\n      eField.className = eField.className.replace(' stiEditableField stiEditableFieldSelected', '');\r\n      eField.onclick = null;\r\n      eField.style.outline = '';\r\n    });\r\n\r\n  }\r\n\r\n  private showCheckBoxEditableField(editableCell: any, params: any, attrArray: any[]) {\r\n    if (!editableCell.sizes) {\r\n      let imgElements = editableCell.getElementsByTagName('IMG');\r\n      if (imgElements.length === 0) { imgElements = editableCell.getElementsByTagName('SVG'); }\r\n      if (imgElements.length === 0) { imgElements = editableCell.getElementsByTagName('svg'); }\r\n      const imgElement = (imgElements.length > 0) ? imgElements[0] : null;\r\n      if (!imgElement) { return; }\r\n      if (imgElement.offsetWidth) {\r\n        editableCell.sizes = {\r\n          inPixels: imgElement.offsetWidth > imgElement.offsetHeight ? imgElement.offsetHeight : imgElement.offsetWidth,\r\n          widthStyle: imgElement.style.width,\r\n          heightStyle: imgElement.style.height\r\n        };\r\n      } else {\r\n        editableCell.sizes = {\r\n          inPixels: imgElement.clientWidth > imgElement.clientHeight ? imgElement.clientHeight : imgElement.clientWidth,\r\n          widthStyle: imgElement.clientWidth + 'px',\r\n          heightStyle: imgElement.clientHeight + 'px'\r\n        };\r\n      }\r\n    }\r\n\r\n    if (this.helper.getNavigatorName() !== 'Google Chrome') { editableCell.style.outline = '1px solid gray'; }\r\n    editableCell.style.textAlign = 'center';\r\n    editableCell.className += ' stiEditableField stiEditableFieldSelected';\r\n\r\n    const trueSvgImage = this.getSvgCheckBox(attrArray[3], attrArray[5], this.helper.strToInt(attrArray[6]), attrArray[7], editableCell.sizes.inPixels);\r\n    const falseSvgImage = this.getSvgCheckBox(attrArray[4], attrArray[5], this.helper.strToInt(attrArray[6]), attrArray[7], editableCell.sizes.inPixels);\r\n    params.falseImage = `<div style=\"width: ${editableCell.sizes.widthStyle}; height: ${editableCell.sizes.heightStyle}; \"> ${trueSvgImage}  </div>`;\r\n    params.trueImage = `<div style=\"width: ${editableCell.sizes.widthStyle}; height: ${editableCell.sizes.heightStyle}; \"> ${falseSvgImage} </div>`;\r\n    params.checked = attrArray[2] === 'true' || attrArray[2] === 'True';\r\n    editableCell.params = params;\r\n\r\n    if (!editableCell.hasChanged) {\r\n      editableCell.checked = params.checked;\r\n      editableCell.innerHTML = params.checked ? params.trueImage : params.falseImage;\r\n    }\r\n\r\n    editableCell.onclick = () => {\r\n      editableCell.checked = !editableCell.checked;\r\n      editableCell.innerHTML = editableCell.checked ? params.trueImage : params.falseImage;\r\n      editableCell.hasChanged = true;\r\n      this.addEditableParameters(editableCell);\r\n    };\r\n\r\n    this.editableFields.push(editableCell);\r\n  }\r\n\r\n  private showTextEditableField(editableCell: any, params: any) {\r\n\r\n    editableCell.className += ' stiEditableField stiEditableFieldSelected';\r\n    if (this.helper.getNavigatorName() !== 'Google Chrome') { editableCell.style.outline = '1px solid gray'; }\r\n    editableCell.params = params;\r\n    editableCell.jsObject = this;\r\n\r\n    editableCell.onclick = () => {\r\n      if (editableCell.editMode) { return; }\r\n      if (this.currentEditableTextArea) { this.currentEditableTextArea.onblur(); }\r\n      editableCell.editMode = true;\r\n\r\n      const textArea = document.createElement('textarea');\r\n      textArea.style.width = (editableCell.offsetWidth - 5) + 'px';\r\n      textArea.style.height = (editableCell.offsetHeight - 5) + 'px';\r\n      textArea.style.maxWidth = (editableCell.offsetWidth - 5) + 'px';\r\n      textArea.style.maxHeight = (editableCell.offsetHeight - 5) + 'px';\r\n      textArea.className = editableCell.className.replace(' stiEditableField stiEditableFieldSelected', '') + ' stiEditableTextArea';\r\n      textArea.style.border = '0px';\r\n\r\n      let textContainer = editableCell;\r\n      if (textContainer.firstChild && textContainer.firstChild.nodeName && textContainer.firstChild.nodeName.toLowerCase() === 'div') {\r\n        textContainer = textContainer.childNodes[0];\r\n      }\r\n\r\n      textArea.value = textContainer.innerHTML.replace(/<br>/g, '\\n');\r\n      editableCell.appendChild(textArea);\r\n      textArea.focus();\r\n      this.currentEditableTextArea = textArea;\r\n\r\n      textArea.onblur = () => {\r\n        editableCell.editMode = false;\r\n        const newText = textArea.value;\r\n        textContainer.innerHTML = newText.replace(/\\n/g, '<br>');\r\n        if (this && textArea.parentNode) {\r\n          textArea.parentNode.removeChild(textArea);\r\n        }\r\n        this.currentEditableTextArea = null;\r\n        this.addEditableParameters(editableCell, newText);\r\n      };\r\n    };\r\n\r\n    this.editableFields.push(editableCell);\r\n  }\r\n\r\n  private showRichTextEditableField(editableCell: any, params: any) {\r\n\r\n  }\r\n\r\n  private addEditableParameters(editableCell: any, newText?: any) {\r\n    if (!this.model.reportParams.editableParameters) { this.model.reportParams.editableParameters = {}; }\r\n    const params: any = {};\r\n    params.type = editableCell.params.type;\r\n    if (params.type === 'CheckBox') { params.checked = editableCell.checked; }\r\n    if (params.type === 'Text') { params.text = newText != null ? newText : editableCell.innerHTML; }\r\n\r\n    if (!this.model.reportParams.editableParameters[editableCell.params.pageIndex]) { this.model.reportParams.editableParameters[editableCell.params.pageIndex] = {}; }\r\n    this.model.reportParams.editableParameters[editableCell.params.pageIndex][editableCell.params.compIndex] = params;\r\n  }\r\n\r\n  private getSvgCheckBox(style: string, contourColor: string, size: number, backColor: string, width: number) {\r\n    const head = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0\" y=\"0\" width=\"${width}px\" height=\"${width}px\">`;\r\n    const path = `<path stroke=\"${contourColor}\" stroke-width=\"${size}\" fill=\"${backColor}\" stroke-linecap=\"round\" stroke-linejoin=\"round\" transform=\"scale(${(1 / (200 / width))})\" d=\"`;\r\n\r\n    let shape = '';\r\n    switch (style) {\r\n      case 'Cross':\r\n        shape = 'm 62.567796,147.97593 c -0.55,-0.14223 -2.162828,-0.5128 -3.584062,-0.82348 -3.647667,-0.79738 -9.670499,-5.83775 -14.242817,-11.91949 l ' +\r\n          '-3.902341,-5.19058 5.080199,-1.13481 c 7.353071,-1.64253 13.640456,-5.71752 21.826811,-14.14646 l 7.208128,-7.42171 ' +\r\n          '-6.410736,-7.513354 c -11.773129,-13.79803 -14.346726,-23.01954 -8.627769,-30.91434 2.894109,-3.9952 11.818482,-12.369333 ' +\r\n          '13.182086,-12.369333 0.411356,0 1.063049,1.6875 1.448207,3.750003 0.980474,5.25038 6.456187,16.76587 10.936694,23 2.075266,2.8875 ' +\r\n          '3.991125,5.25 4.257464,5.25 0.266339,0 3.775242,-3.4875 7.797566,-7.75 16.397034,-17.37615 29.674184,-19.76481 38.280564,-6.88699 ' +\r\n          '4.15523,6.21753 4.18631,8.07093 0.14012,8.3552 -5.84833,0.41088 -17.16241,8.5342 -25.51465,18.319104 l -4.63153,5.42599 ' +\r\n          '4.87803,4.31529 c 6.55108,5.79533 18.8991,11.89272 25.84076,12.76002 3.0455,0.38051 5.53727,1.10582 5.53727,1.6118 0,2.7809 ' +\r\n          '-9.26611,14.41872 -13.03,16.36511 -7.96116,4.11687 -16.36991,0.71207 -32.764584,-13.26677 l -4.985957,-4.25125 -7.086791,8.97188 c ' +\r\n          '-3.897736,4.93454 -8.82141,10.1198 -10.9415,11.52281 -3.906121,2.58495 -8.86588,4.41339 -10.691162,3.94136 z';\r\n        break;\r\n\r\n      case 'Check':\r\n        shape = 'M 60.972125,162.49704 C 51.172676,136.72254 43.561975,123.37669 35.370344,117.6027 l -4.45827,-3.14248 2.75159,-2.89559 c 3.875121,-4.07793 ' +\r\n          '10.034743,-7.49924 14.902472,-8.27747 3.859874,-0.61709 4.458306,-0.38024 8.535897,3.37835 2.660692,2.45254 6.265525,7.60856 9.167226,13.11196 ' +\r\n          '2.630218,4.98849 4.910542,9.06999 5.067388,9.06999 0.156846,0 2.31372,-3.0375 4.793052,-6.75 C 96.259164,91.956015 129.68299,58.786374 157.56485,41.281603 l ' +\r\n          '8.84913,-5.555656 2.2633,2.631238 2.26329,2.631237 -7.76266,6.294183 C 139.859,66.19023 108.01682,105.51363 89.042715,138.83563 c -6.680477,11.73214 ' +\r\n          '-7.172359,12.31296 -15.090788,17.81963 -4.501873,3.13071 -9.044031,6.30443 -10.093684,7.05271 -1.708923,1.21826 -2.010678,1.09165 -2.886118,-1.21093 z';\r\n        break;\r\n\r\n      case 'CrossRectangle':\r\n        shape = 'm 24.152542,102.04237 0,-72.499996 74.5,0 74.499998,0 0,72.499996 0,72.5 -74.499998,0 -74.5,0 0,-72.5 z m 133.758188,0.25 -0.25819,-57.249996 ' +\r\n          '-58.999998,0 -59,0 -0.259695,55.999996 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 13.207991,1.25 59.517885,1.25 l ' +\r\n          '59.039573,0 -0.25819,-57.25 z m -90.574091,43.18692 c -1.823747,-0.3912 -4.926397,-1.85716 -6.894778,-3.25768 -3.319254,-2.36169 -12.289319,-12.40741 ' +\r\n          '-12.289319,-13.76302 0,-0.32888 2.417494,-1.13897 5.372209,-1.80021 7.185193,-1.60797 13.747505,-5.93496 21.803114,-14.3763 l 6.675323,-6.99496 ' +\r\n          '-6.379078,-7.31436 C 64.931387,85.71231 61.643682,76.29465 65.471903,68.89169 67.054097,65.83207 78.56175,54.542374 80.098251,54.542374 c 0.45744,0 ' +\r\n          '1.146839,1.6875 1.531997,3.75 0.980474,5.250386 6.456187,16.765876 10.936694,22.999996 2.075266,2.8875 3.991125,5.25 4.257464,5.25 0.266339,0 ' +\r\n          '3.775244,-3.4875 7.797564,-7.75 16.39704,-17.376139 29.67419,-19.764806 38.28057,-6.88698 4.15523,6.21752 4.18631,8.07092 0.14012,8.35519 -5.82996,0.40959 ' +\r\n          '-18.23707,9.34942 -25.91566,18.67328 -3.90068,4.73647 -3.97203,4.95414 -2.2514,6.86861 3.19054,3.54997 13.7039,10.54321 18.97191,12.61967 2.83427,1.11716 ' +\r\n          '7.43737,2.33421 10.22912,2.70455 2.79175,0.37034 5.07591,0.9956 5.07591,1.38947 0,2.11419 -8.37504,13.20895 -11.6517,15.4355 -8.39423,5.70403 ' +\r\n          '-16.63203,2.77 -34.14289,-12.16054 l -4.985955,-4.25125 -7.086791,8.97188 c -9.722344,12.3085 -16.524852,16.55998 -23.948565,14.96754 z';\r\n        break;\r\n\r\n      case 'CheckRectangle':\r\n        shape = 'm 19.915254,103.5 0,-72.5 71.942245,0 71.942241,0 6.55727,-4.11139 6.55726,-4.11139 1.96722,2.36139 c 1.08197,1.298765 1.98219,2.644166 2.00049,2.98978 ' +\r\n          '0.0183,0.345615 -2.44173,2.53784 -5.46673,4.87161 l -5.5,4.243219 0,69.378391 0,69.37839 -74.999991,0 -75.000005,0 0,-72.5 z m 133.999996,3.87756 c ' +\r\n          '0,-49.33933 -0.12953,-53.514947 -1.62169,-52.276568 -2.78014,2.307312 -15.68408,17.90053 -24.32871,29.399008 -10.4919,13.955575 -23.47926,33.53736 ' +\r\n          '-29.514025,44.5 -4.457326,8.09707 -5.134776,8.80812 -14.291256,15 -5.28667,3.575 -9.903486,6.62471 -10.259592,6.77712 -0.356107,0.15242 -1.912439,-2.99758 ' +\r\n          '-3.458515,-7 -1.546077,-4.00241 -5.258394,-12.41205 -8.249593,-18.68809 -4.285436,-8.99155 -6.676569,-12.64898 -11.27758,-17.25 C 47.70282,104.62757 ' +\r\n          '44.364254,102 43.495254,102 c -2.798369,0 -1.704872,-1.66044 3.983717,-6.049158 5.593548,-4.31539 13.183139,-7.091307 16.801313,-6.145133 3.559412,0.930807 ' +\r\n          '9.408491,8.154973 13.919775,17.192241 l 4.46286,8.94025 4.54378,-6.83321 C 95.518219,96.605618 108.21371,81.688517 125.80695,63.75 L 143.21531,46 l ' +\r\n          '-53.650021,0 -53.650035,0 0,57.5 0,57.5 59.000005,0 58.999991,0 0,-53.62244 z';\r\n        break;\r\n\r\n      case 'CrossCircle':\r\n        shape = 'M 83.347458,173.13597 C 61.069754,168.04956 42.193415,152.8724 32.202285,132.01368 23.4014,113.63986 23.679644,89.965903 32.91889,71.042373 ' +\r\n          '41.881579,52.685283 60.867647,37.139882 80.847458,31.799452 c 10.235111,-2.735756 31.264662,-2.427393 40.964762,0.600679 26.18668,8.174684 ' +\r\n          '46.06876,28.926852 51.62012,53.879155 2.43666,10.952327 1.56754,28.058524 -1.98036,38.977594 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 ' +\r\n          '-6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033911,0.23456 -15.484931,-0.10267 -19.500002,-1.01939 z M 112.4138,158.45825 c 17.13137,-3.13002 ' +\r\n          '33.71724,-15.96081 41.41353,-32.03742 14.8975,-31.119027 -1.10807,-67.659584 -34.40232,-78.540141 -6.71328,-2.193899 -9.93541,-2.643501 ' +\r\n          '-19.07755,-2.661999 -9.354252,-0.01893 -12.16228,0.37753 -18.768532,2.649866 -17.155451,5.900919 -29.669426,17.531424 -36.438658,33.866137 ' +\r\n          '-2.152301,5.193678 -2.694658,8.35455 -3.070923,17.89744 -0.518057,13.139047 0.741843,19.201887 6.111644,29.410237 4.106815,7.80733 15.431893,19.09359 ' +\r\n          '23.36818,23.28808 12.061362,6.37467 27.138828,8.6356 40.864629,6.1278 z M 69.097458,133.41654 c -2.8875,-2.75881 -5.25,-5.35869 -5.25,-5.77751 ' +\r\n          '0,-0.41882 5.658529,-6.30954 12.57451,-13.0905 l 12.57451,-12.329 L 76.198053,89.392633 63.399628,76.565738 68.335951,71.554056 c 2.714978,-2.756426 ' +\r\n          '5.304859,-5.011683 5.75529,-5.011683 0.450432,0 6.574351,5.611554 13.608709,12.470121 l 12.78974,12.470119 4.42889,-4.553471 c 2.43588,-2.50441 ' +\r\n          '8.39186,-8.187924 13.23551,-12.630032 l 8.80663,-8.076559 5.34744,5.281006 5.34743,5.281007 -12.96155,12.557899 -12.96154,12.557897 13.13318,13.16027 ' +\r\n          '13.13319,13.16027 -5.18386,4.66074 c -2.85112,2.5634 -5.70472,4.66073 -6.34134,4.66073 -0.63661,0 -6.5434,-5.4 -13.12621,-12 -6.58281,-6.6 -12.3871,-12 ' +\r\n          '-12.89844,-12 -0.511329,0 -6.593363,5.60029 -13.515627,12.44509 l -12.585935,12.44508 -5.25,-5.016 z';\r\n        break;\r\n\r\n      case 'DotCircle':\r\n        shape = 'M 81.652542,170.5936 C 59.374838,165.50719 40.498499,150.33003 30.507369,129.47131 21.706484,111.09749 21.984728,87.42353 31.223974,68.5 ' +\r\n          '40.186663,50.14291 59.172731,34.597509 79.152542,29.257079 89.387653,26.521323 110.4172,26.829686 120.1173,29.857758 c 26.18668,8.174684 ' +\r\n          '46.06876,28.926852 51.62012,53.879152 2.43666,10.95233 1.56754,28.05853 -1.98036,38.9776 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 ' +\r\n          '-6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033907,0.23456 -15.484927,-0.10267 -19.499998,-1.01939 z m 29.999998,-15.098 c 20.68862,-4.34363 ' +\r\n          '38.01874,-20.45437 44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.0187 0,-30 C 150.08927,65.371023 134.63549,50.297336 114.65254,44.412396 ' +\r\n          '106.5531,42.027127 90.741304,42.026386 82.695253,44.4109 62.460276,50.407701 46.686742,66.039241 41.6053,85.13096 c -1.948821,7.32201 -1.86506,23.11641 ' +\r\n          '0.158766,29.93754 8.730326,29.42481 38.97193,46.91812 69.888474,40.4271 z M 90.004747,122.6703 C 76.550209,117.63801 69.825047,101.82445 ' +\r\n          '75.898143,89.5 c 2.136718,-4.33615 7.147144,-9.356192 11.754399,-11.776953 5.578622,-2.931141 16.413098,-2.927504 22.052908,0.0074 18.03,9.382663 ' +\r\n          '19.07573,32.784373 1.91442,42.841563 -5.57282,3.26589 -15.830952,4.2617 -21.615123,2.09829 z';\r\n        break;\r\n\r\n      case 'DotRectangle':\r\n        shape = 'm 23.847458,101.19491 0,-72.499995 74.5,0 74.499992,0 0,72.499995 0,72.5 -74.499992,0 -74.5,0 0,-72.5 z m 133.999992,-0.008 0,-57.507925 ' +\r\n          '-59.249992,0.25793 -59.25,0.25793 -0.25819,57.249995 -0.258189,57.25 59.508189,0 59.508182,0 0,-57.50793 z m -94.320573,33.85402 c -0.37368,-0.37368 ' +\r\n          '-0.679419,-15.67942 -0.679419,-34.01275 l 0,-33.333335 35.513302,0 35.51329,0 -0.2633,33.749995 -0.2633,33.75 -34.570573,0.26275 c -19.013819,0.14452 ' +\r\n          '-34.876319,-0.043 -35.25,-0.41666 z';\r\n        break;\r\n\r\n      case 'NoneCircle':\r\n        shape = 'M 83.5,170.5936 C 61.222296,165.50719 42.345957,150.33003 32.354827,129.47131 23.553942,111.09749 23.832186,87.423523 33.071432,68.5 ' +\r\n          '42.034121,50.14291 61.020189,34.597509 81,29.257079 c 10.235111,-2.735756 31.26466,-2.427393 40.96476,0.600679 26.18668,8.174684 46.06876,28.926852 ' +\r\n          '51.62012,53.879155 2.43666,10.95232 1.56754,28.058527 -1.98036,38.977597 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 -6.3909,2.08202 ' +\r\n          '-10.18566,2.59644 -21.27805,2.88446 -9.033909,0.23456 -15.484929,-0.10267 -19.5,-1.01939 z m 30,-15.098 c 20.68862,-4.34363 38.01874,-20.45437 ' +\r\n          '44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.018707 0,-29.999997 C 151.93673,65.371023 136.48295,50.297336 116.5,44.412396 108.40056,42.027127 ' +\r\n          '92.588762,42.026386 84.542711,44.410896 64.307734,50.407697 48.5342,66.039237 43.452758,85.130959 c -1.948821,7.322 -1.86506,23.116411 ' +\r\n          '0.158766,29.937541 8.730326,29.42481 38.97193,46.91812 69.888476,40.4271 z';\r\n        break;\r\n\r\n      case 'NoneRectangle':\r\n        shape = 'm 24.152542,102.04237 0,-72.499997 74.5,0 74.500008,0 0,72.499997 0,72.5 -74.500008,0 -74.5,0 0,-72.5 z m 133.758198,0.25 ' +\r\n          '-0.25819,-57.249997 -59.000008,0 -59,0 -0.259695,55.999997 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 ' +\r\n          '13.207991,1.25 59.517885,1.25 l 59.039583,0 -0.25819,-57.25 z';\r\n        break;\r\n    }\r\n\r\n    return head + path + shape + '\" /></svg>';\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { InteractionsService } from './interactions.service';\r\nimport { HelperService } from './helper.service';\r\nimport { EditableFieldsService } from './editable-fields.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { ComponentDescription, Message } from './objects';\r\nimport { MenuItem } from '../menu/meni-item.component';\r\n\r\n@Injectable()\r\nexport class ToolbarService {\r\n\r\n  public comps: ComponentDescription[] = [];\r\n  public dopComps: ComponentDescription[] = [];\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public editableFieldsService: EditableFieldsService,\r\n    public interactionService: InteractionsService, public helper: HelperService) {\r\n    this.controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action !== 'viewer_loaded') {\r\n        this.updateButtons();\r\n      }\r\n    });\r\n  }\r\n\r\n  updateButtons() {\r\n    this.comps.filter(i => i.action === 'ViewMode').forEach(m => m.caption = this.model.loc(this.model.reportParams.viewMode));\r\n    this.comps.filter(i => i.action === 'Zoom').forEach((m) => {\r\n      m.menuItems.forEach(n => n.selected = n.name === ('Zoom' + this.model.reportParams.zoom));\r\n      m.caption = this.model.reportParams.zoom ? Math.round(this.model.reportParams.zoom) + '%' : '';\r\n    });\r\n\r\n    this.comps.filter(i => i.action === 'ShowFind').forEach((m) => {\r\n      m.selected = this.model.controls.findPanel.visible;\r\n    });\r\n  }\r\n\r\n  initButtons() {\r\n    const comps: ComponentDescription[] = [];\r\n    const dopComps: ComponentDescription[] = [];\r\n    let isFirst = false;\r\n\r\n    if (this.model.options.toolbar.showAboutButton) { dopComps.push({ type: 'button', action: 'About', img: 'Help.png' }); }\r\n    if (this.model.options.toolbar.showAboutButton && this.model.options.toolbar.showDesignButton) { dopComps.push({ type: 'separator' }); }\r\n    if (this.model.options.toolbar.showDesignButton) { dopComps.push({ type: 'button', action: 'Design', caption: this.model.loc('Design'), img: 'Design.png' }); }\r\n    if (this.model.options.toolbar.showPinToolbarButton && this.model.options.toolbar.showDesignButton) { dopComps.push({ type: 'separator' }); }\r\n    if (this.model.options.toolbar.showPinToolbarButton) { dopComps.push({ type: 'button', action: 'Pin', img: 'Pin.png' }); }\r\n\r\n\r\n    if (this.model.options.toolbar.showPrintButton) {\r\n      comps.push({\r\n        type: 'button', action: 'Print', caption: this.model.loc('Print'), img: 'Print.png', tooltip: true,\r\n        arrow: this.model.options.toolbar.printDestination === 'Default' ? 'Down' : null,\r\n        menuItems: this.model.options.toolbar.printDestination === 'Default' ?\r\n          [{ name: 'PrintPdf', caption: this.model.loc('PrintPdf'), img: 'Save.Small.Pdf.png' },\r\n          { name: 'PrintWithPreview', caption: this.model.loc('PrintWithPreview'), img: 'ViewMode.png' },\r\n          { name: 'PrintWithoutPreview', caption: this.model.loc('PrintWithoutPreview'), img: 'Print.png' }] :\r\n          null\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showOpenButton) {\r\n      comps.push({ type: 'button', action: 'Open', caption: this.model.loc('Open'), img: 'Open.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showSaveButton) {\r\n      comps.push({\r\n        type: 'button', action: 'Save', caption: this.model.loc('Save'), img: 'Save.png', tooltip: true, arrow: 'Down',\r\n        menuItems: this.getSaveMenuItems('saveMenu')\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showSendEmailButton) {\r\n      comps.push({\r\n        type: 'button', action: 'SendEmail', caption: this.model.loc('SendEmail'), img: 'SendEmail.png', tooltip: true, arrow: 'Down',\r\n        menuItems: this.getSaveMenuItems('sendEmailMenu')\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showBookmarksButton || this.model.options.toolbar.showParametersButton) {\r\n      if (!isFirst) {\r\n        comps.push({ type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showBookmarksButton) {\r\n      comps.push({ type: 'button', action: 'Bookmarks', caption: this.model.options.toolbar.displayMode === 'Separated' ? this.model.loc('Bookmarks') : null, img: 'Bookmarks.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showParametersButton) {\r\n      comps.push({ type: 'button', action: 'Parameters', caption: this.model.options.toolbar.displayMode === 'Separated' ? this.model.loc('Parameters') : null, img: 'Parameters.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showResourcesButton) {\r\n      comps.push({ type: 'button', action: 'Resources', caption: this.model.options.toolbar.displayMode === 'Separated' ? this.model.loc('Resources') : null, img: 'Resources.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showFindButton || this.model.options.toolbar.showEditorButton) {\r\n      if (!isFirst) {\r\n        comps.push({ type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showFindButton) {\r\n      comps.push({ type: 'button', action: 'Find', img: 'Find.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showEditorButton) {\r\n      comps.push({ type: 'button', action: 'Editor', img: 'Editor.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n\r\n    if (this.model.options.toolbar.displayMode !== 'Separated') {\r\n      if (this.model.options.toolbar.showFirstPageButton || this.model.options.toolbar.showPreviousPageButton || this.model.options.toolbar.showNextPageButton ||\r\n        this.model.options.toolbar.showLastPageButton || this.model.options.toolbar.showCurrentPageControl) {\r\n        if (!isFirst) {\r\n          comps.push({ type: 'separator' });\r\n        }\r\n        isFirst = false;\r\n      }\r\n      if (this.model.options.toolbar.showFirstPageButton) { comps.push({ type: 'button', action: 'FirstPage', img: this.model.options.appearance.rightToLeft ? 'LastPage.png' : 'FirstPage.png', tooltip: true }); isFirst = false; }\r\n      if (this.model.options.toolbar.showPreviousPageButton) { comps.push({ type: 'button', action: 'PrevPage', img: this.model.options.appearance.rightToLeft ? 'NextPage.png' : 'PrevPage.png', tooltip: true }); isFirst = false; }\r\n      if (this.model.options.toolbar.showCurrentPageControl) { comps.push({ type: 'pageControl' }); isFirst = false; }\r\n\r\n      if (this.model.options.toolbar.showNextPageButton) { comps.push({ type: 'button', action: 'NextPage', img: this.model.options.appearance.rightToLeft ? 'PrevPage.png' : 'NextPage.png', tooltip: true }); isFirst = false; }\r\n      if (this.model.options.toolbar.showLastPageButton) { comps.push({ type: 'button', action: 'LastPage', img: this.model.options.appearance.rightToLeft ? 'FirstPage.png' : 'LastPage.png', tooltip: true }); isFirst = false; }\r\n      if (this.model.options.toolbar.showViewModeButton || this.model.options.toolbar.showZoomButton) {\r\n        if (!isFirst) {\r\n          comps.push({ type: 'separator' });\r\n        }\r\n        isFirst = false;\r\n      }\r\n    }\r\n\r\n    if (this.model.options.toolbar.showFullScreenButton) {\r\n      comps.push({ type: 'button', action: 'FullScreen', img: 'FullScreen.png', tooltip: true });\r\n      comps.push({ type: 'separator' });\r\n      isFirst = false;\r\n    }\r\n\r\n    if (this.model.options.toolbar.showZoomButton && this.model.options.toolbar.displayMode !== 'Separated') {\r\n      comps.push({\r\n        type: 'button', action: 'Zoom', caption: '100%', img: 'Zoom.png', tooltip: true, arrow: 'Down',\r\n        menuItems: this.helper.getZoomMenuItems()\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showViewModeButton) {\r\n      comps.push({\r\n        type: 'button', action: 'ViewMode', caption: this.model.loc('SinglePage'), img: 'SinglePage.png', tooltip: true, arrow: 'Down',\r\n        menuItems: [{ name: 'ViewModeSinglePage', caption: this.model.loc('SinglePage'), img: 'SinglePage.png' },\r\n        { name: 'ViewModeContinuous', caption: this.model.loc('Continuous'), img: 'Continuous.png' },\r\n        { name: 'ViewModeMultiplePages', caption: this.model.loc('MultiplePages'), img: 'MultiplePages.png' }]\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (typeof (this.model.options.toolbar.multiPageWidthCount) !== 'undefined') {\r\n      this.model.reportParams.multiPageWidthCount = this.model.options.toolbar.multiPageWidthCount;\r\n    }\r\n    if (typeof (this.model.options.toolbar.multiPageHeightCount) !== 'undefined') {\r\n      this.model.reportParams.multiPageHeightCount = this.model.options.toolbar.multiPageHeightCount;\r\n    }\r\n\r\n    if (!this.model.options.appearance.rightToLeft && this.model.options.toolbar.alignment === 'right' &&\r\n      (this.model.options.toolbar.showPinToolbarButton || this.model.options.toolbar.showAboutButton || this.model.options.toolbar.showDesignButton)) {\r\n      comps.push({ type: 'separator6' });\r\n    }\r\n\r\n    this.comps = this.model.options.appearance.rightToLeft ? comps.reverse() : comps;\r\n    this.dopComps = this.model.options.appearance.rightToLeft ? dopComps.reverse() : dopComps;\r\n  }\r\n\r\n  disableNaviButtons(): boolean {\r\n    return this.model.reportParams.viewMode === 'MultiplePages' || this.model.reportParams.viewMode === 'WholeReport' ||\r\n      (this.model.reportParams.viewMode === 'Continuous' && !this.model.options.appearance.scrollbarsMode && !this.model.options.appearance.fullScreenMode);\r\n  }\r\n\r\n  getImage(imageName: string): string {\r\n    switch (this.model.options.appearance.saveMenuImageSize) {\r\n      case 'Big':\r\n        return `Save.Big.${imageName}.png`;\r\n      case 'None':\r\n        return null;\r\n      default:\r\n        return `Save.Small.${imageName}.png`;\r\n    }\r\n  }\r\n\r\n  getSaveMenuItems(menuName: string): any {\r\n    let isFirst = true;\r\n    const items: MenuItem[] = [];\r\n    const imageSize = this.model.options.appearance.saveMenuImageSize;\r\n    if (this.model.options.exports.showExportToDocument && menuName === 'saveMenu') {\r\n      items.push({ name: menuName + 'Document', caption: this.model.loc('ReportSnapshot'), imageSize, img: this.getImage('Document') });\r\n      isFirst = false;\r\n    }\r\n    if (menuName === 'saveMenu' && this.model.options.exports.showExportToPdf || this.model.options.exports.showExportToXps || this.model.options.exports.showExportToPowerPoint) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.exports.showExportToPdf) {\r\n      items.push({ name: menuName + 'Pdf', caption: 'Adobe PDF', imageSize, img: this.getImage('Pdf') });\r\n    }\r\n    if (this.model.options.exports.showExportToXps) {\r\n      items.push({ name: menuName + 'Xps', caption: 'Microsoft XPS', imageSize, img: this.getImage('Xps') });\r\n    }\r\n    if (this.model.options.exports.showExportToPowerPoint) {\r\n      items.push({ name: menuName + 'Ppt2007', caption: 'Microsoft PowerPoint', imageSize, img: this.getImage('Ppt') });\r\n    }\r\n\r\n    if (this.model.options.exports.showExportToHtml || this.model.options.exports.showExportToHtml5 || this.model.options.exports.showExportToMht) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n      let htmlType = this.model.options.exports.defaultSettings['StiHtmlExportSettings'].HtmlType;\r\n      if (!this.model.options.exports['showExportTo' + htmlType]) {\r\n        if (this.model.options.exports.showExportToHtml) {\r\n          htmlType = 'Html';\r\n        } else if (this.model.options.exports.showExportToHtml5) {\r\n          htmlType = 'Html5';\r\n        } else if (this.model.options.exports.showExportToMht) {\r\n          htmlType = 'Mht';\r\n        }\r\n      }\r\n      items.push({ name: menuName + htmlType, caption: 'HTML', imageSize, img: this.getImage('Html') });\r\n    }\r\n    if (this.model.options.exports.showExportToText || this.model.options.exports.showExportToRtf || this.model.options.exports.showExportToWord2007 || this.model.options.exports.showExportToOdt) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.exports.showExportToText) {\r\n      items.push({ name: menuName + 'Text', caption: this.model.loc('Text'), imageSize, img: this.getImage('Text') });\r\n    }\r\n    if (this.model.options.exports.showExportToRtf) {\r\n      items.push({ name: menuName + 'Rtf', caption: 'RTF', imageSize, img: this.getImage('Rtf') });\r\n    }\r\n    if (this.model.options.exports.showExportToWord2007) {\r\n      items.push({ name: menuName + 'Word2007', caption: 'Microsoft Word', imageSize, img: this.getImage('Word') });\r\n    }\r\n    if (this.model.options.exports.showExportToOpenDocumentWriter) {\r\n      items.push({ name: menuName + 'Odt', caption: 'OpenDocument Writer', imageSize, img: this.getImage('Odt') });\r\n    }\r\n    if (this.model.options.exports.showExportToExcel || this.model.options.exports.showExportToExcel2007 || this.model.options.exports.showExportToExcelXml || this.model.options.exports.showExportToOpenDocumentWriter) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.exports.showExportToExcel || this.model.options.exports.showExportToExcelXml || this.model.options.exports.showExportToExcel2007) {\r\n      let excelType = this.model.options.exports.defaultSettings['StiExcelExportSettings'].ExcelType;\r\n      if (excelType === 'ExcelBinary') {\r\n        excelType = 'Excel';\r\n      }\r\n      if (!this.model.options.exports['showExportTo' + excelType]) {\r\n        if (this.model.options.exports.showExportToExcel) {\r\n          excelType = 'Excel';\r\n        } else if (this.model.options.exports.showExportToExcel2007) {\r\n          excelType = 'Excel2007';\r\n        } else if (this.model.options.exports.showExportToExcelXml) {\r\n          excelType = 'ExcelXml';\r\n        }\r\n      }\r\n      items.push({ name: menuName + excelType, caption: 'Microsoft Excel', imageSize, img: this.getImage('Excel') });\r\n    }\r\n    if (this.model.options.exports.showExportToOpenDocumentCalc) {\r\n      items.push({ name: menuName + 'Ods', caption: 'OpenDocument Calc', imageSize, img: this.getImage('Ods') });\r\n    }\r\n    if (this.model.options.exports.showExportToCsv || this.model.options.exports.showExportToDbf || this.model.options.exports.showExportToXml ||\r\n      this.model.options.exports.showExportToDif || this.model.options.exports.showExportToSylk || this.model.options.exports.showExportToJson) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n      let dataType = this.model.options.exports.defaultSettings['StiDataExportSettings'].DataType;\r\n      if (!this.model.options.exports['showExportTo' + dataType]) {\r\n        if (this.model.options.exports.showExportToCsv) {\r\n          dataType = 'Csv';\r\n        } else if (this.model.options.exports.showExportToDbf) {\r\n          dataType = 'Dbf';\r\n        } else if (this.model.options.exports.showExportToXml) {\r\n          dataType = 'Xml';\r\n        } else if (this.model.options.exports.showExportToDif) {\r\n          dataType = 'Dif';\r\n        } else if (this.model.options.exports.showExportToSylk) {\r\n          dataType = 'Sylk';\r\n        } else if (this.model.options.exports.showExportToJson) {\r\n          dataType = 'Json';\r\n        }\r\n      }\r\n      items.push({ name: menuName + dataType, caption: this.model.loc('Data'), imageSize, img: this.getImage('Data') });\r\n    }\r\n    if (this.model.options.exports.showExportToImageBmp || this.model.options.exports.showExportToImageGif || this.model.options.exports.showExportToImageJpeg || this.model.options.exports.showExportToImagePcx ||\r\n      this.model.options.exports.showExportToImagePng || this.model.options.exports.showExportToImageTiff || this.model.options.exports.showExportToImageMetafile || this.model.options.exports.showExportToImageSvg || this.model.options.exports.showExportToImageSvgz) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n      let imageType = this.model.options.exports.defaultSettings['StiImageExportSettings'].ImageType;\r\n      let imageType_ = imageType === 'Emf' ? 'Metafile' : imageType;\r\n      if (!this.model.options.exports['showExportToImage' + imageType_]) {\r\n        if (this.model.options.exports.showExportToImageBmp) {\r\n          imageType = 'Bmp';\r\n        } else if (this.model.options.exports.showExportToImageGif) {\r\n          imageType = 'Gif';\r\n        } else if (this.model.options.exports.showExportToImageJpeg) {\r\n          imageType = 'Jpeg';\r\n        } else if (this.model.options.exports.showExportToImagePcx) {\r\n          imageType = 'Pcx';\r\n        } else if (this.model.options.exports.showExportToImagePng) {\r\n          imageType = 'Png';\r\n        } else if (this.model.options.exports.showExportToImageTiff) {\r\n          imageType = 'Tiff';\r\n        } else if (this.model.options.exports.showExportToImageMetafile) {\r\n          imageType = 'Emf';\r\n        } else if (this.model.options.exports.showExportToImageSvg) {\r\n          imageType = 'Svg';\r\n        } else if (this.model.options.exports.showExportToImageSvgz) { imageType = 'Svgz'; }\r\n      }\r\n      items.push({ name: menuName + 'Image' + imageType, caption: this.model.loc('Image'), imageSize, img: this.getImage('Image') });\r\n\r\n\r\n    }\r\n    return items;\r\n  }\r\n\r\n  enabled(desc: ComponentDescription): boolean {\r\n    const disableNaviButtons = this.disableNaviButtons();\r\n    switch (desc.action) {\r\n      case 'FirstPage':\r\n      case 'PrevPage':\r\n        return this.model.reportParams.pageNumber > 0 && !disableNaviButtons;\r\n      case 'NextPage':\r\n      case 'LastPage':\r\n        return this.model.reportParams.pageNumber < this.model.reportParams.pagesCount - 1 && !disableNaviButtons;\r\n      case 'Bookmarks':\r\n        return this.model.reportParams.bookmarksContent != null;\r\n      case 'Parameters':\r\n        return this.model.interactions?.paramsVariables != null;\r\n      case 'Resources':\r\n        return this.model.reportParams.resources?.length > 0;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  selected(desc: ComponentDescription): boolean {\r\n    switch (desc.action) {\r\n      case 'Find':\r\n        return this.model.controls.findPanel.visible;\r\n      case 'Bookmarks':\r\n        return this.model.controls.bookmarksPanel.visible;\r\n      case 'Parameters':\r\n        return this.model.controls.parametersPanel.visible;\r\n      case 'Editor':\r\n        return this.editableFieldsService.visible;\r\n      case 'Resources':\r\n        return this.model.controls.resourcesPanel.visible;\r\n      case 'FullScreen':\r\n        return this.model.options.appearance.fullScreenMode;\r\n      case 'Pin':\r\n        return !this.model.options.toolbar.autoHide;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  display(desc: ComponentDescription): string {\r\n    switch (desc.action) {\r\n      case 'Editor':\r\n        return this.model.reportParams.isEditableReport ? '' : 'none';\r\n\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getButonWidth(comp: ComponentDescription): string {\r\n    if (this.model.options.toolbar.displayMode === 'Separated') {\r\n      if (comp.action === 'Find' || comp.action === 'Editor' || comp.action === 'FullScreen' || comp.action === 'About') {\r\n        return '28px';\r\n      }\r\n      if (this.model.options.isMobileDevice) {\r\n        return '0.4in';\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getInnerTableWidth(comp: ComponentDescription): string {\r\n    if (this.model.options.toolbar.displayMode === 'Separated' &&\r\n      (this.model.options.isMobileDevice || comp.action === 'Find' || comp.action === 'Editor' || comp.action === 'FullScreen' || comp.action === 'About')) {\r\n      return '100%';\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, AfterViewInit, ViewChild, ElementRef, OnChanges, Output, EventEmitter } from '@angular/core';\r\nimport { ControllerService } from './services/controller.service';\r\nimport { MenuService } from './menu/menu.service';\r\nimport { ModelService } from './services/model.service';\r\nimport { Message } from './services/objects';\r\nimport { ExportService } from './services/export.service';\r\nimport { FormService } from './forms/form.service';\r\nimport { ApiService } from './services/api.service';\r\nimport { PrintService } from './services/print.service';\r\nimport { DashboardService } from './services/dashboard.service';\r\nimport { StiHttpClientService } from './services/http-client.service';\r\nimport { StylesService } from './services/styles.service';\r\nimport { HelperService } from './services/helper.service';\r\nimport { MouseService } from './services/mouse.service';\r\nimport { PageService } from './services/page.service';\r\nimport { TooltipService } from './services/tooltip.service';\r\nimport { FindService } from './services/find.service';\r\nimport { AnimationService } from './services/animation.service';\r\nimport { InteractionsService } from './services/interactions.service';\r\nimport { RadioButtonService } from './services/radio-button.service';\r\nimport { CollectionsService } from './services/collections.service';\r\nimport { MailService } from './services/mail.service';\r\nimport { EditableFieldsService } from './services/editable-fields.service';\r\nimport { DrillDownService } from './services/drill-down.service';\r\nimport { Md5Service } from './services/md5.service';\r\nimport { FullScreenService } from './services/full-screen.service';\r\nimport { ToolbarService } from './services/toolbar.service';\r\n//1bfb351c1add27b1537ffce9c723e3cb1f5b27bb 02.03.2021 17:29:20\r\n\r\n@Component({\r\n  selector: 'stimulsoft-viewer-angular',\r\n  template: `\r\n    <span #viewer [style]=\"style\"\r\n      [style.top.px]=\"0\"\r\n      [style.right.px]=\"0\"\r\n      [style.bottom.px]=\"0\"\r\n      [style.left.px]=\"0\"\r\n      [style.display]=\"'inline-block'\"\r\n      [style.backgroundColor]=\"backgroundColor\"\r\n      [style.width]=\"this.width != null ? this.width : '100%'\"\r\n      [style.height]=\"this.height != null ? this.height : (model.options?.appearance.scrollbarsMode ? '650px' : '100%')\">\r\n      <div class=\"stiJsViewerMainPanel\">\r\n        <sti-center-text *ngIf=\"initialized\"></sti-center-text>\r\n        <sti-toolbar *ngIf=\"initialized\"></sti-toolbar>\r\n        <div *ngFor=\"let i of [1,2,3,4,5]\" [style.zIndex]=\"i * 10\" [style.display]=\"formService.form?.level == i ? '' : 'none'\" class=\"stiJsViewerDisabledPanel\"></div>\r\n        <sti-about-panel *ngIf=\"initialized\"></sti-about-panel>\r\n\r\n        <sti-dashboards-panel *ngIf=\"initialized\"></sti-dashboards-panel>\r\n        <sti-report-panel *ngIf=\"initialized\"></sti-report-panel>\r\n        <sti-progress *ngIf=\"initialized\"></sti-progress>\r\n        <sti-find-panel *ngIf=\"initialized\"></sti-find-panel>\r\n        <sti-drill-down-panel *ngIf=\"initialized\"></sti-drill-down-panel>\r\n        <sti-resources-panel *ngIf=\"initialized\"></sti-resources-panel>\r\n        <sti-navigate-panel *ngIf=\"initialized\"></sti-navigate-panel>\r\n\r\n        <sti-export-form *ngIf=\"initialized\" [exportFormSettings]=\"exportService.exportFormSettings\"></sti-export-form>\r\n        <sti-send-email-form *ngIf=\"initialized\"></sti-send-email-form>\r\n        <sti-password-form *ngIf=\"initialized\"></sti-password-form>\r\n        <sti-error-message-form *ngIf=\"initialized\"></sti-error-message-form>\r\n        <sti-notification-form *ngIf=\"initialized\"></sti-notification-form>\r\n\r\n        <sti-tooltip *ngIf=\"initialized\"></sti-tooltip>\r\n        <sti-menu *ngFor=\"let menu of menuService.menus\" [menu]=\"menu\"></sti-menu>\r\n        <sti-bookmarks-panel *ngIf=\"initialized\"></sti-bookmarks-panel>\r\n        <sti-interactions-panel *ngIf=\"initialized\"></sti-interactions-panel>\r\n\r\n        <sti-open-dialog *ngIf=\"initialized\" [fileMask]=\"model.openDialogFileMask\"></sti-open-dialog>\r\n      </div>\r\n    </span>\r\n  `,\r\n  providers: [ModelService, StiHttpClientService, ControllerService, StylesService, HelperService, MenuService,\r\n    MouseService, PageService, TooltipService, FindService, AnimationService, Md5Service, InteractionsService, FormService, RadioButtonService, ExportService,\r\n    CollectionsService, MailService, EditableFieldsService, DrillDownService, PrintService, FullScreenService, ToolbarService, ApiService, DashboardService]\r\n})\r\nexport class StimulsoftViewerComponent implements OnInit, AfterViewInit, OnChanges {\r\n\r\n  /**\r\n   * Root viewer span\r\n   */\r\n  @ViewChild('viewer') viewerElement: ElementRef;\r\n\r\n  /**\r\n   * Occurs when report/dashboard loaded\r\n   */\r\n  @Output() loaded: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on error, $event is ErrorMessage object contains error: string & type: any  (if present)\r\n   */\r\n  @Output() error: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on export, $event object contains exportFormat: string & exportSettings: {}\r\n   */\r\n  @Output() export: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on export & email, $event object contains exportFormat: string & exportSettings: {}\r\n   */\r\n  @Output() email: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on export & email, $event object contains format: string : 'PrintPdf' or 'PrintWithoutPreview' or 'PrintWithPreview'\r\n   */\r\n  @Output() print: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on pressing 'Design' button\r\n   */\r\n  @Output() design: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Url to server instance, must contains placeholder {action} that will replace with action\r\n   * Example: http://server.url:51528/Viewer/{action}\r\n   */\r\n  @Input() requestUrl: string;\r\n\r\n  /**\r\n   * Controller action that handle viewer initial request\r\n   */\r\n  @Input() action: string;\r\n\r\n  /**\r\n   * Properties that will transfer to controller action as JSON object\r\n   */\r\n  @Input() properties: any;\r\n\r\n  /**\r\n   * Viewer width\r\n   */\r\n  @Input() width: string;\r\n\r\n  /**\r\n   * Viewer height\r\n   */\r\n  @Input() height: string;\r\n\r\n  /**\r\n   * Viewer background color\r\n   */\r\n  @Input() backgroundColor = 'White';\r\n\r\n  /**\r\n   * Style of viewer applied to main span as [style]=\"style\"\r\n   */\r\n  @Input() style: string;\r\n\r\n  public initialized = false;\r\n\r\n  private viewInit = false;\r\n\r\n  constructor(private controller: ControllerService, public menuService: MenuService,\r\n    public model: ModelService, public exportService: ExportService, public formService: FormService,\r\n    public api: ApiService, private printService: PrintService, private dashboardService: DashboardService) {\r\n\r\n    window.onresize = () => this.resize();\r\n\r\n    this.initEvents();\r\n  }\r\n\r\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\r\n    this.loadViewer();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.controller.getMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'viewer_loaded':\r\n          this.initialized = true;\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.viewInit = true;\r\n    this.loadViewer();\r\n  }\r\n\r\n  initEvents() {\r\n    this.controller.getMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'GetReport':\r\n        case 'OpenReport':\r\n          setTimeout(() => {\r\n            this.loaded.next();\r\n          });\r\n          break;\r\n      }\r\n    });\r\n\r\n    this.controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'Error':\r\n          setTimeout(() => {\r\n            this.error.next(this.model.errorMessage);\r\n          });\r\n          break;\r\n\r\n        case 'ExportReport':\r\n          setTimeout(() => {\r\n            this.export.next(message.data);\r\n          });\r\n          break;\r\n\r\n        case 'Email':\r\n          setTimeout(() => {\r\n            this.email.next(message.data);\r\n          });\r\n          break;\r\n\r\n        case 'Print':\r\n          setTimeout(() => {\r\n            this.print.next(message.data);\r\n          });\r\n          break;\r\n\r\n        case 'Design':\r\n          setTimeout(() => {\r\n            this.design.next();\r\n          });\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadViewer() {\r\n    if (this.viewInit) {\r\n      this.model.requestUrl = this.requestUrl;\r\n      this.model.action = this.action;\r\n      this.model.properties = this.properties;\r\n      this.controller.loadViewer();\r\n      this.resize();\r\n      this.model.controls.viewer.el = this.viewerElement;\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    if (this.viewerElement?.nativeElement) {\r\n      this.model.viewerSize = { width: this.viewerElement.nativeElement.offsetWidth, height: this.viewerElement.nativeElement.offsetHeight };\r\n      this.controller.viewerResized();\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter } from '@angular/core';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MenuService, Menu } from '../menu/menu.service';\r\nimport { TooltipService } from '../services/tooltip.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { MenuItem } from '../menu/meni-item.component';\r\n\r\n@Component({\r\n  selector: 'sti-button',\r\n  template: `\r\n  <div #button\r\n    [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n    [style.cursor]=\"cursor\"\r\n    [style.borderColor]=\"borderColor\"\r\n    [class]=\"className\"\r\n    [style]=\"{height: helper.val(height, '23px'), boxSizing: helper.val(boxSizing, 'content-box'), margin: helper.val(margin, '1px'), minWidth: minWidth, width: width, display: display }\"\r\n    [style.fontSize]=\"fontSize\"\r\n    (mouseover)=\"mouseover()\"\r\n    (mouseout)=\"mouseout()\"\r\n    (click)=\"click()\" >\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%;width:100%\" [style.width]=\"innerTableWidth\">\r\n      <tbody>\r\n        <tr class=\"stiJsViewerClearAllStyles\">\r\n          <td *ngIf=\"imageName != null\" [style]=\"{lineHeight:'0', padding:helper.val(imageCellPadding, '0 3px'), textAlign: imageCellTextAlign, width: imageCellWidth}\" class=\"stiJsViewerClearAllStyles\">\r\n            <img src=\"{{model.img(imageName)}}\" [style.opacity]=\"enabled ? '1' : '0.5'\"\r\n                [style.width.px]=\"imageSizesWidth\"\r\n                [style.height.px]=\"imageSizesHeight\"\r\n                [style.margin]=\"imageMargin\">\r\n          </td>\r\n          <td *ngIf=\"caption != null\"\r\n             [style]=\"{whiteSpace:'nowrap', textAlign: captionAlign || 'left', padding:captionPadding || ((arrow ? '1px 0' : '1px 5px') + (imageName ? ' 0 0' : ' 0 5px')), width: captionWidth}\"\r\n             [style.maxWidth]=\"captionMaxWidth\"\r\n             [style.lineHeight]=\"captionLineHeight\"\r\n             [style.paddingLeft]=\"captionPaddingLeft\"\r\n             [style.whiteSpace]=\"captionWhiteSpace\"\r\n             [style.overflow]=\"captionOverflow\"\r\n             [style.textOverflow]=\"captionTextOverflow\"\r\n             class=\"stiJsViewerClearAllStyles\">\r\n            {{caption}}\r\n            <div *ngIf=\"caption2 != null\">\r\n            {{caption2}}\r\n            </div>\r\n          </td>\r\n          <td *ngIf=\"arrow\" class=\"stiJsViewerClearAllStyles\">\r\n            <img src=\"{{arrow == 'Up' || arrow == 'Down' ? model.img('Arrows.SmallArrow' + arrow + (arrow == 'Down' && styleColors && styleColors.isDarkStyle ? 'White.png' : '.png')) : model.img(arrow)}}\"\r\n            [style]=\"{lineHeight:'0', width:'8px', height:'8px', verticalAlign:'baseline', padding:caption ? '0 5px 0 5px' : '0 5px 0 2px', marginTop: arrowMarginTop}\"\r\n            [style.opacity]=\"enabled ? '1' : '0.5'\"/>\r\n          </td>\r\n\r\n          <td *ngIf=\"closeButton\" class=\"stiJsViewerClearAllStyles\">\r\n            <sti-button [imageName]=\"'CloseForm.png'\"\r\n              [imageMargin]=\"'1px 0 0 -1px'\"\r\n              [margin]=\"'0 2px 0 0'\"\r\n              [imageCellPadding]=\"'0'\"\r\n              [width]=\"model.options.isTouchDevice ? '22px' : '17px'\"\r\n              [height]=\"model.options.isTouchDevice ? '22px' : '17px'\"\r\n              (action)=\"closeButtonPressed = true; closeButtonAction.emit()\">\r\n            </sti-button>\r\n          </td>\r\n\r\n          <td #resButtonEl *ngIf=\"resourceButton\" style=\"width: 1px;\">\r\n            <sti-button [imageName]=\"'Arrows.SmallArrowDown.png'\"\r\n              [styleName]=\"'stiJsViewerResourceDropDownButton'\"\r\n              [innerTableWidth]=\"'100%'\"\r\n              [margin]=\"'0 7px 0 3px'\"\r\n              [imageCellTextAlign]=\"'center'\"\r\n              [imageSizesWidth]=\"8\"\r\n              [imageSizesHeight]=\"8\"\r\n              [height]=\"model.options.isTouchDevice ? '23px' : '17px'\"\r\n              [width]=\"model.options.isTouchDevice ? '23px' : '17px'\"\r\n              (action)=\"resourceButtonPressed = true;\">>\r\n            </sti-button>\r\n          </td>\r\n\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  `\r\n})\r\nexport class ButtonComponent implements OnInit {\r\n\r\n  @Input() caption: string;\r\n  @Input() caption2: string;\r\n  @Input() captionAlign: string;\r\n  @Input() captionPadding: string;\r\n  @Input() captionPaddingLeft: string;\r\n  @Input() captionWhiteSpace: string;\r\n  @Input() captionOverflow: string;\r\n  @Input() captionTextOverflow: string;\r\n  @Input() captionWidth: string;\r\n  @Input() captionMaxWidth: string;\r\n  @Input() captionLineHeight: string;\r\n  @Input() imageName: string;\r\n  @Input() arrow: string;\r\n  @Input() arrowMarginTop: string;\r\n  @Input() margin = '1px';\r\n  @Input() height = '23px';\r\n  @Input() selected = false;\r\n  @Input() minWidth: string;\r\n  @Input() innerTableWidth: string;\r\n  @Input() menuItems: MenuItem[];\r\n  @Input() actionName: string;\r\n  @Input() tooltip: any;\r\n  @Input() imageCellTextAlign = 'center';\r\n  @Input() imageCellWidth: string;\r\n  @Input() imageCellPadding: string;\r\n  @Input() imageSizesWidth = 16;\r\n  @Input() imageSizesHeight = 16;\r\n  @Input() imageMargin: string;\r\n  @Input() width: string;\r\n  @Input() display: string;\r\n  @Input() closeButton = false;\r\n  @Input() resourceButton = false;\r\n  @Input() styleColors: any;\r\n  @Input() boxSizing: string;\r\n  @Input() navagationPanelTooltip = false;\r\n  @Input() cursor: string;\r\n  @Input() fontSize: string;\r\n  @Input() helpLink = 'user-manual/index.html?viewer_reports.htm';\r\n  @Input() borderColor;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n  @Output() closeButtonAction: EventEmitter<any> = new EventEmitter();\r\n  @ViewChild('button') button: ElementRef;\r\n  @ViewChild('resButtonEl') resButtonEl: ElementRef;\r\n\r\n  over = false;\r\n  showMenu = false;\r\n  closeButtonPressed = false;\r\n  resourceButtonPressed = false;\r\n  private _enabled = true;\r\n  private _styleName: string;\r\n  private menuObj: Menu;\r\n  private canShowTooltip = true;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public menuService: MenuService, private tooltipService: TooltipService,\r\n    public helper: HelperService) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.menuItems) {\r\n      setTimeout(() => {\r\n        this.menuObj = { type: 'buttonMenu', name: this.actionName, items: this.menuItems, parent: !this.resourceButton ? this.button : this.resButtonEl };\r\n        this.menuService.addMenu(this.menuObj);\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  @Input() get styleName(): string {\r\n    return this._styleName || 'stiJsViewerStandartSmallButton';\r\n  }\r\n\r\n  set styleName(value: string) {\r\n    this._styleName = value;\r\n  }\r\n\r\n  @Input() get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(value: boolean) {\r\n    if (!value) {\r\n      this.over = false;\r\n    }\r\n    this._enabled = value;\r\n  }\r\n\r\n  mouseover() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n\r\n    if (this.model.options.toolbar.showMenuMode === 'Hover' && ['Print', 'Save', 'SendEmail', 'Zoom', 'ViewMode'].some(a => a === this.actionName)) {\r\n      this.tooltipService.hideImmediately();\r\n      this.menuService.showMenu(this.actionName);\r\n    } else if (this.tooltip && !this.menuService.menus.some(e => e.state === 'expanded') && this.canShowTooltip) {\r\n      const top = !this.navagationPanelTooltip ? this.model.controls.toolbar.offsetHeight + this.model.controls.dashboardsPanel.offsetHeight :\r\n        this.helper.findPosY(this.model.controls.navigatePanel.el.nativeElement, 'stiJsViewerMainPanel');\r\n      const tooltip = this.tooltip === true ? (this.model.localization[this.actionName + 'ToolTip'] != null ? this.model.loc(this.actionName + 'ToolTip') : this.model.loc(this.actionName)) : this.tooltip;\r\n      this.tooltipService.show(this.helper.findPosX(this.button.nativeElement, 'stiJsViewerMainPanel'),\r\n        top, tooltip, !this.navagationPanelTooltip, this.helpLink);\r\n    }\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n    this.tooltipService.hide();\r\n    setTimeout(() => {\r\n      this.canShowTooltip = true;\r\n    }, 1000);\r\n  }\r\n\r\n  click() {\r\n    if (this.enabled && !this.closeButtonPressed) {\r\n      this.tooltipService.hideImmediately();\r\n      if (this.menuItems == null || (this.resourceButton && !this.resourceButtonPressed)) {\r\n        this.action.emit();\r\n      } else {\r\n        this.menuService.showMenu(this.actionName);\r\n      }\r\n    }\r\n    this.canShowTooltip = false;\r\n    this.closeButtonPressed = false;\r\n    this.resourceButtonPressed = false;\r\n  }\r\n\r\n  get className(): string {\r\n    return this.styleName ? this.styleName + ' ' + (this.enabled ? (this.styleName + ((this.selected || this.menuObj?.state === 'expanded') ? 'Selected' : (this.over ? 'Over' : 'Default'))) : this.styleName + 'Disabled') : '';\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ReportPanelComponent } from './report-panel.component';\r\nimport { ControllerService } from '../services/controller.service';\r\n\r\n@Component({\r\n  selector: 'sti-page',\r\n  template: `\r\n    <div #element\r\n      style=\"overflow: hidden; text-align: left; vertical-align: top; color: #000000; box-sizing: content-box; display:inline-block\"\r\n      [style.margin]=\"model.reportParams.viewMode === 'Continuous' ? '10px auto 10px auto' : '10px'\"\r\n      [style.display]=\"this.model.reportParams.viewMode === 'Continuous' ? 'table' : 'inline-block'\"\r\n      [style.border]=\"'1px solid ' + this.model.options.appearance.pageBorderColor\"\r\n      [style.background]=\"pageAttributes['background'] == 'Transparent' || pageAttributes.background == 'rgba(255,255,255,0)' ? 'White' : pageAttributes['background']\"\r\n      [style.padding]=\"pageAttributes['margins']\"\r\n      [style.width]=\"!pageAttributes['content'] ? pageWidth + 'px' : ''\"\r\n      [style.height]=\"!pageAttributes['content'] ? pageHeight + 'px' : ''\"\r\n      [class]=\"model.options.appearance.showPageShadow ? 'stiJsViewerPageShadow' : 'stiJsViewerPage'\"\r\n      (touchstart)=\"eventTouchStart($event)\"\r\n      (touchmove)=\"eventTouchMove($event)\"\r\n      (touchend)=\"eventTouchEnd($event)\">\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class PageComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n  @Input() pageAttributes: any;\r\n  @Input() reportPanel: ReportPanelComponent;\r\n\r\n  private touchesLength = 0;\r\n  private lastTouches = [{ x: 0, y: 0, time: 0 }, { x: 0, y: 0, time: 0 }];\r\n  private touchAllowPageAction = false;\r\n  private touchAllowScroll = false;\r\n  private touchStartX: number;\r\n  private touchStartScrollY: number;\r\n  private touchPosX: number;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const page = this.element.nativeElement;\r\n    page.innerHTML = this.pageAttributes.content;\r\n    this.pageAttributes.page = page;\r\n\r\n    // Correct Watermark\r\n    if (this.pageAttributes.existsWatermark) {\r\n      page.style.position = 'relative';\r\n      for (const childNode of page.childNodes) {\r\n        if (childNode.className === 'stiWatermarkImage') {\r\n          childNode.style.width = 'auto';\r\n          childNode.style.height = 'auto';\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.model.options.appearance.reportDisplayMode === 'Div' || this.model.options.appearance.reportDisplayMode === 'Span') {\r\n      const childs = page.getElementsByClassName('StiPageContainer');\r\n      if (childs && childs.length > 0) {\r\n        const pageContainer = childs[0];\r\n        pageContainer.style.position = 'relative';\r\n        if (this.model.options.appearance.reportDisplayMode === 'Span') {\r\n          pageContainer.style.margin = '0 1px'; // fix Chrome bug with SPAN position\r\n        }\r\n        page.style.width = (page.pageWidth - page.margins[1] - page.margins[3]) + 'px';\r\n        page.style.height = (page.pageHeight - page.margins[0] - page.margins[2]) + 'px';\r\n      }\r\n    }\r\n\r\n    this.element.nativeElement.pageAttributes = this.pageAttributes;\r\n\r\n    /*const pageHeight = this.pageHeight;\r\n    if (pageHeight !== 0) {\r\n      // fixed bug with long time execute\r\n      if (this.model.options.appearance.reportDisplayMode !== 'Table' && this.model.reportParams.viewMode !== 'SinglePage') {\r\n        setTimeout(() => {\r\n          const currentPageHeight = page.offsetHeight - this.margins[0] - this.margins[2];\r\n          if (this.reportPanel.maxHeights[pageHeight] == null || currentPageHeight > this.reportPanel.maxHeights[pageHeight]) {\r\n            this.reportPanel.maxHeights[pageHeight] = currentPageHeight;\r\n          }\r\n        });\r\n      } else {\r\n        const currentPageHeight = page.offsetHeight - this.margins[0] - this.margins[2];\r\n        if (this.reportPanel.maxHeights[pageHeight] === null || currentPageHeight > this.reportPanel.maxHeights[pageHeight]) {\r\n          this.reportPanel.maxHeights[pageHeight] = currentPageHeight;\r\n        }\r\n      }\r\n    }*/\r\n  }\r\n\r\n  public get margins(): number[] {\r\n    const margins = [0, 0, 0, 0];\r\n    if (this.pageAttributes.margins) {\r\n      const marginsPx = this.pageAttributes.margins.split(' ');\r\n      for (let i = 0; i < marginsPx.length; i++) {\r\n        margins[i] = parseInt(marginsPx[i].replace('px', ''), 10);\r\n      }\r\n    }\r\n    return margins;\r\n  }\r\n\r\n  public get pageWidth(): number {\r\n    const pageSizes: string[] = this.pageAttributes.sizes ? this.pageAttributes.sizes.split(';') : null;\r\n    if (pageSizes) {\r\n      return parseInt(pageSizes[0], 10);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public get pageHeight(): number {\r\n    const pageSizes: string[] = this.pageAttributes.sizes ? this.pageAttributes.sizes.split(';') : null;\r\n    if (pageSizes) {\r\n      return parseInt(pageSizes[1], 10);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public eventTouchStart(e: any) {\r\n    const reportPanel = this.model.controls.reportPanel.el.nativeElement;\r\n    this.touchAllowPageAction = this.touchesLength === 0 && Math.abs(reportPanel.offsetWidth - reportPanel.scrollWidth) <= 10;\r\n    this.touchAllowScroll = reportPanel.offsetWidth === reportPanel.scrollWidth;\r\n    this.touchesLength++;\r\n\r\n    if (this.touchAllowPageAction) {\r\n      this.touchStartX = parseInt(e.changedTouches[0].clientX, 10);\r\n      this.touchStartScrollY = reportPanel.scrollTop;\r\n    }\r\n  }\r\n\r\n  public eventTouchMove(e: any) {\r\n    const reportPanel = this.model.controls.reportPanel.el.nativeElement;\r\n    if (this.touchAllowPageAction) {\r\n      this.lastTouches.shift();\r\n      this.lastTouches.push({\r\n        x: e.changedTouches[0].clientX,\r\n        y: e.changedTouches[0].clientY,\r\n        time: new Date().getTime()\r\n      });\r\n      if (this.touchAllowScroll && this.touchStartScrollY === reportPanel.scrollTop) {\r\n        this.touchPosX = Math.trunc(this.lastTouches[1].x - this.touchStartX);\r\n        if (scrollX === 0) {\r\n          this.element.nativeElement.style.transform = `translateX(${this.touchPosX}px)`;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public eventTouchEnd(e: any) {\r\n    const reportPanel = this.model.controls.reportPanel.el.nativeElement;\r\n    if (this.touchesLength > 0) { this.touchesLength--; }\r\n    if (this.touchAllowPageAction && this.touchesLength === 0) {\r\n      const dX = this.lastTouches[1].x - this.lastTouches[0].x;\r\n      const dT = new Date().getTime() - this.lastTouches[1].time;\r\n\r\n      if (this.touchStartScrollY !== reportPanel.scrollTop ||\r\n        (dX <= 0 && this.model.reportParams.pageNumber >= this.model.reportParams.pagesCount - 1) ||\r\n        (dX >= 0 && this.model.reportParams.pageNumber <= 0)) {\r\n        this.translateX(0);\r\n      } else if ((dX < -5 && dT <= 14 && this.lastTouches[1].x < this.touchStartX) ||\r\n        (dX < 0 && this.touchPosX < -this.pageWidth / 3)) {\r\n        this.controller.action({ name: 'NextPage' });\r\n        this.translateX(-this.pageWidth);\r\n      } else if ((dX > 5 && dT <= 14 && this.lastTouches[1].x > this.touchStartX) ||\r\n        (dX > 0 && this.touchPosX > this.pageWidth / 3)) {\r\n        this.controller.action({ name: 'PrevPage' });\r\n        this.translateX(this.pageWidth);\r\n      } else {\r\n        this.translateX(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  public translateX(value: number) {\r\n    this.element.nativeElement.style.transitionDuration = '300ms';\r\n    this.element.nativeElement.style.transform = value === 0 ? '' : `translateX(${value}px)`;\r\n    setTimeout(() => {\r\n      this.element.nativeElement.style.transitionDuration = '';\r\n    }, 300);\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { StylesService } from '../services/styles.service';\r\nimport { InteractionsService } from '../services/interactions.service';\r\nimport { Message } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-report-panel',\r\n  template: `\r\n    <div #element\r\n         [style.textAlign]=\"model.options.appearance.pageAlignment == 'default' ? 'center' : model.options.appearance.pageAlignment\"\r\n         [style.top]=\"0\"\r\n         [style.bottom]=\"0\"\r\n         [style.position]=\"position\"\r\n         [style.height]=\"model.options.heightType != 'Percentage' || model.options.appearance.scrollbarsMode ? 'auto' : 'calc(100% - 35px)'\"\r\n         [style.overflow] = \"model.reportParams.type == 'Report' && model.options.appearance.scrollbarsMode ? 'auto' : 'hidden'\"\r\n         [style.marginTop.px]=\"model.controls.reportPanel.layout.top\"\r\n         [style.marginLeft.px]=\"model.controls.reportPanel.layout.left\"\r\n         [style.marginBottom.px]=\"position == 'absolute' ? model.controls.reportPanel.layout.bottom : 0\"\r\n         [style.paddingBottom.px]=\"position == 'relative' ? model.controls.reportPanel.layout.bottom : 0\"\r\n         [style.transition]=\"model.options.isMobileDevice ? 'margin 200ms ease' : null\"\r\n         (scroll)=\"scroll()\"\r\n         class=\"stiJsViewerReportPanel\"\r\n         (touchstart)=\"eventTouchStart($event)\"\r\n         (touchmove)=\"eventTouchMove($event)\"\r\n         (touchend)=\"eventTouchEnd($event)\">\r\n      <sti-page *ngFor=\"let page of model.pages\" [pageAttributes]=\"page\" [reportPanel]=\"this\"></sti-page>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class ReportPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  private scrollTimeout: any;\r\n  private touchesLength: number;\r\n  private touchZoomFirstDistance = 0;\r\n  private touchZoomSecondDistance = 0;\r\n  private touchZoomValue = 0;\r\n  private touchStartX: number;\r\n\r\n  public maxHeights = {};\r\n\r\n  constructor(private controller: ControllerService, public model: ModelService, private stylesService: StylesService, private interactionService: InteractionsService) {\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n\r\n      if (message.action !== 'viewer_loaded' && this.model.reportParams.pagesArray) {\r\n        if (this.model.reportParams.repaintOnlyDashboardContent) {\r\n          // jsObject.controls.reportPanel.repaintDashboardContent(parameters);\r\n        } else {\r\n          this.loadPages();\r\n        }\r\n      }\r\n\r\n      if (message.action === 'GetReport' || message.action === 'OpenReport') {\r\n        setTimeout(() => {\r\n          if (!this.model.options.isParametersReceived && ((this.model.reportParams.type === 'Report' && this.model.options.toolbar.showParametersButton) || this.model.reportParams.type === 'Dashboard')) {\r\n            interactionService.postInteraction({ action: 'InitVars' });\r\n          }\r\n\r\n          if (this.model.reportParams.autoZoom) {\r\n            this.controller.action({ name: this.model.reportParams.autoZoom === -1 ? 'ZoomPageWidth' : 'ZoomOnePage' });\r\n            this.model.reportParams.autoZoom = null;\r\n          }\r\n        });\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.reportPanel.el = this.element;\r\n  }\r\n\r\n  loadPages() {\r\n    this.maxHeights = {};\r\n    const pagesArray: [] = this.model.reportParams.pagesArray;\r\n    this.stylesService.setupStyle(pagesArray[pagesArray.length - 2], 'page');\r\n    const chartScript = pagesArray[pagesArray.length - 1];\r\n    this.model.pages = pagesArray.slice(0, pagesArray.length - 2);\r\n\r\n    setTimeout(() => {\r\n      this.model.pages.forEach(page => this.interactionService.initializeInteractions(page.page));\r\n      this.interactionService.updateAllHyperLinks();\r\n      this.stylesService.addChartScript(chartScript);\r\n    });\r\n\r\n  }\r\n\r\n  get position(): string {\r\n    return this.model.options.heightType !== 'Percentage' || this.model.options.appearance.scrollbarsMode ? 'absolute' : 'relative';\r\n  }\r\n\r\n  scroll() {\r\n    if (this.model.pagesNavigationIsActive()) {\r\n      clearTimeout(this.scrollTimeout);\r\n\r\n      // update current page number\r\n      this.scrollTimeout = setTimeout(() => {\r\n        let commonPagesHeight = 0;\r\n        let index = 0;\r\n\r\n        for (index = 0; index < this.model.pages.length; index++) {\r\n          commonPagesHeight += this.model.pages[index].page.offsetHeight + 10;\r\n          if (commonPagesHeight > this.element.nativeElement.scrollTop) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (index < this.model.reportParams.pagesCount && index >= 0 && index !== this.model.reportParams.pageNumber) {\r\n          this.model.reportParams.pageNumber = index;\r\n        }\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  public eventTouchStart(e: any) {\r\n    this.touchesLength++;\r\n    this.touchStartX = parseInt(e.changedTouches[0].clientX, 10);\r\n\r\n    if (this.model.options.appearance.allowTouchZoom && this.touchesLength === 1) {\r\n      this.touchZoomFirstDistance = 0;\r\n      this.touchZoomSecondDistance = 0;\r\n      this.touchZoomValue = 0;\r\n    }\r\n  }\r\n\r\n  public eventTouchMove(e: any) {\r\n    if (this.model.options.appearance.allowTouchZoom && e.touches.length > 1) {\r\n      if ('preventDefault' in e) { e.preventDefault(); }\r\n\r\n      this.touchZoomSecondDistance = Math.sqrt(Math.pow(e.touches[0].pageX - e.touches[1].pageX, 2) + Math.pow(e.touches[0].pageY - e.touches[1].pageY, 2));\r\n      if (this.touchZoomFirstDistance === 0) {\r\n        this.touchZoomFirstDistance = Math.sqrt(Math.pow(e.touches[0].pageX - e.touches[1].pageX, 2) + Math.pow(e.touches[0].pageY - e.touches[1].pageY, 2));\r\n      }\r\n\r\n      const touchZoomOffset = Math.trunc((this.touchZoomSecondDistance - this.touchZoomFirstDistance) / 2.5);\r\n      if (Math.abs(touchZoomOffset) >= 5) {\r\n        this.touchZoomValue = Math.trunc((this.model.reportParams.zoom + touchZoomOffset) / 5) * 5;\r\n        this.touchZoomValue = Math.min(Math.max(this.touchZoomValue, 20), 200);\r\n        this.controller.actionSubject.next({ action: 'centerText', data: this.touchZoomValue.toString() });\r\n      }\r\n    }\r\n  }\r\n\r\n  public eventTouchEnd(e: any) {\r\n    if (this.touchesLength > 0) { this.touchesLength--; }\r\n\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      if (Math.trunc(this.touchStartX - e.changedTouches[0].clientX) !== 0) {\r\n        this.controller.keepToolbar();\r\n      } else {\r\n        if (!this.model.controls.toolbar.visible) {\r\n          this.controller.showToolbar();\r\n        } else {\r\n          this.controller.hideToolbar();\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.model.options.appearance.allowTouchZoom && this.touchZoomValue !== 0 && this.touchesLength === 0) {\r\n      this.controller.actionSubject.next({ action: 'hideCenterText' });\r\n      this.model.reportParams.zoom = this.touchZoomValue;\r\n      this.controller.post('GetPages');\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ToolbarService } from '../services/toolbar.service';\r\n\r\n@Component({\r\n  selector: 'sti-toolbar',\r\n  template: `\r\n    <div #element [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode === 'Separated' ? '  stiJsViewerToolBarSeparated' : '')\" style=\"display: block\"\r\n         [style.width.px]=\"!model.controls.toolbar.visible ? '0px' : ''\"\r\n         [style.height.px]=\"!model.controls.toolbar.visible ? '0px' : ''\"\r\n         [style.display]=\"!model.options.isMobileDevice ? (this.model.controls.toolbar.visible ? '' : 'none') : ''\"\r\n         [style.transition]=\"model.options.isMobileDevice ? 'margin 300ms ease, opacity 300ms ease' : null\"\r\n         [style.zIndex]=\"model.options.toolbar.autoHide ? 5 : 2\"\r\n         [style.position]=\"model.options.toolbar.autoHide ? 'absolute' : 'relative'\"\r\n         [style.opacity]=\"model.options.isMobileDevice ? (model.controls.toolbar.visible ? (model.options.toolbar.autoHide ? 0.9 : 1) : 0) : 1\"\r\n         [style.marginTop]=\"model.options.isMobileDevice && !model.controls.toolbar.visible ? '-0.55in' : 0\">\r\n      <div [style]=\"model.options.toolbar.displayMode === 'Simple' ? 'paddingTop: 2px' : ''\">\r\n        <table class=\"stiJsViewerToolBarTable\" style=\"margin: 0px; box-sizing: border-box;\"\r\n               cellpadding=\"0\" cellspacing=\"0\"\r\n               [style.background]=\"model.options.toolbar.backgroundColor !== '' ? model.options.toolbar.backgroundColor : ''\"\r\n               [style.border]=\"model.options.toolbar.displayMode === 'Separated' ? '0px' : (model.options.toolbar.borderColor !== '' ?  '1px solid ' + model.options.toolbar.borderColor : '')\"\r\n               [style.color]=\"model.options.toolbar.fontColor !== '' ? model.options.toolbar.fontColor : ''\"\r\n               [style.fontFamily]=\"model.options.toolbar.fontFamily\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td *ngIf=\"model.options.appearance.rightToLeft\">\r\n              <sti-toolbar-dop [comps]=\"toolbarService.dopComps\" ></sti-toolbar-dop>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"width: 100%\">\r\n                <sti-toolbar-dop\r\n                  [align]=\"model.options.appearance.rightToLeft ? 'right' : (model.options.toolbar.alignment === 'default' ? 'left' : model.options.toolbar.alignment)\"\r\n                  [comps]=\"toolbarService.comps\">\r\n                </sti-toolbar-dop>\r\n              </td>\r\n\r\n              <td *ngIf=\"!model.options.appearance.rightToLeft\">\r\n                <sti-toolbar-dop [comps]=\"toolbarService.dopComps\" ></sti-toolbar-dop>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"stiJsViewerDisabledPanel\" [style.display]=\"this.model.controls.toolbar.enabled ? 'none' : 'block'\"></div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class ToolbarComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public toolbarService: ToolbarService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.toolbar.el = this.element;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.toolbarService.initButtons();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-toolbar-separator',\r\n  template: `\r\n    <div style=\"width:1px\" [style.height]=\"model.options.isMobileDevice ? '0.4in' : (model.options.isTouchDevice ? '26px' : '21px')\" class=\"stiJsViewerToolBarSeparator\"></div>\r\n  `\r\n})\r\n\r\nexport class ToolbarSeparatorComponent implements OnInit {\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-page-control',\r\n  template: `\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" [style.margin]=\"helper.val(margin, '1px')\">\r\n      <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              {{model.loc('Page')}}\r\n            </td>\r\n            <td *ngIf=\"model.options.isMobileDevice\" class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              <span>{{model.reportParams.pageNumber + 1}}</span>\r\n            </td>\r\n            <td *ngIf=\"!model.options.isMobileDevice\" class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              <sti-text-box [width]=\"45\" [enabled]=\"enabled\" [style.color]=\"textBoxColor\" [style.opacity]=\"enabled ? 1 : 0.5\"\r\n              (action)=\"textBoxAction($event)\" [value]=\"model.reportParams.pageNumber + 1\" [border]=\"textBoxBorder\"></sti-text-box>\r\n            </td>\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              {{model.loc('PageOf')}}\r\n            </td>\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              {{count}}\r\n            </td>\r\n          </tr>\r\n      </tbody>\r\n    </table>\r\n  `\r\n})\r\n\r\nexport class PageControlComponent implements OnInit {\r\n\r\n  @Input() enabled = true;\r\n  @Input() count = '?';\r\n  @Input() textBoxBorder: string;\r\n  @Input() margin: string;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  textBoxAction(target: any): void {\r\n    if (this.model.reportParams.pagesCount > 0 && this.model.reportParams.pageNumber !== this.getCorrectValue(target.value) - 1) {\r\n      this.controller.action({ name: 'GoToPage', value: this.getCorrectValue(target.value) - 1 });\r\n    }\r\n  }\r\n\r\n  getCorrectValue(value: any): number {\r\n    value = parseInt(value, 10);\r\n    if (value < 1 || !value) {\r\n      value = 1;\r\n    }\r\n    if (value > this.model.reportParams.pagesCount) {\r\n      value = this.model.reportParams.pagesCount;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  get textBoxColor(): string {\r\n    const toolbarFontColor = this.model.options.toolbar.fontColor;\r\n    return this.enabled ? (toolbarFontColor && toolbarFontColor !== 'Empty' ? toolbarFontColor : '#444444')\r\n      : (this.model.reportParams && this.model.reportParams.viewMode !== 'SinglePage' ? 'transparent' : toolbarFontColor);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-text-box',\r\n  template: `\r\n    <input #element\r\n    [style]=\"{fontFamily:model.options.toolbar.fontFamily, height: height, lineHeight: height, boxSizing:'content-box'}\"\r\n    [style.color]=\"color ? color : (model.options.toolbar.fontColor != '' ? model.options.toolbar.fontColor : '')\"\r\n    [style.width]=\"width != null ? width + 'px' : ''\"\r\n    [style.margin]=\"margin\"\r\n    [style.cursor]=\"readOnly ? 'default' : ''\"\r\n    [style.padding]=\"padding\"\r\n    [style.border]=\"border\"\r\n    [title]=\"tooltip || ''\"\r\n    [class]=\"className\"\r\n    [value]=\"value || ''\"\r\n    [attr.maxLength]=\"maxLength\"\r\n    [attr.type]=\"type\"\r\n    (mouseover)=\"over=true\"\r\n    (mouseleave)=\"over=false\"\r\n    (focused)=\"focused=true; selected=true\"\r\n    (blur)=\"focused=false; selected=false; onblur.emit($event.target)\"\r\n    (keypress)=\"keypress($event)\"\r\n    (keyup)=\"onchanged($event)\"\r\n    (focus)=\"focus()\"/>\r\n  `\r\n})\r\n\r\nexport class TextBoxComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  @Input() width: number;\r\n  @Input() actionLostFocus: any;\r\n  @Input() tooltip: string;\r\n  @Input() enabled = true;\r\n  @Input() value: string;\r\n  @Input() margin: string;\r\n  @Input() focusOnCreate = false;\r\n  @Input() maxLength: number;\r\n  @Input() color: string;\r\n  @Input() type: string;\r\n  @Input() padding: string;\r\n  @Input() border: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n  @Output() onchange: EventEmitter<any> = new EventEmitter();\r\n  @Output() onblur: EventEmitter<any> = new EventEmitter();\r\n\r\n  public oldValue: string;\r\n\r\n  selected = false;\r\n  focused = false;\r\n  over = false;\r\n  _readOnly = false;\r\n\r\n  styleName = 'stiJsViewerTextBox';\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.focusOnCreate) {\r\n      setTimeout(() => {\r\n        this.element.nativeElement.focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  keypress(event: KeyboardEvent) {\r\n    if (!this.enabled) {\r\n      return false;\r\n    }\r\n    if (event.keyCode === 13) {\r\n      this.action.emit(event.target);\r\n    }\r\n  }\r\n\r\n  onchanged(event: KeyboardEvent) {\r\n    this.onchange.emit(event.target);\r\n  }\r\n\r\n  focus() {\r\n    this.oldValue = this.element.nativeElement.value;\r\n  }\r\n\r\n  get height(): string {\r\n    return this.model.options.isTouchDevice ? '26px' : '21px';\r\n  }\r\n\r\n  get className(): string {\r\n    if (this._readOnly) {\r\n      return this.styleName + ' ' + this.styleName + 'Default';\r\n    }\r\n    return this.styleName + ' ' + this.styleName + (this.selected ? 'Over' : (this.enabled ? (this.over ? 'Over' : 'Default') : 'Disabled'));\r\n  }\r\n\r\n  @Input()\r\n  set readOnly(value: boolean) {\r\n    this._readOnly = value;\r\n    setTimeout(() => {\r\n      try {\r\n        this.element.nativeElement.setAttribute('unselectable', value ? 'on' : 'off');\r\n        this.element.nativeElement.setAttribute('onselectstart', value ? 'return false' : '');\r\n        this.element.nativeElement.readOnly = value;\r\n      } catch (e) { }\r\n    });\r\n  }\r\n\r\n  get readOnly(): boolean {\r\n    return this._readOnly;\r\n  }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, Input, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MenuItem } from './meni-item.component';\r\nimport { Menu, MenuService } from './menu.service';\r\nimport { trigger, state, style, transition, animate, AnimationEvent } from '@angular/animations';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-menu',\r\n  template: `\r\n      <div #menuEl class=\"stiJsViewerParentMenu\"\r\n      [style]=\"menu.sizeStyle || style\"\r\n      [style.top.px]=\"menu.top\"\r\n      [style.left.px]=\"menu.left\"\r\n      [style.zIndex]=\"zIndex\"\r\n      [style.height]=\"menu.type=='buttonMenu' && model.options.isMobileDevice ? '100%' : menu.height + 'px'\"\r\n      [@.disabled]=\"!model.options.toolbar.menuAnimation\"\r\n      (mouseup)=\"mouseup()\">\r\n        <div #innerContent [style]=\"{overflowX: 'hidden', overflowY: overflow}\"\r\n        [style.color]=\"model.options.toolbar.fontColor\"\r\n        [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n        [style.maxHeight]=\"menu.type=='buttonMenu' && model.options.isMobileDevice ? '100%' : '450px'\"\r\n        [style.height]=\"menu.type=='buttonMenu' && model.options.isMobileDevice ? '100%' : null\"\r\n        [@expand]=\"menu.state || 'initialDown'\"\r\n        (@expand.start)=\"startAnimation($event)\"\r\n        (@expand.done)=\"doneAnimation($event)\"\r\n        [class]=\"helper.val(menu.menuStyleName, 'stiJsViewerMenu')\">\r\n            <ng-container *ngIf=\"menu.type=='buttonMenu'\">\r\n              <sti-menu-item *ngFor=\"let item of menu.items\" [item]=\"item\" (click)=\"menuClick(item)\"></sti-menu-item>\r\n            </ng-container>\r\n\r\n            <sti-parameter-menu-edit-list *ngIf=\"menu.type=='parameterMenuForEditList'\" [menu]=\"menu\">\r\n            </sti-parameter-menu-edit-list>\r\n\r\n            <sti-parameter-menu-not-edit-list *ngIf=\"menu.type=='parameterMenuForNotEditList'\" [menu]=\"menu\">\r\n            </sti-parameter-menu-not-edit-list>\r\n\r\n            <sti-parameter-menu-for-value *ngIf=\"menu.type=='parameterMenuForValue'\" [menu]=\"menu\">\r\n            </sti-parameter-menu-for-value>\r\n\r\n            <sti-parameter-menu-for-range *ngIf=\"menu.type=='parameterMenuForRange'\" [menu]=\"menu\">\r\n            </sti-parameter-menu-for-range>\r\n\r\n            <sti-date-picker-menu *ngIf=\"menu.type=='datePickerMenu'\" [menu]=\"menu\">\r\n            </sti-date-picker-menu>\r\n\r\n            <sti-double-date-picker-menu *ngIf=\"menu.type=='doubleDatePickerMenu'\" [menu]=\"menu\">\r\n            </sti-double-date-picker-menu>\r\n\r\n            <sti-document-security-menu *ngIf=\"menu.type=='documentSecurityMenu'\">\r\n            </sti-document-security-menu>\r\n\r\n            <sti-digital-signature-menu *ngIf=\"menu.type=='useDigitalSignatureMenu'\">\r\n            </sti-digital-signature-menu>\r\n\r\n            <sti-vertical-menu *ngIf=\"menu.type=='verticalMenu'\" [menu]=\"menu\">\r\n            </sti-vertical-menu>\r\n        </div>\r\n      </div>\r\n  `,\r\n  animations: [\r\n    trigger('expand', [\r\n      state('initialDown', style({ transform: 'translateY(-100%)' })),\r\n      state('initialUp', style({ transform: 'translateY(100%)' })),\r\n      state('initialLeft', style({ transform: 'translateX(-100%)' })),\r\n      state('expanded', style({ transform: 'translateY(0) translateX(0)' })),\r\n      transition('initialUp => expanded', [\r\n        animate('150ms ease-in-out')]),\r\n      transition('initialDown => expanded', [\r\n        animate('150ms ease-in-out')]),\r\n      transition('initialLeft => expanded', [\r\n        animate('150ms ease-in-out')]),\r\n      transition('expanded => initialLeft', [\r\n        animate('150ms ease-in-out')])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class MenuComponent implements OnInit, AfterViewInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  @ViewChild('menuEl') menuEl: ElementRef;\r\n  @ViewChild('innerContent') innerContent: ElementRef;\r\n\r\n  style = 'display: none';\r\n  overflow = 'hidden';\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService, public menuService: MenuService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.menu.menuEl = this.menuEl;\r\n    this.menu.innerContent = this.innerContent;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  startAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'expanded') {\r\n      this.style = 'width: 350px; overflow: hidden';\r\n      this.overflow = 'hidden';\r\n    }\r\n  }\r\n\r\n  doneAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'expanded') {\r\n      this.style = 'overflow: visible;';\r\n      this.overflow = this.menu.type.indexOf('parameterMenu') === 0 || this.model.options.isMobileDevice ? 'auto' : 'hidden';\r\n    } else if (event.toState === 'initialUp' || event.toState === 'initialDown') {\r\n      this.style = 'display: none';\r\n      this.overflow = 'hidden';\r\n    }\r\n  }\r\n\r\n  menuClick(item: MenuItem) {\r\n    this.menuService.closeAllMenus();\r\n    this.controller.action({ name: item.name, value: item.value });\r\n  }\r\n\r\n  mouseup() {\r\n    this.menuService.menuMouseUp = this.menu.type;\r\n  }\r\n\r\n  get zIndex() {\r\n    return this.menu.type === 'datePickerMenu' ? 36 : (this.menu.type === 'verticalMenu' ? 37 : 35);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\nexport class MenuItem {\r\n  constructor(public name?: string, public caption?: string, public img?: string, public type?: string, public selected?: boolean, public imageSize?: string,\r\n    public value?: any) { }\r\n}\r\n\r\n@Component({\r\n  selector: 'sti-menu-item',\r\n  template: `\r\n    <div *ngIf=\"item.type!='separator'\" [class]=\"className\" (mouseover)=\"mouseover()\"\r\n         (mouseout)=\"mouseout()\" [style.height]=\"height\">\r\n         <table style=\"height: 100%; width: 100%\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td *ngIf=\"item.img != null && !model.options.appearance.rightToLeft\" class=\"stiJsViewerClearAllStyles\" style=\"width:22px; min-width:22px; padding: 0; text-align:center; line-height: 0;\">\r\n                  <img *ngIf=\"item.img != ''\" [style.height.px]=\"item.imageSize === 'Big' ? 32 : 16\" [style.width.px]=\"item.imageSize === 'Big' ? 32 : 16\" src=\"{{model.img(item.img)}}\" />\r\n                </td>\r\n\r\n                <td *ngIf=\"item.caption != null\" class=\"stiJsViewerClearAllStyles\" style=\"white-space:nowrap\"\r\n                  [style.textAlign]=\"model.options.appearance.rightToLeft ? 'right' : 'left'\"\r\n                  [style.padding]=\"item.imageSize == 'None' ? '0 20px 0 30px' : '0 20px 0 7px'\">\r\n                  {{item.caption}}\r\n                </td>\r\n\r\n                <td *ngIf=\"item.img != null && model.options.appearance.rightToLeft\" class=\"stiJsViewerClearAllStyles\" style=\"width:22px; min-width:22px; padding: 0; text-align:center; line-height: 0;\">\r\n                  <img *ngIf=\"item.img != ''\" [style.height.px]=\"item.imageSize === 'Big' ? 32 : 16\" [style.width.px]=\"item.imageSize === 'Big' ? 32 : 16\" src=\"{{model.img(item.img)}}\" />\r\n                </td>\r\n            </tr>\r\n         </table>\r\n    </div>\r\n    <div *ngIf=\"item.type=='separator'\" class=\"stiJsViewerVerticalMenuSeparator\" [style.margin]=\"item.imageSize == 'Big' ? '1px 2px 1px 2px' : ''\">\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class MenuItemComponent implements OnInit {\r\n\r\n  @Input() item: MenuItem;\r\n  @Input() styleName = 'stiJsViewerMenuStandartItem';\r\n\r\n  selected = false;\r\n  over = false;\r\n\r\n  private _enabled = true;\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  @Input() get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(value: boolean) {\r\n    if (!value) {\r\n      this.over = false;\r\n    }\r\n    this._enabled = value;\r\n  }\r\n\r\n  mouseover() {\r\n    if (!this.enabled || !this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled || !this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n  }\r\n\r\n  get height(): string {\r\n    if (this.item.imageSize === 'Big') {\r\n      return '38px';\r\n    } else {\r\n      return this.model.options.isMobileDevice ? '0.4in' : (this.model.options.isTouchDevice ? '30px' : '24px');\r\n    }\r\n  }\r\n\r\n  get className(): string {\r\n    return this.styleName ? this.styleName + ' ' + (this.enabled ? (this.styleName + ((this.selected || this.item.selected) ? 'Selected' : (this.over ? 'Over' : ''))) : this.styleName + 'Disabled') : '';\r\n  }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { trigger, state, transition, animate, style, keyframes } from '@angular/animations';\r\nimport { TooltipService } from '../services/tooltip.service';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-tooltip',\r\n  template: `\r\n      <div #element class='stiJsViewerToolTip' [@expandDown]=\"tooltipService.state\"\r\n        [style.left.px]='tooltipService.left' [style.top.px]='tooltipService.top'\r\n        (mouseover)=\"tooltipService.showFromTooltip()\" (mouseout)=\"tooltipService.hide()\">\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%;\"\r\n          [style.border]=\"model.options.appearance.showTooltipsHelp ? '' : 0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerToolTipTextCell\">\r\n                {{tooltipService.caption}}\r\n              </td>\r\n            </tr>\r\n            <tr *ngIf=\"model.options.appearance.showTooltipsHelp\" class=\"stiJsViewerClearAllStyles\">\r\n              <td  class=\"stiJsViewerClearAllStyles\">\r\n                <sti-button [caption]=\"model.loc('TellMeMore')\"\r\n                    [imageName]=\"'HelpIcon.png'\"\r\n                    [margin]=\"'4px 8px 4px 8px'\"\r\n                    (action)='action()'\r\n                    [styleName]=\"'stiJsViewerHyperlinkButton'\">\r\n                </sti-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n    </div>\r\n  `,\r\n  animations: [\r\n    trigger('expandDown', [\r\n      state('initial', style({ opacity: 0, display: 'none' })),\r\n      state('preInitial', style({ opacity: 0, display: 'block' })),\r\n      state('preInitial2', style({ opacity: 0, display: 'block' })),\r\n      state('expanded', style({ opacity: 1, display: 'block' })),\r\n      transition('preInitial => expanded', [\r\n        animate('300ms 300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 0, offset: 0 }),\r\n          style({ display: 'block', opacity: 1, offset: 1 }),\r\n        ]))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class TooltipComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public tooltipService: TooltipService, public helper: HelperService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.tooltip.el = this.element;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  action() {\r\n    this.helper.showHelpWindow(this.tooltipService.helpLink);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ComponentDescription, Message } from '../services/objects';\r\nimport { FindService } from '../services/find.service';\r\nimport { TextBoxComponent } from '../controls/text-box.componet';\r\nimport { ControllerService } from '../services/controller.service';\r\n\r\n@Component({\r\n  selector: 'sti-find-panel',\r\n  template: `\r\n    <div #element [style.display]=\"model.controls.findPanel.visible ? '' : 'none'\"\r\n    [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\">\r\n      <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\r\n        <div class=\"stiJsViewerToolBarTable\" [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\" style=\"box-sizing: border-box\">\r\n          <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 0\">\r\n            <tbody>\r\n                <tr class=\"stiJsViewerClearAllStyles\">\r\n                   <td *ngFor=\"let item of items\"  class=\"stiJsViewerClearAllStyles\">\r\n                      <sti-button *ngIf=\"item.type=='button'\"\r\n                        [actionName]=\"item.action\"\r\n                        [imageName]=\"item.img\"\r\n                        [caption]=\"item.caption\"\r\n                        [margin]=\"item.margin\"\r\n                        [height]=\"model.options.toolbar.displayMode == 'Separated' ? '28px' : ''\"\r\n                        (action)=\"action(item.action)\"\r\n                        [selected]=\"selected(item)\"\r\n                        ></sti-button>\r\n                      <sti-text-box #textBox *ngIf=\"item.type=='textBox'\" [width]=\"170\"\r\n                        [margin]=\"item.margin\"\r\n                        [focusOnCreate]=\"true\"\r\n                        (action)=\"textBoxAction($event)\"\r\n                        [value]=\"findService.text\"></sti-text-box>\r\n                      <sti-text-block *ngIf=\"item.type=='textBlock'\" [margin]=\"item.margin\" [text]=\"item.caption\"></sti-text-block>\r\n                  </td>\r\n                </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class FindPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n  @ViewChild('textBox') textBox: TextBoxComponent;\r\n\r\n  items: ComponentDescription[];\r\n  private changeFind = false;\r\n\r\n  constructor(public model: ModelService, public findService: FindService, public controller: ControllerService) {\r\n    this.initItems();\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'GetReport':\r\n        case 'GetPages':\r\n        case 'OpenReport':\r\n        case 'Variables':\r\n          if (model.controls.findPanel.visible) {\r\n            setTimeout(() => {\r\n              this.findService.hideFindLabels();\r\n              this.find('Next');\r\n            });\r\n          }\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.findPanel.el = this.element;\r\n\r\n    this.model.controls.findPanel.getVisibility().subscribe(() => {\r\n      if (this.model.controls.findPanel.visible) {\r\n        this.findService.text = '';\r\n        setTimeout(() => {\r\n          this.textBox.element.nativeElement.focus();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  selected(item: ComponentDescription): boolean {\r\n    switch (item.action) {\r\n      case 'MatchCase':\r\n        return this.findService.matchCase;\r\n      case 'MatchWholeWord':\r\n        return this.findService.matchWholeWord;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  textBoxAction(target: any) {\r\n    this.findService.text = target.value;\r\n    this.find('Next');\r\n  }\r\n\r\n  find(direction: string) {\r\n    if (this.findService.text === '') {\r\n      this.findService.hideFindLabels();\r\n      return;\r\n    }\r\n    if (this.findService.lastFindText !== this.findService.text || this.changeFind) {\r\n      this.changeFind = false;\r\n      this.findService.showFindLabels();\r\n    } else {\r\n      this.findService.selectFindLabel(direction);\r\n    }\r\n  }\r\n\r\n  initItems() {\r\n    this.items = [\r\n      { type: 'button', action: 'close', img: 'CloseForm.png', margin: '2px' },\r\n      { type: 'textBlock', action: 'text', caption: this.model.loc('FindWhat').replace(\":\", \"\"), margin: '2px' },\r\n      { type: 'textBox', action: 'findTextBox', margin: '2px' },\r\n      { type: 'button', action: 'FindPreviows', caption: this.model.loc('FindPrevious'), img: 'Arrows.ArrowUpBlue.png', margin: '2px' },\r\n      { type: 'button', action: 'FindNext', caption: this.model.loc('FindNext'), img: 'Arrows.ArrowDownBlue.png', margin: '2px' },\r\n      { type: 'button', action: 'MatchCase', caption: this.model.loc('MatchCase').replace('&', ''), margin: '2px' },\r\n      { type: 'button', action: 'MatchWholeWord', caption: this.model.loc('MatchWholeWord').replace('&', ''), margin: '2px' }\r\n    ];\r\n  }\r\n\r\n  action(action: string) {\r\n    switch (action) {\r\n      case 'close':\r\n        this.model.controls.findPanel.visible = false;\r\n        break;\r\n      case 'MatchCase':\r\n        this.findService.matchCase = !this.findService.matchCase;\r\n        this.changeFind = true;\r\n        break;\r\n      case 'MatchWholeWord':\r\n        this.findService.matchWholeWord = !this.findService.matchWholeWord;\r\n        this.changeFind = true;\r\n        break;\r\n      case 'FindPreviows':\r\n        this.findService.text = this.textBox.element.nativeElement.value;\r\n        this.find('Previous');\r\n        break;\r\n      case 'FindNext':\r\n        this.findService.text = this.textBox.element.nativeElement.value;\r\n        this.find('Next');\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-text-block',\r\n  template: `\r\n    <div [style]=\"{fontFamily: model.options.toolbar.fontFamily, fontSize: '12px', paddingTop: '2px', margin: margin}\">\r\n      {{text || ''}}\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class TextBlockComponent implements OnInit {\r\n\r\n  @Input() text: string;\r\n  @Input() margin: string;\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { BookmarkNode, Message } from '../services/objects';\r\nimport { trigger, state, transition, animate, style, keyframes, AnimationEvent } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'sti-bookmarks-panel',\r\n  template: `\r\n    <div #element [style]=\"{fontFamily: model.options.toolbar.fontFamily, fontColor: helper.val(model.options.toolbar.fontColor)}\"\r\n      [class]=\"'stiJsViewerBookmarksPanel' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerBookmarksPanelSeparated' : '')\"\r\n      [style.width.px]=\"model.options.appearance.bookmarksTreeWidth - (model.options.toolbar.displayMode == 'Simple' ? 0 : 1)\"\r\n      [style.bottom]=\"bottom\"\r\n      [style.top.px]=\"model.controls.bookmarksPanel.layout.top\"\r\n      [style.transition]=\"model.options.isMobileDevice ? 'opacity 300ms ease' : null\"\r\n      [style.display]=\"!this.model.options.isMobileDevice ? (model.controls.bookmarksPanel.visible ? '' : 'none') : null\"\r\n      [@visibility]=\"!this.model.options.isMobileDevice ? null : (model.controls.bookmarksPanel.visible ? 'visible' : 'hidden')\">\r\n      <div #bookmarksPanel [class]=\"'stiJsViewerBookmarksContainer' + (model.options.toolbar.displayMode == 'Simple' ? ' stiJsViewerBookmarksContainerSimple' : '')\"\r\n           [style.background]=\"helper.val(model.options.toolbar.backgroundColor)\"\r\n           [style.border]=\"helper.val(model.options.toolbar.borderColor) != '' ? '1px solid ' + helper.val(model.options.toolbar.borderColor): ''\">\r\n           <div class=\"stiTree\">\r\n              <div class=\"stiTreeNode\">\r\n                <img style=\"width: 16px; height: 16px;\" [src]=\"model.imagesForBookmark['root']\"/>\r\n                <a class=\"node\">{{rootName}}</a>\r\n              </div>\r\n              <div class=\"clip\" style=\"display:block;\">\r\n                <ng-container *ngFor=\"let node of model.nodes; index as i\">\r\n                    <div class=\"stiTreeNode\">\r\n                        <a (click)=\"node.open = !node.open\">\r\n                            <img style=\"width: 18px; height: 18px\"\r\n                             [src]=\"getImg1(node, i)\"/>\r\n                        </a>\r\n                        <img style=\"width: 16px; height: 16px;\" [src]=\"node.nodes?.length == 0 ? model.imagesForBookmark['node'] :(node.open ? model.imagesForBookmark['folderOpen'] : model.imagesForBookmark['folder'])\"/>\r\n                        <a [class]=\"node.selected ? 'nodeSel' : 'node'\" (click)=\"postAction(node)\">{{node.name}}</a>\r\n                    </div>\r\n                    <div class=\"clip\" [style.display]=\"node.open ? 'block' : 'none'\">\r\n                      <div *ngFor=\"let subNode of node.nodes; index as k\" class=\"stiTreeNode\">\r\n                        <img style=\"width: 18px; height: 18px;\" [src]=\"i != model.nodes.length - 1 ? model.imagesForBookmark['line'] : model.imagesForBookmark['empty']\"/>\r\n                        <img style=\"width: 18px; height: 18px;\" [src]=\"k == node.nodes.length - 1 ? model.imagesForBookmark['joinBottom'] : model.imagesForBookmark['join']\"/>\r\n                        <img style=\"width: 16px; height: 16px;\" [src]=\"model.imagesForBookmark['node']\" />\r\n                        <a [class]=\"subNode.selected ? 'nodeSel' : 'node'\" (click)=\"postAction(subNode)\">{{subNode.name}}</a>\r\n                      </div>\r\n                    </div>\r\n                </ng-container>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  animations: [\r\n    trigger('visibility', [\r\n      state('visible', style({ opacity: 1, display: 'block' })),\r\n      state('hidden', style({ opacity: 0, display: 'none' })),\r\n      transition('hidden => visible', [\r\n        animate('300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 0, offset: 0 }),\r\n          style({ display: 'block', opacity: 1, offset: 1 }),\r\n        ]))\r\n      ]),\r\n      transition('visible => hidden', [\r\n        animate('300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 1, offset: 0 }),\r\n          style({ display: 'none', opacity: 0, offset: 1 }),\r\n        ]))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class BookmarksPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n  @ViewChild('bookmarksPanel') bookmarksPanel: ElementRef;\r\n\r\n  public rootName: string;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public controller: ControllerService) {\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'GetReport' || message.action === 'OpenReport') {\r\n        setTimeout(() => {\r\n          if (this.model.reportParams.bookmarksContent != null) {\r\n            this.create();\r\n          }\r\n          this.model.controls.bookmarksPanel.visible = this.model.reportParams.bookmarksContent !== null && !this.model.options.isMobileDevice;\r\n        });\r\n      } else {\r\n        // Go to the bookmark, if it present\r\n        setTimeout(() => {\r\n          if (this.model.options.bookmarkAnchor != null) {\r\n            this.helper.scrollToAnchor(this.model.options.bookmarkAnchor, this.model.options.componentGuid);\r\n            this.model.options.bookmarkAnchor = null;\r\n            this.model.options.componentGuid = null;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    this.model.controls.bookmarksPanel.getVisibility().subscribe((value) => {\r\n      if (!value) {\r\n        this.helper.removeBookmarksLabel();\r\n        this.clearSelected();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.bookmarksPanel.el = this.element;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  public getImg1(node: BookmarkNode, i: number): string {\r\n    if (node.nodes?.length === 0) {\r\n      return i !== this.model.nodes.length - 1 ? this.model.imagesForBookmark['join'] : this.model.imagesForBookmark['joinBottom'];\r\n    }\r\n    return node.open ? (i === this.model.nodes.length - 1 ? this.model.imagesForBookmark['minusBottom'] : this.model.imagesForBookmark['minus']) :\r\n      (i === this.model.nodes.length - 1 ? this.model.imagesForBookmark['plusBottom'] : this.model.imagesForBookmark['plus']);\r\n  }\r\n\r\n  public postAction(node: BookmarkNode) {\r\n    this.clearSelected();\r\n    this.controller.postBookmarkNodeAction(node);\r\n  }\r\n\r\n  clearSelected() {\r\n    this.model.nodes?.forEach((n) => {\r\n      n.selected = false;\r\n      n.nodes.forEach(element => element.selected = false);\r\n    });\r\n  }\r\n\r\n  create() {\r\n    const bookmarks = this.model.reportParams.bookmarksContent.split('bookmarks.add(');\r\n\r\n    const root = bookmarks[1].replace('0,-1,\\'', '');\r\n    this.rootName = root.substr(0, root.indexOf('\\''));\r\n\r\n    const nodes: BookmarkNode[] = [];\r\n    this.parseNodes(bookmarks.splice(2), 0, nodes);\r\n    this.model.nodes = nodes;\r\n  }\r\n\r\n  parseNodes(bookmarks: string[], index: number, nodes: BookmarkNode[]) {\r\n    let folder: BookmarkNode;\r\n    bookmarks.forEach((bookmark) => {\r\n      const str = bookmark.substr(bookmark.indexOf(',') + 1);\r\n      const nodeType = parseInt(str.substr(0, str.indexOf(',')), 10);\r\n      const node = this.parseNode(str);\r\n      if (nodeType === 0) {\r\n        nodes.push(node);\r\n        folder = node;\r\n      } else {\r\n        folder.nodes.push(node);\r\n      }\r\n    });\r\n  }\r\n\r\n  parseNode(str: string): BookmarkNode {\r\n    str = str.substr(str.indexOf(',') + 2);\r\n    const name = this.unescape(str.substr(0, str.indexOf('\\',')));\r\n    str = str.substr(str.indexOf('\\',') + 3);\r\n    const url = str.substr(0, str.indexOf('\\','));\r\n    str = str.substr(str.indexOf('\\',') + 3);\r\n    const pageTitle = str.substr(0, str.indexOf('\\','));\r\n    str = str.substr(str.indexOf('\\',') + 3);\r\n    const componentGuid = str.substr(0, str.length - 3);\r\n    return { name, url, page: parseInt(pageTitle.substr(5), 10) - 1, compunentGuid: componentGuid, nodes: [], open: false, selected: false };\r\n  }\r\n\r\n  unescape(str: string): string {\r\n    return str.replace(/\\\\&apos;/g, '\\'')\r\n      .replace(/\\\\&quot;/g, '\"')\r\n      .replace(/\\\\&gt;/g, '>')\r\n      .replace(/\\\\&lt;/g, '<')\r\n      .replace(/\\\\&amp;/g, '&');\r\n  }\r\n\r\n  get bottom(): string {\r\n    if (this.model.options.isMobileDevice) {\r\n      return this.model.options.toolbar.autoHide ? '0' : '0.5in';\r\n    } else {\r\n      return this.model.options.toolbar.displayMode === 'Separated' && this.model.options.toolbar.visible ? '35px' : '0';\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { InteractionsService } from '../services/interactions.service';\r\nimport { MenuService } from '../menu/menu.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { trigger, state, transition, style, keyframes, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'sti-interactions-panel',\r\n  template: `\r\n    <div #element [class]=\"className\"\r\n       [style.display]=\"!this.model.options.isMobileDevice ? (model.controls.parametersPanel.visible ? '' : 'none') : null\"\r\n       [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n       [style.color]=\"model.options.toolbar.fontColor\"\r\n       [style.top.px]=\"top\"\r\n       [style.left.px]=\"model.controls.parametersPanel.layout.left\"\r\n       [style.bottom]=\"bottom\"\r\n       [style.transition]=\"model.options.isMobileDevice ? 'opacity 300ms ease' : null\"\r\n       [@visibility]=\"!this.model.options.isMobileDevice ? null : (model.controls.parametersPanel.visible ? 'visible' : 'hidden')\">\r\n       <div [class]=\"innerClassName\" [style.marginTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\" (scroll)=\"menuService.closeAllMenus()\">\r\n         <div class=\"stiJsViewerInnerContainerParametersPanel\"\r\n              [style.background]=\"helper.val(model.options.toolbar.backgroundColor, '')\"\r\n              [style.border]=\"helper.val(model.options.toolbar.backgroundColor, '') != '' ? '1px solid ' + helper.val(model.options.toolbar.backgroundColor, '') : ''\"\r\n              [style.maxHeight]=\"model.options.appearance.parametersPanelPosition == 'Top' ? model.options.appearance.parametersPanelMaxHeight + 'px' : ''\"\r\n              (scroll)=\"menuService.closeAllMenus()\">\r\n            <table *ngIf=\"model.interactions\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"border: 0px;\">\r\n              <tbody>\r\n                <tr *ngFor=\"let item of model.interactions.countInColumn; let indexRow=index\" >\r\n                  <ng-container *ngFor=\"let item2 of model.interactions.countColumns; let indexColumn=index\">\r\n                    <ng-container *ngIf=\"index(indexRow, indexColumn) <= length()\">\r\n                        <td [style.padding]=\"'0 10px 0 ' + (indexColumn > 0 ? '30px' : '0')\"\r\n                            [style.whiteSpace]=\"'nowrap'\"\r\n                            [style.verticalAlign]='getNameAlign(indexRow, indexColumn)'\r\n                            [style.paddingTop]='getNamePadding(indexRow, indexColumn)'\r\n                            [attr.title]='getTitle(indexRow, indexColumn)'>\r\n                            {{getCaption(indexRow, indexColumn)}}\r\n                              <table *ngIf=\"ifLeftRange(indexRow, indexColumn)\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 60px;\">\r\n                                <tbody>\r\n                                  <tr class=\"stiJsViewerClearAllStyles\">\r\n                                    <td class=\"stiJsViewerClearAllStyles\" rowspan=\"2\" style=\"vertical-align: top; padding-top: 9px;\">\r\n                                      {{getCaption(indexRow, indexColumn, false)}}\r\n                                    </td>\r\n                                    <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 12px;\">\r\n                                      {{model.loc('RangeFrom')}}\r\n                                    </td>\r\n                                  </tr>\r\n                                  <tr class=\"stiJsViewerClearAllStyles\">\r\n                                    <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 12px;\">\r\n                                      {{model.loc('RangeTo')}}\r\n                                    </td>\r\n                                  </tr>\r\n                                </tbody>\r\n                              </table>\r\n                            </td>\r\n                        <td [style.padding]=\"'0px'\">\r\n                          <sti-parameter *ngIf=\"index(indexRow, indexColumn) != length()\"  [params]=\"model.interactions.paramsVariables[index(indexRow, indexColumn)]\"></sti-parameter>\r\n\r\n                          <table *ngIf=\"index(indexRow, indexColumn) == length()\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\"\r\n                            align=\"right\" style=\"margin: 5px 2px 10px 0px;\">\r\n                            <tr class=\"stiJsViewerClearAllStyles\">\r\n                              <td class=\"stiJsViewerClearAllStyles\">\r\n                                <sti-form-button [caption]=\"model.loc('Reset')\" (action)=\"controller.action({name: 'Reset'})\"></sti-form-button>\r\n                              </td>\r\n                              <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 10px;\">\r\n                                <sti-form-button [caption]=\"model.loc('Submit')\" (action)=\"controller.action({name: 'Submit'})\"></sti-form-button>\r\n                              </td>\r\n                            </tr>\r\n                          </table>\r\n                        </td>\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </tr>\r\n                <tr *ngIf=\"length() == model.interactions.countInColumn.length * model.interactions.countColumns.length\">\r\n                  <td></td>\r\n                  <td *ngIf=\"model.interactions.countColumns.length > 1\"></td>\r\n                  <td *ngIf=\"model.interactions.countColumns.length > 1\"></td>\r\n                  <td [style.padding]=\"'0px'\">\r\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\"\r\n                         align=\"right\" style=\"margin: 5px 2px 10px 0px;\">\r\n                         <tr class=\"stiJsViewerClearAllStyles\">\r\n                           <td class=\"stiJsViewerClearAllStyles\">\r\n                             <sti-form-button [caption]=\"model.loc('Reset')\" (action)=\"controller.action({name: 'Reset'})\"></sti-form-button>\r\n                           </td>\r\n                           <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 10px;\">\r\n                              <sti-form-button [caption]=\"model.loc('Submit')\" (action)=\"controller.action({name: 'Submit'})\"></sti-form-button>\r\n                           </td>\r\n                         </tr>\r\n                       </table>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  animations: [\r\n    trigger('visibility', [\r\n      state('visible', style({ opacity: 1, display: 'block' })),\r\n      state('hidden', style({ opacity: 0, display: 'none' })),\r\n      transition('hidden => visible', [\r\n        animate('300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 0, offset: 0 }),\r\n          style({ display: 'block', opacity: 1, offset: 1 }),\r\n        ]))\r\n      ]),\r\n      transition('visible => hidden', [\r\n        animate('300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 1, offset: 0 }),\r\n          style({ display: 'none', opacity: 0, offset: 1 }),\r\n        ]))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class InteractionsPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  currentOpeningParameter = null;\r\n  dropDownButtonWasClicked = false;\r\n  dateTimeButtonWasClicked = false;\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public interactionService: InteractionsService, public menuService: MenuService,\r\n    public controller: ControllerService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.parametersPanel.el = this.element;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  getNameAlign(indexRow: number, indexColumn: number): string {\r\n    const index = this.index(indexRow, indexColumn);\r\n    if (index < this.length() &&\r\n      this.model.interactions.paramsVariables[index].basicType === 'Range' &&\r\n      this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n      return 'top';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getNamePadding(indexRow: number, indexColumn: number): string {\r\n    const index = this.index(indexRow, indexColumn);\r\n    if (index < this.length() &&\r\n      this.model.interactions.paramsVariables[index].basicType === 'Range' &&\r\n      this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n      return this.model.options.isTouchDevice ? '11px' : '9px';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getCaption(indexRow: number, indexColumn: number, checkLeft = true): string {\r\n    const index = this.index(indexRow, indexColumn);\r\n    if (checkLeft && this.ifLeftRange(indexRow, indexColumn)) {\r\n      return '';\r\n    }\r\n    return index < this.length() ? this.model.interactions.paramsVariables[index].alias : '';\r\n  }\r\n\r\n  ifLeftRange(indexRow: number, indexColumn: number): boolean {\r\n    const index = this.index(indexRow, indexColumn);\r\n    return this.model.interactions.paramsVariables[index].basicType === 'Range' && this.model.options.appearance.parametersPanelPosition === 'Left';\r\n  }\r\n\r\n  getTitle(indexRow: number, indexColumn: number): string {\r\n    const index = this.index(indexRow, indexColumn);\r\n    return index < this.length() ? this.model.interactions.paramsVariables[index].description : '';\r\n  }\r\n\r\n  index(indexRow: number, indexColumn: number): number {\r\n    return indexColumn * this.model.interactions.countInColumn.length + indexRow;\r\n  }\r\n\r\n  length(): number {\r\n    return this.model.interactions?.paramsVariables != null ? Object.keys(this.model.interactions?.paramsVariables).length : 0;\r\n  }\r\n\r\n  get className(): string {\r\n    let className = 'stiJsViewerParametersPanel';\r\n\r\n    if (this.model.options.appearance.parametersPanelPosition === 'Top') {\r\n      className += ' stiJsViewerParametersPanelTop';\r\n\r\n      if (this.model.options.toolbar.displayMode === 'Separated') {\r\n        className += ' stiJsViewerParametersPanelSeparatedTop';\r\n      }\r\n    }\r\n\r\n    return className;\r\n  }\r\n\r\n  get top(): number {\r\n    let styleTop = this.model.options.toolbar.visible ? this.model.controls.toolbar.offsetHeight : 0;\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      styleTop = 0;\r\n    }\r\n    styleTop += this.model.controls.drillDownPanel.exists ? this.model.controls.drillDownPanel.offsetHeight : 0;\r\n    styleTop += this.model.controls.findPanel.exists ? this.model.controls.findPanel.offsetHeight : 0;\r\n    styleTop += this.model.controls.resourcesPanel.exists ? this.model.controls.resourcesPanel.offsetHeight : 0;\r\n    return styleTop;\r\n  }\r\n\r\n  get bottom(): string {\r\n    if (this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n      if (this.model.options.isMobileDevice) {\r\n        return this.model.options.toolbar.autoHide ? '0' : '0.5in';\r\n      } else {\r\n        return this.model.options.toolbar.displayMode === 'Separated' && this.model.options.toolbar.visible ? '35px' : '0';\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  get innerClassName(): string {\r\n    let className = this.model.options.toolbar.displayMode === 'Simple' ? 'stiJsViewerInnerParametersPanelSimple' : '';\r\n\r\n    if (this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n      className += ' stiJsViewerInnerParametersPanelLeft';\r\n      if (this.model.options.toolbar.displayMode === 'Separated') {\r\n        className += ' stiJsViewerInnerParametersPanelSeparatedLeft';\r\n      }\r\n    }\r\n    return className;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'sti-form-button',\r\n  template: `\r\n      <sti-button [styleName]=\"'stiJsViewerFormButton'\"\r\n                  [caption]=\"caption\"\r\n                  [actionName]=\"actionName\"\r\n                  [captionAlign]=\"captionAlign\"\r\n                  [innerTableWidth]=\"'100%'\"\r\n                  [minWidth]=\"'80px'\"\r\n                  [imageName]=\"imageName\"\r\n                  [imageCellWidth]=\"imageCellWidth\"\r\n                  [captionPadding]=\"captionPadding\"\r\n                  [margin]=\"margin\"\r\n                  (action)=\"onaction($event)\">\r\n      </sti-button>\r\n  `\r\n})\r\nexport class FormButtonComponent implements OnInit {\r\n\r\n  @Input() caption: string;\r\n  @Input() actionName: string;\r\n  @Input() imageName: string;\r\n  @Input() imageCellWidth: string;\r\n  @Input() captionPadding: string;\r\n  @Input() margin: string;\r\n  @Input() captionAlign = 'center';\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onaction(event: any) {\r\n    this.action.emit(event);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ElementRef, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../../services/model.service';\r\nimport { Variable } from '../../services/objects';\r\nimport { HelperService } from '../../services/helper.service';\r\nimport { MenuService } from '../../menu/menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter',\r\n  template: `\r\n    <table #element class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" #rangeFrom>\r\n       <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\" >\r\n            <td *ngIf=\"params.type == 'Bool' && (params.basicType == 'Value' || params.basicType == 'NullableValue')\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-checkbox [params]=\"params\" [isEnabled]=\"params.allowUserValues && !params.isNull\" (action)=\"params.value = $event\">\r\n                </sti-parameter-checkbox>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'Range' && model.options.appearance.parametersPanelPosition === 'Top'\"  style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                {{model.loc('RangeFrom')}}\r\n            </td>\r\n\r\n            <td *ngIf=\"params.type != 'Bool' || params.basicType == 'List'\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-text-box [variable]=\"params\"\r\n                    [readOnly]=\"getReadOnlyCheckbox()\"\r\n                    [value]=\"getFirstTextBoxValue()\">\r\n                </sti-parameter-text-box>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.type == 'DateTime' && params.allowUserValues && params.basicType != 'List' && params.basicType != 'Range'\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\" #firstDateTimeButton>\r\n                <sti-parameter-button [buttonType]=\"'DateTimeButton'\" [params]=\"params\"  (action)=\"firstDateTimeAction($event)\">\r\n                </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.type == 'Guid' && params.allowUserValues && params.basicType != 'List'\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-button  [buttonType]=\"'GuidButton'\" [params]=\"params\" (action)=\"firstGuidAction()\">\r\n                </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'Range' && model.options.appearance.parametersPanelPosition === 'Top'\" style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              {{model.loc('RangeTo')}}\r\n            </td>\r\n\r\n            <!-- second -->\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'Range'\" style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-text-box [variable]=\"params\"\r\n                    [readOnly]=\"!params.allowUserValues\"\r\n                    [value]=\"helper.getStringKey(params.keyTo, params)\"\r\n                    [secondTextBox]=\"true\">\r\n              </sti-parameter-text-box>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'Range' && params.type == 'DateTime' && params.allowUserValues\" #doubleDateTimeButton\r\n              style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button  [buttonType]=\"'DateTimeButton'\" [params]=\"params\" (action)=\"doubleDateTimeAction($event)\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'Range' && params.type == 'Guid' && params.allowUserValues\"\r\n              style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button  [buttonType]=\"'GuidButton'\" [params]=\"params\" (action)=\"params.keyTo=helper.newGuid()\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.items != null || (params.basicType == 'List' && params.allowUserValues)\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button [buttonType]=\"'DropDownButton'\" [params]=\"params\" (action)=\"dropDownButtonAction($event)\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'NullableValue' && params.allowUserValues\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-checkbox [params]=\"params\" [isEnabled]=\"params.allowUserValues\" (action)=\"nullableAction($event)\" [nullable]=\"true\" >\r\n                </sti-parameter-checkbox>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'NullableValue' && params.allowUserValues\"\r\n                style=\"padding: 0px\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                {{model.loc('Null')}}\r\n            </td>\r\n          </tr>\r\n\r\n          <!-- NEW LINE -->\r\n          <tr *ngIf=\"showParameterInTwoRows\">\r\n            <td *ngIf=\"params.basicType == 'Range' && model.options.appearance.parametersPanelPosition === 'Top'\" style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              {{model.loc('RangeTo')}}\r\n            </td>\r\n\r\n            <!-- second -->\r\n            <td *ngIf=\"params.basicType == 'Range'\" style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-text-box [variable]=\"params\"\r\n                    [readOnly]=\"!params.allowUserValues\"\r\n                    [value]=\"helper.getStringKey(params.keyTo, params)\"\r\n                    [secondTextBox]=\"true\">\r\n              </sti-parameter-text-box>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'Range' && params.type == 'DateTime' && params.allowUserValues\" #doubleDateTimeButton\r\n              style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button  [buttonType]=\"'DateTimeButton'\" [params]=\"params\" (action)=\"doubleDateTimeAction($event)\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'Range' && params.type == 'Guid' && params.allowUserValues\"\r\n              style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button  [buttonType]=\"'GuidButton'\" [params]=\"params\" (action)=\"params.keyTo=helper.newGuid()\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.items != null || (params.basicType == 'List' && params.allowUserValues)\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button [buttonType]=\"'DropDownButton'\" [params]=\"params\" (action)=\"dropDownButtonAction($event)\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'NullableValue' && params.allowUserValues\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-checkbox [params]=\"params\" [isEnabled]=\"params.allowUserValues\" (action)=\"nullableAction($event)\" [nullable]=\"true\" >\r\n                </sti-parameter-checkbox>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'NullableValue' && params.allowUserValues\"\r\n                style=\"padding: 0px\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                {{model.loc('Null')}}\r\n            </td>\r\n\r\n          </tr>\r\n       </tbody>\r\n    </table>\r\n  `\r\n})\r\n\r\nexport class ParameterComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n  @ViewChild('firstDateTimeButton') firstDateTimeButton: ElementRef;\r\n  @ViewChild('doubleDateTimeButton') doubleDateTimeButton: ElementRef;\r\n  @ViewChild('rangeFrom') rangeFrom: ElementRef;\r\n\r\n  private _params: Variable;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public menuService: MenuService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  @Input() get params(): Variable {\r\n    return this._params;\r\n  }\r\n\r\n  set params(params: Variable) {\r\n    this._params = params;\r\n\r\n    if (params.basicType === 'Range') {\r\n      if (params.type === 'DateTime' && params.keyTo && params.keyTo.isNull) {\r\n        params.keyTo = this.helper.getDateTimeObject(new Date());\r\n      }\r\n    }\r\n  }\r\n\r\n  get showParameterInTwoRows(): boolean {\r\n    return this.params.basicType === 'Range' && this.model.options.appearance.parametersPanelPosition === 'Left';\r\n  }\r\n\r\n  getReadOnlyCheckbox(): boolean {\r\n    return this.params.basicType === 'List' || !this.params.allowUserValues;\r\n  }\r\n\r\n  getFirstTextBoxValue(): string {\r\n    let value = '';\r\n    if (this.params.basicType === 'Value' || this.params.basicType === 'NullableValue') {\r\n      if (this.params.type === 'DateTime' && this.params.value === null) {\r\n        this.params.value = new Date();\r\n        this.params.key = this.helper.getDateTimeObject(this.params.value);\r\n      }\r\n\r\n      value = (this.params.type === 'DateTime') ? this.helper.getStringKey(this.params.key, this.params) : this.params.value;\r\n    }\r\n\r\n    // Range\r\n    if (this.params.basicType === 'Range') {\r\n      if (this.params.type === 'DateTime' && this.params.key && this.params.key.isNull) {\r\n        this.params.key = this.helper.getDateTimeObject(new Date());\r\n      }\r\n      value = this.helper.getStringKey(this.params.key, this.params);\r\n    }\r\n\r\n    // List\r\n    if (this.params.basicType === 'List' && this.params.items) {\r\n      this.params.items.forEach((item) => {\r\n        if (item.isChecked) {\r\n          if (value !== '') {\r\n            value += (this.model.options.listSeparator ? this.model.options.listSeparator + \" \" : \"; \");\r\n          }\r\n\r\n          if (this.params.allowUserValues) {\r\n            value += this.helper.getStringKey(item.key, this.params);\r\n          } else {\r\n            value += item.value !== '' ? item.value : this.helper.getStringKey(item.key, this.params);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    return value != null ? value.toString() : value;\r\n  }\r\n\r\n  nullableAction(checked: boolean) {\r\n    this.params.isNull = !this.params.isNull;\r\n  }\r\n\r\n  firstGuidAction() {\r\n    if (this.params.basicType === 'Range') {\r\n      this.params.key = this.helper.newGuid();\r\n    } else {\r\n      this.params.value = this.helper.newGuid();\r\n    }\r\n  }\r\n\r\n  doubleDateTimeAction(event: any) {\r\n    this.menuService.addMenu({\r\n      type: 'doubleDatePickerMenu', name: 'doubleDatePickerMenu', items: [], parent: this.rangeFrom,\r\n      params: this.params\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu('doubleDatePickerMenu');\r\n    });\r\n  }\r\n\r\n  firstDateTimeAction(event: any) {\r\n    this.menuService.addMenu({\r\n      type: 'datePickerMenu', name: 'datePickerMenu', items: [], parent: this.firstDateTimeButton,\r\n      params: this.params\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu('datePickerMenu');\r\n    });\r\n  }\r\n\r\n  dropDownButtonAction(event: any) {\r\n    let menuType = 'parameterMenuForValue';\r\n    switch (this.params.basicType) {\r\n      case 'Range':\r\n        menuType = 'parameterMenuForRange';\r\n        break;\r\n      case 'List':\r\n        menuType = this.params.allowUserValues ? 'parameterMenuForEditList' : 'parameterMenuForNotEditList';\r\n        break;\r\n    }\r\n\r\n    if (this.params.items) {\r\n      this.params.items.forEach(i => i.visible = true);\r\n    }\r\n\r\n    this.menuService.addMenu({\r\n      type: menuType, name: 'parameterMenu', items: [], parent: this.element,\r\n      params: this.params\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu('parameterMenu');\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild } from '@angular/core';\r\nimport { Variable } from '../../services/objects';\r\nimport { TextBoxComponent } from '../text-box.componet';\r\nimport { HelperService } from '../../services/helper.service';\r\nimport { ModelService } from '../../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-text-box',\r\n  template: `\r\n    <sti-text-box #element\r\n      [maxLength]=\"variable.type === 'Char' ? 1 : ''\"\r\n      [value]=\"isMenu ? helper.getStringKey(item.key, variable): value\"\r\n      [width]=\"width\"\r\n      [readOnly]=\"readOnly\"\r\n      [focusOnCreate]=\"focusOnCreate\"\r\n      [enabled]=\"!variable?.isNull\"\r\n      [color]=\"color\"\r\n      (onchange)=\"onchange($event)\">\r\n    </sti-text-box>\r\n  `\r\n})\r\n\r\nexport class ParameterTextBoxComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: TextBoxComponent;\r\n\r\n  @Input() item: Variable;\r\n  @Input() variable: Variable;\r\n  @Input() readOnly: boolean;\r\n  @Input() focusOnCreate = false;\r\n  @Input() isMenu = false;\r\n  @Input() value = '';\r\n  @Input() secondTextBox = false;\r\n\r\n  constructor(public helper: HelperService, public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onchange(target: any) {\r\n    if (this.element.oldValue === target.value) {\r\n      return;\r\n    }\r\n    const value = this.getValue(target);\r\n    if (this.isMenu) {\r\n      if (!this.secondTextBox) {\r\n        this.item.key = value;\r\n      } else {\r\n        this.item.keyTo = value;\r\n      }\r\n    } else {\r\n      if (!this.secondTextBox) {\r\n        if (this.variable.basicType === 'Range' || this.variable.type === 'DateTime') {\r\n          this.variable.key = value;\r\n        } else {\r\n          this.variable.value = value;\r\n        }\r\n      } else {\r\n        this.variable.keyTo = value;\r\n      }\r\n    }\r\n  }\r\n\r\n  getValue(target: any): any {\r\n    if (this.variable.type === 'DateTime') {\r\n      if (this.element.oldValue === target.value) {\r\n        return;\r\n      }\r\n      try {\r\n        const timeString = new Date().toLocaleTimeString();\r\n        const isAmericanFormat = timeString.toLowerCase().indexOf('am') >= 0 || timeString.toLowerCase().indexOf('pm') >= 0;\r\n        const formatDate = isAmericanFormat ? 'MM/dd/yyyy' : 'dd.MM.yyyy';\r\n        let format = formatDate + (isAmericanFormat ? ' h:mm:ss tt' : ' hh:mm:ss');\r\n        if (this.variable.dateTimeType === 'Date') {\r\n          format = formatDate;\r\n        }\r\n        if (this.variable.dateTimeType === 'Time') {\r\n          format = 'hh:mm:ss';\r\n        }\r\n        const date = this.helper.getDateTimeFromString(target.value, this.model.options.appearance.parametersPanelDateFormat || format);\r\n        return this.helper.getDateTimeObject(date);\r\n      } catch (e) {\r\n        alert(e);\r\n      }\r\n    } else {\r\n      return target.value;\r\n    }\r\n  }\r\n\r\n  get width(): number {\r\n    let width = 210;\r\n    if (this.variable.basicType === 'Range') {\r\n      width = 140;\r\n      if (this.variable.type === 'Guid' || this.variable.type === 'String') {\r\n        width = 190;\r\n      }\r\n      if (this.variable.type === 'DateTime') {\r\n        width = 235;\r\n      }\r\n      if (this.variable.type === 'Char') {\r\n        width = 60;\r\n      }\r\n    } else {\r\n      if (this.variable.type === 'Guid') {\r\n        width = 265;\r\n      } else {\r\n        width = 210;\r\n      }\r\n    }\r\n    return width;\r\n  }\r\n\r\n  get color(): string {\r\n    return !this.variable.isNull\r\n      ? (this.model.options.toolbar.fontColor && this.model.options.toolbar.fontColor !== 'Empty' ? this.model.options.toolbar.fontColor : '#444444')\r\n      : this.variable.type === 'DateTime' ? 'transparent' : '#c6c6c6';\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-check-box',\r\n  template: `\r\n    <table cellpadding=\"0\" cellspacing=\"0\"\r\n      [class]=\"isEnabled ? 'stiJsViewerCheckBox' : 'stiJsViewerCheckBoxDisabled'\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.color]=\"model.options.toolbar.fontColor\"\r\n      [attr.title]=\"tooltip\"\r\n      [style.margin]=\"margin\"\r\n      [style.width]=\"width\"\r\n      style=\"box-sizing:content-box\"\r\n      (mouseover)=\"mouseover()\"\r\n      (mouseleave)=\"mouseleave()\"\r\n      (click)=\"click()\">\r\n       <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n             <td style=\"line-height: 0\"\r\n                 [style.padding]=\"model.options.isTouchDevice ? '1px 3px 1px 1px' : ''\"\r\n                 [style.width]=\"imageBlockParentWidth\"\r\n                 class=\"stiJsViewerClearAllStyles\">\r\n                <div [style.width.px]=\"model.options.isTouchDevice ? 16 : 13\"\r\n                     [style.height.px]=\"model.options.isTouchDevice ? 16 : 13\"\r\n                     [class]=\"isEnabled ? (over ? 'stiJsViewerCheckBoxImageBlockOver' : 'stiJsViewerCheckBoxImageBlock') : 'stiJsViewerCheckBoxImageBlockDisabled'\"\r\n                     style=\"box-sizing: content-box\">\r\n                     <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%; height: 100%;\">\r\n                        <tbody>\r\n                          <tr class=\"stiJsViewerClearAllStyles\">\r\n                            <td [style.textAlign]=\"model.options.isTouchDevice ? 'center' : 'right'\"\r\n                                [style.verticalAlign]=\"model.options.isTouchDevice ? 'middle' : 'top'\">\r\n                                <img [src]=\"model.img((indeterminate ? 'CheckBoxIndeterminate' : 'CheckBox') + (styleColors && styleColors.isDarkStyle ? 'White.png' : '.png'))\"\r\n                                    [style.visibility]=\"isChecked ? 'visible' : 'hidden'\"\r\n                                    [style.width.px]=\"indeterminate ? 13 : 12\"\r\n                                    [style.height.px]=\"indeterminate ? 13 : 12\"\r\n                                    [style.opacity]=\"isEnabled ? 1 : 0.5\"\r\n                                    style=\"vertical-align: baseline\"/>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                </div>\r\n             </td>\r\n             <td *ngIf=\"captionText != null\"\r\n                 [style.padding]=\"!model.options.isTouchDevice ? '1px 0 0 4px' : ''\"\r\n                 style=\"white-space: nowrap\">\r\n                 {{captionText}}\r\n             </td>\r\n          </tr>\r\n       </tbody>\r\n    </table>\r\n  `\r\n})\r\n\r\nexport class CheckboxComponent implements OnInit {\r\n\r\n  @Input() isEnabled = true;\r\n  @Input() isChecked = false;\r\n  @Input() indeterminate = false;\r\n  @Input() captionText: string;\r\n  @Input() tooltip: string;\r\n  @Input() margin: string;\r\n  @Input() width: string;\r\n  @Input() styleColors: any;\r\n  @Input() imageBlockParentWidth: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  public over = false;\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  mouseover() {\r\n    this.over = true;\r\n  }\r\n\r\n  mouseleave() {\r\n    this.over = false;\r\n  }\r\n\r\n  click() {\r\n    if (this.isEnabled) {\r\n      this.isChecked = !this.isChecked;\r\n      this.action.emit(this.isChecked);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Variable } from '../../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-checkbox',\r\n  template: `\r\n    <sti-check-box [isEnabled]=\"isEnabled\"\r\n                   [isChecked]=\"checked\"\r\n                   [captionText]=\"captionText\"\r\n                   [margin]=\"margin\"\r\n                   [width]=\"width\"\r\n                   [imageBlockParentWidth]=\"imageBlockParentWidth\"\r\n                   (action)=\"onAction($event)\">\r\n    </sti-check-box>\r\n    `\r\n})\r\n\r\nexport class ParameterCheckboxComponent implements OnInit {\r\n\r\n  @Input() params: Variable;\r\n  @Input() captionText: string;\r\n  @Input() margin: string;\r\n  @Input() width: string;\r\n  @Input() imageBlockParentWidth: string;\r\n  @Input() isEnabled = true;\r\n  @Input() isMenuParameter = false;\r\n  @Input() nullable = false;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onAction(checked: boolean) {\r\n    this.action.emit(checked);\r\n  }\r\n\r\n  get checked(): boolean {\r\n    if (this.nullable) {\r\n      return this.params.isNull;\r\n    } else {\r\n      return this.isMenuParameter ? this.params.isChecked : (typeof (this.params.value) === 'boolean' && this.params.value) || this.params.value === 'true' || this.params.value === 'True';\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Variable } from '../../services/objects';\r\nimport { ModelService } from '../../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-button',\r\n  template: `\r\n    <sti-button [imageName]=\"buttonType + '.png'\"\r\n        [styleName]=\"'stiJsViewerFormButton'\"\r\n        [height]=\"model.options.isTouchDevice ? '26px' : '21px'\"\r\n        [innerTableWidth]=\"'100%'\"\r\n        [enabled]=\"!params?.isNull\"\r\n        (action)=\"onaction()\">\r\n    </sti-button>\r\n  `\r\n})\r\n\r\nexport class ParameterButtonComponent implements OnInit {\r\n\r\n  @Input() params: Variable;\r\n  @Input() buttonType: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onaction() {\r\n    this.action.emit(this.params);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MenuItem } from './meni-item.component';\r\nimport { Menu, MenuService } from './menu.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Variable } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-edit-list',\r\n  template: `\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n        [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n        [style.color]=\"model.options.toolbar.fontColor\"\r\n        [style.fontSize]=\"'12px'\"\r\n        [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <!--New Item Button -->\r\n                <sti-parameter-menu-item (action)=\"newItem($event)\">\r\n                  {{model.loc('NewItem')}}\r\n                </sti-parameter-menu-item>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-parameter-menu-item *ngFor=\"let item of menu.params.items\" [active]=\"false\">\r\n                  <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n                    <tbody>\r\n                      <tr class=\"stiJsViewerClearAllStyles\">\r\n                         <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0px 1px 0px 0px;\">\r\n                            <sti-parameter-text-box [item]=\"item\" [isMenu]=\"true\"\r\n                              [variable]=\"menu.params\" [focusOnCreate]=\"item.focusOnCreate\">\r\n                            </sti-parameter-text-box>\r\n                         </td>\r\n\r\n                         <td *ngIf=\"menu.params.type == 'DateTime'\" class=\"stiJsViewerClearAllStyles\" style=\"padding: 0 1px 0 1px;\" #dateTimeButton>\r\n                           <sti-parameter-button [buttonType]=\"'DateTimeButton'\" (action)=\"dateTimeButtonAction(item)\">\r\n                           </sti-parameter-button>\r\n                         </td>\r\n\r\n                         <td *ngIf=\"menu.params.type == 'Guid'\" class=\"stiJsViewerClearAllStyles\" style=\"padding: 0 1px 0 1px;\">\r\n                           <sti-parameter-button [buttonType]=\"'GuidButton'\" (action)=\"guidButtonAction(item)\">\r\n                           </sti-parameter-button>\r\n                         </td>\r\n\r\n                         <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0 1px 0 1px;\">\r\n                           <sti-parameter-button [buttonType]=\"'RemoveItemButton'\" (action)=\"removeButtonAction(item)\" [params]=\"item\">\r\n                           </sti-parameter-button>\r\n                         </td>\r\n                       </tr>\r\n                     </tbody>\r\n                  </table>\r\n                </sti-parameter-menu-item>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-item (action)=\"removeAllAction()\">\r\n                      {{model.loc('RemoveAll')}}\r\n                  </sti-parameter-menu-item>\r\n\r\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\r\n\r\n                  <sti-parameter-menu-item (action)=\"closeAction()\">\r\n                      {{model.loc('Close')}}\r\n                  </sti-parameter-menu-item>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuEditListComponent implements OnInit {\r\n\r\n  @ViewChild('dateTimeButton') dateTimeButton: ElementRef;\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public menuService: MenuService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  newItem(event: any) {\r\n    const item: any = new Variable();\r\n    if (this.menu.params.type === 'DateTime') {\r\n      item.key = this.helper.getDateTimeObject();\r\n      item.value = this.helper.dateTimeObjectToString(item.key);\r\n    } else if (this.menu.params.type === 'TimeSpan') {\r\n      item.key = '00:00:00';\r\n      item.value = '00:00:00';\r\n    } else if (this.menu.params.type === 'Bool') {\r\n      item.key = 'False';\r\n      item.value = 'False';\r\n    } else {\r\n      item.key = '';\r\n      item.value = '';\r\n    }\r\n    item.focusOnCreate = true;\r\n    if (!this.menu.params.items) {\r\n      this.menu.params.items = [];\r\n    }\r\n    this.menu.params.items.push(item);\r\n    setTimeout(() => {\r\n      item.focusOnCreate = false;\r\n    });\r\n  }\r\n\r\n  dateTimeButtonAction(item: Variable) {\r\n    this.menuService.addMenu({\r\n      type: 'datePickerMenu', name: 'datePickerMenu', items: [], parent: this.dateTimeButton,\r\n      params: item\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu('datePickerMenu');\r\n    });\r\n  }\r\n\r\n  guidButtonAction(item: Variable) {\r\n    item.key = this.helper.newGuid();\r\n  }\r\n\r\n  removeButtonAction(item: Variable) {\r\n    this.menu.params.items.splice(this.menu.params.items.indexOf(item), 1);\r\n  }\r\n\r\n  removeAllAction() {\r\n    this.menu.params.items.splice(0, this.menu.params.items.length);\r\n  }\r\n\r\n  closeAction() {\r\n    this.menu.state = 'initialDown';\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-item',\r\n  template: `\r\n      <div [class]=\"className\"\r\n        [style.height.px]=\"model.options.isTouchDevice ? 30 : 24\"\r\n        (mouseover)=\"mouseover()\"\r\n        (mouseout)=\"mouseout()\"\r\n        (mousedown)=\"mousedown()\"\r\n        (mouseup)=\"mouseup()\">\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuItemInnerTable\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" [style.padding]=\"padding\">\r\n                <ng-content>\r\n                </ng-content>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuItemComponent implements OnInit {\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Input() active = true;\r\n  @Input() padding = '0px 5px';\r\n\r\n  isOver = false;\r\n  mouseDown = false;\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  mouseover() {\r\n    this.isOver = true;\r\n  }\r\n\r\n  mouseout() {\r\n    this.isOver = false;\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  mousedown() {\r\n    this.mouseDown = true;\r\n  }\r\n\r\n  mouseup() {\r\n    this.mouseDown = false;\r\n    this.action.emit();\r\n  }\r\n\r\n  get className(): string {\r\n    return this.active ? this.mouseDown ? 'stiJsViewerParametersMenuItemPressed' : (this.isOver ? 'stiJsViewerParametersMenuItemOver' : 'stiJsViewerParametersMenuItem') : 'stiJsViewerParametersMenuItem';\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-separator',\r\n  template: `\r\n        <div class=\"stiJsViewerParametersMenuSeparator\">\r\n        </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuSeparatorComponent implements OnInit {\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../../services/model.service';\r\nimport { Variable } from '../../services/objects';\r\nimport { HelperService } from '../../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-find',\r\n  template: `\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 8px;\">\r\n                <sti-text-block [text]=\"model.loc('FindWhat')\"></sti-text-block>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 8px;\">\r\n                <sti-text-box [width]=\"80\"\r\n                  [margin]=\"'4px'\"\r\n                  [focusOnCreate]=\"true\"\r\n                  (onchange)=\"onchange($event)\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n      </table>\r\n\r\n  `\r\n})\r\n\r\nexport class ParameterFindComponent implements OnInit {\r\n\r\n  @Input() variable: Variable;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onchange(event: any) {\r\n    const text = event.value.toLowerCase();\r\n    this.variable.items.forEach((item) => {\r\n      const itemText = this.helper.val(item.value, this.helper.getStringKey(item.key, this.variable)).toLowerCase();\r\n      item.visible = itemText.indexOf(text) >= 0;\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Menu } from './menu.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Variable } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-not-edit-list',\r\n  template: `\r\n      <sti-parameter-find *ngIf=\"menu.params.items.length > 10\" [variable]=\"menu.params\"></sti-parameter-find>\r\n\r\n      <sti-parameter-menu-separator *ngIf=\"menu.params.items.length > 10\"></sti-parameter-menu-separator>\r\n\r\n      <div style=\"max-height: 400px; overflow: hidden auto;\">\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n          [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n          [style.color]=\"model.options.toolbar.fontColor\"\r\n          [style.fontSize]=\"'12px'\"\r\n          [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\r\n            <tbody>\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-check-box [captionText]=\"model.loc('SelectAll')\"\r\n                    [margin]=\"'8px 7px 8px 7px'\"\r\n                    [isChecked]=\"isAllSelected()\"\r\n                    (action)=\"selectAll()\" >\r\n                  </sti-check-box>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr *ngFor=\"let item of menu.params.items\" class=\"stiJsViewerClearAllStyles\" [style.display]=\"item.visible ? '' : 'none'\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-item>\r\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%\">\r\n                          <tbody>\r\n                            <tr class=\"stiJsViewerClearAllStyles\">\r\n                              <td class=\"stiJsViewerClearAllStyles\">\r\n                                  <sti-parameter-checkbox [params]=\"item\"\r\n                                      [captionText]=\"helper.val(item.value, helper.getStringKey(item.key, menu.params))\"\r\n                                      [margin]=\"'0 5px 0 0'\"\r\n                                      [width]=\"'100%'\"\r\n                                      [imageBlockParentWidth]=\"'1px'\"\r\n                                      [isMenuParameter]=\"true\"\r\n                                      (action)=\"check(item)\">\r\n                                  </sti-parameter-checkbox>\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                      </table>\r\n                  </sti-parameter-menu-item>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                    <sti-parameter-menu-item [padding]=\"'0px 5px 0px 13px'\" (action)=\"closeAction()\">\r\n                      {{model.loc('Close')}}\r\n                    </sti-parameter-menu-item>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuNotEditListComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  selectAll() {\r\n    const isAllSelected = this.isAllSelected();\r\n    if (this.menu.params.items) {\r\n      this.menu.params.items.forEach(e => e.isChecked = !isAllSelected);\r\n    }\r\n  }\r\n\r\n  isAllSelected() {\r\n    return this.menu.params.items.every(e => e.isChecked);\r\n  }\r\n\r\n  check(item: Variable) {\r\n    item.isChecked = !item.isChecked;\r\n  }\r\n\r\n  closeAction() {\r\n    this.menu.state = 'initialDown';\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Menu } from './menu.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Variable } from '../services/objects';\r\nimport { InteractionsService } from '../services/interactions.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-for-value',\r\n  template: `\r\n      <sti-parameter-find *ngIf=\"menu.params.items.length > 10\" [variable]=\"menu.params\"></sti-parameter-find>\r\n\r\n      <sti-parameter-menu-separator *ngIf=\"menu.params.items.length > 10\"></sti-parameter-menu-separator>\r\n\r\n      <div style=\"max-height: 400px\" [style.overflow]=\"menu.params.items.length > 10 ? 'hidden auto' : 'hidden'\">\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n          [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n          [style.color]=\"model.options.toolbar.fontColor\"\r\n          [style.fontSize]=\"'12px'\"\r\n          [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\r\n            <tbody>\r\n              <tr *ngFor=\"let item of menu.params.items\" class=\"stiJsViewerClearAllStyles\" [style.display]=\"item.visible ? '' : 'none'\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-item>\r\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%\">\r\n                          <tbody>\r\n                            <tr class=\"stiJsViewerClearAllStyles\">\r\n                              <td class=\"stiJsViewerClearAllStyles\">\r\n                                  <sti-parameter-menu-item (action)=\"action(item)\">\r\n                                    {{getValue(item)}}\r\n                                  </sti-parameter-menu-item>\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                      </table>\r\n                  </sti-parameter-menu-item>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuForValueComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public intearctionService: InteractionsService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  action(item: Variable) {\r\n    this.menu.params.value = this.menu.params.key = item.key;\r\n    this.menu.state = 'initialDown';\r\n\r\n    if (this.menu.params.binding) {\r\n      if (!this.model.options.paramsVariablesStartValues) {\r\n        this.model.options.paramsVariablesStartValues = this.helper.copyObject(this.model.options.paramsVariables);\r\n      }\r\n\r\n      this.intearctionService.postInteraction({ action: 'InitVars', variables: this.intearctionService.getParametersValues() });\r\n    }\r\n\r\n  }\r\n\r\n  getValue(item: Variable) {\r\n    return (item.value !== '' && this.menu.params.type !== 'DateTime' && this.menu.params.type !== 'TimeSpan')\r\n      ? item.value\r\n      : this.helper.getStringKey(item.key, this.menu.params);\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Menu } from './menu.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Variable } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-for-range',\r\n  template: `\r\n      <sti-parameter-find *ngIf=\"menu.params.items.length > 10\" [variable]=\"menu.params\"></sti-parameter-find>\r\n\r\n      <sti-parameter-menu-separator *ngIf=\"menu.params.items.length > 10\"></sti-parameter-menu-separator>\r\n\r\n      <div style=\"max-height: 400px\" [style.overflow]=\"menu.params.items.length > 10 ? 'hidden auto' : 'hidden'\">\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n          [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n          [style.color]=\"model.options.toolbar.fontColor\"\r\n          [style.fontSize]=\"'12px'\"\r\n          [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\r\n            <tbody>\r\n              <tr *ngFor=\"let item of menu.params.items\" class=\"stiJsViewerClearAllStyles\" [style.display]=\"item.visible ? '' : 'none'\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-item>\r\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%\">\r\n                          <tbody>\r\n                            <tr class=\"stiJsViewerClearAllStyles\">\r\n                              <td class=\"stiJsViewerClearAllStyles\">\r\n                                  <sti-parameter-menu-item (action)=\"action(item)\">\r\n                                    {{getValue(item)}}\r\n                                  </sti-parameter-menu-item>\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                      </table>\r\n                  </sti-parameter-menu-item>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuForRangeComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  action(item: Variable) {\r\n    this.menu.params.key = item.key;\r\n    this.menu.params.keyTo = item.keyTo;\r\n    this.menu.state = 'initialDown';\r\n  }\r\n\r\n  getValue(item: Variable) {\r\n    return `${item.value} [${this.helper.getStringKey(item.key, this.menu.params)} - ${this.helper.getStringKey(item.keyTo, this.menu.params)}]`;\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { Menu } from './menu.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Item, DateTimeObject } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-date-picker-menu',\r\n  template: `\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-button [imageName]=\"'Arrows.BigArrowLeft.png'\" [margin]=\"'1px 2px 0 1px'\" (action)=\"prevMonthButtonAction()\">\r\n                </sti-button>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-drop-down-list\r\n                  [width]=\"model.options.isTouchDevice ? 79 : 81\"\r\n                  [readOnly]=\"true\"\r\n                  [margin]=\"'1px 2px 0 0'\"\r\n                  [items]=\"monthesForDatePickerItems\"\r\n                  [key]=\"key.month - 1\"\r\n                  (action)=\"key.month = $event.key + 1\">\r\n                </sti-drop-down-list>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-text-box [width]=\"40\" [margin]=\"'1px 2px 0 0'\" [value]=\"key.year\" (action)=\"yearAction($event)\">\r\n                </sti-text-box>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-button [imageName]=\"'Arrows.BigArrowRight.png'\" [margin]=\"'1px 1px 0 0'\" (action)=\"nextMonthButtonAction()\">\r\n                </sti-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"stiJsViewerDatePickerSeparator\" style=\"margin: 2px 0px;\"></div>\r\n\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td *ngFor=\"let item of model.dayOfWeek; let i = index\" class=\"stiJsViewerDatePickerDayOfWeekCell\"\r\n                  [style.fontSize]=\"countLetters == 2 ? '11px' : ''\"\r\n                  [style.color]=\"getShortDayColor(i)\">\r\n                  {{getShortDayName(i)}}\r\n              </td>\r\n            </tr>\r\n            <tr *ngFor=\"let row of rows\" class=\"stiJsViewerClearAllStyles\">\r\n                <td *ngFor=\"let col of cols\" class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-date-picker-day-button\r\n                      [col]=\"col\"\r\n                      [row]=\"row\"\r\n                      [date]=\"key\"\r\n                      [selected]=\"getButtonSelected(col, row)\"\r\n                      [caption]=\"getButtonCaption(col, row)\"\r\n                      [enabled]=\"getButtonCaption(col, row) != ''\">\r\n                      [closeOnAction]=\"closeOnAction\"\r\n                  </sti-date-picker-day-button>\r\n                </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <div *ngIf=\"showTime\" class=\"stiJsViewerDatePickerSeparator\" style=\"margin: 2px 0px;\"></div>\r\n        <table *ngIf=\"showTime\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0 4px 0 4px; white-space: nowrap;\">\r\n                {{this.model.loc('Time') + ':'}}\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"text-align: right;\">\r\n                <sti-text-box [width]=\"90\"\r\n                    [margin]=\"'1px 2px 2px 2px'\"\r\n                    [value]=\"getTime()\"\r\n                    (action)=\"timeAction($event)\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  `\r\n})\r\n\r\nexport class DatePickerMenuComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n  @Input() keyTo = false;\r\n  @Input() closeOnAction = true;\r\n\r\n  public monthesForDatePickerItems: Item[] = [];\r\n  public countLetters: number;\r\n  public cols = [0, 1, 2, 3, 4, 5, 6];\r\n  public rows = [0, 1, 2, 3, 4, 5];\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) {\r\n    this.model.months.forEach((m, i) => this.monthesForDatePickerItems.push({ name: 'Month' + i, caption: this.model.loc('Month' + m), key: i }));\r\n\r\n    const firstLetters = {};\r\n    this.model.dayOfWeek.forEach((d) => {\r\n      const dayName = this.model.loc('Day' + d);\r\n      firstLetters[dayName.toString().substring(0, 1).toUpperCase()] = true;\r\n    });\r\n    this.countLetters = Object.keys(firstLetters).length < 5 ? 2 : 1;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  getButtonSelected(col: number, row: number): boolean {\r\n    const firstDay = this.getFirstDay();\r\n    const curDay = row * 7 + col;\r\n    const day = curDay - firstDay + 1;\r\n\r\n    return day === this.key.day;\r\n  }\r\n\r\n  getButtonCaption(col: number, row: number): string {\r\n    const firstDay = this.getFirstDay();\r\n    const daysInMonth = this.helper.getCountDaysOfMonth(this.key.year, this.key.month - 1);\r\n    const curDay = row * 7 + col;\r\n    const day = curDay - firstDay + 1;\r\n    if (curDay >= firstDay && day <= daysInMonth) {\r\n      return day.toString();\r\n    }\r\n    return '';\r\n  }\r\n\r\n\r\n  getTime(): string {\r\n    return this.helper.formatDate(this.helper.getDate(this.key), 'H:mm:ss');\r\n  }\r\n\r\n  getFirstDay(): number {\r\n    let firstDay = new Date(this.key.year, this.key.month - 1, 1).getDay();\r\n    if (firstDay === 0) {\r\n      firstDay = 7;\r\n    }\r\n    if (this.model.options.appearance.datePickerFirstDayOfWeek !== 'Sunday') {\r\n      firstDay--;\r\n    }\r\n    return firstDay;\r\n  }\r\n\r\n  get showTime(): boolean {\r\n    return this.menu?.params?.dateTimeType !== 'Date';\r\n  }\r\n\r\n  get key(): DateTimeObject {\r\n    return this.keyTo ? this.menu.params.keyTo : this.menu.params.key;\r\n  }\r\n\r\n  yearAction(input: any) {\r\n    try {\r\n      this.key.year = parseInt(input.value, 10);\r\n    } catch { }\r\n  }\r\n\r\n  timeAction(input: any) {\r\n    const time = this.helper.stringToTime(input.value);\r\n    this.key.seconds = time.seconds;\r\n    this.key.minutes = time.minutes;\r\n    this.key.hours = time.hours;\r\n  }\r\n\r\n  getShortDayName(index: number): string {\r\n    const dayName = this.model.loc('Day' + this.model.dayOfWeek[index]);\r\n    if (dayName) {\r\n      return dayName.toString().substring(0, this.countLetters <= dayName.length ? this.countLetters : 1).toUpperCase();\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getShortDayColor(index: number): string {\r\n    if (index === (this.model.options.appearance.datePickerFirstDayOfWeek === 'Sunday' ? 6 : 5)) {\r\n      return '#0000ff';\r\n    }\r\n\r\n    if (index === (this.model.options.appearance.datePickerFirstDayOfWeek === 'Sunday' ? 0 : 6)) {\r\n      return '#ff0000';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  prevMonthButtonAction() {\r\n    let month = this.key.month;\r\n    let year = this.key.year;\r\n    month--;\r\n    if (month === 0) {\r\n      month = 12;\r\n      year--;\r\n    }\r\n    const countDaysInMonth = this.helper.getCountDaysOfMonth(year, month - 1);\r\n    if (countDaysInMonth < this.key.day) {\r\n      this.key.day = countDaysInMonth;\r\n    }\r\n    this.key.month = month;\r\n    this.key.year = year;\r\n  }\r\n\r\n  nextMonthButtonAction() {\r\n    let month = this.key.month;\r\n    let year = this.key.year;\r\n    month++;\r\n    if (month === 13) {\r\n      month = 1;\r\n      year++;\r\n    }\r\n    const countDaysInMonth = this.helper.getCountDaysOfMonth(year, month - 1);\r\n    if (countDaysInMonth < this.key.day) {\r\n      this.key.day = countDaysInMonth;\r\n    }\r\n    this.key.month = month;\r\n    this.key.year = year;\r\n  }\r\n\r\n\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { Item } from '../services/objects';\r\nimport { MouseService } from '../services/mouse.service';\r\nimport { MenuService } from '../menu/menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-drop-down-list',\r\n  template: `\r\n        <table #element [class]=\"className\" cellpadding=\"0\" cellspacing=\"0\"\r\n              [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n              [style.color]=\"model.options.toolbar.fontColor\"\r\n              [style.margin]=\"margin\"\r\n              [style.verticalAlign]=\"verticalAlign\"\r\n              [style.display]=\"styleDisplay\"\r\n              [attr.title]=\"toolTip\"\r\n              (mouseover)=\"mouseover()\"\r\n              (mouseout)=\"mouseout()\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <input #input\r\n                [style.width.px]=\"width - (model.options.isTouchDevice ? 23 : 15) - (showImage ? 38 : 0)\"\r\n                [style.border]=\"0\"\r\n                [style.cursor]=\"readOnly ? 'default' : 'text'\"\r\n                [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n                [style.color]=\"model.options.toolbar.fontColor\"\r\n                [style.height]=\"model.options.isTouchDevice ? '23px' : '18px'\"\r\n                [style.lineHeight]=\"model.options.isTouchDevice ? '23px' : '18px'\"\r\n                [style.visibility]=\"enabled ? 'visible' : 'hidden'\"\r\n                [value]=\"inputValue\"\r\n                (click)=\"inputClick()\"\r\n                class=\"stiJsViewerDropDownList_TextBox\">\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-button [imageName]=\"'Arrows.' + (model.options.isTouchDevice ? 'Big' : 'Small') + 'ArrowDown.png'\"\r\n                     [styleName]=\"'stiJsViewerDropDownListButton'\"\r\n                     [imageSizesWidth]=\"model.options.isTouchDevice ? 16 : 8\"\r\n                     [imageSizesHeight]=\"model.options.isTouchDevice ? 16 : 8\"\r\n                     [height]=\"model.options.isTouchDevice ? '26px' : '21px'\"\r\n                     [enabled]=\"enabled\"\r\n                     [selected]=\"selected\"\r\n                     [margin]=\"'0'\"\r\n                     (action)=\"showListMenu()\">\r\n                  </sti-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n  `\r\n})\r\n\r\nexport class DropDownListComponent implements OnInit {\r\n\r\n  @ViewChild('input') input: ElementRef;\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  @Input() toolTip: string;\r\n  @Input() showImage = false;\r\n  @Input() width: number;\r\n  @Input() margin: string;\r\n  @Input() items: Item[];\r\n  @Input() styleDisplay: string;\r\n  @Input() verticalAlign: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  over = false;\r\n  private _readOnly = false;\r\n  private _enabled = true;\r\n  private _key: any;\r\n\r\n  constructor(public model: ModelService, public mouseService: MouseService, public menuService: MenuService) {\r\n    this.mouseService.getDocumentMouseUp().subscribe(() => {\r\n      this.hideListMenu();\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  set readOnly(value: boolean) {\r\n    this._readOnly = value;\r\n    setTimeout(() => {\r\n      try {\r\n        this.input.nativeElement.setAttribute('unselectable', value ? 'on' : 'off');\r\n        this.input.nativeElement.setAttribute('onselectstart', value ? 'return false' : '');\r\n        this.input.nativeElement.readOnly = value;\r\n      } catch (e) { }\r\n    });\r\n  }\r\n\r\n  @Input() get readOnly(): boolean {\r\n    return this._readOnly;\r\n  }\r\n\r\n  @Input() get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(value: boolean) {\r\n    if (!value) {\r\n      this.over = false;\r\n    }\r\n    this._enabled = value;\r\n  }\r\n\r\n  @Input() get key(): any {\r\n    return this._key;\r\n  }\r\n\r\n  set key(key: any) {\r\n    if (this.items != null) {\r\n      this.items.forEach(i => i.selected = i.key === key);\r\n    }\r\n    this._key = key;\r\n  }\r\n\r\n  get inputValue(): string {\r\n    if (this.items != null) {\r\n      return this.items.find(i => i.key === this._key)?.caption || '';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  get selected(): boolean {\r\n    const vm = this.menuService.getVerticalMenu();\r\n    return vm?.state === 'expanded' && vm?.parent === this.element;\r\n  }\r\n\r\n  get className(): string {\r\n    return this.selected ? 'stiJsViewerDropDownListOver' : (this.enabled ? (this.over ? 'stiJsViewerDropDownListOver' : 'stiJsViewerDropDownList') : 'stiJsViewerDropDownListDisabled');\r\n  }\r\n\r\n  mouseover() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n  }\r\n\r\n  inputClick() {\r\n    if (this.readOnly) {\r\n      this.showListMenu();\r\n    }\r\n  }\r\n\r\n  showListMenu() {\r\n    this.menuService.addMenu({\r\n      type: this.menuService.VERTICAL_MENU_NAME, name: this.menuService.VERTICAL_MENU_NAME, items: [], parent: this.element,\r\n      verticalItems: this.items, itemStyleName: 'stiJsViewerMenuStandartItem', menuStyleName: 'stiJsViewerDropdownMenu',\r\n      action: this.action, width: this.element.nativeElement.offsetWidth\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu(this.menuService.VERTICAL_MENU_NAME);\r\n    });\r\n  }\r\n\r\n  hideListMenu() {\r\n    if (this.menuService.getVerticalMenu()) {\r\n      this.menuService.getVerticalMenu().state = 'initialDown';\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Item } from '../services/objects';\r\nimport { Menu } from './menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-vertical-menu',\r\n  template: `\r\n    <sti-vertical-menu-item *ngFor=\"let item of menu.verticalItems\" [item]=\"item\" [styleName]=\"menu.itemStyleName\" (action)=\"action(item)\">\r\n    </sti-vertical-menu-item>\r\n  `\r\n})\r\n\r\nexport class VerticalMenuComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  action(item: Item) {\r\n    this.menu?.action?.emit(item);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { Item } from '../services/objects';\r\nimport { MenuService } from './menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-vertical-menu-item',\r\n  template: `\r\n    <div [style.height]=\"item?.type == 'DigitalSignature' ? 'auto' :(model.options.isMobileDevice ? '0.4in' : (model.options.isTouchDevice ? '30px' : '24px'))\"\r\n         [class]=\"className\"\r\n         [style.width]=\"item?.type == 'DigitalSignature' ? '100%' :  menuService.getVerticalMenu().width + 'px'\"\r\n         [style.lineHeight]=\"item?.type == 'DigitalSignature' ? 1.3 : null\"\r\n         (mouseover)=\"mouseover()\"\r\n         (mouseout)=\"mouseout()\"\r\n         (click)=\"click()\">\r\n         <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%; width: 100%\">\r\n            <tbody>\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                 <td *ngIf=\"item?.imageName != null && !model.options.appearance.rightToLeft\"\r\n                     style=\"width:22px; min-width = 22px; padding: 0; textAlign: center; lineHeight: 0\"\r\n                     class=\"stiJsViewerClearAllStyles\">\r\n                     <img [style.width.px]=\"(imageSizesWidth ? imageSizesWidth : (isSmallItem ? 16 : 32))\"\r\n                          [style.height.px]=\"(imageSizesHeight ? imageSizesHeight : (isSmallItem ? 16 : 32))\"\r\n                          [src]=\"model.img(item?.imageName)\"\r\n                          [style.visible]=\"model.img(item?.imageName) === '' ? 'none' : ''\" />\r\n                </td>\r\n\r\n                <td *ngIf=\"item?.caption != null && !model.options.appearance.rightToLeft && item?.type != 'DigitalSignature'\"\r\n                     style=\"padding: 0px 20px 0px 7px; text-align: left; white-space: nowrap;\"\r\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\r\n                     class=\"stiJsViewerClearAllStyles\">\r\n                     {{item?.caption}}\r\n                </td>\r\n\r\n                <td *ngIf=\"item?.caption != null && !model.options.appearance.rightToLeft && item?.type == 'DigitalSignature'\"\r\n                     style=\"padding: 8px 20px 8px 8px ; text-align: left; white-space: nowrap;\"\r\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\r\n                     class=\"stiJsViewerClearAllStyles\" [innerHtml]=\"item?.caption\">\r\n                </td>\r\n\r\n                <!-- right-to-left -->\r\n                <td *ngIf=\"item?.caption != null && model.options.appearance.rightToLeft && item?.type == 'DigitalSignature'\"\r\n                     style=\"padding: 8px 20px 8px 8px; text-align: right; white-space: nowrap;\"\r\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\r\n                     class=\"stiJsViewerClearAllStyles\" [innerHtml]=\"item?.caption\">\r\n                </td>\r\n\r\n                <td *ngIf=\"item?.caption != null && model.options.appearance.rightToLeft && item?.type != 'DigitalSignature'\"\r\n                     style=\"padding: 0 7px 0 20px; text-align: right; white-space: nowrap;\"\r\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\r\n                     class=\"stiJsViewerClearAllStyles\">\r\n                     {{item?.caption}}\r\n                </td>\r\n\r\n                <td *ngIf=\"item?.imageName != null && model.options.appearance.rightToLeft\"\r\n                     style=\"width:22px; min-width = 22px; padding: 0; textAlign: center; lineHeight: 0\"\r\n                     class=\"stiJsViewerClearAllStyles\">\r\n                     <img [style.width.px]=\"(imageSizesWidth ? imageSizesWidth : (isSmallItem ? 16 : 32))\"\r\n                          [style.height.px]=\"(imageSizesHeight ? imageSizesHeight : (isSmallItem ? 16 : 32))\"\r\n                          [src]=\"model.img(item?.imageName)\"\r\n                          [style.visible]=\"model.img(item?.imageName) === '' ? 'none' : ''\" />\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class VerticalMenuItemComponent implements OnInit {\r\n\r\n  @Input() styleName = 'stiJsViewerMenuStandartItem';\r\n  @Input() item: Item;\r\n  @Input() imageSizesWidth: number;\r\n  @Input() imageSizesHeight: number;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  over = false;\r\n  private _enabled = true;\r\n\r\n  constructor(public model: ModelService, public menuService: MenuService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  @Input() get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(value: boolean) {\r\n    if (!value) {\r\n      this.over = false;\r\n    }\r\n    this._enabled = value;\r\n  }\r\n\r\n  get className(): string {\r\n    return this.styleName ? this.styleName + ' ' + (this.enabled ? (this.styleName + (this.over ? 'Over' : (this.item?.selected ? 'Selected' : 'Default'))) : this.styleName + 'Disabled') : '';\r\n  }\r\n\r\n  mouseover() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n  }\r\n\r\n  click() {\r\n    if (this._enabled) {\r\n      this.action.emit(this.item);\r\n    }\r\n  }\r\n\r\n  get isSmallItem(): boolean {\r\n    return this.styleName && this.styleName.indexOf('MenuStandartItem') >= 0;\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { DateTimeObject } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { MenuService } from '../menu/menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-date-picker-day-button',\r\n  template: `\r\n    <sti-button [styleName]=\"'stiJsViewerDatePickerDayButton'\"\r\n                [width]=\"model.options.isTouchDevice ? '25px' : '23px'\"\r\n                [height]=\"model.options.isTouchDevice ? '25px' : '23px'\"\r\n                [captionAlign]=\"'center'\"\r\n                [innerTableWidth]=\"'100%'\"\r\n                [captionPadding]=\"'0px'\"\r\n                [margin]=\"'1px'\"\r\n                [caption]=\"caption\"\r\n                [enabled]=\"enabled\"\r\n                [selected]=\"selected\"\r\n                (action)=\"action()\">\r\n    </sti-button>\r\n  `\r\n})\r\n\r\nexport class DatePickerDayButtonComponent implements OnInit {\r\n\r\n  @Input() col: number;\r\n  @Input() row: number;\r\n  @Input() caption = '';\r\n  @Input() enabled = false;\r\n  @Input() selected = false;\r\n  @Input() date: DateTimeObject;\r\n  @Input() closeOnAction = true;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public menuService: MenuService) { }\r\n\r\n  action() {\r\n    this.date.day = this.row * 7 + this.col - this.getFirstDay() + 1;\r\n    if (this.closeOnAction && this.menuService.getMenu('datePickerMenu') != null) {\r\n      this.menuService.getMenu('datePickerMenu').state = 'initialUp';\r\n    }\r\n  }\r\n\r\n  getFirstDay(): number {\r\n    let firstDay = new Date(this.date.year, this.date.month - 1, 1).getDay();\r\n    if (firstDay === 0) {\r\n      firstDay = 7;\r\n    }\r\n    if (this.model.options.appearance.datePickerFirstDayOfWeek !== 'Sunday') {\r\n      firstDay--;\r\n    }\r\n    return firstDay;\r\n  }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Menu } from './menu.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-double-date-picker-menu',\r\n  template: `\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 4px; border: 1px dotted rgb(198, 198, 198);\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"vertical-align: top;\">\r\n                  <div style=\"margin:4px\">\r\n                    <sti-date-picker-menu [menu]=\"menu\" [closeOnAction]=\"false\">\r\n                    </sti-date-picker-menu>\r\n                  </div>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"border-left: 1px dotted rgb(198, 198, 198); vertical-align: top;\">\r\n                  <div style=\"margin:4px\">\r\n                    <sti-date-picker-menu [menu]=\"menu\" [keyTo]=\"true\" [closeOnAction]=\"false\">\r\n                    </sti-date-picker-menu>\r\n                  </div>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"border-left: 1px dotted rgb(198, 198, 198); vertical-align: top;\">\r\n                <div style=\"width: 150px; overflow: auto; margin: 4px;\" [style.height.px]=\"showTime ? 250 : 220\">\r\n                    <ng-container *ngFor=\"let item of model.dateRanges\">\r\n                        <sti-button [caption]=\"model.loc(item)\" (action)=\"getValuesByDateRangeName(item)\">\r\n                        </sti-button>\r\n\r\n                        <div *ngIf=\"item=='Yesterday' || item=='PreviousWeek' || item=='PreviousMonth' || item=='PreviousQuarter' || item=='PreviousYear' || item=='FourthQuarter' || item=='Last30Days'\"\r\n                            class=\"stiJsViewerVerticalMenuSeparator\" style=\"margin:2px\"></div>\r\n                    </ng-container>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n      </table>\r\n  `\r\n})\r\n\r\nexport class DoubleDatePickerMenuComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  get showTime(): boolean {\r\n    return this.menu?.params?.dateTimeType !== 'Date';\r\n  }\r\n\r\n  setTimeInterval(firstDate: Date, secondDate: Date) {\r\n    firstDate.setHours(0);\r\n    firstDate.setMinutes(0);\r\n    firstDate.setSeconds(0);\r\n    secondDate.setHours(23);\r\n    secondDate.setMinutes(59);\r\n    secondDate.setSeconds(59);\r\n  }\r\n\r\n  getFirstDayOfWeek() {\r\n    const date = new Date();\r\n    const timeString = date.toLocaleTimeString();\r\n    return (timeString.toLowerCase().indexOf('am') >= 0 || timeString.toLowerCase().indexOf('pm') >= 0 ? 0 : 1);\r\n  }\r\n\r\n  getWeekInterval(now: Date) {\r\n    const startDay = this.getFirstDayOfWeek();\r\n    let dayWeek = startDay === 0 ? now.getDay() : now.getDay() - 1;\r\n    if (dayWeek < 0) { dayWeek = 6; }\r\n    const values = [new Date(now.valueOf() - dayWeek * 86400000)];\r\n    values.push(new Date(values[0].valueOf() + 6 * 86400000));\r\n    this.setTimeInterval(values[0], values[1]);\r\n\r\n    return values;\r\n  }\r\n\r\n\r\n  getValuesByDateRangeName(item: string) {\r\n    const now = new Date();\r\n    let values = [new Date(), new Date()];\r\n\r\n    switch (item) {\r\n      case 'CurrentMonth': {\r\n        values[0].setDate(1);\r\n        values[1].setDate(this.helper.getCountDaysOfMonth(now.getFullYear(), now.getMonth()));\r\n        break;\r\n      }\r\n      case 'CurrentQuarter': {\r\n        const firstMonth = parseInt((now.getMonth() / 3).toString(), 10) * 3;\r\n        values[0] = new Date(now.getFullYear(), firstMonth, 1);\r\n        values[1] = new Date(now.getFullYear(), firstMonth + 2, this.helper.getCountDaysOfMonth(now.getFullYear(), firstMonth + 2));\r\n        break;\r\n      }\r\n      case 'CurrentWeek': {\r\n        values = this.getWeekInterval(now);\r\n        break;\r\n      }\r\n      case 'CurrentYear': {\r\n        values[0] = new Date(now.getFullYear(), 0, 1);\r\n        values[1] = new Date(now.getFullYear(), 11, 31);\r\n        break;\r\n      }\r\n      case 'NextMonth': {\r\n        let month = now.getMonth() + 1;\r\n        let year = now.getFullYear();\r\n        if (month > 11) {\r\n          month = 0;\r\n          year++;\r\n        }\r\n        values[0] = new Date(year, month, 1);\r\n        values[1] = new Date(year, month, this.helper.getCountDaysOfMonth(year, month));\r\n        break;\r\n      }\r\n      case 'NextQuarter': {\r\n        let year = now.getFullYear();\r\n        let firstMonth = parseInt((now.getMonth() / 3).toString(), 10) * 3 + 3;\r\n        if (firstMonth > 11) {\r\n          firstMonth = 0;\r\n          year++;\r\n        }\r\n        values[0] = new Date(year, firstMonth, 1);\r\n        values[1] = new Date(year, firstMonth + 2, this.helper.getCountDaysOfMonth(year, firstMonth + 2));\r\n        break;\r\n      }\r\n      case 'NextWeek': {\r\n        values = this.getWeekInterval(now);\r\n        values[0] = new Date(values[0].valueOf() + 7 * 86400000);\r\n        values[1] = new Date(values[1].valueOf() + 7 * 86400000);\r\n        break;\r\n      }\r\n      case 'NextYear': {\r\n        values[0] = new Date(now.getFullYear() + 1, 0, 1);\r\n        values[1] = new Date(now.getFullYear() + 1, 11, 31);\r\n        break;\r\n      }\r\n      case 'PreviousMonth': {\r\n        let month = now.getMonth() - 1;\r\n        let year = now.getFullYear();\r\n        if (month < 0) {\r\n          month = 11;\r\n          year--;\r\n        }\r\n        values[0] = new Date(year, month, 1);\r\n        values[1] = new Date(year, month, this.helper.getCountDaysOfMonth(year, month));\r\n        break;\r\n      }\r\n      case 'PreviousQuarter': {\r\n        let year = now.getFullYear();\r\n        let firstMonth = parseInt((now.getMonth() / 3).toString(), 10) * 3 - 3;\r\n        if (firstMonth < 0) {\r\n          firstMonth = 9;\r\n          year--;\r\n        }\r\n        values[0] = new Date(year, firstMonth, 1);\r\n        values[1] = new Date(year, firstMonth + 2, this.helper.getCountDaysOfMonth(year, firstMonth + 2));\r\n        break;\r\n      }\r\n      case 'PreviousWeek': {\r\n        values = this.getWeekInterval(now);\r\n        values[0] = new Date(values[0].valueOf() - 7 * 86400000);\r\n        values[1] = new Date(values[1].valueOf() - 7 * 86400000);\r\n        break;\r\n      }\r\n      case 'PreviousYear': {\r\n        values[0] = new Date(now.getFullYear() - 1, 0, 1);\r\n        values[1] = new Date(now.getFullYear() - 1, 11, 31);\r\n        break;\r\n      }\r\n      case 'FirstQuarter': {\r\n        values[0] = new Date(now.getFullYear(), 0, 1);\r\n        values[1] = new Date(now.getFullYear(), 2, this.helper.getCountDaysOfMonth(now.getFullYear(), 2));\r\n        break;\r\n      }\r\n      case 'SecondQuarter': {\r\n        values[0] = new Date(now.getFullYear(), 3, 1);\r\n        values[1] = new Date(now.getFullYear(), 5, this.helper.getCountDaysOfMonth(now.getFullYear(), 5));\r\n        break;\r\n      }\r\n      case 'ThirdQuarter': {\r\n        values[0] = new Date(now.getFullYear(), 6, 1);\r\n        values[1] = new Date(now.getFullYear(), 8, this.helper.getCountDaysOfMonth(now.getFullYear(), 8));\r\n        break;\r\n      }\r\n      case 'FourthQuarter': {\r\n        values[0] = new Date(now.getFullYear(), 9, 1);\r\n        values[1] = new Date(now.getFullYear(), 11, this.helper.getCountDaysOfMonth(now.getFullYear(), 11));\r\n        break;\r\n      }\r\n      case 'MonthToDate': {\r\n        values[0].setDate(1);\r\n        break;\r\n      }\r\n      case 'QuarterToDate': {\r\n        const firstMonth = parseInt((now.getMonth() / 3).toString(), 10) * 3;\r\n        values[0].setDate(1);\r\n        values[0].setMonth(firstMonth);\r\n        break;\r\n      }\r\n      case 'WeekToDate': {\r\n        const weekValues = this.getWeekInterval(now);\r\n        values[0] = weekValues[0];\r\n        break;\r\n      }\r\n      case 'YearToDate': {\r\n        values[0].setDate(1);\r\n        values[0].setMonth(0);\r\n        break;\r\n      }\r\n      case 'Today': {\r\n        break;\r\n      }\r\n      case 'Tomorrow': {\r\n        values[0] = new Date(values[0].valueOf() + 86400000);\r\n        values[1] = new Date(values[1].valueOf() + 86400000);\r\n        break;\r\n      }\r\n      case 'Yesterday': {\r\n        values[0] = new Date(values[0].valueOf() - 86400000);\r\n        values[1] = new Date(values[1].valueOf() - 86400000);\r\n        break;\r\n      }\r\n      case 'Last7Days': {\r\n        if (this.model.options.appearance.datePickerIncludeCurrentDayForRanges) {\r\n          values[0] = new Date(values[0].valueOf() - 6 * 86400000);\r\n        } else {\r\n          values[0] = new Date(values[0].valueOf() - 7 * 86400000);\r\n        }\r\n        break;\r\n      }\r\n      case 'Last14Days': {\r\n        if (this.model.options.appearance.datePickerIncludeCurrentDayForRanges) {\r\n          values[0] = new Date(values[0].valueOf() - 13 * 86400000);\r\n        } else {\r\n          values[0] = new Date(values[0].valueOf() - 14 * 86400000);\r\n        }\r\n        break;\r\n      }\r\n      case 'Last30Days': {\r\n        if (this.model.options.appearance.datePickerIncludeCurrentDayForRanges) {\r\n          values[0] = new Date(values[0].valueOf() - 29 * 86400000);\r\n        } else {\r\n          values[0] = new Date(values[0].valueOf() - 30 * 86400000);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.setTimeInterval(values[0], values[1]);\r\n\r\n    this.menu.params.key = this.helper.getDateTimeObject(values[0]);\r\n    this.menu.params.keyTo = this.helper.getDateTimeObject(values[1]);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, EventEmitter, Output, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { trigger, state, transition, style, animate, AnimationEvent } from '@angular/animations';\r\nimport { FormService } from './form.service';\r\n\r\n@Component({\r\n  selector: 'sti-base-form',\r\n  template: `\r\n    <div #element class=\"stiJsViewerForm\"\r\n      [style.zIndex]=\"level * 10 + 1\"\r\n      [@.disabled]=\"!model.options.toolbar.menuAnimation\"\r\n      [style.fontFamily]=\"fontFamily\"\r\n      [style.color]=\"color\"\r\n      [style.fontSize]=\"fontSize\"\r\n      [style.left.px]=\"formService.form?.left\"\r\n      [style.top.px]=\"formService.form?.top\"\r\n      [style.display]=\"display\"\r\n      [@showForm]=\"formService.form?.name == name ? 'visible' : 'hidden'\"\r\n      (@showForm.start)=\"startAnimation($event)\"\r\n      (@showForm.done)=\"doneAnimation($event)\">\r\n      <div class=\"stiJsViewerFormHeader\"\r\n        (mousedown)=\"formService.startMove(name, $event)\"\r\n        (touchstart)=\"formService.startMove(name, null, $event)\"\r\n        (touchmove)=\"formService.move($event)\"\r\n        (touchend)=\"formService.stopMove()\">\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"text-align: left; padding: 5px 10px 8px 15px;\">\r\n                {{caption}}\r\n              </td>\r\n              <td *ngIf=\"helpUrl != null && model.options.appearance.showDialogsHelp\" class=\"stiJsViewerClearAllStyles\" style=\"width: 20px; text-align: right; padding: 2px 0px 1px 0px; vertical-align: top;\">\r\n                <sti-button [imageMargin]=\"'0 2px 0 2px'\" [display]=\"'inline-block'\" (action)=\"helper.showHelpWindow(helpUrl)\">\r\n                </sti-button>\r\n              </td>\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"vertical-align: top; width: 30px; text-align: right; padding: 2px 1px 1px;\">\r\n                <sti-button [imageMargin]=\"'0 2px 0 2px'\" [display]=\"'inline-block'\" [imageName]=\"'CloseForm.png'\" (action)=\"formService.closeForm(name)\">\r\n                </sti-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div class=\"stiJsViewerFormContainer\" [style.padding]=\"containerPadding\">\r\n        <ng-content>\r\n        </ng-content>\r\n      </div>\r\n\r\n      <div *ngIf=\"showSeparator\" class=\"stiJsViewerFormSeparator\"></div>\r\n\r\n      <div *ngIf=\"showButtons\" class=\"stiJsViewerFormButtonsPanel\">\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 8px;\">\r\n                <sti-form-button [caption]=\"model.loc('ButtonOk')\" (action)=\"action.emit()\">\r\n                </sti-form-button>\r\n              </td>\r\n              <td *ngIf=\"showCancel\" class=\"stiJsViewerClearAllStyles\" style=\"padding: 8px 8px 8px 0px;\">\r\n                <sti-form-button [caption]=\"model.loc('ButtonCancel')\" (action)=\"formService.closeForm(name)\">\r\n                </sti-form-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n    </div>\r\n  `,\r\n  animations: [\r\n    trigger('showForm', [\r\n      state('hidden', style({ opacity: '0' })),\r\n      state('visible', style({ opacity: '1' })),\r\n      transition('hidden => visible', [\r\n        animate('200ms ease-in-out')])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class BaseFormComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  @Output() changeVisibility: EventEmitter<any> = new EventEmitter();\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Input() level = 1;\r\n  @Input() caption: string;\r\n  @Input() helpUrl: string;\r\n  @Input() fontFamily: string;\r\n  @Input() color: string;\r\n  @Input() fontSize: string;\r\n  @Input() containerPadding: string;\r\n  @Input() name: string;\r\n  @Input() defaultTop: number;\r\n  @Input() showCancel = true;\r\n  @Input() showButtons = true;\r\n  @Input() showSeparator = true;\r\n\r\n  display = 'none';\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public formService: FormService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  startAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'visible') {\r\n      this.display = '';\r\n      if (this.defaultTop != null) {\r\n        this.formService.centerForm(this, this.defaultTop);\r\n      }\r\n    }\r\n  }\r\n\r\n  doneAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'hidden') {\r\n      this.display = 'none';\r\n    }\r\n    this.changeVisibility.emit(event.toState);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, OnChanges, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ExportFormSettings, ExportComponent, ExportGroup } from '../services/objects';\r\nimport { ExportService } from '../services/export.service';\r\nimport { BaseFormComponent } from './base-form.component';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { FormService } from './form.service';\r\nimport { MenuService } from '../menu/menu.service';\r\nimport { ButtonComponent } from '../controls/button.component';\r\nimport { CollectionsService } from '../services/collections.service';\r\nimport { RadioButtonComponent } from '../controls/radio-button.components';\r\nimport { ControllerService } from '../services/controller.service';\r\n\r\n@Component({\r\n  selector: 'sti-export-form',\r\n  template: `\r\n    <sti-base-form #baseForm [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n    [color]=\"model.options.toolbar.fontColor\"\r\n    [fontSize]=\"'12px'\"\r\n    [containerPadding]=\"'3px'\"\r\n    [name]=\"'exportForm'\"\r\n    [caption]=\"model.loc('ExportFormTitle')\"\r\n    [defaultTop]=\"150\"\r\n    (changeVisibility)=\"changeVisibility($event)\"\r\n    (action)=\"action()\">\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n      <tbody>\r\n          <tr *ngIf=\"exportFormSettings?.groups.savingReportGroup.visible\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n              <sti-group-panel [caption]=\"model.loc('SavingReport')\"\r\n               [width]=\"390\"\r\n               [margin]=\"'4px'\"\r\n               [innerPadding]=\"'4px 0 4px 0'\"\r\n               [opened]=\"exportFormSettings.groups.savingReportGroup.opened\"\r\n               (action)=\"exportFormSettings.groups.savingReportGroup.opened=$event\">\r\n                <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n                  <tbody>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button #saveReportMdc\r\n                           [name]=\"baseForm.name + 'SaveReportMdc'\"\r\n                           [groupName]=\"baseForm.name + 'SavingReportGroup'\"\r\n                           [caption]=\"model.loc('SaveReportMdc')\"\r\n                           [margin]=\"'6px 8px 3px 8px'\"\r\n                           [checked]=\"true\"\r\n                           (action)=\"exportService.exportSettings.Format = 'Mdc'\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button\r\n                           [name]=\"baseForm.name + 'SaveReportMdz'\"\r\n                           [groupName]=\"baseForm.name + 'SavingReportGroup'\"\r\n                           [caption]=\"model.loc('SaveReportMdz')\"\r\n                           [margin]=\"'3px 8px 3px 8px'\"\r\n                           (action)=\"exportService.exportSettings.Format = 'Mdz'\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button\r\n                           [name]=\"baseForm.name + 'SaveReportMdx'\"\r\n                           [groupName]=\"baseForm.name + 'SavingReportGroup'\"\r\n                           [caption]=\"model.loc('SaveReportMdx')\"\r\n                           [margin]=\"'3px 8px 0px 8px'\"\r\n                           (action)=\"exportService.exportSettings.Format = 'Mdx'\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0px 8px; min-width: 150px;\" [attr.title]=\"model.loc('PasswordSaveReportTooltip')\">\r\n                      {{model.loc('PasswordSaveReport')}}\r\n                      </td>\r\n                      <td>\r\n                        <sti-text-box\r\n                           [width]=\"140\"\r\n                           [tooltip]=\"model.loc('PasswordSaveReportTooltip')\"\r\n                           [margin]=\"'4px 8px 0px 8px'\"\r\n                           [type]=\"getTextBoxType('SaveReportPassword')\"\r\n                           [enabled]=\"exportService.exportSettings.Format == 'Mdx'\"\r\n                           (onchange)=\"exportService.exportSettings.Password = $event.value\">\r\n                        </sti-text-box>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </sti-group-panel>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr *ngIf=\"exportFormSettings?.groups.pageRangeGroup.visible\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n              <sti-group-panel [caption]=\"model.loc('PagesRange')\"\r\n               [width]=\"390\"\r\n               [margin]=\"'4px'\"\r\n               [innerPadding]=\"'4px 0 4px 0'\"\r\n               [opened]=\"exportFormSettings.groups.pageRangeGroup.opened\"\r\n               (action)=\"exportFormSettings.groups.pageRangeGroup.opened=$event\">\r\n                <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n                  <tbody>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button #pagesRangeAll\r\n                           [name]=\"baseForm.name + 'PagesRangeAll'\"\r\n                           [groupName]=\"baseForm.name + 'PageRangeGroup'\"\r\n                           [caption]=\"model.loc('PagesRangeAll')\"\r\n                           [tooltip]=\"model.loc('PagesRangeAllTooltip')\"\r\n                           [margin]=\"'6px 8px 6px 8px'\"\r\n                           [checked]=\"!exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled\"\r\n                           [enabled]=\"!exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled\"\r\n                           (action)=\"exportService.exportSettings.PageRange = 'All'\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button #pageRangeCurrentPage\r\n                           [name]=\"baseForm.name + 'PageRangeCurrentPage'\"\r\n                           [groupName]=\"baseForm.name + 'PageRangeGroup'\"\r\n                           [caption]=\"model.loc('PagesRangeCurrentPage')\"\r\n                           [tooltip]=\"model.loc('PagesRangeCurrentPageTooltip')\"\r\n                           [margin]=\"'0px 8px 4px 8px'\"\r\n                           [checked]=\"exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled\"\r\n                           (action)=\"exportService.exportSettings.PageRange = (model.reportParams.pageNumber + 1).toString()\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button\r\n                           [name]=\"baseForm.name + 'PageRangePages'\"\r\n                           [groupName]=\"baseForm.name + 'PageRangeGroup'\"\r\n                           [caption]=\"model.loc('PagesRangePages')\"\r\n                           [tooltip]=\"model.loc('PagesRangePagesTooltip')\"\r\n                           [margin]=\"'0px 8px 0px 8px'\"\r\n                           [paddingLeftLastCell]=\"'60px'\"\r\n                           (action)=\"exportService.exportSettings.PageRange = pagesRange.element.nativeElement.value\">\r\n                              <sti-text-box #pagesRange\r\n                                [width]=\"130\"\r\n                                [tooltip]=\"model.loc('PagesRangePagesTooltip')\"\r\n                                [margin]=\"'0px 0px 0px 30px'\"\r\n                                (onchange)=\"exportService.exportSettings.PageRange = $event.value\"\r\n                                (onblur)=\"exportService.exportSettings.PageRange = $event.value\">\r\n                              </sti-text-box>\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </sti-group-panel>\r\n            </td>\r\n          </tr>\r\n\r\n        <tr *ngIf=\"exportFormSettings?.groups.settingsGroup.visible\"class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n              <sti-group-panel [caption]=\"model.loc('SettingsGroup')\"\r\n                [opened]=\"exportFormSettings.groups.settingsGroup.opened\"\r\n                [width]=\"390\"\r\n                [margin]=\"'4px'\"\r\n                [innerPadding]=\"'4px 0 4px 0'\"\r\n                (action)=\"exportFormSettings.groups.settingsGroup.opened=$event\">\r\n                <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n                  <tbody>\r\n                    <tr *ngFor=\"let comp of exportFormSettings.components\">\r\n                      <td *ngIf=\"comp.label != null\" style=\"padding: 0px 8px; min-width: 150px;\" [attr.title]=\"comp.tooltip\">\r\n                        {{comp.label}}\r\n                      </td>\r\n\r\n                      <td *ngIf=\"comp.name == 'UseDigitalSignature'\">\r\n                        <sti-check-box\r\n                           [tooltip]=\"comp.tooltip\"\r\n                           [margin]=\"comp.margin\"\r\n                           [captionText]=\"comp.caption\"\r\n                           [isChecked]=\"getValue(comp)\"\r\n                           (action)=\"componentAction(comp, $event)\">\r\n                        </sti-check-box>\r\n                      </td>\r\n\r\n                      <td [attr.colSpan]=\"comp.label != null || comp.name == 'DocumentSecurityButton' || comp.name == 'UseDigitalSignature' ? 1 : 2\">\r\n                        <sti-drop-down-list-for-export-form *ngIf=\"comp.type == 'DropDownListForExportForm'\"\r\n                           [width]=\"comp.width\"\r\n                           [items]=\"comp.items\"\r\n                           [key]=\"getValue(comp, 'dropDownList')\"\r\n                           [margin]=\"comp.margin\"\r\n                           [verticalAlign]=\"comp.name == 'ImageQuality' || comp.name == 'ImageResolution' ? 'middle' : null\"\r\n                           [styleDisplay]=\"comp.name == 'ImageQuality' || comp.name == 'ImageResolution' ? 'inline-block' : null\"\r\n                           [enabled]=\"!disabledComponents[comp.name]\"\r\n                           (action)=\"componentAction(comp, $event.key)\">\r\n                        </sti-drop-down-list-for-export-form>\r\n\r\n                        <div *ngIf=\"comp.name == 'ImageQuality' || comp.name == 'ImageResolution'\"\r\n                           [style.display]=\"'inline-block'\">\r\n                          {{comp.name == 'ImageQuality' ? '%' : 'dpi'}}\r\n                        </div>\r\n\r\n                        <sti-text-box *ngIf=\"comp.type == 'TextBox'\"\r\n                           [width]=\"comp.width\"\r\n                           [tooltip]=\"comp.tooltip\"\r\n                           [margin]=\"comp.margin\"\r\n                           [type]=\"getTextBoxType(comp.name)\"\r\n                           [enabled]=\"!comp.disabled\"\r\n                           [value]=\"getValue(comp)\"\r\n                           [enabled]=\"!disabledComponents[comp.name]\"\r\n                           (onchange)=\"componentAction(comp, $event.value)\">\r\n                        </sti-text-box>\r\n\r\n                        <sti-check-box *ngIf=\"comp.type == 'CheckBox' || comp.type == 'DigitalSignature'\"\r\n                           [tooltip]=\"comp.tooltip\"\r\n                           [margin]=\"comp.margin\"\r\n                           [captionText]=\"comp.caption\"\r\n                           [isChecked]=\"getValue(comp)\"\r\n                           [isEnabled]=\"!disabledComponents[comp.name]\"\r\n                           (action)=\"componentAction(comp, $event)\">\r\n                        </sti-check-box>\r\n\r\n                      </td>\r\n\r\n                      <td *ngIf=\"comp.name == 'DocumentSecurityButton'\">\r\n                        <sti-button #button\r\n                           [width]=\"comp.width\"\r\n                           [arrow]=\"'Down'\"\r\n                           [minWidth]=\"'163px'\"\r\n                           [captionAlign]=\"'center'\"\r\n                           [display]=\"'inline-block'\"\r\n                           [styleName]=\"'stiJsViewerFormButton'\"\r\n                           [margin]=\"'2px 8px'\"\r\n                           [innerTableWidth]=\"'100%'\"\r\n                           [captionWidth]=\"'100%'\"\r\n                           [caption]=\"comp.name == 'DocumentSecurityButton' ? comp.caption : ''\"\r\n                           [enabled]=\"!disabledComponents[comp.name + 'Button']\"\r\n                           (action)=\"showMenu(comp, button)\">\r\n                        </sti-button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n\r\n              </sti-group-panel>\r\n            </td>\r\n        </tr>\r\n\r\n        <tr *ngIf=\"model.options.exports.showOpenAfterExport && exportFormSettings?.openAfterExport && !exportService.sendMail\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                <sti-check-box [captionText]=\"model.loc('OpenAfterExport')\"\r\n                  [tooltip]=\"model.loc('OpenAfterExportTooltip')\"\r\n                  [margin]=\"'4px 8px 4px 8px'\"\r\n                  [isChecked]=\"exportService.exportSettings.OpenAfterExport\"\r\n                  (action)=\"exportService.exportSettings.OpenAfterExport = $event\">\r\n                </sti-check-box>\r\n            </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    </sti-base-form>\r\n  `\r\n})\r\n\r\nexport class ExportFormComponent implements OnInit, OnChanges {\r\n\r\n  private PROPERTY_ALIAS = {\r\n    ImageFormatForHtml: 'ImageFormat',\r\n    EncodingTextOrCsvFile: 'Encoding',\r\n    ExportModeRtf: 'ExportMode',\r\n    EncodingDifFile: 'Encoding',\r\n    EncodingDbfFile: 'CodePage'\r\n  };\r\n\r\n  @ViewChild('baseForm') baseForm: BaseFormComponent;\r\n  @ViewChild('saveReportMdc') saveReportMdc: RadioButtonComponent;\r\n  @ViewChild('pagesRangeAll') pagesRangeAll: RadioButtonComponent;\r\n  @ViewChild('pageRangeCurrentPage') pageRangeCurrentPage: RadioButtonComponent;\r\n\r\n  @Input() exportFormSettings: ExportFormSettings;\r\n\r\n  formVisible = false;\r\n  disabledComponents: any = {};\r\n\r\n  constructor(public model: ModelService, public exportService: ExportService, public helper: HelperService, public formService: FormService,\r\n    public menuService: MenuService, public collections: CollectionsService, public controller: ControllerService) { }\r\n\r\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\r\n    if (this.baseForm && this.formService?.form?.name === this.baseForm.name) {\r\n      setTimeout(() => this.updateDisabledComponents());\r\n    }\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  action() {\r\n    this.formService.closeForm(this.baseForm.name);\r\n\r\n    if (this.model.options.exports.storeExportSettings) {\r\n      this.helper.setCookie('StimulsoftWebViewerExportSettings' + this.exportService.getCommonExportFormat(), JSON.stringify(this.exportService.exportSettings));\r\n    }\r\n\r\n    this.exportService.postExport();\r\n  }\r\n\r\n  updateDisabledComponents() {\r\n    ['StandardPdfFonts', 'EmbeddedFonts', 'UseUnicode'].forEach(n => this.disabledComponents[n] = (this.exportService.exportSettings.PdfACompliance === true));\r\n\r\n    this.disabledComponents.ImageQuality = this.exportService.exportSettings.ImageCompressionMethod && this.exportService.exportSettings.ImageCompressionMethod !== 'Jpeg';\r\n\r\n    this.disabledComponents.ExportObjectFormatting = this.exportService.exportSettings.DataExportMode === 'AllBands';\r\n    this.disabledComponents.UseOnePageHeaderAndFooter = this.exportService.exportSettings.DataExportMode != 'AllBands';\r\n\r\n    this.disabledComponents.EncodingDifFile = this.exportService.exportSettings.UseDefaultSystemEncoding;\r\n\r\n    this.disabledComponents.TiffCompressionScheme = this.exportService.exportSettings.ImageType !== 'Tiff';\r\n\r\n    this.disabledComponents.UseDigitalSignature = !this.exportService.exportSettings.UseDigitalSignature || !(this.model.pdfSecurityCertificates?.length > 0);\r\n\r\n    this.disabledComponents.RemoveEmptySpaceAtBottom = this.exportService.exportSettings.UsePageHeadersAndFooters;\r\n\r\n    if (this.exportService.exportSettings.ImageType != null) {\r\n      const ifComponent = this.exportService.exportFormSettings.components.find(c => c.name === 'ImageFormat');\r\n      if (ifComponent != null) {\r\n        ifComponent.items = this.collections.getImageFormatItems(this.exportService.exportSettings.ImageType === 'Emf');\r\n      }\r\n    }\r\n\r\n    this.disabledComponents.DitheringType = this.exportService.exportSettings.ImageFormat !== 'Monochrome';\r\n\r\n    if (this.saveReportMdc) { this.saveReportMdc.click(); }\r\n    if (this.pagesRangeAll && !this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled) {\r\n      this.pagesRangeAll.click();\r\n    }\r\n    if (this.pageRangeCurrentPage && this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled) {\r\n      this.pageRangeCurrentPage.click();\r\n    }\r\n\r\n    if (this.exportService.exportSettings.CompressToArchive === true) {\r\n      this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled = false;\r\n    }\r\n\r\n    if (this.exportService.exportSettings.CompressToArchive === false) {\r\n      this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled = true;\r\n    }\r\n  }\r\n\r\n  componentAction(comp: ExportComponent, value?: any) {\r\n    let property = this.PROPERTY_ALIAS[comp.name] || comp.name;\r\n\r\n    switch (property) {\r\n      case 'EmbeddedFonts':\r\n      case 'UseUnicode':\r\n        if (value) {\r\n          this.exportService.exportSettings.StandardPdfFonts = false;\r\n        }\r\n        break;\r\n\r\n      case 'StandardPdfFonts':\r\n        if (value) {\r\n          this.exportService.exportSettings.EmbeddedFonts = false;\r\n          this.exportService.exportSettings.UseUnicode = false;\r\n        }\r\n        break;\r\n\r\n      case 'ImageType':\r\n        this.exportService.export('Image' + value, true);\r\n        break;\r\n\r\n      case 'DataType':\r\n      case 'HtmlType':\r\n        this.exportService.export(value, true);\r\n        break;\r\n\r\n      case 'ExcelType':\r\n        const exportFormat = value === 'ExcelBinary' ? 'Excel' : value;\r\n        this.exportService.export(exportFormat, true);\r\n        break;\r\n\r\n      case 'UseDigitalSignature':\r\n        if (!(value === true || value === false)) {\r\n          property = 'CertificateThumbprint';\r\n        }\r\n        if (value === true && this.collections.getPdfSecurityCertificatesItems().length == 0) {\r\n          value = false;\r\n          this.controller.showError('Warning', 'Certificate Not Found!');\r\n        }\r\n        break;\r\n\r\n      case 'UsePageHeadersAndFooters':\r\n        if (value === true) {\r\n          this.exportService.exportSettings.RemoveEmptySpaceAtBottom = true;\r\n        }\r\n        break;\r\n    }\r\n\r\n    this.exportService.exportSettings[property] = value;\r\n\r\n    this.updateDisabledComponents();\r\n  }\r\n\r\n  getValue(comp: ExportComponent, component?: string): string {\r\n    const property = this.PROPERTY_ALIAS[comp.name] || comp.name;\r\n    switch (property) {\r\n      case 'Zoom2':\r\n        return this.exportService.exportSettings[property].toString();\r\n\r\n      case 'UseDigitalSignature':\r\n        if (component == 'dropDownList') {\r\n          return this.exportService.exportSettings['CertificateThumbprint'];\r\n        }\r\n      default:\r\n        return this.exportService.exportSettings[property];\r\n    }\r\n  }\r\n\r\n  changeVisibility(state: string) {\r\n    this.formVisible = state === 'visible';\r\n\r\n    if (state === 'hidden' && this.exportFormSettings?.groups?.savingReportGroup) {\r\n      this.helper.setCookie('StimulsoftWebViewerExportSettingsOpeningGroups', JSON.stringify({\r\n        SavingReportGroup: this.exportFormSettings.groups.savingReportGroup.opened,\r\n        PageRangeGroup: this.exportFormSettings.groups.pageRangeGroup.opened,\r\n        SettingsGroup: this.exportFormSettings.groups.settingsGroup.opened\r\n      }));\r\n    }\r\n    if (state === 'visible') {\r\n      this.updateDisabledComponents();\r\n    }\r\n  }\r\n\r\n  showMenu(comp: ExportComponent, button: ButtonComponent) {\r\n    let menuName = 'documentSecurityMenu';\r\n    if (comp.name === 'DocumentSecurityButton') {\r\n      this.menuService.addMenu({\r\n        type: menuName, name: menuName, items: [], parent: button.button,\r\n        itemStyleName: 'stiJsViewerMenuStandartItem', menuStyleName: 'stiJsViewerDropdownMenu'\r\n      });\r\n    } else {\r\n      menuName = this.menuService.VERTICAL_MENU_NAME;\r\n      this.menuService.addMenu({\r\n        type: 'buttonMenu', name: menuName, items: this.collections.getPdfSecurityCertificatesItems(), parent: button.button,\r\n        itemStyleName: 'stiJsViewerMenuStandartItem', menuStyleName: 'stiJsViewerDropdownMenu'\r\n      });\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu(menuName);\r\n    });\r\n  }\r\n\r\n  getTextBoxType(name: string) {\r\n    if (name === 'SaveReportPassword' || name === 'PasswordInputUser' || name === 'PasswordInputOwner') {\r\n      return this.formVisible ? 'password' : '';\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { trigger, state, transition, animate, style, AnimationEvent } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'sti-group-panel',\r\n  template: `\r\n  <div #groupPanel [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n       [style.color]=\"model.options.toolbarFontColor\"\r\n       [style.minWidth.px]=\"width\"\r\n       [style.margin]=\"margin\"\r\n       style=\"overflow: hidden\">\r\n      <sti-form-button [caption]=\"caption\"\r\n          [imageName]=\"opened ? 'Arrows.BigArrowDown.png' : 'Arrows.BigArrowRight.png'\"\r\n          [imageCellWidth]=\"'1px'\"\r\n          [captionPadding]=\"'0 15px 0 5px'\"\r\n          [margin]=\"'0px'\"\r\n          [captionAlign]=\"'left'\"\r\n          (action)=\"opened = !opened; action.emit(opened)\">\r\n      </sti-form-button>\r\n\r\n      <div class=\"stiJsViewerGroupPanelContainer\"\r\n           [style.padding]=\"innerPadding\"\r\n           [style.display]=\"display\"\r\n           [@state]=\"opened ? 'opened' : 'closed'\"\r\n           (@state.start)=\"startAnimation($event)\"\r\n           (@state.done)=\"doneAnimation($event)\">\r\n          <ng-content>\r\n\r\n          </ng-content>\r\n      </div>\r\n\r\n\r\n  </div>\r\n  `,\r\n  animations: [\r\n    trigger('state', [\r\n      state('opened', style({ height: '*' })),\r\n      state('closed', style({ height: '0px' })),\r\n      transition('* => *', [\r\n        animate('150ms ease-in-out')])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class GroupPanelComponent implements OnInit {\r\n\r\n  @Input() width: number;\r\n  @Input() caption: string;\r\n  @Input() innerPadding: string;\r\n  @Input() opened = false;\r\n  @Input() margin: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  display = 'none';\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  startAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'opened') {\r\n      this.display = '';\r\n    }\r\n  }\r\n\r\n  doneAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'closed') {\r\n      this.display = 'none';\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, OnDestroy, AfterViewInit, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { RadioButtonService } from '../services/radio-button.service';\r\n\r\n@Component({\r\n  selector: 'sti-radio-button',\r\n  template: `\r\n    <table [class]=\"enabled ? 'stiJsViewerRadioButton' : 'stiJsViewerRadioButtonDisabled'\" cellpadding=\"0\" cellspacing=\"0\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.margin]=\"margin\"\r\n      [attr.title]=\"tooltip\"\r\n      (mouseover)=\"mouseover()\" (mouseout)=\"mouseout()\" (click)=\"click()\">\r\n      <tbody>\r\n        <tr class=\"stiJsViewerClearAllStyles\">\r\n          <td class=\"stiJsViewerClearAllStyles\">\r\n            <div class=\"stiJsViewerRadioButtonOutCircle\" [class]=\"outClass\">\r\n              <div class=\"stiJsViewerRadioButtonInnerCircle\"\r\n                  [style.margin]=\"model.options.isTouchDevice ? '4px' : '3px'\"\r\n                  [style.width]=\"model.options.isTouchDevice ? '9px' : '7px'\"\r\n                  [style.height]=\"model.options.isTouchDevice ? '9px' : '7px'\"\r\n                  [style.visibility]=\"checked ? 'visible' : 'hidden'\"\r\n                  [style.opacity]=\"enabled ? 1 : 0.5\">\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td *ngIf=\"caption != null\" class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 4px; white-space: nowrap;\">\r\n            {{caption}}\r\n          </td>\r\n          <td class=\"stiJsViewerClearAllStyles\" [style.paddingLeft]=\"paddingLeftLastCell\">\r\n            <ng-content></ng-content>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  `\r\n})\r\n\r\nexport class RadioButtonComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Input() groupName: string;\r\n  @Input() name: string;\r\n  @Input() enabled = true;\r\n  @Input() checked = false;\r\n  @Input() tooltip: string;\r\n  @Input() caption: string;\r\n  @Input() margin: string;\r\n  @Input() paddingLeftLastCell: string;\r\n\r\n  over = false;\r\n\r\n  constructor(public model: ModelService, public radioService: RadioButtonService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.radioService.addButton(this);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.radioService.removeButton(this);\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  mouseover() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n  }\r\n\r\n  click() {\r\n    if (this.enabled) {\r\n      this.checked = true;\r\n      this.radioService.check(this);\r\n      this.action.emit(true);\r\n    }\r\n  }\r\n\r\n  public uncheck() {\r\n    this.checked = false;\r\n    this.action.emit(false);\r\n  }\r\n\r\n  get outClass(): string {\r\n    return !this.enabled ? 'stiJsViewerRadioButtonOutCircleDisabled' : (this.over ? 'stiJsViewerRadioButtonOutCircleOver' : 'stiJsViewerRadioButtonOutCircle');\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Item } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-drop-down-list-for-export-form',\r\n  template: `\r\n    <sti-drop-down-list [items]=\"items\"\r\n      [width]=\"width\"\r\n      [readOnly]=\"true\"\r\n      [key]=\"key\"\r\n      [margin]=\"margin\"\r\n      [enabled]=\"enabled\"\r\n      [styleDisplay]=\"styleDisplay\"\r\n      [verticalAlign]=\"verticalAlign\"\r\n      (action)=\"key = $event.key; action.emit($event)\">\r\n    </sti-drop-down-list>\r\n  `\r\n})\r\n\r\nexport class DropDownListForExportFormComponent implements OnInit {\r\n\r\n  @Input() items: Item[];\r\n  @Input() width: number;\r\n  @Input() key: string;\r\n  @Input() margin: string;\r\n  @Input() enabled = true;\r\n  @Input() styleDisplay: string;\r\n  @Input() verticalAlign: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { FormService } from '../forms/form.service';\r\nimport { ExportService } from '../services/export.service';\r\nimport { CollectionsService } from '../services/collections.service';\r\nimport { CheckboxComponent } from '../controls/checkbox.component';\r\n\r\n@Component({\r\n  selector: 'sti-document-security-menu',\r\n  template: `\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n                  <tbody>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td style=\"padding: 0px 8px; min-width: 150px;\" [attr.title]=\"model.loc('UserPasswordTooltip')\">\r\n                        {{model.loc('UserPassword')}}\r\n                      </td>\r\n                      <td class=\"stiJsViewerClearAllStyles\">\r\n                        <sti-text-box\r\n                           [width]=\"160\"\r\n                           [tooltip]=\"model.loc('UserPasswordTooltip')\"\r\n                           [margin]=\"'8px 8px 2px 8px'\"\r\n                           [type]=\"getTextBoxType()\"\r\n                           [value]=\"exportService.exportSettings?.PasswordInputUser\"\r\n                           (onchange)=\"exportService.exportSettings.PasswordInputUser =  $event.value\">\r\n                        </sti-text-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\" [attr.title]=\"model.loc('OwnerPasswordTooltip')\">\r\n                      <td style=\"padding: 0px 8px; min-width: 150px;\">\r\n                        {{model.loc('OwnerPassword')}}\r\n                      </td>\r\n                      <td class=\"stiJsViewerClearAllStyles\">\r\n                        <sti-text-box\r\n                           [width]=\"160\"\r\n                           [tooltip]=\"model.loc('OwnerPasswordTooltip')\"\r\n                           [margin]=\"'2px 8px 2px 8px'\"\r\n                           [type]=\"getTextBoxType()\"\r\n                           [value]=\"exportService.exportSettings?.PasswordInputOwner\"\r\n                           (onchange)=\"exportService.exportSettings.PasswordInputOwner =  $event.value\">\r\n                        </sti-text-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-check-box #AllowPrintDocument\r\n                           [captionText]=\"model.loc('AllowPrintDocument')\"\r\n                           [tooltip]=\"model.loc('AllowPrintDocumentTooltip')\"\r\n                           [margin]=\"'4px 8px 4px 8px'\"\r\n                           [isChecked]=\"getUserAccessPrivileges('PrintDocument')\"\r\n                           (action)=\"updateUserAccessPrivileges()\">\r\n                        </sti-check-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-check-box #AllowModifyContents\r\n                           [captionText]=\"model.loc('AllowModifyContents')\"\r\n                           [tooltip]=\"model.loc('AllowModifyContentsTooltip')\"\r\n                           [margin]=\"'4px 8px 4px 8px'\"\r\n                           [isChecked]=\"getUserAccessPrivileges('ModifyContents')\"\r\n                           (action)=\"updateUserAccessPrivileges()\">\r\n                        </sti-check-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-check-box #AllowCopyTextAndGraphics\r\n                           [captionText]=\"model.loc('AllowCopyTextAndGraphics')\"\r\n                           [tooltip]=\"model.loc('AllowCopyTextAndGraphicsTooltip')\"\r\n                           [margin]=\"'4px 8px 4px 8px'\"\r\n                           [isChecked]=\"getUserAccessPrivileges('CopyTextAndGraphics')\"\r\n                           (action)=\"updateUserAccessPrivileges()\">\r\n                        </sti-check-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-check-box #AllowAddOrModifyTextAnnotations\r\n                           [captionText]=\"model.loc('AllowAddOrModifyTextAnnotations')\"\r\n                           [tooltip]=\"model.loc('AllowAddOrModifyTextAnnotationsTooltip')\"\r\n                           [margin]=\"'4px 8px 4px 8px'\"\r\n                           [isChecked]=\"getUserAccessPrivileges('AddOrModifyTextAnnotations')\"\r\n                           (action)=\"updateUserAccessPrivileges()\">\r\n                        </sti-check-box>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0px 8px; min-width: 150px;\" [attr.title]=\"model.loc('EncryptionKeyLengthTooltip')\">\r\n                        {{model.loc('EncryptionKeyLength')}}\r\n                      </td>\r\n                      <td>\r\n                        <sti-drop-down-list-for-export-form\r\n                           [width]=\"160\"\r\n                           [items]=\"collections.getEncryptionKeyLengthItems()\"\r\n                           [key]=\"exportService.exportSettings?.KeyLength\"\r\n                           [margin]=\"'2px 8px 4px 8px'\"\r\n                           (action)=\"exportService.exportSettings.KeyLength = $event.key\">\r\n                        </sti-drop-down-list-for-export-form>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n`\r\n})\r\n\r\nexport class DocumentSecurityMenuComponent implements OnInit {\r\n\r\n  @ViewChild('AllowPrintDocument') allowPrintDocument: CheckboxComponent;\r\n  @ViewChild('AllowModifyContents') allowModifyContents: CheckboxComponent;\r\n  @ViewChild('AllowCopyTextAndGraphics') allowCopyTextAndGraphics: CheckboxComponent;\r\n  @ViewChild('AllowAddOrModifyTextAnnotations') allowAddOrModifyTextAnnotations: CheckboxComponent;\r\n\r\n  constructor(public model: ModelService, public formService: FormService, public exportService: ExportService, public collections: CollectionsService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  getTextBoxType() {\r\n    return this.formService.form?.name === 'exportForm' ? 'password' : '';\r\n  }\r\n\r\n  updateUserAccessPrivileges() {\r\n    const privileges = [];\r\n    if (this.allowPrintDocument.isChecked) { privileges.push('PrintDocument'); }\r\n    if (this.allowModifyContents.isChecked) { privileges.push('ModifyContents'); }\r\n    if (this.allowCopyTextAndGraphics.isChecked) { privileges.push('CopyTextAndGraphics'); }\r\n    if (this.allowAddOrModifyTextAnnotations.isChecked) { privileges.push('AddOrModifyTextAnnotations'); }\r\n    this.exportService.exportSettings.UserAccessPrivileges = privileges.join(',');\r\n  }\r\n\r\n  getUserAccessPrivileges(name: string) {\r\n    return this.exportService.exportSettings?.UserAccessPrivileges === 'All' || this.exportService.exportSettings?.UserAccessPrivileges?.indexOf(name) >= 0;\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ExportService } from '../services/export.service';\r\n\r\n@Component({\r\n  selector: 'sti-digital-signature-menu',\r\n  template: `\r\n    <div *ngFor=\"let item of model.pdfSecurityCertificates\" class=\"stiJsViewerMenuStandartItem stiJsViewerMenuStandartItemSelected\" style=\"height: auto; line-height: 1.3;\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%; width: 100%;\">\r\n        <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 8px 20px 8px 8px; text-align: left; white-space: nowrap;\">\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n`\r\n})\r\n\r\nexport class DigitalSignatureMenuComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService, public exportService: ExportService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MailService } from '../services/mail.service';\r\nimport { ExportService } from '../services/export.service';\r\n\r\n@Component({\r\n  selector: 'sti-send-email-form',\r\n  template: `\r\n    <sti-base-form #baseForm [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [color]=\"model.options.toolbar.fontColor\"\r\n      [fontSize]=\"'12px'\"\r\n      [name]=\"'sendEmailForm'\"\r\n      [caption]=\"model.loc('EmailOptions')\"\r\n      [level]=\"1\"\r\n      [defaultTop]=\"150\"\r\n      (action)=\"this.mailService.sendMail()\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n        <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerCaptionControls\" [style.padding]=\"model.options.isMobileDevice ? '0 25px 0 4px' : ''\">\r\n                {{model.loc('Email')}}\r\n              </td>\r\n              <td *ngIf=\"!model.options.isMobileDevice\">\r\n                <sti-text-box [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Email\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Email = $event.value\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\" *ngIf=\"model.options.isMobileDevice\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-text-box [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Email\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Email = $event.value\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerCaptionControls\" [style.padding]=\"model.options.isMobileDevice ? '0 25px 0 4px' : ''\">\r\n                {{model.loc('Subject')}}\r\n              </td>\r\n              <td *ngIf=\"!model.options.isMobileDevice\">\r\n                <sti-text-box [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Subject\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Subject = $event.value\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\" *ngIf=\"model.options.isMobileDevice\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-text-box [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Subject\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Subject = $event.value\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerCaptionControls\" [style.padding]=\"model.options.isMobileDevice ? '0 25px 0 4px' : ''\">\r\n                {{model.loc('Message')}}\r\n              </td>\r\n              <td *ngIf=\"!model.options.isMobileDevice\">\r\n                <sti-text-area [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Message\"\r\n                  [height]=\"70\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Message = $event.value\">\r\n                </sti-text-area>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\" *ngIf=\"model.options.isMobileDevice\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-text-area [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Message\"\r\n                  [height]=\"70\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Message = $event.value\">\r\n                </sti-text-area>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerCaptionControls\" [style.padding]=\"model.options.isMobileDevice ? '0 25px 0 4px' : ''\">\r\n                {{model.loc('Attachment')}}\r\n              </td>\r\n              <td *ngIf=\"!model.options.isMobileDevice\">\r\n                <div style=\"margin: 4px\">\r\n                  {{exportService.exportSettings.Attachment}}\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\" *ngIf=\"model.options.isMobileDevice\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <div style=\"margin: 4px\">\r\n                  {{exportService.exportSettings.Attachment}}\r\n                </div>\r\n              </td>\r\n            </tr>\r\n        </tbody>\r\n      </table>\r\n    </sti-base-form>\r\n  `\r\n})\r\n\r\nexport class SendEmailFormComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService, public mailService: MailService, public exportService: ExportService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'sti-text-area',\r\n  template: `\r\n    <textarea\r\n      [style.width.px]=\"width\"\r\n      [style.minWidth.px]=\"width\"\r\n      [style.height.px]=\"height\"\r\n      [style.minHeight.px]=\"height\"\r\n      [class]=\"className\"\r\n      [value]=\"value || ''\"\r\n      [style.margin]=\"margin\"\r\n      [style.cursor]=\"readOnly ? 'default' : ''\"\r\n      [style.padding]=\"padding\"\r\n      style=\"padding-top: 3px, font-family: Arial\"\r\n      (mouseover)=\"over=true\"\r\n      (mouseleave)=\"over=false\"\r\n      (focused)=\"focused=true; selected=true\"\r\n      (blur)=\"focused=false; selected=false; onblur.emit($event.target)\"\r\n      (keypress)=\"keypress($event)\"\r\n      (keyup)=\"onchanged($event)\">\r\n    </textarea>\r\n  `\r\n})\r\n\r\nexport class TextAreaComponent implements OnInit {\r\n\r\n  @Input() width: number;\r\n  @Input() height: number;\r\n  @Input() enabled = true;\r\n  @Input() value: string;\r\n  @Input() padding: string;\r\n  @Input() margin: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n  @Output() onchange: EventEmitter<any> = new EventEmitter();\r\n  @Output() onblur: EventEmitter<any> = new EventEmitter();\r\n\r\n  selected = false;\r\n  focused = false;\r\n  over = false;\r\n\r\n  _readOnly = false;\r\n\r\n  styleName = 'stiJsViewerTextBox';\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  keypress(event: KeyboardEvent) {\r\n    if (!this.enabled) {\r\n      return false;\r\n    }\r\n    if (event.keyCode === 13) {\r\n      this.action.emit(event.target);\r\n    }\r\n  }\r\n\r\n  onchanged(event: KeyboardEvent) {\r\n    this.onchange.emit(event.target);\r\n  }\r\n\r\n  get className(): string {\r\n    if (this._readOnly) {\r\n      return this.styleName + ' ' + this.styleName + 'Default';\r\n    }\r\n    return this.styleName + ' ' + this.styleName + (this.selected ? 'Over' : (this.enabled ? (this.over ? 'Over' : 'Default') : 'Disabled'));\r\n  }\r\n\r\n  get readOnly(): boolean {\r\n    return this._readOnly;\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { DrillDownService } from '../services/drill-down.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { Message, DrillDown } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-drill-down-panel',\r\n  template: `\r\n  <div #element [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\"\r\n    [style.display]=\"model.controls.drillDownPanel.visible ? '' : 'none'\">\r\n    <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\r\n      <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 0px; box-sizing: border-box;\"\r\n        [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\"\r\n        [style.color]=\"model.options.toolbar.fontColor\"\r\n        [style.fontFamily]=\"model.options.toolbar.fontFamily\">\r\n        <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\">\r\n              <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n                <tbody>\r\n                  <tr class=\"stiJsViewerClearAllStyles\">\r\n                    <td *ngFor=\"let button of model.drillDownButtons; index as i\" class=\"stiJsViewerClearAllStyles\" style=\"padding: 0px; border: 0px; line-height: 0;\">\r\n                      <sti-button [display]=\"button.visible ? 'inline-block': 'none'\"\r\n                        [margin]=\"'2px 1px 2px 2px'\"\r\n                        [caption]=\"button.caption\"\r\n                        [height]=\"model.options.toolbar.displayMode == 'Separated' ? '28px' : null\"\r\n                        [display]=\"'inline-block'\"\r\n                        [selected]=\"button.selected\"\r\n                        [closeButton]=\"i > 0\"\r\n                        (action)=\"action(button)\"\r\n                        (closeButtonAction)=\"close(button)\">\r\n                      </sti-button>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  `\r\n})\r\n\r\nexport class DrillDownPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public drillDownService: DrillDownService, public controller: ControllerService) {\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message?.action === 'DrillDown' && this.element) {\r\n        this.element.nativeElement.scrollTop = 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.drillDownPanel.el = this.element;\r\n  }\r\n\r\n  action(button: DrillDown) {\r\n    this.drillDownService.saveState();\r\n    this.model.drillDownButtons.forEach(b => b.selected = false);\r\n    button.selected = true;\r\n    this.model.setReportParams(button.reportParams);\r\n    this.element.nativeElement.scrollTop = 0;\r\n    this.controller.getPages();\r\n  }\r\n\r\n  close(button: DrillDown) {\r\n    button.visible = false;\r\n    if (button.selected) {\r\n      this.action(this.model.drillDownButtons[0]);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, OnChanges, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\n\r\n@Component({\r\n  selector: 'sti-open-dialog',\r\n  template: `\r\n    <input #element *ngIf=\"model.openDialogFileMask != null\"  type=\"file\" name=\"files[]\" multiple=\"\" style=\"display: none;\"\r\n      [attr.accept]=\"model.openDialogFileMask\"\r\n      (change)=\"onchange($event)\">\r\n  `\r\n})\r\n\r\nexport class OpenDialogComponent implements OnInit, OnChanges {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  @Input() fileMask: string;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService) { }\r\n\r\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\r\n    if (this.fileMask != null && this.model.openDialogFileMask != null) {\r\n      setTimeout(() => {\r\n        this.element.nativeElement.focus();\r\n        this.element.nativeElement.click();\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  onchange(event: any) {\r\n    const files: any[] = event.target.files;\r\n    const fileName = files[0] ? files[0].name : 'Report';\r\n    const filePath = event.target.value;\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = (e: any) => {\r\n      this.controller.loadFile(fileName, e.target.result);\r\n    };\r\n\r\n    this.model.openDialogFileMask = null;\r\n    reader.readAsDataURL(files[0]);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { FormService } from './form.service';\r\nimport { TextBoxComponent } from '../controls/text-box.componet';\r\n\r\n@Component({\r\n  selector: 'sti-password-form',\r\n  template: `\r\n    <sti-base-form [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [color]=\"model.options.toolbar.fontColor\"\r\n      [name]=\"'passwordForm'\"\r\n      [caption]=\"model.loc('PasswordSaveReport').replace(':', '')\"\r\n      [level]=\"2\"\r\n      [defaultTop]=\"150\"\r\n      (changeVisibility)=\"changeVisibility($event)\"\r\n      (action)=\"action()\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 5px;\">\r\n        <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerCaptionControls\">\r\n              {{model.loc('PasswordEnter')}}\r\n            </td>\r\n            <td class=\"stiJsViewerCaptionControls\">\r\n              <sti-text-box #textBox [type]=\"'password'\" [width]=\"200\" [focusOnCreate]=\"true\" [value]=\"password\" (onchange)=\"password = $event.value\">\r\n              </sti-text-box>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </sti-base-form>\r\n  `\r\n})\r\n\r\nexport class PasswordFormComponent implements OnInit {\r\n\r\n  @ViewChild('textBox') textBox: TextBoxComponent;\r\n\r\n  password: string;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public formService: FormService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  changeVisibility(state: string) {\r\n    if (state === 'visible') {\r\n      this.password = '';\r\n      this.textBox.element.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  action() {\r\n    const data = this.formService.form.formData;\r\n    data.openingFilePassword = this.password;\r\n    this.formService.closeForm('passwordForm');\r\n\r\n    this.controller.postOpen(data);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { FormService } from './form.service';\r\n\r\n@Component({\r\n  selector: 'sti-error-message-form',\r\n  template: `\r\n    <sti-base-form [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [color]=\"model.options.toolbar.fontColor\"\r\n      [name]=\"'errorMessageForm'\"\r\n      [caption]=\"model.loc(model.errorMessage?.type == 'Error' ? 'Error' : 'FormViewerTitle')\"\r\n      [level]=\"4\"\r\n      [defaultTop]=\"150\"\r\n      [showCancel]=\"false\"\r\n      (action)=\"formService.closeForm('errorMessageForm')\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n        <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\">\r\n              <img [attr.src]=\"getImage()\" style=\"padding: 15px; height: 32px; width: 32px;\">\r\n            </td>\r\n            <td class=\"stiJsViewerMessagesFormDescription\" style=\"max-width: 600px;\"\r\n              [style.color]=\"model.options.toolbar.fontColor\" [innerHTML]=\"model.errorMessage?.error\">\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </sti-base-form>\r\n  `\r\n})\r\n\r\nexport class ErrorMessageFormComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService, public formService: FormService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  getImage() {\r\n    const messageType = this.model.errorMessage?.type;\r\n\r\n    if (messageType === 'Warning') {\r\n      return this.model.img('MsgFormWarning.png');\r\n    } else if (messageType === true || messageType === 'Info') {\r\n      return this.model.img('MsgFormInfo.png');\r\n    } else {\r\n      return this.model.img('MsgFormError.png');\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { Message, Resource } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { MenuItem } from '../menu/meni-item.component';\r\n\r\n@Component({\r\n  selector: 'sti-resources-panel',\r\n  template: `\r\n    <div #element style=\"z-index: 3\"\r\n      [style.display]=\"this.model.controls.resourcesPanel.visible ? '' : 'none'\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.fontColor]=\"model.options.toolbar.fontColor\"\r\n      [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\">\r\n      <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\r\n        <div class=\"stiJsViewerToolBarTable\" style=\"box-sizing: border-box; display: table;\"\r\n          [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\">\r\n          <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n            <tbody>\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td *ngFor=\"let resource of model.reportParams.resources\" class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-button [caption]=\"resource.name\"\r\n                    [caption2]=\"helper.getHumanFileSize(resource.size, 1)\"\r\n                    [imageName]=\"getResourceImage(resource.type)\"\r\n                    [styleName]=\"'stiJsViewerFormButton'\"\r\n                    [height]=\"'auto'\"\r\n                    [margin]=\"'3px 0 3px 3px'\"\r\n                    [innerTableWidth]=\"'100%'\"\r\n                    [minWidth]=\"'80px'\"\r\n                    [captionAlign]=\"'left'\"\r\n                    [captionPaddingLeft]=\"'3px'\"\r\n                    [captionMaxWidth]=\"'150px'\"\r\n                    [captionLineHeight]=\"'14px'\"\r\n                    [captionWhiteSpace]=\"'nowrap'\"\r\n                    [captionOverflow]=\"'hidden'\"\r\n                    [captionTextOverflow]=\"'ellipsis'\"\r\n                    [imageCellWidth]=\"'1px'\"\r\n                    [imageCellPadding]=\"'4px 8px 4px 4px'\"\r\n                    [menuItems]=\"getMenuItems(resource)\"\r\n                    [resourceButton]=\"true\"\r\n                    [imageSizesWidth]=\"32\"\r\n                    [imageSizesHeight]=\"32\"\r\n                    [actionName]=\"getActionName(resource)\"\r\n                    (action)=\"action(resource)\">\r\n                  </sti-button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class ResourcesPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService) {\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'GetReport' || message.action === 'OpenReport') {\r\n        this.model.controls.resourcesPanel.visible = this.model.reportParams.resources?.length > 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.resourcesPanel.el = this.element;\r\n  }\r\n\r\n  action(resource: Resource) {\r\n    const resTypesAllowedViewInBrowser = ['Image', 'Pdf', 'Txt'];\r\n    const viewType = resTypesAllowedViewInBrowser.indexOf(resource.type) >= 0 ? 'View' : 'SaveFile';\r\n    this.controller.postReportResource(resource.name, this.model.options.jsMode ? 'SaveFile' : viewType);\r\n  }\r\n\r\n  getResourceImage(resourceType: string): string {\r\n    if (this.model.img('BigResource' + resourceType + '.png') !== '') {\r\n      return 'BigResource' + resourceType + '.png';\r\n    } else {\r\n      return 'BigResource.png';\r\n    }\r\n  }\r\n\r\n  getMenuItems(resource: Resource): MenuItem[] {\r\n    const items: MenuItem[] = [];\r\n    items.push({ name: 'Resource' + 'View', caption: this.model.loc('ButtonView'), value: resource });\r\n    items.push({ name: 'Resource' + 'SaveFile', caption: this.model.loc('SaveFile'), value: resource });\r\n    return items;\r\n  }\r\n\r\n  getActionName(resource: Resource): string {\r\n    if (!resource.id) {\r\n      resource.id = Math.random().toString();\r\n    }\r\n    return 'resource' + resource.name + resource.id;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-progress',\r\n  template: `\r\n    <div style=\"position: absolute; z-index: 1000; left: calc(50% - 35px);\"\r\n        [style.top]=\"model.options.appearance.fullScreenMode ? 'calc(50% - 100px)' : '250px'\"\r\n        [style.display]=\"model.showProgress ? '' : 'none'\">\r\n      <div class=\"js_viewer_loader\"></div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class ProgressComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ComponentDescription, Message } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { PageService } from '../services/page.service';\r\n\r\n@Component({\r\n  selector: 'sti-navigate-panel',\r\n  template: `\r\n  <div #element class=\"stiJsViewerNavigatePanel\" style=\"display: block;\"\r\n    [style.display]=\"!model.options.isMobileDevice ? (this.model.controls.navigatePanel.visible ? '' : 'none') : ''\"\r\n    [style.transition]=\"model.options.isMobileDevice ? 'margin 300ms ease, opacity 300ms ease' : null\"\r\n    [style.zIndex]=\"model.options.isMobileDevice ? (model.options.toolbar.autoHide ? 5 : 2) : null\"\r\n    [style.opacity]=\"model.options.isMobileDevice ? (model.controls.navigatePanel.visible ? (model.options.toolbar.autoHide ? 0.9 : 1) : 0) : 1\"\r\n    [style.marginBottom]=\"model.options.isMobileDevice && !model.controls.navigatePanel.visible ? '-0.55in' : 0\">\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n      <tbody>\r\n        <tr class=\"stiJsViewerClearAllStyles\">\r\n          <td *ngFor=\"let comp of comps\" class=\"stiJsViewerClearAllStyles\" [style.width]=\"comp.type == 'space' ? '100%' : null\">\r\n            <sti-button *ngIf=\"comp.type=='button'\"\r\n              [caption]=\"comp.caption\"\r\n              [imageName]=\"comp.img\"\r\n              [arrow]=\"comp.arrow\"\r\n              [menuItems]=\"comp.menuItems\"\r\n              [actionName]=\"comp.action\"\r\n              [tooltip]=\"comp.tooltip\"\r\n              [styleName]=\"'stiJsViewerNavigateButton'\"\r\n              [height]=\"model.options.isMobileDevice ? '0.5in' : '35px'\"\r\n              [width]=\"model.options.isMobileDevice ? '0.4in' : '35px'\"\r\n              [boxSizing]=\"'border-box'\"\r\n              [arrowMarginTop]=\"'1px'\"\r\n              [enabled]=\"enabled(comp)\"\r\n              [imageCellTextAlign]=\"'center'\"\r\n              [innerTableWidth]=\"'100%'\"\r\n              [navagationPanelTooltip]=\"true\"\r\n              [margin]=\"comp.action == 'FirstPage' ? '0 1px 0 3px' : (comp.action == 'Zoom' ? '0 3px 0 1px' : '0px 1px 0 1px')\"\r\n              [selected]=\"selected(comp)\"\r\n              (action)=\"controller.action({ name: comp.action })\">\r\n            </sti-button>\r\n\r\n            <div *ngIf=\"comp.type=='separator'\"\r\n              [style.height]=\"model.options.isMobileDevice ? '0.5in' : '35px'\"\r\n              [style.margin]=\"'0px 1px 0 1px'\"\r\n              class=\"stiJsViewerNavigatePanelSeparator\"></div>\r\n\r\n            <sti-page-control *ngIf=\"comp.type=='pageControl'\"\r\n              [enabled]=\"!(model.reportParams.pagesCount <= 1 || disableNaviButtons())\"\r\n              [count]=\"model.reportParams.pagesCount\"\r\n              [margin]=\"'0px 1px 0 1px'\"\r\n              [textBoxBorder]=\"'0px'\"></sti-page-control>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"stiJsViewerNavigatePanelDisabledPanel\" [style.display]=\"this.model.controls.navigatePanel.enabled ? 'none' : 'block'\"></div>\r\n  </div>\r\n  `\r\n})\r\n\r\nexport class NavigatePanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  public comps: ComponentDescription[] = [];\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService,\r\n    public pageService: PageService) { }\r\n\r\n  ngOnInit() {\r\n    if (this.model.options.toolbar.displayMode === 'Separated') {\r\n      this.initButtons();\r\n    }\r\n    this.controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action !== 'viewer_loaded') {\r\n        this.updateButtons();\r\n      }\r\n    });\r\n    this.model.controls.navigatePanel.visible = this.model.options.toolbar.displayMode === 'Separated';\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.navigatePanel.el = this.element;\r\n  }\r\n\r\n  updateButtons() {\r\n    this.comps.filter(i => i.action === 'ViewMode').forEach(m => m.caption = this.model.loc(this.model.reportParams.viewMode));\r\n    this.comps.filter(i => i.action === 'Zoom').forEach((m) => {\r\n      m.menuItems.forEach(n => n.selected = n.name === ('Zoom' + this.model.reportParams.zoom));\r\n      m.caption = Math.round(this.model.reportParams.zoom) + '%';\r\n    });\r\n\r\n    this.comps.filter(i => i.action === 'ShowFind').forEach((m) => {\r\n      m.selected = this.model.controls.findPanel.visible;\r\n    });\r\n  }\r\n\r\n  initButtons() {\r\n    const comps: ComponentDescription[] = [];\r\n    if (this.model.options.toolbar.showFirstPageButton) {\r\n      comps.push({ type: 'button', action: 'FirstPage', img: 'PageFirst20.png', tooltip: true });\r\n    }\r\n    if (this.model.options.toolbar.showPreviousPageButton) {\r\n      comps.push({ type: 'button', action: 'PrevPage', img: 'PagePrevious20.png', tooltip: true });\r\n    }\r\n\r\n    if (this.model.options.toolbar.showCurrentPageControl) {\r\n      comps.push({ type: 'separator' });\r\n      comps.push({ type: 'pageControl' });\r\n      comps.push({ type: 'separator' });\r\n    }\r\n\r\n    if (this.model.options.toolbar.showNextPageButton) {\r\n      comps.push({ type: 'button', action: 'NextPage', img: 'PageNext20.png', tooltip: true });\r\n    }\r\n\r\n    if (this.model.options.toolbar.showLastPageButton) {\r\n      comps.push({ type: 'button', action: 'LastPage', img: 'PageLast20.png', tooltip: true });\r\n    }\r\n\r\n    comps.push({ type: 'space' });\r\n    comps.push({ type: 'button', action: 'ZoomPageWidth', img: 'ZoomPageWidth20.png', tooltip: true });\r\n    comps.push({ type: 'button', action: 'ZoomOnePage', img: 'ZoomOnePage20.png', tooltip: true });\r\n\r\n    if (this.model.options.toolbar.showZoomButton) {\r\n      comps.push({ type: 'separator' });\r\n      comps.push({\r\n        type: 'button', action: 'Zoom', caption: '100%', tooltip: true, arrow: 'Arrows.SmallArrowUpWhite.png',\r\n        menuItems: this.helper.getZoomMenuItems()\r\n      });\r\n    }\r\n\r\n    this.comps = comps;\r\n  }\r\n\r\n  enabled(desc: ComponentDescription): boolean {\r\n    const disableNaviButtons = this.disableNaviButtons();\r\n    switch (desc.action) {\r\n      case 'FirstPage':\r\n      case 'PrevPage':\r\n        return this.model.reportParams.pageNumber > 0 && !disableNaviButtons;\r\n      case 'NextPage':\r\n      case 'LastPage':\r\n        return this.model.reportParams.pageNumber < this.model.reportParams.pagesCount - 1 && !disableNaviButtons;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  selected(desc: ComponentDescription): boolean {\r\n    switch (desc.action) {\r\n      case 'ZoomPageWidth':\r\n        return Math.round(this.model.reportParams.zoom) === Math.round(this.pageService.getZoomByPageWidth());\r\n      case 'ZoomOnePage':\r\n        return Math.round(this.model.reportParams.zoom) === Math.round(this.pageService.getZoomByPageHeight());\r\n    }\r\n    return false;\r\n  }\r\n\r\n  disableNaviButtons(): boolean {\r\n    return this.model.reportParams.viewMode === 'MultiplePages' || this.model.reportParams.viewMode === 'WholeReport' ||\r\n      (this.model.reportParams.viewMode === 'Continuous' && !this.model.options.appearance.scrollbarsMode && !this.model.options.appearance.fullScreenMode);\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { Message } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { FormService } from '../forms/form.service';\r\n\r\n@Component({\r\n  selector: 'sti-about-panel',\r\n  template: `\r\n    <div #element class=\"stiJsViewerAboutPanel\" style=\"background-size: contain;\"\r\n      [style.display]=\"formService.form?.name == 'about' ? '' : 'none'\"\r\n      [style.left.px]=\"left\"\r\n      [style.top.px]=\"top\"\r\n      [style.opacity]=\"opacity\"\r\n      (click)=\"close()\" >\r\n      <div class=\"stiJsViewerAboutPanelHeader\">\r\n        Stimulsoft Reports\r\n      </div>\r\n      <img src=\"{{model.img('About.png')}}\" style=\"margin-top: 30px; height: 94px; width: 94px;\">\r\n      <div class=\"stiJsViewerAboutPanelCopyright\">\r\n        {{'Copyright 2003-' + year + ' Stimulsoft'}}\r\n      </div>\r\n      <div class=\"stiJsViewerAboutPanelVersion\">\r\n        {{model.options.productVersion?.trim()}}, {{model.options?.frameworkType}}, Angular\r\n      </div>\r\n      <div class=\"stiJsViewerAboutPanelVersion\">\r\n        All rights reserved\r\n      </div>\r\n      <div class=\"stiJsViewerAboutPanelVersion\" style=\"margin-top: 20px;font-weight: bold; \"\r\n        [style.color]=\"isLicensed() ? 'red' : '#444444'\"\r\n        [style.display]=\"isLicensed() || userLabel ? '' : 'none'\">\r\n        {{userLabel}}\r\n      </div>\r\n      <div class=\"stiJsViewerFormSeparator\" style=\"margin-top: 20px;\">\r\n      </div>\r\n      <div class=\"stiJsViewerAboutPanelStiLink\" (click)='click($event)'>\r\n        www.stimulsoft.com\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class AboutPanelComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  year: number = new Date().getFullYear();\r\n  jsHelper: any;\r\n  top = 0;\r\n  left = 0;\r\n  opacity = 0;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService,\r\n    public formService: FormService) {\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      if (message.action === 'About') {\r\n        this.formService.form = { name: 'about', left: 0, top: 0, isMooving: false, level: 2 };\r\n        this.opacity = 0;\r\n        setTimeout(() => {\r\n          this.top = this.model.viewerSize.height / 2 - this.element.nativeElement.offsetHeight / 2;\r\n          this.left = this.model.viewerSize.width / 2 - this.element.nativeElement.offsetWidth / 2;\r\n          this.opacity = 1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  close() {\r\n    this.formService.closeForm('about');\r\n  }\r\n\r\n  click(event: any) {\r\n    if (event) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n    }\r\n    this.helper.openNewWindow('https://www.stimulsoft.com');\r\n  }\r\n\r\n  isLicensed(): boolean {\r\n    return !this.model.options.cloudMode && !this.model.options.serverMode && !this.model.options.standaloneJsMode &&\r\n      !this.model.options.reportDesignerMode && !this.model.options.licenseIsValid;\r\n  }\r\n\r\n  get userLabel(): string {\r\n    let userName = this.model.options.licenseUserName || '';\r\n    if (this.isLicensed()) {\r\n      if (userName) {\r\n        userName += ', ';\r\n      }\r\n      return userName + this.helper.getBackText(true) + ' Version';\r\n    } else {\r\n      return userName;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ToolbarService } from '../services/toolbar.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ComponentDescription } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-toolbar-dop',\r\n  template: `\r\n    <table #mainTable\r\n      class=\"stiJsViewerClearAllStyles\"\r\n      cellpadding=\"0\"\r\n      cellspacing=\"0\"\r\n      style=\"margin: 1px;\"\r\n      [attr.align]=\"align\"\r\n      [style.marginLeft]=\"marginLeft\">\r\n      <tbody>\r\n        <tr class=\"stiJsViewerClearAllStyles\">\r\n          <td *ngFor=\"let comp of comps\" class=\"stiJsViewerClearAllStyles\">\r\n            <sti-button *ngIf=\"comp.type=='button'\"\r\n              [caption]=\"model.options.toolbar.showButtonCaptions ? comp.caption : null\"\r\n              [imageName]=\"comp.img\"\r\n              [arrow]=\"!model.options.isMobileDevice ? comp.arrow : null\"\r\n              [menuItems]=\"comp.menuItems\"\r\n              [actionName]=\"comp.action\"\r\n              [tooltip]=\"comp.tooltip\"\r\n              [enabled]=\"toolbarService.enabled(comp)\"\r\n              [display]=\"toolbarService.display(comp)\"\r\n              [innerTableWidth]=\"toolbarService.getInnerTableWidth(comp)\"\r\n              [width]=\"toolbarService.getButonWidth(comp)\"\r\n              [height]=\"model.options.toolbar.displayMode == 'Separated' ? (model.options.isMobileDevice ? '0.5in' : '28px') : null\"\r\n              (action)=\"controller.action({ name: comp.action });\"\r\n              [selected]=\"toolbarService.selected(comp)\"></sti-button>\r\n            <sti-toolbar-separator *ngIf=\"comp.type=='separator'\"></sti-toolbar-separator>\r\n            <sti-page-control *ngIf=\"comp.type=='pageControl'\" [enabled]=\"!(model.reportParams.pagesCount <= 1 || toolbarService.disableNaviButtons())\" [count]=\"model.reportParams.pagesCount\" ></sti-page-control>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  `\r\n})\r\n\r\nexport class ToolbarDopComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('mainTable') mainTable: ElementRef;\r\n\r\n  @Input() comps: ComponentDescription[];\r\n  @Input() align: string;\r\n\r\n  public marginLeft = '1px';\r\n\r\n  viewInit = false;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public toolbarService: ToolbarService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.viewInit = true;\r\n\r\n    setTimeout(() => {\r\n      const width = this.mainTable?.nativeElement?.offsetWidth;\r\n      this.marginLeft = this.viewInit && this.model.options.toolbar.alignment === 'Center' && width ? `calc(50% - ${Math.trunc(width / 2)}px)` : '1px';\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { Message } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-center-text',\r\n  template: `\r\n    <div #element\r\n      style=\"position: absolute; z-index: 1000; transition-property: opacity; transition-duration: 300ms; text-shadow: rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px; font-size: 100px;\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.color]=\"model.options.toolbar.fontColor\"\r\n      [style.opacity]=\"opacity\"\r\n      [style.display]=\"display\">\r\n      <div>\r\n        {{text}}\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class CenterTextComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  public text = '';\r\n  public opacity = 0;\r\n  public display = 'none';\r\n\r\n  private hideTimer: any;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService) {\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'centerText':\r\n          this.show(message.data);\r\n          break;\r\n\r\n        case 'hideCenterText':\r\n          this.hide();\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  public show(text: string) {\r\n    this.display = '';\r\n    this.opacity = 0;\r\n    this.text = text;\r\n    setTimeout(() => {\r\n      this.helper.setObjectToCenter(this.element.nativeElement);\r\n      this.opacity = 1;\r\n    });\r\n\r\n    if (this.hideTimer) { clearTimeout(this.hideTimer); }\r\n    this.hideTimer = setTimeout(() => {\r\n      this.hide();\r\n    }, 2000);\r\n  }\r\n\r\n  public hide() {\r\n    this.opacity = 0;\r\n    if (this.hideTimer) { clearTimeout(this.hideTimer); }\r\n    this.hideTimer = setTimeout(() => {\r\n      this.display = 'none';\r\n    }, 300);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { FormService } from './form.service';\r\n\r\n@Component({\r\n  selector: 'sti-notification-form',\r\n  template: `\r\n  <sti-base-form [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [color]=\"model.options.toolbar.fontColor\"\r\n      [name]=\"'notificationForm'\"\r\n      [defaultTop]=\"150\"\r\n      [caption]=\"model.loc('Viewer')\"\r\n      [level]=\"4\"\r\n      [showButtons]=\"false\"\r\n      [showSeparator]=\"false\"\r\n      (changeVisibility)=\"changeVisibility($event)\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n        <tbody>\r\n          <tr *ngIf=\"model.notificationFormOptions?.image\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"text-align: center;\">\r\n              <img src=\"{{model.img(model.notificationFormOptions?.image)}}\" style=\"margin-top: 20px; width: 112px; height: 112px;\">\r\n            </td>\r\n          </tr>\r\n          <tr *ngIf=\"model.notificationFormOptions?.message\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\">\r\n              <div class=\"stiJsViewerNotificationFormMessage\">\r\n                {{model.notificationFormOptions?.message}}\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr *ngIf=\"model.notificationFormOptions?.description\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\">\r\n              <div class=\"stiJsViewerNotificationFormDescription\">\r\n                {{model.notificationFormOptions?.description}}\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"text-align: center;\">\r\n              <sti-button\r\n                [caption]=\"model.notificationFormOptions?.buttonCaption\"\r\n                [styleName]=\"'stiJsViewerLoginButton'\"\r\n                [innerTableWidth]=\"'100%'\"\r\n                [height]=\"'40px'\"\r\n                [minWidth]=\"'80px'\"\r\n                [captionAlign]=\"'center'\"\r\n                [cursor]=\"'pointer'\"\r\n                [display]=\"'inline-block'\"\r\n                [minWidth]=\"'200px'\"\r\n                [width]=\"'auto'\"\r\n                [margin]=\"'20px 30px 30px 30px'\"\r\n                [fontSize]=\"'14px'\"\r\n                (action)=\"action()\">\r\n              </sti-button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </sti-base-form>\r\n    `\r\n})\r\n\r\nexport class NotificationFormComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService, public formService: FormService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  changeVisibility(state: string) {\r\n    if (state === 'hidden' && this.model.notificationFormOptions?.cancelAction) {\r\n      this.model.notificationFormOptions.cancelAction();\r\n    }\r\n  }\r\n\r\n  action() {\r\n    this.model.notificationFormOptions?.action ? this.model.notificationFormOptions.action() : this.formService.closeForm('notificationForm');\r\n  }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { DashboardService } from '../services/dashboard.service';\r\n\r\n@Component({\r\n  selector: 'sti-dashboards-panel',\r\n  template: `\r\n    <div #element\r\n      [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.fontColor]=\"helper.val(model.options.toolbar.fontColor)\"\r\n      [style.display]=\"model.controls.dashboardsPanel.visible ? '' : 'none'\"\r\n      [style.background]=\"dbsMode ? 'transparent' : ''\"\r\n      [style.borderColor]=\"dbsMode ? 'transparent' : ''\">\r\n      <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\r\n        <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 0px; box-sizing: border-box;\"\r\n          [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\"\r\n          [style.background]=\"dbsMode ? 'transparent' : ''\"\r\n          [style.borderColor]=\"dbsMode ? 'transparent' : ''\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"width: 100%;\">\r\n                <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n                  [style.align]=\"model.options.appearance.rightToLeft ? 'right' : (model.options.toolbar.alignment == 'default' ? 'left' : model.options.toolbar.alignment)\">\r\n                  <tbody>\r\n                      <tr>\r\n                         <td *ngFor=\"let info of model.reportParams.dashboards; let i=index\">\r\n                            <sti-dashboard-button\r\n                              [info]=\"info\"\r\n                              [dbsMode]=\"dbsMode\"\r\n                              [display]=\"dashboardsCount == 1 && reportsCount == 0 ? 'none': null\">\r\n                            </sti-dashboard-button>\r\n                        </td>\r\n                      </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n\r\n              <!-- actions table -->\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin-right:2px\">\r\n                  <tbody>\r\n                      <tr>\r\n                        <td *ngIf=\"model.options.toolbar.showRefreshButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Refresh.png'\"\r\n                            [tooltip]=\"model.loc('Refresh')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'Refresh'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardRefreshButton ? '' : 'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showParametersButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Parameters.png'\"\r\n                            [tooltip]=\"model.loc('Parameters')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'Parameters'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showOpenButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Open.png'\"\r\n                            [tooltip]=\"model.loc('Open')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'OpenDashboard'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardOpenButton ? '' : 'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showDesignButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Edit.png'\"\r\n                            [tooltip]=\"model.loc('Edit')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'postDesign'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardEditButton ? '' : 'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showFullScreenButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'CloseFullScreen.png'\"\r\n                            [caption]=\"model.loc('Close')\"\r\n                            [tooltip]=\"model.loc('FullScreen')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'postFullScreen'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardFullScreenButton ? '' : 'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showSaveButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Menu.png'\"\r\n                            [tooltip]=\"model.loc('Save')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'ExportDashboard'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardMenuButton && ((previewSettings.dashboardShowReportSnapshots && !model.options.jsMode) || previewSettings.dashboardShowExports) ? '' :'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n                      </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class DashboardsPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  public imagesPath = 'Dashboards.Actions.Light.';\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public dashboardService: DashboardService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.navigatePanel.el = this.element;\r\n  }\r\n\r\n\r\n  get dbsMode(): boolean {\r\n    return this.dashboardsCount > 0 && this.reportsCount === 0;\r\n  }\r\n\r\n  get dashboardsCount(): number {\r\n    let count = 0;\r\n    if (this.model?.reportParams?.dashboards) {\r\n      (this.model.reportParams.dashboards as []).forEach(i => {\r\n        if (i['type'] === 'Dashboard') {\r\n          count++;\r\n        }\r\n      });\r\n    }\r\n    return count;\r\n  }\r\n\r\n  get reportsCount(): number {\r\n    if (this.model?.reportParams?.dashboards) {\r\n      return (this.model.reportParams.dashboards as []).length - this.dashboardsCount;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  get previewSettings(): any {\r\n    return this.model.reportParams.previewSettings || {};\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-dashboard-button',\r\n  template: `\r\n    <sti-button\r\n      [margin]=\"'2px 1px 2px 2px'\"\r\n      [display]=\"display\"\r\n      [borderColor]=\"!dbsMode ? 'transparent' : ''\"\r\n      [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\">\r\n    </sti-button>\r\n  `\r\n})\r\n\r\nexport class DashboardButtonComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  @Input() showCloseButton = false;\r\n  @Input() info: any;\r\n  @Input() dbsMode: boolean;\r\n  @Input() display: string;\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { StimulsoftViewerComponent } from './stimulsoft-viewer-angular.component';\r\nimport { StiHttpClientService } from './services/http-client.service';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonComponent } from './controls/button.component';\r\nimport { PageComponent } from './components/page.component';\r\nimport { ReportPanelComponent } from './components/report-panel.component';\r\nimport { ModelService } from './services/model.service';\r\nimport { ControllerService } from './services/controller.service';\r\nimport { StylesService } from './services/styles.service';\r\nimport { ToolbarComponent } from './components/toolbar.component';\r\nimport { ToolbarSeparatorComponent } from './controls/toolbar-separator.component';\r\nimport { HelperService } from './services/helper.service';\r\nimport { PageControlComponent } from './controls/page-control.component';\r\nimport { TextBoxComponent } from './controls/text-box.componet';\r\nimport { MenuComponent } from './menu/menu.component';\r\nimport { MenuItemComponent } from './menu/meni-item.component';\r\nimport { MenuService } from './menu/menu.service';\r\nimport { MouseService } from './services/mouse.service';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { PageService } from './services/page.service';\r\nimport { TooltipComponent } from './controls/tooltip.component';\r\nimport { TooltipService } from './services/tooltip.service';\r\nimport { FindPanelComponent } from './components/find-panel.component';\r\nimport { TextBlockComponent } from './controls/text-block.component';\r\nimport { FindService } from './services/find.service';\r\nimport { AnimationService } from './services/animation.service';\r\nimport { BookmarksPanelComponent } from './components/bookmarks-panel.component';\r\nimport { Md5Service } from './services/md5.service';\r\nimport { InteractionsService } from './services/interactions.service';\r\nimport { InteractionsPanelComponent } from './components/interactions-panel.component';\r\nimport { FormButtonComponent } from './controls/form-button.component';\r\nimport { ParameterComponent } from './controls/parameters/parameter.component';\r\nimport { ParameterTextBoxComponent } from './controls/parameters/parameter-text-box.component';\r\nimport { CheckboxComponent } from './controls/checkbox.component';\r\nimport { ParameterCheckboxComponent } from './controls/parameters/parameter-checkbox.component';\r\nimport { ParameterButtonComponent } from './controls/parameters/parameter-button.component';\r\nimport { ParameterMenuEditListComponent } from './menu/parameter-menu-edit-list.component';\r\nimport { ParameterMenuItemComponent } from './menu/parameter-menu-item.component';\r\nimport { ParameterMenuSeparatorComponent } from './menu/parameter-menu-separator.component';\r\nimport { ParameterFindComponent } from './controls/parameters/parameter-find.component';\r\nimport { ParameterMenuNotEditListComponent } from './menu/parameter-menu-not-edit-list.component';\r\nimport { ParameterMenuForValueComponent } from './menu/parameter-menu-for-value.component';\r\nimport { ParameterMenuForRangeComponent } from './menu/parameter-menu-for-range.component';\r\nimport { DatePickerMenuComponent } from './menu/date-picker-menu.component';\r\nimport { DropDownListComponent } from './controls/drop-down-list.component';\r\nimport { VerticalMenuComponent } from './menu/vertical-menu.component';\r\nimport { VerticalMenuItemComponent } from './menu/vertical-menu-item.component';\r\nimport { DatePickerDayButtonComponent } from './controls/date-picker-day-button.component';\r\nimport { DoubleDatePickerMenuComponent } from './menu/double-date-picker-menu.component';\r\nimport { BaseFormComponent } from './forms/base-form.component';\r\nimport { FormService } from './forms/form.service';\r\nimport { ExportFormComponent } from './forms/export-form.component';\r\nimport { GroupPanelComponent } from './forms/group-panel.component';\r\nimport { RadioButtonComponent } from './controls/radio-button.components';\r\nimport { RadioButtonService } from './services/radio-button.service';\r\nimport { ExportService } from './services/export.service';\r\nimport { DropDownListForExportFormComponent } from './controls/drop-down-list-for-export-form.component';\r\nimport { CollectionsService } from './services/collections.service';\r\nimport { DocumentSecurityMenuComponent } from './menu/document-security-menu.component';\r\nimport { DigitalSignatureMenuComponent } from './menu/digital-signature-menu.component copy';\r\nimport { SendEmailFormComponent } from './forms/send-email-form.component';\r\nimport { MailService } from './services/mail.service';\r\nimport { TextAreaComponent } from './controls/text-area.component';\r\nimport { EditableFieldsService } from './services/editable-fields.service';\r\nimport { DrillDownPanelComponent } from './components/drill-down-panel.component';\r\nimport { DrillDownService } from './services/drill-down.service';\r\nimport { PrintService } from './services/print.service';\r\nimport { OpenDialogComponent } from './components/open-dialog.component';\r\nimport { PasswordFormComponent } from './forms/password-form.component';\r\nimport { ErrorMessageFormComponent } from './forms/error-message-form.component';\r\nimport { ResourcesPanelComponent } from './components/resources-panel.component';\r\nimport { FullScreenService } from './services/full-screen.service';\r\nimport { ProgressComponent } from './components/progress.component';\r\nimport { NavigatePanelComponent } from './components/navigate-panel.component';\r\nimport { AboutPanelComponent } from './components/about-panel.component';\r\nimport { ToolbarDopComponent } from './components/toolbar-dop.component';\r\nimport { ToolbarService } from './services/toolbar.service';\r\nimport { CenterTextComponent } from './components/center-text.component';\r\nimport { NotificationFormComponent } from './forms/notification-form.component';\r\nimport { ApiService } from './services/api.service';\r\nimport { DashboardsPanelComponent } from './components/dashboards-panel.component';\r\nimport { DashboardService } from './services/dashboard.service';\r\nimport { DashboardButtonComponent } from './controls/dashboard-panel-button.component';\r\n\r\n@NgModule({\r\n  declarations: [StimulsoftViewerComponent, ToolbarComponent, ButtonComponent, PageComponent, ReportPanelComponent, ToolbarSeparatorComponent, PageControlComponent, TextBoxComponent,\r\n    MenuComponent, MenuItemComponent, TooltipComponent, FindPanelComponent, TextBlockComponent, BookmarksPanelComponent, InteractionsPanelComponent, FormButtonComponent,\r\n    ParameterComponent, ParameterTextBoxComponent, CheckboxComponent, ParameterCheckboxComponent, ParameterButtonComponent, ParameterMenuEditListComponent,\r\n    ParameterMenuItemComponent, ParameterMenuSeparatorComponent, ParameterFindComponent, ParameterMenuNotEditListComponent, ParameterMenuForValueComponent,\r\n    ParameterMenuForRangeComponent, DatePickerMenuComponent, DropDownListComponent, VerticalMenuComponent, VerticalMenuItemComponent, DatePickerDayButtonComponent,\r\n    DoubleDatePickerMenuComponent, BaseFormComponent, ExportFormComponent, GroupPanelComponent, RadioButtonComponent, DropDownListForExportFormComponent,\r\n    DocumentSecurityMenuComponent, DigitalSignatureMenuComponent, SendEmailFormComponent, TextAreaComponent, DrillDownPanelComponent, OpenDialogComponent,\r\n    PasswordFormComponent, ErrorMessageFormComponent, ResourcesPanelComponent, ProgressComponent, NavigatePanelComponent, AboutPanelComponent, ToolbarDopComponent,\r\n    CenterTextComponent, NotificationFormComponent, DashboardsPanelComponent, DashboardButtonComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  providers: [],\r\n  exports: [StimulsoftViewerComponent]\r\n})\r\nexport class StimulsoftViewerModule { }\r\n"]}