{"version":3,"file":"stimulsoft-viewer-angular.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://stimulsoft-viewer-angular/lib/services/objects.ts","ng://stimulsoft-viewer-angular/lib/services/model.service.ts","ng://stimulsoft-viewer-angular/lib/services/animation.service.ts","ng://stimulsoft-viewer-angular/lib/services/helper.service.ts","ng://stimulsoft-viewer-angular/lib/services/http-client.service.ts","ng://stimulsoft-viewer-angular/lib/services/styles.service.ts","ng://stimulsoft-viewer-angular/lib/services/page.service.ts","ng://stimulsoft-viewer-angular/lib/services/mouse.service.ts","ng://stimulsoft-viewer-angular/lib/menu/menu.service.ts","ng://stimulsoft-viewer-angular/lib/forms/form.service.ts","ng://stimulsoft-viewer-angular/lib/services/full-screen.service.ts","ng://stimulsoft-viewer-angular/lib/services/controller.service.ts","ng://stimulsoft-viewer-angular/lib/services/collections.service.ts","ng://stimulsoft-viewer-angular/lib/services/export.service.ts","ng://stimulsoft-viewer-angular/lib/services/mail.service.ts","ng://stimulsoft-viewer-angular/lib/services/api.service.ts","ng://stimulsoft-viewer-angular/lib/services/print.service.ts","ng://stimulsoft-viewer-angular/lib/services/dashboard.service.ts","ng://stimulsoft-viewer-angular/lib/services/tooltip.service.ts","ng://stimulsoft-viewer-angular/lib/services/find.service.ts","ng://stimulsoft-viewer-angular/lib/services/md5.service.ts","ng://stimulsoft-viewer-angular/lib/services/drill-down.service.ts","ng://stimulsoft-viewer-angular/lib/services/interactions.service.ts","ng://stimulsoft-viewer-angular/lib/services/radio-button.service.ts","ng://stimulsoft-viewer-angular/lib/services/editable-fields.service.ts","ng://stimulsoft-viewer-angular/lib/services/toolbar.service.ts","ng://stimulsoft-viewer-angular/lib/stimulsoft-viewer-angular.component.ts","ng://stimulsoft-viewer-angular/lib/controls/button.component.ts","ng://stimulsoft-viewer-angular/lib/components/page.component.ts","ng://stimulsoft-viewer-angular/lib/components/report-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/toolbar.component.ts","ng://stimulsoft-viewer-angular/lib/controls/toolbar-separator.component.ts","ng://stimulsoft-viewer-angular/lib/controls/page-control.component.ts","ng://stimulsoft-viewer-angular/lib/controls/text-box.componet.ts","ng://stimulsoft-viewer-angular/lib/menu/menu.component.ts","ng://stimulsoft-viewer-angular/lib/menu/meni-item.component.ts","ng://stimulsoft-viewer-angular/lib/controls/tooltip.component.ts","ng://stimulsoft-viewer-angular/lib/components/find-panel.component.ts","ng://stimulsoft-viewer-angular/lib/controls/text-block.component.ts","ng://stimulsoft-viewer-angular/lib/components/bookmarks-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/interactions-panel.component.ts","ng://stimulsoft-viewer-angular/lib/controls/form-button.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter-text-box.component.ts","ng://stimulsoft-viewer-angular/lib/controls/checkbox.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter-checkbox.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter-button.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-edit-list.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-item.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-separator.component.ts","ng://stimulsoft-viewer-angular/lib/controls/parameters/parameter-find.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-not-edit-list.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-for-value.component.ts","ng://stimulsoft-viewer-angular/lib/menu/parameter-menu-for-range.component.ts","ng://stimulsoft-viewer-angular/lib/menu/date-picker-menu.component.ts","ng://stimulsoft-viewer-angular/lib/controls/drop-down-list.component.ts","ng://stimulsoft-viewer-angular/lib/menu/vertical-menu.component.ts","ng://stimulsoft-viewer-angular/lib/menu/vertical-menu-item.component.ts","ng://stimulsoft-viewer-angular/lib/controls/date-picker-day-button.component.ts","ng://stimulsoft-viewer-angular/lib/menu/double-date-picker-menu.component.ts","ng://stimulsoft-viewer-angular/lib/forms/base-form.component.ts","ng://stimulsoft-viewer-angular/lib/forms/export-form.component.ts","ng://stimulsoft-viewer-angular/lib/forms/group-panel.component.ts","ng://stimulsoft-viewer-angular/lib/controls/radio-button.components.ts","ng://stimulsoft-viewer-angular/lib/controls/drop-down-list-for-export-form.component.ts","ng://stimulsoft-viewer-angular/lib/menu/document-security-menu.component.ts","ng://stimulsoft-viewer-angular/lib/menu/digital-signature-menu.component copy.ts","ng://stimulsoft-viewer-angular/lib/forms/send-email-form.component.ts","ng://stimulsoft-viewer-angular/lib/controls/text-area.component.ts","ng://stimulsoft-viewer-angular/lib/components/drill-down-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/open-dialog.component.ts","ng://stimulsoft-viewer-angular/lib/forms/password-form.component.ts","ng://stimulsoft-viewer-angular/lib/forms/error-message-form.component.ts","ng://stimulsoft-viewer-angular/lib/components/resources-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/progress.component.ts","ng://stimulsoft-viewer-angular/lib/components/navigate-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/about-panel.component.ts","ng://stimulsoft-viewer-angular/lib/components/toolbar-dop.component.ts","ng://stimulsoft-viewer-angular/lib/components/center-text.component.ts","ng://stimulsoft-viewer-angular/lib/forms/notification-form.component.ts","ng://stimulsoft-viewer-angular/lib/components/dashboards-panel.component.ts","ng://stimulsoft-viewer-angular/lib/controls/dashboard-panel-button.component.ts","ng://stimulsoft-viewer-angular/lib/stimulsoft-viewer-angular.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { MenuItem } from '../menu/meni-item.component';\r\nimport { ElementRef, Injectable, Optional } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { PageService } from './page.service';\r\n\r\nexport class ComponentDescription {\r\n  constructor(public type: string, public caption?: string, public img?: string, public action?: string,\r\n    public tooltip?: boolean, public arrow?: string, public menuItems?: MenuItem[], public margin?: string, public selected?: boolean) {\r\n    this.selected = false;\r\n  }\r\n}\r\n\r\n\r\nexport class ViewerEvent {\r\n  constructor(public name: string, public value?: any, public bookmarkPage?: number, public bookmarkAnchor?: string, public componentGuid?: string) { }\r\n}\r\n\r\nexport class ControlClass {\r\n  public toolbar: ControlProps = new ControlProps();\r\n  public reportPanel: ControlProps = new ControlProps();\r\n  public drillDownPanel: ControlProps = new ControlProps();\r\n  public findPanel: ControlProps = new ControlProps();\r\n  public resourcesPanel: ControlProps = new ControlProps();\r\n  public bookmarksPanel: ControlProps = new ControlProps();\r\n  public navigatePanel: ControlProps = new ControlProps();\r\n  public parametersPanel: ControlProps = new ControlProps();\r\n  public dashboardsPanel: ControlProps = new ControlProps();\r\n  public viewer: ControlProps = new ControlProps();\r\n  public tooltip: ControlProps = new ControlProps();\r\n  public aboutPanel: ControlProps = new ControlProps();\r\n\r\n  public bookmarksLabel: any;\r\n\r\n  constructor() { }\r\n\r\n  public get head(): HTMLHeadElement {\r\n    return document.getElementsByTagName('head')[0];\r\n  }\r\n}\r\n\r\nexport class ControlProps {\r\n  private _visible = false;\r\n  private subject = new Subject<any>();\r\n\r\n  public enabled = true;\r\n\r\n  public layout: Rectangle = new Rectangle();\r\n  constructor(public pageService?: PageService, public el?: ElementRef) { }\r\n\r\n  public get offsetHeight(): number {\r\n    return this.el?.nativeElement.offsetHeight || 0;\r\n  }\r\n\r\n  public get offsetWidth(): number {\r\n    return this.el?.nativeElement.offsetWidth || 0;\r\n  }\r\n\r\n  public set visible(value: boolean) {\r\n    this._visible = value;\r\n    this.subject.next(value);\r\n    this.pageService?.calculateLayout();\r\n  }\r\n\r\n  public get visible(): boolean {\r\n    return this._visible;\r\n  }\r\n\r\n  public getVisibility(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public get exists(): boolean {\r\n    return this.el != null;\r\n  }\r\n}\r\n\r\nexport class Rectangle {\r\n\r\n  private _top: number = 0;\r\n\r\n  public set top(value: number) {\r\n    this._top = value;\r\n  }\r\n\r\n  public get top(): number {\r\n    return this._top;\r\n  }\r\n\r\n  constructor(public width: number = 0, public height: number = 0, public left: number = 0,\r\n    public bottom: number = 0, public right: number = 0) { }\r\n}\r\n\r\nexport class BookmarkNode {\r\n\r\n  constructor(public name?: string, public url?: string, public page?: number, public compunentGuid?: string, public nodes?: BookmarkNode[],\r\n    public open?: boolean, public selected?: boolean) { }\r\n\r\n}\r\n\r\nexport class InteractionParams {\r\n\r\n  constructor(public action?: string, public drillDownParameters?: any, public drillDownGuid?: string, public dashboardDrillDownGuid?: string,\r\n    public variables?: any, public sortingParameters?: any, public collapsingParameters?: any) { }\r\n}\r\n\r\nexport class InteractionObject {\r\n  constructor(public paramsVariables: any[], public countColumns: any[], public countInColumn: any[]) { }\r\n}\r\n\r\nexport class Variable {\r\n  constructor(public name?: string, public alias?: string, public description?: string, public basicType?: string, public type?: string,\r\n    public allowUserValues?: boolean, public dateTimeType?: string, public items?: Variable[], public key?: any, public value?: any,\r\n    public keyTo?: any, public isChecked: boolean = true, public focusOnCreate?: boolean, public visible: boolean = true, public binding?: boolean,\r\n    public isNull?: boolean) { }\r\n}\r\n\r\nexport class DateTimeObject {\r\n  constructor(public year?: number, public month?: number, public day?: number, public hours?: number, public minutes?: number, public seconds?: number) { }\r\n}\r\n\r\nexport class Item {\r\n  constructor(public name?: string, public caption?: string, public imageName?: string, public key?: any, public haveSubMenu?: boolean, public imageSizes?: any,\r\n    public selected?: boolean, public type?: string) { }\r\n}\r\n\r\nexport class Message {\r\n  constructor(public action: string, public data?: any, public subAction?: string) { }\r\n}\r\n\r\nexport class Form {\r\n  constructor(public name: string, public left: number, public top: number, public isMooving = false, public level?: number,\r\n    public formData?: any) { }\r\n}\r\n\r\nexport class ExportFormSettings {\r\n  constructor(public components: ExportComponent[], public cSettings?: any, public openAfterExport?: boolean, public groups?: any,\r\n    public update?: boolean) { }\r\n}\r\n\r\nexport class ExportGroup {\r\n  constructor(public opened: boolean) { }\r\n}\r\n\r\nexport class ExportComponent {\r\n  constructor(public name: string, public type: string, public margin: string, public label?: string, public tooltip?: string,\r\n    public caption?: string, public checked?: boolean, public width?: number, public disabled?: boolean, public items?: Item[],\r\n    public key?: any) { }\r\n}\r\n\r\n\r\nexport class DrillDown {\r\n  constructor(public caption: string, public selected: boolean = false, public reportParams: any,\r\n    public visible: boolean) { }\r\n}\r\n\r\nexport class ErrorMessage {\r\n  constructor(public error: string, public type: any) { }\r\n}\r\n\r\nexport class Resource {\r\n  constructor(public name: string, public type: string, public alias: string, public id?: string) { }\r\n}\r\n\r\nexport class NotificationFormOptions {\r\n  constructor(public image?: string, public message?: string, public description?: string, public buttonCaption?: string,\r\n    public cancelAction?: any, public action?: any) { }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ControlClass, DrillDown, ErrorMessage, InteractionObject, BookmarkNode, Form, NotificationFormOptions } from './objects';\r\n\r\n@Injectable()\r\nexport class ModelService {\r\n  private _options: any;\r\n  private _reportParams: any = {};\r\n  private _imagesForBookmark: any;\r\n\r\n  public requestUrl: string;\r\n  public action: string;\r\n  public properties: any;\r\n\r\n  public localization: any;\r\n  public controls: ControlClass = new ControlClass();\r\n  public pages: any[] = [];\r\n  public months: string[] = [];\r\n  public dayOfWeek: string[] = [];\r\n  public dateRanges: string[] = [];\r\n  public encodingData: any[] = [];\r\n  public pdfSecurityCertificates: any[] = [];\r\n  public paperSizes: string[] = [];\r\n  public viewerSize: any;\r\n  public drillDownButtons: DrillDown[] = [];\r\n  public openDialogFileMask: string;\r\n  public images: any;\r\n  public errorMessage: ErrorMessage;\r\n  public httpError: any;\r\n  public interactions: InteractionObject;\r\n  public nodes: BookmarkNode[];\r\n  public navigateNode: BookmarkNode;\r\n  public fullScreenOptions: any;\r\n  public showProgress = false;\r\n  public timerAutoUpdateCache: any;\r\n  public refreshReportTimer: any;\r\n  public toolbarHideTimer: any;\r\n  public form: Form;\r\n  public notificationFormOptions: NotificationFormOptions;\r\n\r\n  constructor() { }\r\n\r\n  public get reportParams() {\r\n    return this._reportParams;\r\n  }\r\n\r\n  public set reportParams(parameters: any) {\r\n    this._reportParams.pagesArray = parameters.pagesArray;\r\n\r\n    // Apply new report parameters, if not update current page\r\n    if (parameters.action && parameters.action !== 'GetPages') {\r\n      this.reportParams.type = parameters.reportType;\r\n      this.reportParams.drillDownGuid = parameters.drillDownGuid;\r\n      this.reportParams.dashboardDrillDownGuid = parameters.dashboardDrillDownGuid;\r\n      this.reportParams.pagesCount = parameters.pagesCount;\r\n      if (parameters.pageNumber != null) { this.reportParams.pageNumber = parameters.pageNumber; }\r\n      this.reportParams.zoom = parameters.zoom;\r\n      this.reportParams.viewMode = parameters.viewMode;\r\n      this.reportParams.reportFileName = parameters.reportFileName;\r\n      this.reportParams.collapsingStates = parameters.collapsingStates;\r\n      if (parameters.bookmarksContent) { this.reportParams.bookmarksContent = parameters.bookmarksContent; }\r\n      if (parameters.resources) { this.reportParams.resources = parameters.resources; }\r\n      this.reportParams.isCompilationMode = parameters.isCompilationMode;\r\n      if (parameters.variablesValues) { this.reportParams.variablesValues = parameters.variablesValues; }\r\n      if (parameters.parametersDateFormat) { this.options.appearance.parametersPanelDateFormat = parameters.parametersDateFormat; }\r\n      if (parameters.tableOfContentsPointers) this.reportParams.tableOfContentsPointers = parameters.tableOfContentsPointers;\r\n      this.reportParams.isEditableReport = parameters.isEditableReport;\r\n      if (parameters.userValues) { this.options.userValues = parameters.userValues; }\r\n      this.reportParams.dashboards = parameters.dashboards;\r\n      this.reportParams.previewSettings = parameters.previewSettings;\r\n    }\r\n  }\r\n\r\n  public setReportParams(parameters: any) {\r\n    this._reportParams = parameters;\r\n  }\r\n\r\n  public getReportParams() {\r\n    return this.copyObject(this._reportParams);\r\n  }\r\n\r\n  public copyObject(o: any): any {\r\n    if (!o || 'object' !== typeof o) {\r\n      return o;\r\n    }\r\n    const c = 'function' === typeof o.pop ? [] : {};\r\n    let p;\r\n    let v;\r\n    for (p in o) {\r\n      if (o.hasOwnProperty(p) && p !== 'pagesArray') {\r\n        v = o[p];\r\n        if (v && 'object' === typeof v) {\r\n          c[p] = this.copyObject(v);\r\n        } else {\r\n          c[p] = v;\r\n        }\r\n      }\r\n    }\r\n    return c;\r\n  }\r\n\r\n  public set options(data: any) {\r\n    this._options = this.toLower(data.options);\r\n    if (data.jsOptions) {\r\n      for (const key in data.jsOptions) {\r\n        if (data.jsOptions.hasOwnProperty(key)) {\r\n          this._options[key] = data.jsOptions[key];\r\n        }\r\n      }\r\n    }\r\n\r\n    this._options.exports.defaultSettings = data.defaultSettings;\r\n    this.localization = data.loc;\r\n    this.months = data.months;\r\n    this.dayOfWeek = data.dayOfWeek;\r\n    this.images = data.images;\r\n    this.dateRanges = data.dateRanges;\r\n    this.paperSizes = data.paperSizes;\r\n    this.encodingData = data.encodingData;\r\n    this.pdfSecurityCertificates = data.pdfSecurityCertificates;\r\n    this.clearViewerState();\r\n    this.setupOptions();\r\n  }\r\n\r\n  public get options() {\r\n    return this._options;\r\n  }\r\n\r\n  public loc(attr: string): string {\r\n    return this.localization[attr] ?? attr;\r\n  }\r\n\r\n  public img(name: string): string {\r\n    if (name != null && name.length > 0 && !this.images[name]) {\r\n      //console.warn(`Image: ${name} not found`);\r\n    }\r\n    return this.images[name] ?? '';\r\n  }\r\n\r\n  private toLower(obj: any): any {\r\n    const result = {};\r\n    Object.keys(obj).forEach(key => {\r\n      result[key.substr(0, 1).toLowerCase() + key.substr(1)] = (typeof (obj[key]) === 'object' && obj[key] !== null) ? this.toLower(obj[key]) : obj[key];\r\n    });\r\n    return result;\r\n  }\r\n\r\n  public clear() {\r\n    this._options = undefined;\r\n    this._reportParams = {};\r\n    this._imagesForBookmark = undefined;\r\n    this.pages = [];\r\n    this.form = null;\r\n  }\r\n\r\n  public clearViewerState() {\r\n    this.reportParams = {};\r\n    this.reportParams.type = 'Auto';\r\n    this.reportParams.pageNumber = 0;\r\n    this.reportParams.originalPageNumber = 0;\r\n    this.reportParams.drillDownGuid = null;\r\n    this.reportParams.dashboardDrillDownGuid = null;\r\n    this.reportParams.collapsingStates = null;\r\n    this.reportParams.bookmarksContent = null;\r\n    this.reportParams.editableParameters = null;\r\n    this.reportParams.resources = null;\r\n    this.reportParams.drillDownParameters = [];\r\n    this.reportParams.elementName = null;\r\n    this.reportParams.variablesValues = null;\r\n    this.reportParams.tableOfContentsPointers = [];\r\n    this.reportParams.isEditableReport = false;\r\n\r\n    this.options.viewerId = this.newToken();\r\n    this.options.clientGuid = this.newToken();\r\n    this.options.paramsVariables = null;\r\n    this.options.multiFilterStates = null;\r\n    this.options.isParametersReceived = false;\r\n    this.options.drillDownInProgress = false;\r\n    // this.controls.mainPanel.style.background = '';\r\n    // this.tableElementGridStates = {};\r\n\r\n    // Restore current page number, if reload current report\r\n    if (this.reportParams.prevPageNumber) {\r\n      this.reportParams.pageNumber = this.reportParams.prevPageNumber;\r\n      delete this.reportParams.prevPageNumber;\r\n    }\r\n\r\n    this.fullScreenOptions = null;\r\n    this.drillDownButtons = [];\r\n    this.controls.parametersPanel.visible = false;\r\n    this.controls.bookmarksPanel.visible = false;\r\n    this.interactions = null;\r\n    /*\r\n    this.controls.drillDownPanel.visible = false;\r\n    this.controls.findPanel.visible = false;\r\n    this.controls.parametersPanel.visible = false;\r\n    this.controls.resourcesPanel.visible = false;*/\r\n  }\r\n\r\n  public style(value: string): string {\r\n    return value !== '' && value != null ? value : '';\r\n  }\r\n\r\n  public createPostParameters(data?: any, asObject: boolean = true, useOptions: boolean = true): any {\r\n    let params: any;\r\n\r\n    // Object params\r\n    const postParams = {\r\n      stiweb_component: 'Viewer',\r\n      stiweb_imagesScalingFactor: this.getImagesScalingFactor()\r\n    };\r\n\r\n    if (this.properties) {\r\n      postParams['properties'] = btoa(JSON.stringify(this.properties));\r\n    }\r\n\r\n    if (this.options && useOptions) {\r\n      params = {\r\n        viewerId: this.options.viewerId,\r\n        routes: this.options.routes,\r\n        formValues: this.options.formValues,\r\n        clientGuid: this.options.clientGuid,\r\n        drillDownGuid: this.reportParams.drillDownGuid,\r\n        dashboardDrillDownGuid: this.reportParams.dashboardDrillDownGuid,\r\n        cacheMode: this.options.server.cacheMode,\r\n        cacheTimeout: this.options.server.cacheTimeout,\r\n        cacheItemPriority: this.options.server.cacheItemPriority,\r\n        pageNumber: this.reportParams.pageNumber,\r\n        originalPageNumber: this.reportParams.originalPageNumber,\r\n        reportType: this.reportParams.type,\r\n        zoom: (this.reportParams.zoom && this.reportParams.zoom > 0) ? this.reportParams.zoom : (this.options?.toolbar?.zoom > 0 ? this.options?.toolbar?.zoom : 100),\r\n        viewMode: this.reportParams.viewMode || this.options.toolbar.viewMode,\r\n        multiPageWidthCount: this.reportParams.multiPageWidthCount,\r\n        multiPageHeightCount: this.reportParams.multiPageHeightCount,\r\n        multiPageContainerWidth: this.reportParams.multiPageContainerWidth,\r\n        multiPageContainerHeight: this.reportParams.multiPageContainerHeight,\r\n        multiPageMargins: this.reportParams.multiPageMargins,\r\n        showBookmarks: this.options.toolbar.showBookmarksButton,\r\n        openLinksWindow: this.options.appearance.openLinksWindow,\r\n        chartRenderType: this.options.appearance.chartRenderType,\r\n        reportDisplayMode: this.options.appearance.reportDisplayMode,\r\n        drillDownParameters: this.reportParams.drillDownParameters,\r\n        editableParameters: this.reportParams.editableParameters,\r\n        useRelativeUrls: this.options.server.useRelativeUrls,\r\n        passQueryParametersForResources: this.options.server.passQueryParametersForResources,\r\n        passQueryParametersToReport: this.options.server.passQueryParametersToReport,\r\n        version: this.options.shortProductVersion,\r\n        reportDesignerMode: this.options.reportDesignerMode,\r\n        imagesQuality: this.options.appearance.imagesQuality,\r\n        parametersPanelSortDataItems: this.options.appearance.parametersPanelSortDataItems,\r\n        combineReportPages: this.options.appearance.combineReportPages,\r\n        isAngular: true,\r\n        allowAutoUpdateCookies: this.options.server.allowAutoUpdateCookies\r\n      };\r\n\r\n      if (this.options.server.useLocalizedCache && this.options.localization) {\r\n        params['useLocalizedCache'] = true;\r\n        params['localization'] = this.options.localization;\r\n      }\r\n\r\n      if (this.options.userValues) {\r\n        params['userValues'] = this.options.userValues;\r\n      }\r\n\r\n    } else {\r\n      params = {};\r\n    }\r\n\r\n    if (data) {\r\n      Object.keys(data).forEach(key => params[key] = data[key]);\r\n    }\r\n\r\n    // Object params\r\n    if (params.action) {\r\n      postParams['stiweb_action'] = params.action;\r\n      delete params.action;\r\n    }\r\n    if (params.base64Data) {\r\n      postParams['stiweb_data'] = params.base64Data;\r\n      delete params.base64Data;\r\n    }\r\n\r\n    if (this.options && useOptions) {\r\n      // Params\r\n      const jsonParams = JSON.stringify(params);\r\n      if (this.options.server.useCompression) {\r\n        // postParams['stiweb_packed_parameters'] = StiGZipHelper.pack(jsonParams);\r\n        postParams['stiweb_parameters'] = btoa(jsonParams);\r\n      } else {\r\n        postParams['stiweb_parameters'] = btoa(jsonParams);\r\n      }\r\n    }\r\n\r\n    if (asObject) { return postParams; }\r\n  }\r\n\r\n  private newToken(): string {\r\n    const a = '1234567890abcdefghijklmnopqrstuvwxyz'.split('');\r\n    const b = [];\r\n    const length = 32;\r\n    for (let i = 0; i < length; i++) {\r\n      const j = (Math.random() * (a.length - 1)).toFixed(0);\r\n      b[i] = a[j];\r\n    }\r\n    return b.join('');\r\n  }\r\n\r\n  private setupOptions() {\r\n    if (!this.options.exports.showExportToPowerPoint && !this.options.exports.showExportToPdf && !this.options.exports.showExportToXps &&\r\n      !this.options.exports.showExportToOpenDocumentWriter && !this.options.exports.showExportToOpenDocumentCalc && !this.options.exports.showExportToText &&\r\n      !this.options.exports.showExportToRtf && !this.options.exports.showExportToWord2007 && !this.options.exports.showExportToCsv && !this.options.exports.showExportToJson &&\r\n      !this.options.exports.showExportToDbf && !this.options.exports.showExportToXml && !this.options.exports.showExportToDif && !this.options.exports.showExportToSylk &&\r\n      !this.options.exports.showExportToExcel && !this.options.exports.showExportToExcel2007 && !this.options.exports.showExportToExcelXml && !this.options.exports.showExportToHtml &&\r\n      !this.options.exports.showExportToHtml5 && !this.options.exports.showExportToMht && !this.options.exports.showExportToImageBmp && !this.options.exports.showExportToImageGif &&\r\n      !this.options.exports.showExportToImageJpeg && !this.options.exports.showExportToImageMetafile && !this.options.exports.showExportToImagePcx &&\r\n      !this.options.exports.showExportToImagePng && !this.options.exports.showExportToImageTiff && !this.options.exports.showExportToImageSvg && !this.options.exports.showExportToImageSvgz) {\r\n      if (!this.options.exports.showExportToDocument) {\r\n        this.options.toolbar.showSaveButton = false;\r\n      }\r\n      this.options.toolbar.showSendEmailButton = false;\r\n    }\r\n    // Options\r\n    this.options.isTouchDevice = this.options.appearance.interfaceType === 'Auto'\r\n      ? this.isTouchDevice() && this.isMobileDevice()\r\n      : this.options.appearance.interfaceType === 'Touch';\r\n    this.options.isMobileDevice = this.options.appearance.interfaceType === 'Auto' && !this.options.reportDesignerMode\r\n      ? this.isTouchDevice() && this.isMobileDevice()\r\n      : this.options.appearance.interfaceType === 'Mobile';\r\n\r\n    if (this.options.isMobileDevice) {\r\n      this.initializeMobile();\r\n    } else {\r\n      this.options.toolbar.showPinToolbarButton = false;\r\n    }\r\n\r\n    this.controls.toolbar.visible = this.options.toolbar.visible;\r\n    this.options.menuAnimDuration = 150;\r\n    this.options.formAnimDuration = 200;\r\n    this.options.scrollDuration = 350;\r\n    this.options.menuHideDelay = 250;\r\n\r\n    this.options.server.timeoutAutoUpdateCache = 180000;\r\n    this.options.toolbar.backgroundColor = this.getHTMLColor(this.options.toolbar.backgroundColor);\r\n    this.options.toolbar.borderColor = this.getHTMLColor(this.options.toolbar.borderColor);\r\n    this.options.toolbar.fontColor = this.getHTMLColor(this.options.toolbar.fontColor);\r\n    this.options.appearance.pageBorderColor = this.getHTMLColor(this.options.appearance.pageBorderColor);\r\n    this.options.parametersValues = {};\r\n    this.options.parameterRowHeight = this.options.isTouchDevice ? 35 : 30;\r\n    this.options.minParametersCountForMultiColumns = 5;\r\n\r\n    // First Day Of Week\r\n    if (this.options.appearance.datePickerFirstDayOfWeek === 'Sunday') {\r\n      this.dayOfWeek.splice(6, 1);\r\n      this.dayOfWeek.splice(0, 0, 'Sunday');\r\n    }\r\n\r\n    if (this.options?.toolbar?.zoom === -1 || this.options?.toolbar?.zoom === -2) {\r\n      this.reportParams.autoZoom = this.options?.toolbar?.zoom;\r\n    }\r\n\r\n    // Actions\r\n    if (!this.options.actions.getReport) { this.options.actions.getReport = this.options.actions.viewerEvent; }\r\n    if (!this.options.actions.printReport) { this.options.actions.printReport = this.options.actions.viewerEvent; }\r\n    if (!this.options.actions.openReport) { this.options.actions.openReport = this.options.actions.viewerEvent; }\r\n    if (!this.options.actions.exportReport) { this.options.actions.exportReport = this.options.actions.viewerEvent; }\r\n    if (!this.options.actions.interaction) { this.options.actions.interaction = this.options.actions.viewerEvent; }\r\n\r\n    if (!(window.File && window.FileReader && window.FileList && window.Blob)) { this.options.toolbar.showOpenButton = false; }\r\n\r\n    // Render JsViewer styles into HEAD\r\n    if (this.options.requestResourcesUrl || this.options.appearance.customStylesUrl) {\r\n      const viewerStyles = document.createElement('link');\r\n      viewerStyles.setAttribute('type', 'text/css');\r\n      viewerStyles.setAttribute('rel', 'stylesheet');\r\n      viewerStyles.setAttribute('href', this.options.appearance.customStylesUrl || this.getResourceUrl('styles'));\r\n      this.controls.head.appendChild(viewerStyles);\r\n    }\r\n\r\n    this.options.viewerId = (Math.random() * 1000000).toString();\r\n  }\r\n\r\n  public pagesNavigationIsActive(): boolean {\r\n    return (this.options.appearance.fullScreenMode || this.options.appearance.scrollbarsMode) && this.reportParams.viewMode === 'Continuous';\r\n  }\r\n\r\n  get imagesForBookmark(): any {\r\n    if (!this._imagesForBookmark) {\r\n      const names = ['root', 'folder', 'folderOpen', 'node', 'empty', 'line', 'join', 'joinBottom', 'plus', 'plusBottom', 'minus', 'minusBottom'];\r\n      const imagesForBookmarks = {};\r\n      names.forEach(name => imagesForBookmarks[name] = this.images['Bookmarks' + name + '.png']);\r\n      this._imagesForBookmark = imagesForBookmarks;\r\n    }\r\n    return this._imagesForBookmark;\r\n  }\r\n\r\n  public isTouchDevice() {\r\n    return ('ontouchstart' in document.documentElement);\r\n  }\r\n\r\n  public isMobileDevice() {\r\n    return /iPhone|iPad|iPod|Macintosh|Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n  }\r\n\r\n  public initializeMobile() {\r\n    let isViewPortExist = false;\r\n    const metas: any = this.controls.head.getElementsByTagName('meta');\r\n    for (const meta of metas) {\r\n      if (meta.name && meta.name.toLowerCase() === 'viewport') {\r\n        isViewPortExist = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!isViewPortExist) {\r\n      const viewPortTag = document.createElement('meta');\r\n      viewPortTag.id = 'viewport';\r\n      viewPortTag.name = 'viewport';\r\n      viewPortTag.content = 'initial-scale=1.0,width=device-width,user-scalable=0';\r\n      this.controls.head.appendChild(viewPortTag);\r\n    }\r\n\r\n    this.options.appearance.fullScreenMode = true;\r\n    this.options.appearance.scrollbarsMode = true;\r\n    this.options.appearance.parametersPanelPosition = 'Left';\r\n    this.options.appearance.parametersPanelColumnsCount = 1;\r\n    this.options.toolbar.displayMode = 'Separated';\r\n    this.options.toolbar.viewMode = 'SinglePage';\r\n    this.options.toolbar.showZoomButton = false;\r\n    const defaultZoom = this.options.toolbar.zoom === -2 ? -2 : -1; // PageWidth or PageHeight\r\n    this.options.toolbar.zoom = this.reportParams.zoom = defaultZoom;\r\n    this.options.toolbar.showButtonCaptions = false;\r\n    this.options.toolbar.showOpenButton = false;\r\n    this.options.toolbar.showFindButton = false;\r\n    this.options.toolbar.showEditorButton = false;\r\n    this.options.toolbar.showFullScreenButton = false;\r\n    this.options.toolbar.showAboutButton = false;\r\n    this.options.toolbar.showViewModeButton = false;\r\n  }\r\n\r\n  public getImagesScalingFactor() {\r\n    const wnd: any = window;\r\n    const devicePixelRatio = window.devicePixelRatio || (wnd.deviceXDPI && wnd.logicalXDPI ? wnd.deviceXDPI / wnd.logicalXDPI : 1);\r\n    if (!devicePixelRatio || devicePixelRatio <= 1) {\r\n      return '1';\r\n    } else {\r\n      return devicePixelRatio.toString();\r\n    }\r\n  }\r\n\r\n  public getHTMLColor(color: any) {\r\n    if (color.indexOf(',') > 0 && color.indexOf('rgb') < 0) {\r\n      return `rgb(${color})`;\r\n    }\r\n    return color;\r\n  }\r\n\r\n  public getResourceUrl(resourceParameter: string) {\r\n    let url = this.getActionRequestUrl(this.options.requestResourcesUrl, this.options.actions.viewerEvent);\r\n    url += url.indexOf('?') > 0 ? '&' : '?';\r\n    url += 'stiweb_component=Viewer&stiweb_action=Resource&stiweb_data=' + resourceParameter + '&stiweb_theme=' + this.options.theme;\r\n    url += '&stiweb_cachemode=' + (this.options.server.useCacheForResources\r\n      ? this.options.server.cacheMode === 'ObjectSession' || this.options.server.cacheMode === 'StringSession'\r\n        ? 'session'\r\n        : 'cache'\r\n      : 'none');\r\n    url += '&stiweb_version=' + this.options.shortProductVersion;\r\n\r\n    return url;\r\n  }\r\n\r\n  public getActionRequestUrl(requestUrl: string, action?: string) {\r\n    if (!action) {\r\n      return requestUrl;\r\n    }\r\n\r\n    if (action.indexOf('?') < 0) {\r\n      return requestUrl.replace('{action}', action);\r\n    }\r\n\r\n    const query = action.substring(action.indexOf('?') + 1);\r\n    action = action.substring(0, action.indexOf('?'));\r\n\r\n    return requestUrl.replace('{action}', action) + (requestUrl.indexOf('?') > 0 ? '&' : '?') + query;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\n\r\n@Injectable()\r\nexport class AnimationService {\r\n  constructor(private model: ModelService) { }\r\n\r\n  public showAnimationForScroll(reportPanel, finishScrollTop, endTime, completeFunction) {\r\n    if (!reportPanel) {\r\n      return;\r\n    }\r\n    let currentScrollTop = 0;\r\n    if (this.model.options.appearance.scrollbarsMode) {\r\n      currentScrollTop = reportPanel.scrollTop;\r\n    } else {\r\n      currentScrollTop = document.documentElement.scrollTop;\r\n      if (currentScrollTop === 0) {\r\n        currentScrollTop = document.getElementsByTagName('BODY')[0].scrollTop;\r\n      }\r\n    }\r\n\r\n    clearTimeout(reportPanel.animationTimer);\r\n    const d = new Date();\r\n    const t = d.getTime();\r\n    let step = Math.round((finishScrollTop - currentScrollTop) / ((Math.abs(endTime - t) + 1) / 30));\r\n\r\n    // Last step\r\n    if (Math.abs(step) > Math.abs(finishScrollTop - currentScrollTop)) {\r\n      step = finishScrollTop - currentScrollTop;\r\n    }\r\n\r\n    currentScrollTop += step;\r\n    let resultScrollTop: number;\r\n\r\n    if (t < endTime) {\r\n      resultScrollTop = currentScrollTop;\r\n      reportPanel.animationTimer = setTimeout(() => {\r\n        this.showAnimationForScroll(reportPanel, finishScrollTop, endTime, completeFunction);\r\n      }, 30);\r\n    } else {\r\n      resultScrollTop = finishScrollTop;\r\n      if (completeFunction) {\r\n        completeFunction();\r\n      }\r\n    }\r\n\r\n    if (this.model.options.appearance.scrollbarsMode) {\r\n      reportPanel.scrollTop = resultScrollTop;\r\n    } else {\r\n      window.scrollTo(0, resultScrollTop);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { AnimationService } from './animation.service';\r\nimport { DateTimeObject } from './objects';\r\nimport { MenuItem } from '../menu/meni-item.component';\r\n\r\n@Injectable()\r\nexport class HelperService {\r\n\r\n  constructor(private model: ModelService, private animationService: AnimationService) { }\r\n\r\n  public val(value: string, def?: string): string {\r\n    return value != null && value.trim() !== '' ? value : (def || '');\r\n  }\r\n\r\n  public findPosY(obj: any, mainClassName?: string, noScroll?: boolean) {\r\n    let curtop = noScroll ? 0 : this.getScrollYOffset(obj, mainClassName);\r\n    if (obj.offsetParent) {\r\n      while (obj.className !== mainClassName) {\r\n        curtop += obj.offsetTop;\r\n        if (!obj.offsetParent) {\r\n          break;\r\n        }\r\n        obj = obj.offsetParent;\r\n      }\r\n    } else if (obj.y) {\r\n      curtop += obj.y;\r\n    }\r\n    return curtop;\r\n  }\r\n\r\n  public getScrollYOffset(obj: any, mainClassName: string): number {\r\n    let scrolltop = 0;\r\n    if (obj.parentElement) {\r\n      while (obj.className !== mainClassName) {\r\n        if ('scrollTop' in obj) {\r\n          scrolltop -= obj.scrollTop;\r\n        }\r\n        if (!obj.parentElement) {\r\n          break;\r\n        }\r\n        obj = obj.parentElement;\r\n      }\r\n    }\r\n\r\n    return scrolltop;\r\n  }\r\n\r\n  public findPosX(obj: any, mainClassName: string, noScroll?: boolean) {\r\n    let curleft = noScroll ? 0 : this.getScrollXOffset(obj, mainClassName);\r\n    if (obj.offsetParent) {\r\n      while (obj.className !== mainClassName) {\r\n        curleft += obj.offsetLeft;\r\n        if (!obj.offsetParent) {\r\n          break;\r\n        }\r\n        obj = obj.offsetParent;\r\n      }\r\n    } else if (obj.x) {\r\n      curleft += obj.x;\r\n    }\r\n    return curleft;\r\n  }\r\n\r\n  public getScrollXOffset(obj: any, mainClassName: string) {\r\n    let scrollleft = 0;\r\n    if (obj.parentElement) {\r\n      while (obj.className !== mainClassName) {\r\n        if ('scrollLeft' in obj) {\r\n          scrollleft -= obj.scrollLeft;\r\n        }\r\n        if (!obj.parentElement) {\r\n          break;\r\n        }\r\n        obj = obj.parentElement;\r\n      }\r\n    }\r\n\r\n    return scrollleft;\r\n  }\r\n\r\n  public showHelpWindow(url: string) {\r\n    let helpLanguage = 'en';\r\n    switch (this.model.options.cultureName) {\r\n      case 'ru': helpLanguage = 'ru';\r\n      // case 'de': helpLanguage = 'de';\r\n    }\r\n    this.openNewWindow('https://www.stimulsoft.com/' + helpLanguage + '/documentation/online/' + url);\r\n  }\r\n\r\n  public openNewWindow(url: string, name?: string, specs?: string) {\r\n    return window.open(url, name, specs);\r\n  }\r\n\r\n  public scrollToAnchor(anchorName: string, componentGuid?: string) {\r\n    let aHyperlinks = this.model.controls.reportPanel.el.nativeElement.getElementsByTagName(\"a\");\r\n    const identicalAnchors = [];\r\n    if (anchorName) {\r\n      anchorName = anchorName.replace(/!!#92/g, '\\\\');\r\n    }\r\n\r\n    if (componentGuid) {\r\n      for (let i = 0; i < aHyperlinks.length; i++) {\r\n        if (aHyperlinks[i].getAttribute('guid') === componentGuid) {\r\n          identicalAnchors.push(aHyperlinks[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (identicalAnchors.length === 0) {\r\n      let guidIndex = anchorName.indexOf(\"#GUID#\");\r\n\r\n      if (identicalAnchors.length == 0) {\r\n        let aHyperlinks = this.model.controls.reportPanel.el.nativeElement.getElementsByTagName(\"a\");\r\n        for (var i = 0; i < aHyperlinks.length; i++) {\r\n          if (aHyperlinks[i].name && ((guidIndex >= 0 && (aHyperlinks[i].name.indexOf(anchorName.substring(guidIndex + 6)) >= 0 || anchorName.substring(0, guidIndex) == aHyperlinks[i].name)) || aHyperlinks[i].name == anchorName))\r\n            identicalAnchors.push(aHyperlinks[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (identicalAnchors.length > 0) {\r\n      const anchor = identicalAnchors[0];\r\n      const anchorParent = anchor.parentElement || anchor;\r\n      let anchorHeight = anchorParent.offsetHeight;\r\n      const anchorOffsetTop = anchorParent.offsetTop;\r\n\r\n      identicalAnchors.forEach((identicalAnchor) => {\r\n        const nextAnchorParent = identicalAnchor.parentElement || identicalAnchor;\r\n        if (nextAnchorParent.offsetTop > anchorOffsetTop) {\r\n          anchorHeight = Math.max(anchorHeight, nextAnchorParent.offsetTop - anchorOffsetTop + nextAnchorParent.offsetHeight);\r\n        }\r\n      });\r\n\r\n      const date = new Date();\r\n      const endTime = date.getTime() + this.model.options.scrollDuration;\r\n      const targetTop = this.findPosY(anchor, this.model.options.appearance.scrollbarsMode ? 'stiJsViewerReportPanel' : null, true) - anchorParent.offsetHeight * 2;\r\n\r\n      this.animationService.showAnimationForScroll(this.model.controls.reportPanel.el.nativeElement, targetTop, endTime, () => {\r\n        const page = this.getPageFromAnchorElement(anchor);\r\n        const anchorParentTopPos = this.findPosY(anchorParent, 'stiJsViewerReportPanel', true);\r\n        const pageTopPos = page ? this.findPosY(page, 'stiJsViewerReportPanel', true) : anchorParentTopPos;\r\n\r\n        this.removeBookmarksLabel();\r\n\r\n        const label = document.createElement('div');\r\n        this.model.controls.bookmarksLabel = label;\r\n        label.className = 'stiJsViewerBookmarksLabel';\r\n\r\n        const labelMargin = 20 * (this.model.reportParams.zoom / 100);\r\n        const labelWidth = page ? page.offsetWidth - labelMargin - 6 : anchorParent.offsetWidth;\r\n        const labelHeight = anchorHeight - 2;\r\n        label.style.width = labelWidth + 'px';\r\n        label.style.height = labelHeight + 'px';\r\n\r\n        const margins = page.pageAttributes.margins?.replace('px', '').split(' ');\r\n        const pageLeftMargin = page.pageAttributes.margins ? this.strToInt(margins[3]) : 0;\r\n        const pageTopMargin = page.pageAttributes.margins ? this.strToInt(margins[0]) : 0;\r\n        label.style.marginLeft = (labelMargin / 2 - pageLeftMargin) + 'px';\r\n        label.style.marginTop = (anchorParentTopPos - pageTopPos - pageTopMargin - (this.model.reportParams.zoom / 100) - 1) + 'px';\r\n\r\n        page.insertBefore(label, page.childNodes[0]);\r\n      });\r\n    }\r\n  }\r\n\r\n  public removeBookmarksLabel() {\r\n    if (this.model.controls.bookmarksLabel) {\r\n      this.model.controls.bookmarksLabel.parentElement.removeChild(this.model.controls.bookmarksLabel);\r\n      this.model.controls.bookmarksLabel = null;\r\n    }\r\n  }\r\n\r\n  public getPageFromAnchorElement(anchorElement: any) {\r\n    let obj = anchorElement;\r\n    while (obj.parentElement) {\r\n      if (obj.className && obj.className.indexOf('stiJsViewerPage') === 0) {\r\n        return obj;\r\n      }\r\n      obj = obj.parentElement;\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  public strToInt(value: any): number {\r\n    const result = parseInt(value, 10);\r\n    return result || 0;\r\n  }\r\n\r\n  public strToDouble(value: any): number {\r\n    if (value === null) {\r\n      return null;\r\n    }\r\n    const result = parseFloat(value.toString().replace(',', '.').trim());\r\n    return result || 0;\r\n  }\r\n\r\n  public copyObject(o: any): any {\r\n    if (!o || 'object' !== typeof o) {\r\n      return o;\r\n    }\r\n    const c = 'function' === typeof o.pop ? [] : {};\r\n    let p;\r\n    let v;\r\n    for (p in o) {\r\n      if (o.hasOwnProperty(p)) {\r\n        v = o[p];\r\n        if (v && 'object' === typeof v) {\r\n          c[p] = this.copyObject(v);\r\n        } else {\r\n          c[p] = v;\r\n        }\r\n      }\r\n    }\r\n    return c;\r\n  }\r\n\r\n  public getCountObjects(objectArray: any): number {\r\n    let count = 0;\r\n    if (objectArray) {\r\n      for (const singleObject in objectArray) {\r\n        count++;\r\n      }\r\n    }\r\n    return count;\r\n  }\r\n\r\n  public replaceMonths(value: string): string {\r\n    for (let i = 1; i <= 12; i++) {\r\n      let enName = '';\r\n      let locName = '';\r\n      switch (i) {\r\n        case 1:\r\n          enName = 'January';\r\n          locName = this.model.loc('MonthJanuary');\r\n          break;\r\n\r\n        case 2:\r\n          enName = 'February';\r\n          locName = this.model.loc('MonthFebruary');\r\n          break;\r\n\r\n        case 3:\r\n          enName = 'March';\r\n          locName = this.model.loc('MonthMarch');\r\n          break;\r\n\r\n        case 4:\r\n          enName = 'April';\r\n          locName = this.model.loc('MonthApril');\r\n          break;\r\n\r\n        case 5:\r\n          enName = 'May';\r\n          locName = this.model.loc('MonthMay');\r\n          break;\r\n\r\n        case 6:\r\n          enName = 'June';\r\n          locName = this.model.loc('MonthJune');\r\n          break;\r\n\r\n        case 7:\r\n          enName = 'July';\r\n          locName = this.model.loc('MonthJuly');\r\n          break;\r\n\r\n        case 8:\r\n          enName = 'August';\r\n          locName = this.model.loc('MonthAugust');\r\n          break;\r\n\r\n        case 9:\r\n          enName = 'September';\r\n          locName = this.model.loc('MonthSeptember');\r\n          break;\r\n\r\n        case 10:\r\n          enName = 'October';\r\n          locName = this.model.loc('MonthOctober');\r\n          break;\r\n\r\n        case 11:\r\n          enName = 'November';\r\n          locName = this.model.loc('MonthNovember');\r\n          break;\r\n\r\n        case 12:\r\n          enName = 'December';\r\n          locName = this.model.loc('MonthDecember');\r\n          break;\r\n      }\r\n\r\n      const enShortName = enName.substring(0, 3);\r\n      const locShortName = locName.substring(0, 3);\r\n      value = value.replace(enName, i as any).replace(enName.toLowerCase(), i as any).replace(enShortName, i as any).replace(enShortName.toLowerCase(), i as any);\r\n      value = value.replace(locName, i as any).replace(locName.toLowerCase(), i as any).replace(locShortName, i as any).replace(locShortName.toLowerCase(), i as any);\r\n\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  getDate(dateTimeObj: DateTimeObject): Date {\r\n    return new Date(dateTimeObj.year, dateTimeObj.month - 1, dateTimeObj.day, dateTimeObj.hours, dateTimeObj.minutes, dateTimeObj.seconds);\r\n  }\r\n\r\n  public getDateTimeObject(date?: Date) {\r\n    if (!date) { date = new Date(); }\r\n    const dateTimeObject: DateTimeObject = new DateTimeObject();\r\n    dateTimeObject.year = date.getFullYear();\r\n    dateTimeObject.month = date.getMonth() + 1;\r\n    dateTimeObject.day = date.getDate();\r\n    dateTimeObject.hours = date.getHours();\r\n    dateTimeObject.minutes = date.getMinutes();\r\n    dateTimeObject.seconds = date.getSeconds();\r\n\r\n    return dateTimeObject;\r\n  }\r\n\r\n  public getDateTimeFromString(value: string, format: string): any {\r\n    const charIsDigit = (ch: string) => {\r\n      return ('0123456789'.indexOf(ch) >= 0);\r\n    };\r\n\r\n    if (!value) {\r\n      return new Date();\r\n    }\r\n    value = this.replaceMonths(value);\r\n\r\n    let dateTime = new Date();\r\n\r\n    // If the date format is not specified, then deserializator for getting date and time is applied\r\n    if (format === null) {\r\n      format = 'dd.MM.yyyy hh:mm:ss';\r\n    }\r\n    // Otherwise the format is parsed. Now only numeric date and time formats are supported\r\n\r\n    let year = 1970;\r\n    let month = 1;\r\n    let day = 1;\r\n    let hour = 0;\r\n    let minute = 0;\r\n    let second = 0;\r\n    let millisecond = 0;\r\n\r\n    let char = '';\r\n    let pos = 0;\r\n    const values = [];\r\n\r\n    // Parse date and time into separate numeric values\r\n    while (pos < value.length) {\r\n      char = value.charAt(pos);\r\n      if (charIsDigit(char)) {\r\n        values.push(char);\r\n        pos++;\r\n\r\n        while (pos < value.length && charIsDigit(value.charAt(pos))) {\r\n          values[values.length - 1] += value.charAt(pos);\r\n          pos++;\r\n        }\r\n\r\n        values[values.length - 1] = this.strToInt(values[values.length - 1]);\r\n      }\r\n\r\n      pos++;\r\n    }\r\n\r\n    pos = 0;\r\n    let charCount = 0;\r\n    let index = -1;\r\n    let is12hour = false;\r\n\r\n    // Parsing format and replacement of appropriate values of date and time\r\n    while (pos < format.length) {\r\n      char = format.charAt(pos);\r\n      charCount = 0;\r\n\r\n      if (char === 'Y' || char === 'y' || char === 'M' || char === 'd' || char === 'h' || char === 'H' ||\r\n        char === 'm' || char === 's' || char === 'f' || char === 'F' || char === 't' || char === 'z') {\r\n        index++;\r\n\r\n        while (pos < format.length && format.charAt(pos) === char) {\r\n          pos++;\r\n          charCount++;\r\n        }\r\n      }\r\n\r\n      switch (char) {\r\n        case 'Y': // full year\r\n          year = values[index];\r\n          break;\r\n\r\n        case 'y': // year\r\n          if (values[index] < 1000) {\r\n            year = 2000 + values[index];\r\n          } else {\r\n            year = values[index];\r\n          }\r\n          break;\r\n\r\n        case 'M': // month\r\n          month = values[index];\r\n          break;\r\n\r\n        case 'd': // day\r\n          day = values[index];\r\n          break;\r\n\r\n        case 'h': // (hour 12)\r\n          is12hour = true;\r\n          hour = values[index];\r\n          break;\r\n\r\n        case 'H': // (hour 24)\r\n          hour = values[index];\r\n          break;\r\n\r\n        case 'm': // minute\r\n          minute = values[index];\r\n          break;\r\n\r\n        case 's': // second\r\n          second = values[index];\r\n          break;\r\n\r\n        case 'f': // second fraction\r\n        case 'F': // second fraction, trailing zeroes are trimmed\r\n          millisecond = values[index];\r\n          break;\r\n\r\n        case 't': // PM or AM\r\n          if (value.toLowerCase().indexOf('am') >= 0 && hour === 12) { hour = 0; }\r\n          if (value.toLowerCase().indexOf('pm') >= 0 && hour < 12) { hour += 12; }\r\n          break;\r\n\r\n        default:\r\n          pos++;\r\n          break;\r\n      }\r\n    }\r\n\r\n    dateTime = new Date(year || new Date().getFullYear(), month - 1 || 0, day || 1, hour || 0, minute || 0, second, millisecond || 0);\r\n\r\n    if (!dateTime || isNaN(dateTime as any)) {\r\n      return new Date();\r\n    }\r\n\r\n    return dateTime;\r\n  }\r\n\r\n  public getStringDateTime(object, dateTimeType) {\r\n    if (dateTimeType === 'Date') {\r\n      object.hours = 0;\r\n      object.minutes = 0;\r\n      object.seconds = 0;\r\n    }\r\n    return object.month + '/' + object.day + '/' + object.year + ' ' +\r\n      (object.hours > 12 ? object.hours - 12 : object.hours) + ':' + object.minutes + ':' + object.seconds + ' ' +\r\n      (object.hours < 12 ? 'AM' : 'PM');\r\n  }\r\n\r\n  public dateTimeObjectToString(dateTimeObject, typeDateTimeObject?) {\r\n    const date = new Date(dateTimeObject.year, dateTimeObject.month - 1, dateTimeObject.day, dateTimeObject.hours, dateTimeObject.minutes, dateTimeObject.seconds);\r\n\r\n    if (this.model.options.appearance.parametersPanelDateFormat !== '') {\r\n      return this.formatDate(date, this.model.options.appearance.parametersPanelDateFormat);\r\n    }\r\n\r\n    return this.dateToLocaleString(date, typeDateTimeObject);\r\n  }\r\n\r\n  public dateToLocaleString(date, dateTimeType?): string {\r\n    const timeString = date.toLocaleTimeString();\r\n    const isAmericanFormat = timeString.toLowerCase().indexOf('am') >= 0 || timeString.toLowerCase().indexOf('pm') >= 0;\r\n    let formatDate = isAmericanFormat ? 'MM/dd/yyyy' : 'dd.MM.yyyy';\r\n\r\n    const yyyy = date.getFullYear();\r\n    const yy = yyyy.toString().substring(2);\r\n    const M = date.getMonth() + 1;\r\n    const MM = M < 10 ? '0' + M : M;\r\n    const d = date.getDate();\r\n    const dd = d < 10 ? '0' + d : d;\r\n\r\n    formatDate = formatDate.replace(/yyyy/i, yyyy);\r\n    formatDate = formatDate.replace(/yy/i, yy);\r\n    formatDate = formatDate.replace(/MM/i, MM);\r\n    formatDate = formatDate.replace(/M/i, M);\r\n    formatDate = formatDate.replace(/dd/i, dd);\r\n    formatDate = formatDate.replace(/d/i, d);\r\n\r\n    let h = date.getHours();\r\n    let tt = '';\r\n\r\n    if (isAmericanFormat) {\r\n      tt = h < 12 ? ' AM' : ' PM';\r\n      h = h > 12 ? h - 12 : h;\r\n      if (h === 0) {\r\n        h = 12;\r\n      }\r\n    } else {\r\n      h = h < 10 ? '0' + h : h;\r\n    }\r\n\r\n    let m = date.getMinutes();\r\n    m = m < 10 ? '0' + m : m;\r\n    let s = date.getSeconds();\r\n    s = s < 10 ? '0' + s : s;\r\n\r\n    const formatTime = h + ':' + m + ':' + s + tt;\r\n\r\n    if (dateTimeType === 'Time') {\r\n      return formatTime;\r\n    }\r\n    if (dateTimeType === 'Date') {\r\n      return formatDate;\r\n    }\r\n\r\n    return formatDate + ' ' + formatTime;\r\n  }\r\n\r\n  public formatDate(formatDate, formatString: string): string {\r\n    const yyyy = formatDate.getFullYear();\r\n    const yy = yyyy.toString().substring(2);\r\n    const m = formatDate.getMonth() + 1;\r\n    const mm = m < 10 ? '0' + m : m;\r\n    const d = formatDate.getDate();\r\n    const dd = d < 10 ? '0' + d : d;\r\n\r\n    const h = formatDate.getHours();\r\n    const hh = h < 10 ? '0' + h : h;\r\n    const h12 = h > 12 ? h - 12 : (h > 0 ? h : 12);\r\n    const hh12 = h12 < 10 ? '0' + h12 : h12;\r\n    const n = formatDate.getMinutes();\r\n    const nn = n < 10 ? '0' + n : n;\r\n    const s = formatDate.getSeconds();\r\n    const ss = s < 10 ? '0' + s : s;\r\n    const tt = h < 12 ? 'AM' : 'PM';\r\n\r\n    formatString = formatString.replace(/yyyy/gi, yyyy);\r\n    formatString = formatString.replace(/yy/gi, yy);\r\n    formatString = formatString.replace(/Y/, yyyy);\r\n    formatString = formatString.replace(/MM/g, mm);\r\n    formatString = formatString.replace(/M/g, m);\r\n    formatString = formatString.replace(/dd/g, dd);\r\n    formatString = formatString.replace(/d/g, d);\r\n    formatString = formatString.replace(/hh/g, hh12);\r\n    formatString = formatString.replace(/h/g, h12);\r\n    formatString = formatString.replace(/HH/g, hh);\r\n    formatString = formatString.replace(/H/g, h);\r\n    formatString = formatString.replace(/mm/g, nn);\r\n    formatString = formatString.replace(/m/g, n);\r\n    formatString = formatString.replace(/ss/g, ss);\r\n    formatString = formatString.replace(/s/g, s);\r\n    formatString = formatString.replace(/tt/gi, tt);\r\n    formatString = formatString.replace(/t/gi, tt.substr(0, 1));\r\n\r\n    return formatString;\r\n  }\r\n\r\n  public getStringKey(key: string, params): string {\r\n    if (key === null) {\r\n      return '';\r\n    }\r\n\r\n    return ((params.type === 'DateTime') ? this.dateTimeObjectToString(key, params.dateTimeType) : key);\r\n  }\r\n\r\n  public stringToTime(timeStr: string) {\r\n    const timeArray = timeStr.split(':');\r\n    const time = { hours: 0, minutes: 0, seconds: 0 };\r\n\r\n    time.hours = this.strToInt(timeArray[0]);\r\n    if (timeArray.length > 1) { time.minutes = this.strToInt(timeArray[1]); }\r\n    if (timeArray.length > 2) { time.seconds = this.strToInt(timeArray[2]); }\r\n    if (time.hours < 0) { time.hours = 0; }\r\n    if (time.minutes < 0) { time.minutes = 0; }\r\n    if (time.seconds < 0) { time.seconds = 0; }\r\n\r\n    if (time.hours > 23) { time.hours = 23; }\r\n    if (time.minutes > 59) { time.minutes = 59; }\r\n    if (time.seconds > 59) { time.seconds = 59; }\r\n\r\n    return time;\r\n  }\r\n\r\n  public newGuid() {\r\n    const chars = '0123456789abcdefghijklmnopqrstuvwxyz'.split('');\r\n    const uuid = [];\r\n    const rnd = Math.random;\r\n    let r;\r\n    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\r\n    uuid[14] = '4';\r\n\r\n    for (let i = 0; i < 36; i++) {\r\n      if (!uuid[i]) {\r\n        r = 0 | rnd() * 16;\r\n        uuid[i] = chars[(i === 19) ? (r & 0x3) | 0x8 : r & 0xf];\r\n      }\r\n    }\r\n\r\n    return uuid.join('');\r\n  }\r\n\r\n  public getCountDaysOfMonth(year: number, month: number): number {\r\n    const countDaysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n    let count = countDaysInMonth[month];\r\n\r\n    if (month === 1) {\r\n      if (year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0)) {\r\n        count = 29;\r\n      } else {\r\n        count = 28;\r\n      }\r\n    }\r\n    return count;\r\n  }\r\n\r\n  public setObjectToCenter(object: any, defaultTop?: number): any {\r\n    const leftPos = (this.model.viewerSize.width / 2 - object.offsetWidth / 2);\r\n    const topPos = this.model.options.appearance.fullScreenMode ? (this.model.viewerSize.height / 2 - object.offsetHeight / 2) : (defaultTop ? defaultTop : 250);\r\n    return { left: Math.max(leftPos, 0), top: Math.max(topPos, 0) };\r\n  }\r\n\r\n  public checkCloudAuthorization(action): boolean {\r\n    return true;\r\n  }\r\n\r\n  private getCookie_(name: string): string {\r\n    const cookie = ' ' + document.cookie;\r\n    const search = ' ' + name + '=';\r\n    let setStr = null;\r\n    let offset = 0;\r\n    let end = 0;\r\n    if (cookie.length > 0) {\r\n      offset = cookie.indexOf(search);\r\n      if (offset !== -1) {\r\n        offset += search.length;\r\n        end = cookie.indexOf(';', offset);\r\n        if (end === -1) {\r\n          end = cookie.length;\r\n        }\r\n        setStr = unescape(cookie.substring(offset, end));\r\n      }\r\n    }\r\n    return setStr;\r\n  }\r\n\r\n  public getCookie(name: string): string {\r\n    if (this.model.options.standaloneJsMode || typeof localStorage === 'undefined' || name.indexOf('sti_') == 0 || name.indexOf('login') == 0) {\r\n      return this.getCookie_(name);\r\n    }\r\n\r\n    let value = localStorage.getItem(name);\r\n    if (value != null) {\r\n      return value;\r\n    } else {\r\n      value = this.getCookie_(name);\r\n      if (value != null) {\r\n        this.removeCookie(name);\r\n        localStorage.setItem(name, value);\r\n      }\r\n      return value;\r\n    }\r\n  }\r\n\r\n  public removeCookie(name: string) {\r\n    document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/';\r\n  }\r\n\r\n  public setCookie(name: string, value, path?, domain?, secure?, expires?) {\r\n    if (this.model.options.standaloneJsMode || typeof localStorage === 'undefined' || name.indexOf('sti_') === 0 || name.indexOf('login') === 0) {\r\n      // save to cookies\r\n      if (value && typeof (value) === 'string' && value.length >= 4096) { return; }\r\n      const pathName = location.pathname;\r\n      const expDate = new Date();\r\n      expDate.setTime(expDate.getTime() + (365 * 24 * 3600 * 1000));\r\n      document.cookie = name + '=' + escape(value) +\r\n        '; expires=' + (expires || expDate['toGMTString']()) +\r\n        ((path) ? '; path=' + path : '; path=/') +\r\n        ((domain) ? '; domain=' + domain : '') +\r\n        ((secure) ? '; secure' : '');\r\n    } else {\r\n      // save to localstorage\r\n      localStorage.setItem(name, value);\r\n    }\r\n  }\r\n\r\n  public getNavigatorName(): string {\r\n    if (!navigator) { return 'Unknown'; }\r\n    const userAgent = navigator.userAgent;\r\n\r\n    if (userAgent.indexOf('Edge') >= 0) { return 'Edge'; }\r\n    if (userAgent.indexOf('MSIE') >= 0 || userAgent.indexOf('Trident') >= 0) { return 'MSIE'; }\r\n    if (userAgent.indexOf('Gecko') >= 0) {\r\n      if (userAgent.indexOf('Chrome') >= 0) { return 'Chrome'; }\r\n      if (userAgent.indexOf('Safari') >= 0) { return 'Safari'; }\r\n      return 'Mozilla';\r\n    }\r\n    if (userAgent.indexOf('Opera') >= 0) { return 'Opera'; }\r\n  }\r\n\r\n  public isTouchDevice(): boolean {\r\n    return ('ontouchstart' in document.documentElement);\r\n  }\r\n\r\n  public isMobileDevice(): boolean {\r\n    return /iPhone|iPad|iPod|Macintosh|Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\r\n  }\r\n\r\n  public getHumanFileSize(value: number, decimals: number): string {\r\n    const i = Math.floor(Math.log(value) / Math.log(1024));\r\n    return ((value / Math.pow(1024, i)).toFixed(decimals)) + ' ' + ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'][i];\r\n  }\r\n\r\n  getZoomMenuItems(): any {\r\n    const items: MenuItem[] = [{ name: 'Zoom25', caption: '25%', img: '' },\r\n    { name: 'Zoom50', caption: '50%', img: '' },\r\n    { name: 'Zoom75', caption: '75%', img: '' },\r\n    { name: 'Zoom100', caption: '100%', img: '' },\r\n    { name: 'Zoom150', caption: '150%', img: '' },\r\n    { name: 'Zoom200', caption: '200%', img: '' }];\r\n\r\n    if (this.model.options.toolbar.displayMode !== 'Separated') {\r\n      items.push({ type: 'separator' });\r\n      items.push({ name: 'ZoomOnePage', caption: this.model.loc('ZoomOnePage'), img: 'ZoomOnePage.png' });\r\n      items.push({ name: 'ZoomPageWidth', caption: this.model.loc('ZoomPageWidth'), img: 'ZoomPageWidth.png' });\r\n    }\r\n    return items;\r\n  }\r\n\r\n  public get helpLinks(): any {\r\n    return {\r\n      Print: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Save: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      SendEmail: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Bookmarks: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Parameters: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      FirstPage: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      PrevPage: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      NextPage: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      LastPage: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      FullScreen: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Zoom: 'user-manual/index.html?viewer_reports.htm#statusbar',\r\n      ViewMode: 'user-manual/index.html?viewer_reports.htm#displayingmode',\r\n      Editor: 'user-manual/index.html?viewer_reports.htm#toolbar',\r\n      Find: 'user-manual/index.html?viewer_reports.htm#searchpanel',\r\n      DashboardToolbar: 'user-manual/index.html?viewer_dashboards.htm#controlbuttonsofthedashboard',\r\n      DashboardElementToolbar: 'user-manual/index.html?viewer_dashboards.htm#elementcontrols',\r\n      DashboardExport: 'user-manual/index.html?exports_dashboards.htm',\r\n      DashboardPdfExport: 'user-manual/index.html?exports_dashboards.htm#pdfexportsettings',\r\n      DashboardExcelExport: 'user-manual/index.html?exports_dashboards.htm#excelexportsettings',\r\n      DashboardImageExport: 'user-manual/index.html?exports_dashboards.htm#imageexportsettings',\r\n      DashboardDataExport: 'user-manual/index.html?exports_dashboards.htm#exportsettingsofdata'\r\n    };\r\n  }\r\n\r\n  public getBackText(withoutBrackets?: boolean): string {\r\n    const backText = String.fromCharCode(84) + 'r' + String.fromCharCode(105) + 'a';\r\n    if (withoutBrackets) {\r\n      return backText + String.fromCharCode(108);\r\n    }\r\n    return String.fromCharCode(91) + backText + String.fromCharCode(108) + String.fromCharCode(93);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError, timeout } from 'rxjs/operators';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\n\r\n@Injectable()\r\nexport class StiHttpClientService {\r\n\r\n  constructor(private httpClient: HttpClient, public model: ModelService, private helper: HelperService) { }\r\n\r\n  public post(url: string, data: any, responseType: string = 'json'): Observable<any> {\r\n    const model = this.model;\r\n    model.showProgress = true;\r\n    const reqTimeout = this.model.options?.server?.requestTimeout > 0 ? this.model.options?.server?.requestTimeout * 1000 : 1000 * 1000;\r\n    if (responseType === 'json') {\r\n      return this.httpClient.post(url, this.getFormData(data)).pipe(\r\n        // retry(3),\r\n        timeout(reqTimeout),\r\n\r\n        catchError((error: any) => {\r\n          model.httpError = error;\r\n          model.showProgress = false;\r\n          this.model.controls.navigatePanel.enabled = true;\r\n          this.model.controls.toolbar.enabled = true;\r\n          return throwError('Something bad happened; please try again later.');\r\n        }));\r\n    } else {\r\n      return this.httpClient.post(url, this.getFormData(data), { responseType: 'text' }).pipe(\r\n        // retry(3),\r\n        timeout(reqTimeout),\r\n        catchError((error: any) => {\r\n          model.httpError = error;\r\n          model.showProgress = false;\r\n          this.model.controls.navigatePanel.enabled = true;\r\n          this.model.controls.toolbar.enabled = true;\r\n          return throwError('Something bad happened; please try again later.');\r\n        }));\r\n    }\r\n  }\r\n\r\n  private getFormData(data: any): FormData {\r\n    const formData: FormData = new FormData();\r\n    Object.keys(data).forEach(key => formData.append(key, data[key]));\r\n    return formData;\r\n  }\r\n\r\n  public postForm(url: string, data: any, doc: any, postOnlyData: boolean = false) {\r\n    if (!doc) { doc = document; }\r\n    const form = doc.createElement('FORM');\r\n    form.setAttribute('method', 'POST');\r\n    form.setAttribute('action', url);\r\n\r\n    const params = postOnlyData ? data : this.model.createPostParameters(data, true);\r\n\r\n    Object.keys(params).forEach(key => {\r\n      const paramsField = doc.createElement('INPUT');\r\n      paramsField.setAttribute('type', 'hidden');\r\n      paramsField.setAttribute('name', key);\r\n      paramsField.setAttribute('value', params[key]);\r\n      form.appendChild(paramsField);\r\n    });\r\n\r\n    if (this.model.options.jsDesigner) {\r\n      this.model.options.jsDesigner.options.ignoreBeforeUnload = true;\r\n    }\r\n\r\n    doc.body.appendChild(form);\r\n    form.submit();\r\n    doc.body.removeChild(form);\r\n\r\n    setTimeout(() => {\r\n      if (this.model.options.jsDesigner) {\r\n        this.model.options.jsDesigner.options.ignoreBeforeUnload = false;\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\n\r\n@Injectable()\r\nexport class StylesService {\r\n  private pagesCss = {};\r\n\r\n  constructor(private model: ModelService) { }\r\n\r\n  public setupStyle(style: string, id: string) {\r\n    if (this.pagesCss[id] == null) {\r\n      this.pagesCss[id] = document.createElement('STYLE');\r\n      this.pagesCss[id].id = this.model.options?.viewerId + 'Styles';\r\n      this.pagesCss[id].setAttribute('type', 'text/css');\r\n      this.model.controls.head.appendChild(this.pagesCss[id]);\r\n    }\r\n    if (this.pagesCss[id].styleSheet) {\r\n      this.pagesCss[id].styleSheet.cssText = style;\r\n    } else {\r\n      this.pagesCss[id].innerHTML = style;\r\n    }\r\n  }\r\n\r\n  public addCustomFontStyles(customFonts: any[]) {\r\n    if (!customFonts) { return; }\r\n\r\n    let existsStyles: any = [];\r\n    try {\r\n      existsStyles = document.getElementsByTagName('head')[0].getElementsByTagName('style');\r\n    } catch (e) { }\r\n\r\n    customFonts.forEach((customFont: any) => {\r\n      if (customFont.contentForCss && customFont.originalFontFamily) {\r\n        const style = document.createElement('style');\r\n        style.innerHTML = `@font-face {\\r\\nfont-family: '${customFont.originalFontFamily}';\\r\\n src: url(${customFont.contentForCss});\\r\\n }`;\r\n\r\n        let existsThisStyle = false;\r\n\r\n        for (const estyle of existsStyles) {\r\n          if (estyle.innerHTML.indexOf(`font-family: '${customFont.originalFontFamily}'`) > 0) {\r\n            existsThisStyle = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (!existsThisStyle) {\r\n          document.getElementsByTagName('head')[0].appendChild(style);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  public addChartScript(script: string) {\r\n    const currChartScripts = document.getElementById(this.model.options.viewerId + 'chartScriptJsViewer');\r\n    if (currChartScripts) {\r\n      this.model.controls.head.removeChild(currChartScripts);\r\n    }\r\n\r\n    if (script) {\r\n      const chartScripts = document.createElement('Script');\r\n      chartScripts.setAttribute('type', 'text/javascript');\r\n      chartScripts.id = this.model.options.viewerId + 'chartScriptJsViewer';\r\n      chartScripts.textContent = script;\r\n      this.model.controls.head.appendChild(chartScripts);\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\nimport { Rectangle } from './objects';\r\n\r\n@Injectable()\r\nexport class PageService {\r\n\r\n  constructor(private model: ModelService, private helper: HelperService) {\r\n    Object.keys(model.controls).forEach(k => model.controls[k].pageService = this);\r\n  }\r\n\r\n  public calculateLayout() {\r\n    setTimeout(() => {\r\n      this.calculateLayoutInner();\r\n    });\r\n  }\r\n\r\n  public calculateLayoutInner() {\r\n    const reportLayout: Rectangle = new Rectangle();\r\n    const paramsLayout: Rectangle = new Rectangle();\r\n\r\n    if (!this.model.controls.reportPanel.el) {\r\n      return reportLayout;\r\n    }\r\n\r\n    if (this.model.controls.dashboardsPanel.el) {\r\n      reportLayout.top += this.model.controls.dashboardsPanel.offsetHeight;\r\n    }\r\n\r\n    if (this.model.reportParams.type === 'Report') {\r\n      if (this.model.controls.toolbar && this.model.controls.toolbar.visible && !(this.model.options.isMobileDevice && this.model.options.toolbar.autoHide)) {\r\n        reportLayout.top += this.model.controls.toolbar.offsetHeight;\r\n      }\r\n\r\n      if (this.model.controls.drillDownPanel && this.model.controls.drillDownPanel.visible) {\r\n        reportLayout.top += this.model.controls.drillDownPanel.offsetHeight;\r\n      }\r\n      if (this.model.controls.findPanel && this.model.controls.findPanel.visible) {\r\n        reportLayout.top += this.model.controls.findPanel.offsetHeight;\r\n      }\r\n      if (this.model.controls.resourcesPanel && this.model.controls.resourcesPanel.visible) {\r\n        reportLayout.top += this.model.controls.resourcesPanel.offsetHeight;\r\n      }\r\n\r\n      if (this.model.controls.bookmarksPanel && this.model.controls.bookmarksPanel.visible) {\r\n        reportLayout.left += this.model.options.appearance.bookmarksTreeWidth;\r\n        if (this.model.options.toolbar.displayMode === 'Simple') {\r\n          reportLayout.left += 2;\r\n        }\r\n      }\r\n\r\n      if (this.model.controls.navigatePanel && this.model.controls.navigatePanel.visible && !(this.model.options.isMobileDevice && this.model.options.toolbar.autoHide)) {\r\n        reportLayout.bottom = this.model.controls.navigatePanel.offsetHeight;\r\n      }\r\n    }\r\n\r\n    if (this.model.controls.parametersPanel && this.model.controls.parametersPanel.visible) {\r\n      this.model.controls.parametersPanel.layout = paramsLayout;\r\n      paramsLayout.top = reportLayout.top;\r\n\r\n      if (this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n        paramsLayout.left = reportLayout.left;\r\n        paramsLayout.width = this.model.controls.parametersPanel.el.nativeElement.firstChild.offsetWidth;\r\n        reportLayout.left += paramsLayout.width;\r\n        if (this.model.options.toolbar.displayMode === 'Simple') {\r\n          reportLayout.left += 2;\r\n        }\r\n      }\r\n\r\n      if (this.model.options.appearance.parametersPanelPosition === 'Top') {\r\n        paramsLayout.height = this.model.controls.parametersPanel.offsetHeight;\r\n        reportLayout.top += paramsLayout.height;\r\n      }\r\n    }\r\n\r\n    if (this.model.controls.bookmarksPanel) {\r\n      // this.model.controls.bookmarksPanel.layout = new Rectangle();\r\n      let styleTop = this.model.options.toolbar.visible ? this.model.controls.toolbar.offsetHeight : 0;\r\n      if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n        styleTop = 0;\r\n      }\r\n      styleTop += this.model.controls.parametersPanel.exists && this.model.options.appearance.parametersPanelPosition === 'Top' ? this.model.controls.parametersPanel.offsetHeight : 0;\r\n      styleTop += this.model.controls.findPanel.exists ? this.model.controls.findPanel.offsetHeight : 0;\r\n      styleTop += this.model.controls.drillDownPanel.exists ? this.model.controls.drillDownPanel.offsetHeight : 0;\r\n      styleTop += this.model.controls.resourcesPanel.exists ? this.model.controls.resourcesPanel.offsetHeight : 0;\r\n\r\n      this.model.controls.bookmarksPanel.layout.top = styleTop; // reportLayout.top;\r\n    }\r\n\r\n    if (this.model.options.toolbar.displayMode === 'Simple' && reportLayout.top > 0) {\r\n      reportLayout.top += 2;\r\n    }\r\n\r\n    if (this.model.controls.reportPanel.el?.nativeElement.style.position === 'relative') {\r\n      reportLayout.top = paramsLayout.height;\r\n    }\r\n\r\n    const reportMargins = {\r\n      top: parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginTop ? this.model.controls.reportPanel.el.nativeElement.style.marginTop : 0),\r\n      right: parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginRight ? this.model.controls.reportPanel.el.nativeElement.style.marginRight : 0),\r\n      bottom: parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginBottom ? this.model.controls.reportPanel.el.nativeElement.style.marginBottom : 0),\r\n      left: parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginLeft ? this.model.controls.reportPanel.el.nativeElement.style.marginLeft : 0)\r\n    };\r\n\r\n    reportLayout.width = this.model.controls.reportPanel.offsetWidth - reportLayout.left - reportLayout.right + reportMargins.left + reportMargins.right;\r\n    reportLayout.height = this.model.controls.reportPanel.el.nativeElement.style.position === 'absolute'\r\n      ? this.model.controls.reportPanel.offsetHeight - reportLayout.top - reportLayout.bottom + reportMargins.top + reportMargins.bottom\r\n      : Math.round(reportLayout.width * 0.56); // use 16:9 aspect ratio for automatic height\r\n\r\n    this.model.controls.reportPanel.layout = reportLayout;\r\n  }\r\n\r\n  public getZoomByPageWidth(): number {\r\n    const pageNumber = this.model.reportParams.viewMode === 'SinglePage' ? 0 : (this.model.reportParams.pageNumber || 0);\r\n    return (this.model.controls.reportPanel.layout.width - 40) * this.getZoom() / (this.model.pages[pageNumber]?.page?.offsetWidth || 1);\r\n  }\r\n\r\n  public getZoomByPageHeight(): number {\r\n    const pageNumber = this.model.reportParams.viewMode === 'SinglePage' ? 0 : (this.model.reportParams.pageNumber || 0);\r\n    return (this.model.controls.reportPanel.layout.height - 40) * this.getZoom() / (this.model.pages[pageNumber]?.page?.offsetHeight || 1);\r\n  }\r\n\r\n  private getZoom(): number {\r\n    return this.model.reportParams.zoom < 0 ? 100 : this.model.reportParams.zoom;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class MouseService {\r\n\r\n  private documetMouseDown = new Subject<any>();\r\n  private documetMouseMove = new Subject<any>();\r\n  private documetMouseUp = new Subject<any>();\r\n\r\n  constructor() {\r\n    document.addEventListener('mouseup', (event) => {\r\n      this.documetMouseUp.next(event);\r\n    });\r\n\r\n    document.addEventListener('mousemove', (event) => {\r\n      this.documetMouseMove.next(event);\r\n    });\r\n\r\n    document.addEventListener('mousedown', (event) => {\r\n      this.documetMouseDown.next(event);\r\n    });\r\n  }\r\n\r\n  public getDocumentMouseUp(): Observable<any> {\r\n    return this.documetMouseUp.asObservable();\r\n  }\r\n\r\n  public getDocumentMouseMove(): Observable<any> {\r\n    return this.documetMouseMove.asObservable();\r\n  }\r\n\r\n  public getDocumentMouseDown(): Observable<any> {\r\n    return this.documetMouseDown.asObservable();\r\n  }\r\n\r\n}\r\n","import { Injectable, ElementRef, EventEmitter } from '@angular/core';\r\nimport { MenuItem } from './meni-item.component';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MouseService } from '../services/mouse.service';\r\nimport { Variable, Item } from '../services/objects';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\nexport class Menu {\r\n  constructor(public name: string, public items: MenuItem[], public parent: ElementRef, public type: string, public state?: string,\r\n    public menuEl?: ElementRef, public top?: number, public left?: number, public innerContent?: ElementRef, public width?: number, public height?: number,\r\n    public menuStyleName?: string, public params?: Variable, public verticalItems?: Item[], public action?: EventEmitter<any>,\r\n    public itemStyleName?: string, public value?: any, public sizeStyle?: string) { }\r\n}\r\n\r\n@Injectable()\r\nexport class MenuService {\r\n  public VERTICAL_MENU_NAME = 'verticalMenu';\r\n\r\n  public menuMouseUp = '';\r\n\r\n  private _menus: {} = {};\r\n  private subject = new Subject<Menu>();\r\n\r\n  constructor(private helper: HelperService, private model: ModelService, private mouseService: MouseService) {\r\n    this.mouseService.getDocumentMouseUp().subscribe((event) => {\r\n      if (this.menuMouseUp === '') {\r\n        this.closeAllMenus();\r\n      } else if (this.menuMouseUp !== 'datePickerMenu' && this.menuMouseUp !== this.VERTICAL_MENU_NAME) {\r\n        const datePicker = Object.values(this._menus).find(m => (m as Menu).type === 'datePickerMenu') as Menu;\r\n        if (datePicker != null) {\r\n          datePicker.state = 'initialDown';\r\n        }\r\n      }\r\n      this.menuMouseUp = '';\r\n    });\r\n  }\r\n\r\n  public getVisibility(): Observable<Menu> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public addMenu(menu: Menu): void {\r\n    this._menus[menu.name] = menu;\r\n  }\r\n\r\n  public closeAllMenus() {\r\n    Object.values(this._menus).forEach((m: Menu) => m.state = m.type === 'buttonMenu' && this.model.options.isMobileDevice ? 'initialLeft' : 'initialDown');\r\n  }\r\n\r\n  public isMenuVisible(): boolean {\r\n    return Object.values(this._menus).find(m => (m as Menu).state === 'expanded') != null;\r\n  }\r\n\r\n  public showMenu(menuName: string) {\r\n    const menu: Menu = this._menus[menuName];\r\n\r\n    if (menu?.type !== 'datePickerMenu' && menu?.type !== this.VERTICAL_MENU_NAME) {\r\n      this.closeAllMenus();\r\n    }\r\n\r\n    if (menu) {\r\n      menu.sizeStyle = 'opacity: 0;';\r\n      if (this.model.options.isMobileDevice && menu.type === 'buttonMenu') {\r\n        setTimeout(() => {\r\n          const innerContent = menu.innerContent.nativeElement;\r\n          menu.left = 0;\r\n          menu.top = 0;\r\n          menu.width = innerContent.offsetWidth;\r\n          menu.height = innerContent.offsetHeight;\r\n          menu.state = 'initialLeft';\r\n          menu.sizeStyle = null;\r\n\r\n          setTimeout(() => {\r\n            menu.state = 'expanded';\r\n          });\r\n        });\r\n      } else {\r\n        setTimeout(() => {\r\n          menu.sizeStyle = null;\r\n          this.showMenuInternal(menu);\r\n        });\r\n      }\r\n      this.subject.next(menu);\r\n    }\r\n  }\r\n\r\n  private showMenuInternal(menu: Menu) {\r\n    const isVertMenu = true;\r\n\r\n    const parentButton = menu.parent.nativeElement;\r\n    const innerContent = menu.innerContent.nativeElement;\r\n    const offsetHeight = menu.menuEl.nativeElement.offsetHeight;\r\n    const style = menu.menuEl.nativeElement.style;\r\n\r\n    const coords = this.getMenuCoordinates(parentButton, innerContent, offsetHeight, style, isVertMenu);\r\n\r\n    menu.left = coords.left;\r\n    menu.top = coords.top;\r\n    menu.width = menu.width || coords.width;\r\n    menu.height = coords.height;\r\n    menu.state = coords.state;\r\n\r\n    setTimeout(() => {\r\n      menu.state = 'expanded';\r\n    });\r\n  }\r\n\r\n  public getMenuCoordinates(parentButton: any, innerContent: any, offsetHeight: number, style: any, isVertMenu: boolean): any {\r\n    const menu: any = {};\r\n    const browserWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n    const browserHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\r\n    const rightAlign = false;\r\n    const mainClassName = 'stiJsViewerMainPanel';\r\n    let animDirect = 'Down';\r\n    const leftOffset = 0;\r\n\r\n    let left = (isVertMenu)\r\n      ? (this.model.options.appearance.rightToLeft || rightAlign\r\n        ? (this.helper.findPosX(parentButton, mainClassName) - innerContent.offsetWidth + parentButton.offsetWidth) - (leftOffset || 0)\r\n        : this.helper.findPosX(parentButton, mainClassName) - (leftOffset || 0))\r\n      : ((animDirect === 'Right')\r\n        ? (this.helper.findPosX(parentButton, mainClassName) + parentButton.offsetWidth + 2)\r\n        : (this.helper.findPosX(parentButton, mainClassName) - parentButton.offsetWidth - 2));\r\n\r\n    if (left + innerContent.offsetWidth > browserWidth) {\r\n      left = browserWidth - innerContent.offsetWidth - 15;\r\n    }\r\n    if (left < 0) {\r\n      left = 10;\r\n    }\r\n    menu.left = left;\r\n\r\n    if (animDirect === 'Down' &&\r\n      this.helper.findPosY(parentButton) + parentButton.offsetHeight + innerContent.offsetHeight > browserHeight &&\r\n      this.helper.findPosY(parentButton) - innerContent.offsetHeight > 0) {\r\n      animDirect = 'Up';\r\n    }\r\n\r\n    menu.top = (isVertMenu)\r\n      ? ((animDirect === 'Down')\r\n        ? (this.helper.findPosY(parentButton, mainClassName) + parentButton.offsetHeight + 2)\r\n        : (this.helper.findPosY(parentButton, mainClassName) - offsetHeight))\r\n      : (this.helper.findPosY(parentButton, mainClassName) + parentButton.offsetHeight + innerContent.offsetHeight > browserHeight &&\r\n        (browserHeight - innerContent.offsetHeight - 10) > 0)\r\n        ? (browserHeight - innerContent.offsetHeight - 10)\r\n        : this.helper.findPosY(parentButton, mainClassName);\r\n\r\n    menu.width = innerContent.offsetWidth;\r\n    menu.height = innerContent.offsetHeight;\r\n\r\n    if (menu.top + innerContent.offsetHeight > browserHeight) {\r\n      menu.top = (browserHeight - innerContent.offsetHeight - 10);\r\n    }\r\n\r\n    if (menu.top < 0) {\r\n      menu.top = 10;\r\n    }\r\n\r\n    menu.state = animDirect === 'Down' ? 'initialDown' : 'initialUp';\r\n\r\n    return menu;\r\n  }\r\n\r\n  get menus(): Menu[] {\r\n    return Object.values(this._menus);\r\n  }\r\n\r\n  getVerticalMenu(): Menu {\r\n    return this._menus[this.VERTICAL_MENU_NAME];\r\n  }\r\n\r\n  getMenu(name: string): Menu {\r\n    return this._menus[name];\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Form } from '../services/objects';\r\nimport { MouseService } from '../services/mouse.service';\r\nimport { MenuService } from '../menu/menu.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { BaseFormComponent } from './base-form.component';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Injectable()\r\nexport class FormService {\r\n\r\n  private mouseX = 0;\r\n  private mouseY = 0;\r\n  private formX = 0;\r\n  private formY = 0;\r\n\r\n  constructor(public mouseService: MouseService, public menuService: MenuService, public helper: HelperService, public model: ModelService) {\r\n    mouseService.getDocumentMouseMove().subscribe((event: MouseEvent) => {\r\n      this.move(event);\r\n    });\r\n\r\n    mouseService.getDocumentMouseUp().subscribe((event: MouseEvent) => {\r\n      this.stopMove();\r\n    });\r\n  }\r\n\r\n  public get form(): Form {\r\n    return this.model.form;\r\n  }\r\n\r\n  public set form(form: Form) {\r\n    this.model.form = form;\r\n  }\r\n\r\n  public showForm(name: string, formData?: any) {\r\n    this.form = { name, left: 0, top: 0, isMooving: false, formData };\r\n  }\r\n\r\n  public closeForm(name: string) {\r\n    if (this.form?.name === 'notificationForm' && this.model.notificationFormOptions?.action) {\r\n      this.model.notificationFormOptions.action();\r\n    }\r\n    this.form = null;\r\n  }\r\n\r\n  public centerForm(baseForm: BaseFormComponent, defaultTop: number) {\r\n    if (this.form != null) {\r\n      setTimeout(() => {\r\n        const position = this.helper.setObjectToCenter(baseForm.element.nativeElement, defaultTop);\r\n        this.form.left = position.left;\r\n        this.form.top = position.top;\r\n        this.form.level = baseForm.level;\r\n      });\r\n    }\r\n  }\r\n\r\n  public startMove(name: string, event: MouseEvent, touchEvent?: TouchEvent) {\r\n    if (event || touchEvent && touchEvent.changedTouches.length > 0) {\r\n      this.formX = this.form.left;\r\n      this.formY = this.form.top;\r\n      this.mouseX = event?.screenX || touchEvent.changedTouches[0].screenX;\r\n      this.mouseY = event?.screenY || touchEvent.changedTouches[0].screenY;\r\n      this.form.isMooving = true;\r\n    }\r\n  }\r\n\r\n  public move(event: any) {\r\n    if (this.form?.isMooving) {\r\n      const screenX = event.screenX || (event.changedTouches.length > 0 ? event.changedTouches[0].screenX : -1);\r\n      const screenY = event.screenY || (event.changedTouches.length > 0 ? event.changedTouches[0].screenY : -1);\r\n      this.form.left = this.formX + (screenX - this.mouseX);\r\n      this.form.top = this.formY + (screenY - this.mouseY);\r\n      this.menuService.closeAllMenus();\r\n    }\r\n  }\r\n\r\n  public stopMove() {\r\n    if (this.form?.isMooving) {\r\n      this.form.isMooving = false;\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { PageService } from './page.service';\r\n\r\n@Injectable()\r\nexport class FullScreenService {\r\n\r\n  constructor(public model: ModelService, public pageService: PageService) { }\r\n\r\n  public changeFullScreenMode(fullScreenMode: boolean) {\r\n    this.model.options.appearance.fullScreenMode = fullScreenMode;\r\n    const viewer = this.model.controls.viewer.el.nativeElement;\r\n\r\n    if (fullScreenMode) {\r\n      this.model.fullScreenOptions = {\r\n        scrollbarsMode: this.model.options.appearance.scrollbarsMode,\r\n        zIndex: viewer.style.zIndex,\r\n        position: viewer.style.position,\r\n        width: viewer.style.width,\r\n        height: viewer.style.height,\r\n        overflow: document.body.style.overflow\r\n      };\r\n\r\n      this.model.options.appearance.scrollbarsMode = true;\r\n      viewer.style.zIndex = '1000000';\r\n      viewer.style.position = this.model.options.reportDesignerMode ? 'absolute' : 'fixed';\r\n      viewer.style.width = null;\r\n      viewer.style.height = null;\r\n      document.body.style.overflow = 'hidden';\r\n    } else if (this.model.fullScreenOptions) {\r\n      this.model.options.appearance.scrollbarsMode = this.model.fullScreenOptions.scrollbarsMode;\r\n      viewer.style.zIndex = this.model.fullScreenOptions.zIndex;\r\n      viewer.style.position = this.model.fullScreenOptions.position;\r\n      viewer.style.width = this.model.fullScreenOptions.width;\r\n      viewer.style.height = this.model.fullScreenOptions.height;\r\n      document.body.style.overflow = this.model.fullScreenOptions.overflow;\r\n\r\n      this.model.fullScreenOptions = null;\r\n    }\r\n\r\n    this.pageService.calculateLayout();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { StiHttpClientService } from './http-client.service';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { ModelService } from './model.service';\r\nimport { StylesService } from './styles.service';\r\nimport { ViewerEvent, BookmarkNode, Message } from './objects';\r\nimport { PageService } from './page.service';\r\nimport { HelperService } from './helper.service';\r\nimport { FormService } from '../forms/form.service';\r\nimport { FullScreenService } from './full-screen.service';\r\nimport { MenuService, Menu } from '../menu/menu.service';\r\n\r\n@Injectable()\r\nexport class ControllerService {\r\n\r\n  private subject = new Subject<any>();\r\n  public actionSubject = new Subject<Message>();\r\n\r\n  constructor(private httpClient: StiHttpClientService, private model: ModelService,\r\n    private stylesService: StylesService, private pageService: PageService, private helper: HelperService,\r\n    private formService: FormService, private fullScreenService: FullScreenService, private menuService: MenuService,\r\n    private styleService: StylesService) {\r\n\r\n    setInterval(() => {\r\n      if (this.model.httpError) {\r\n        if (this.model.httpError.error?.text) {\r\n          this.showError(this.model.httpError.error?.text);\r\n        } else if (this.model.httpError.message) {\r\n          this.showError(null, this.model.httpError.message);\r\n        } else if (this.model.httpError.error instanceof ErrorEvent) {\r\n          this.showError(this.model.httpError.error.message);\r\n        }\r\n        this.model.httpError = null;\r\n      }\r\n      if (this.model.navigateNode) {\r\n        this.postBookmarkNodeAction(this.model.navigateNode);\r\n        this.model.navigateNode = null;\r\n      }\r\n    }, 250);\r\n\r\n    this.setupHandlers();\r\n  }\r\n\r\n  public setupHandlers() {\r\n    this.getMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'GetReport':\r\n        case 'OpenReport':\r\n          setTimeout(() => {\r\n            this.styleService.addCustomFontStyles(message.data?.customFonts);\r\n\r\n            if (this.model.options.appearance.fullScreenMode) {\r\n              this.fullScreenService.changeFullScreenMode(true);\r\n            }\r\n\r\n            if (message.data?.stimulsoftFontContent && !this.model.options.stimulsoftFontContent) {\r\n              this.model.options.stimulsoftFontContent = message.data.stimulsoftFontContent;\r\n              this.styleService.addCustomFontStyles([{\r\n                contentForCss: message.data.stimulsoftFontContent,\r\n                originalFontFamily: 'Stimulsoft'\r\n              }]);\r\n            }\r\n          });\r\n          break;\r\n      }\r\n    });\r\n\r\n    this.model.controls.bookmarksPanel.getVisibility().subscribe((value) => {\r\n      if (value && this.model.options.isMobileDevice) {\r\n        this.model.controls.parametersPanel.visible = false;\r\n      }\r\n      if (value) {\r\n        this.hideToolbar();\r\n      } else {\r\n        this.showToolbar();\r\n      }\r\n    });\r\n\r\n    this.model.controls.parametersPanel.getVisibility().subscribe((value) => {\r\n      if (value && this.model.options.isMobileDevice) {\r\n        this.model.controls.bookmarksPanel.visible = false;\r\n      }\r\n      if (value) {\r\n        this.hideToolbar();\r\n      } else {\r\n        this.showToolbar();\r\n      }\r\n    });\r\n\r\n    this.menuService.getVisibility().subscribe((menu: Menu) => {\r\n      this.hideToolbar();\r\n    });\r\n  }\r\n\r\n  public hideToolbar() {\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      this.model.controls.toolbar.visible = false;\r\n      this.model.controls.navigatePanel.visible = false;\r\n    }\r\n  }\r\n\r\n  public showToolbar() {\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      this.model.controls.toolbar.visible = true;\r\n      this.model.controls.navigatePanel.visible = true;\r\n      setTimeout(() => {\r\n        this.keepToolbar();\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  public keepToolbar() {\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      clearTimeout(this.model.toolbarHideTimer);\r\n      this.model.toolbarHideTimer = setTimeout(() => {\r\n        this.hideToolbar();\r\n      }, 4000);\r\n    }\r\n  }\r\n\r\n  public getMessage(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public getActionMessage(): Observable<Message> {\r\n    return this.actionSubject.asObservable();\r\n  }\r\n\r\n  public post(action: string, cAction?: string, postData?: any, responseType: string = 'json', subAction?: string) {\r\n    this.model.controls.navigatePanel.enabled = false;\r\n    this.model.controls.toolbar.enabled = false;\r\n    let url: string;\r\n    if (!cAction) {\r\n      url = this.model.requestUrl.replace('{action}', action === 'GetReport' || this.model.options.server.cacheMode === 'None' ? this.model.options.actions.getReport : this.model.options.actions.viewerEvent);\r\n    } else {\r\n      url = this.model.requestUrl.replace('{action}', cAction);\r\n    }\r\n    if (postData) {\r\n      postData.action = action;\r\n    } else {\r\n      postData = { action };\r\n    }\r\n\r\n    this.httpClient.post(url, this.model.createPostParameters(postData), responseType).subscribe(data => {\r\n      this.model.showProgress = false;\r\n      this.model.controls.navigatePanel.enabled = true;\r\n      this.model.controls.toolbar.enabled = true;\r\n\r\n      if (data === 'ServerError:The report is not specified.' && this.model.options?.isReportRecieved) {\r\n        this.model.options.isReportRecieved = false;\r\n        this.model.reportParams.prevPageNumber = this.model.reportParams.pageNumber;\r\n        this.post('GetReport');\r\n        return;\r\n      }\r\n\r\n      if (data) {\r\n        this.model.reportParams = data;\r\n        this.startRefreshReportTimer(data.refreshTime);\r\n      }\r\n      this.subject.next({ action, data, subAction });\r\n    });\r\n  }\r\n\r\n  public loadViewer(): void {\r\n    const url = this.model.requestUrl.replace('{action}', this.model.action);\r\n    this.httpClient.post(url, this.model.createPostParameters({ action: 'AngularViewerData' }, true, false), 'json',).subscribe(data => {\r\n      this.model.clear();\r\n      this.stylesService.setupStyle(atob(data['styles']), 'viewer');\r\n      this.model.options = data;\r\n      this.checkTrExp();\r\n      this.initAutoUpdateCache();\r\n      this.subject.next({ action: 'viewer_loaded' });\r\n      this.getReport();\r\n    });\r\n  }\r\n\r\n  public getReport(): void {\r\n    this.model.options.paramsVariablesStartValues = null;\r\n    this.post('GetReport');\r\n  }\r\n\r\n  public getPages(): void {\r\n    this.post('GetPages');\r\n  }\r\n\r\n  public postExport(format: string, settings: any, elementName?: string, isDashboardExport: boolean = false) {\r\n    const data = {\r\n      action: isDashboardExport ? 'ExportDashboard' : 'ExportReport',\r\n      exportFormat: format,\r\n      exportSettings: settings,\r\n      elementName\r\n    };\r\n\r\n    const doc = settings && settings.OpenAfterExport && this.model.options.appearance.openExportedReportWindow === '_blank' ? this.helper.openNewWindow('about:blank', '_blank').document : null;\r\n    const url = this.model.requestUrl;\r\n    this.httpClient.postForm(url.replace('{action}', this.model.options.actions.exportReport), data, doc);\r\n    this.actionSubject.next({ action: 'ExportReport', data });\r\n  }\r\n\r\n  public loadFile(fileName: string, content: any) {\r\n    if (typeof content !== 'string' || content === '') { return; }\r\n\r\n    if (content.indexOf('<?xml') === 0 || content.indexOf('{') === 0) { content = btoa(content); }\r\n\r\n    const data = {\r\n      action: 'OpenReport',\r\n      openingFileName: fileName || 'Report.mdc',\r\n      base64Data: content.indexOf('base64,') > 0 ? content.substr(content.indexOf('base64,') + 7) : content\r\n    };\r\n\r\n    if (fileName && (fileName.toLowerCase().indexOf('.mdx') >= 0 || fileName.toLowerCase().indexOf('.mrx') >= 0)) {\r\n      this.formService.showForm('passwordForm', data);\r\n    } else {\r\n      this.postOpen(data);\r\n    }\r\n  }\r\n\r\n  public postOpen(data: any) {\r\n    this.model.clearViewerState();\r\n    this.model.reportParams.reportFileName = data.openingFileName;\r\n    this.post('OpenReport', this.model.options.actions.openReport, data);\r\n  }\r\n\r\n  public action(event: ViewerEvent): void {\r\n    switch (event.name) {\r\n      case 'Find':\r\n        this.model.controls.findPanel.visible = !this.model.controls.findPanel.visible;\r\n        return;\r\n\r\n      case 'Bookmarks':\r\n        this.model.controls.bookmarksPanel.visible = !this.model.controls.bookmarksPanel.visible;\r\n        return;\r\n\r\n      case 'Parameters':\r\n        this.model.controls.parametersPanel.visible = !this.model.controls.parametersPanel.visible;\r\n        return;\r\n\r\n      case 'BookmarkAction':\r\n        if (this.model.reportParams.pageNumber === event.bookmarkPage || this.model.reportParams.viewMode !== 'SinglePage') {\r\n          this.helper.scrollToAnchor(event.bookmarkAnchor, event.componentGuid);\r\n          return;\r\n        } else {\r\n          this.model.reportParams.pageNumber = event.bookmarkPage;\r\n          this.model.options.bookmarkAnchor = event.bookmarkAnchor;\r\n          this.model.options.componentGuid = event.componentGuid;\r\n        }\r\n        break;\r\n\r\n      case 'GoToPage':\r\n        this.model.reportParams.pageNumber = event.value;\r\n        break;\r\n\r\n      case 'FirstPage':\r\n        this.model.reportParams.pageNumber = 0;\r\n        break;\r\n\r\n      case 'PrevPage':\r\n        this.model.reportParams.pageNumber = Math.max(0, this.model.reportParams.pageNumber - 1);\r\n        break;\r\n\r\n      case 'NextPage':\r\n        this.model.reportParams.pageNumber = Math.min(this.model.reportParams.pagesCount - 1, this.model.reportParams.pageNumber + 1);\r\n        break;\r\n\r\n      case 'LastPage':\r\n        this.model.reportParams.pageNumber = this.model.reportParams.pagesCount - 1;\r\n        break;\r\n\r\n      case 'ViewModeSinglePage':\r\n        this.model.reportParams.viewMode = 'SinglePage';\r\n        break;\r\n\r\n      case 'ViewModeContinuous':\r\n        this.model.reportParams.viewMode = 'Continuous';\r\n        break;\r\n\r\n      case 'ViewModeMultiplePages':\r\n        this.model.reportParams.viewMode = 'MultiplePages';\r\n        break;\r\n\r\n      case 'Zoom25': this.model.reportParams.zoom = 25; break;\r\n      case 'Zoom50': this.model.reportParams.zoom = 50; break;\r\n      case 'Zoom75': this.model.reportParams.zoom = 75; break;\r\n      case 'Zoom100': this.model.reportParams.zoom = 100; break;\r\n      case 'Zoom150': this.model.reportParams.zoom = 150; break;\r\n      case 'Zoom200': this.model.reportParams.zoom = 200; break;\r\n\r\n      case 'ZoomOnePage':\r\n      case 'ZoomPageWidth':\r\n        this.model.reportParams.zoom = event.name === 'ZoomPageWidth' ? this.pageService.getZoomByPageWidth() : this.pageService.getZoomByPageHeight();\r\n        break;\r\n\r\n      case 'Submit':\r\n        this.model.reportParams.editableParameters = null;\r\n        if (this.model.reportParams.type === 'Report') { this.model.reportParams.pageNumber = 0; }\r\n        if (this.model.options.isMobileDevice) { this.model.controls.parametersPanel.visible = false; }\r\n        this.actionSubject.next({ action: 'Variables' });\r\n        return;\r\n\r\n      case 'Reset':\r\n        if (this.model.options.paramsVariablesStartValues) {\r\n          this.model.options.paramsVariables = this.model.options.paramsVariablesStartValues;\r\n        }\r\n        this.actionSubject.next({ action: 'Reset' });\r\n        return;\r\n\r\n      case 'Editor':\r\n        this.actionSubject.next({ action: 'Editor', data: {} });\r\n        return;\r\n\r\n      case 'Resources':\r\n        this.model.controls.resourcesPanel.visible = !this.model.controls.resourcesPanel.visible;\r\n        return;\r\n\r\n      case 'PrintPdf':\r\n      case 'PrintWithPreview':\r\n      case 'PrintWithoutPreview':\r\n        this.actionSubject.next({ action: 'Print', data: { format: event.name } });\r\n        return;\r\n\r\n      case 'Print':\r\n        let format = 'PrintPdf';\r\n        switch (this.model.options.toolbar.printDestination) {\r\n          case 'Pdf':\r\n            format = 'PrintPdf';\r\n            break;\r\n          case 'Direct':\r\n            format = 'PrintWithoutPreview';\r\n            break;\r\n          case 'WithPreview':\r\n            format = 'PrintWithPreview';\r\n            break;\r\n        }\r\n        this.actionSubject.next({ action: 'Print', data: { format } });\r\n        return;\r\n\r\n      case 'Open':\r\n        this.model.openDialogFileMask = null;\r\n        setTimeout(() => {\r\n          this.model.openDialogFileMask = '.mdc,.mdz,.mdx,.mrt,.mrz,.mrx';\r\n        });\r\n        return;\r\n\r\n      case 'ResourceView':\r\n        this.postReportResource(event.value.name, 'View');\r\n        return;\r\n\r\n      case 'ResourceSaveFile':\r\n        this.postReportResource(event.value.name, 'SaveFile');\r\n        return;\r\n\r\n      case 'FullScreen':\r\n        this.fullScreenService.changeFullScreenMode(!this.model.options.appearance.fullScreenMode);\r\n        return;\r\n\r\n      case 'About':\r\n        this.actionSubject.next({ action: 'About' });\r\n        return;\r\n\r\n      case 'Pin':\r\n        this.model.options.toolbar.autoHide = !this.model.options.toolbar.autoHide;\r\n        this.pageService.calculateLayout();\r\n        if (this.model.options.toolbar.autoHide) {\r\n          setTimeout(() => {\r\n            this.hideToolbar();\r\n          }, 200);\r\n        }\r\n        return;\r\n\r\n      case 'Design':\r\n        this.actionSubject.next({ action: 'Design' });\r\n        break;\r\n\r\n      default:\r\n        if (event.name.indexOf('saveMenu') === 0) {\r\n          this.actionSubject.next({ action: 'Export', data: { format: event.name.substr(8) } });\r\n          return;\r\n        } else if (event.name.indexOf('sendEmailMenu') === 0) {\r\n          this.actionSubject.next({ action: 'SendEmail', data: { format: event.name.substr(13) } });\r\n          return;\r\n        }\r\n    }\r\n\r\n    this.getPages();\r\n  }\r\n\r\n  public showError(message: any, messageText?: string): boolean {\r\n    let type = 'Error';\r\n\r\n    // Check for error in 'ServerError:' string format\r\n    if (message != null && typeof (message) === 'string' && message.substr(0, 12) === 'ServerError:') {\r\n      if (message.length <= 13) {\r\n        messageText = 'An unknown error occurred (the server returned an empty value).';\r\n      } else {\r\n        messageText = message.substr(12);\r\n      }\r\n    }\r\n\r\n    // Check for error in JSON format\r\n    if (message != null && message.success === false && message.type && message.text) {\r\n      type = message.type;\r\n      messageText = message.text;\r\n    }\r\n\r\n    this.model.errorMessage = { error: 'Unknown error', type };\r\n\r\n    if (messageText != null) {\r\n      if (messageText === 'The report is not specified.' && !this.model.options.appearance.showReportIsNotSpecifiedMessage) { return true; }\r\n\r\n      this.model.errorMessage = { error: messageText.replace('\\n', '<br>'), type };\r\n\r\n      if (this.model.images) {\r\n        this.formService.showForm('errorMessageForm');\r\n      } else {\r\n        alert(messageText);\r\n      }\r\n      this.actionSubject.next({ action: 'Error' });\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  public postReportResource(resourceName: string, viewType: string) {\r\n    const data = {\r\n      action: 'ReportResource',\r\n      reportResourceParams: {\r\n        resourceName,\r\n        viewType\r\n      }\r\n    };\r\n\r\n    const doc = viewType === 'View' ? this.helper.openNewWindow('about:blank', '_blank').document : null;\r\n    const url = this.model.requestUrl;\r\n    this.httpClient.postForm(url.replace('{action}', this.model.options.actions.viewerEvent), data, doc);\r\n  }\r\n\r\n  public postBookmarkNodeAction(node: BookmarkNode) {\r\n    node.selected = true;\r\n    this.action({ name: 'BookmarkAction', bookmarkPage: node.page, bookmarkAnchor: node.url.replace(/\\\\\\'/g, '\\'').substr(1), componentGuid: node.compunentGuid });\r\n  }\r\n\r\n  public viewerResized() {\r\n    this.menuService.closeAllMenus();\r\n  }\r\n\r\n  public initAutoUpdateCache() {\r\n    if (this.model.options.server.allowAutoUpdateCache) {\r\n      if (this.model.timerAutoUpdateCache) {\r\n        clearInterval(this.model.timerAutoUpdateCache);\r\n      }\r\n      this.model.timerAutoUpdateCache = setInterval(() => this.post('UpdateCache'), this.model.options.server.timeoutAutoUpdateCache);\r\n    }\r\n  }\r\n\r\n  public startRefreshReportTimer(timeout: number) {\r\n    if (this.model.refreshReportTimer != null) {\r\n      clearInterval(this.model.refreshReportTimer);\r\n      this.model.refreshReportTimer = null;\r\n    }\r\n\r\n    if (timeout && timeout > 0) {\r\n      this.model.refreshReportTimer = setInterval(() => {\r\n        if (!this.model.showProgress) {\r\n          this.post('Refresh');\r\n        }\r\n      }, timeout * 1000);\r\n    }\r\n  }\r\n\r\n  public checkTrExp() {\r\n    if (!this.model.options.cloudMode && !this.model.options.serverMode && !this.model.options.standaloneJsMode && !this.model.options.reportDesignerMode && !this.model.options.alternateValid) {\r\n      let buildDate = new Date();\r\n      try {\r\n        /*if (this.model.options.jsMode && typeof Stimulsoft != 'undefined') {\r\n          let innerDate = Stimulsoft.StiVersion.created.innerDate;\r\n          if (innerDate['getFullYear'] && innerDate.getFullYear() > 2017)\r\n            buildDate = Stimulsoft.StiVersion.created.innerDate;\r\n        }\r\n        else*/ if (this.model.options.buildDate) {\r\n          buildDate = new Date(this.model.options.buildDate);\r\n        }\r\n      } catch (e) {\r\n        buildDate = new Date();\r\n      }\r\n\r\n      const trDays = Math.floor(((new Date()).getTime() - buildDate.getTime()) / 1000 / 60 / 60 / 24);\r\n      if (trDays > 60) {\r\n        setTimeout(() => {\r\n          const message = trDays > 120 ? this.model.loc('NoticesYourTrialHasExpired') : this.model.loc('NoticesYouUsingTrialVersion');\r\n          const image = 'Notifications.Warning.png';\r\n          const buttonCaption = this.model.loc('ButtonOk');\r\n          let cancelAction: any;\r\n          let action: any;\r\n\r\n          if (trDays > 120) {\r\n            action = cancelAction = () => { window.location.href = 'https://www.stimulsoft.com/en/online-store'; };\r\n          }\r\n\r\n          this.model.notificationFormOptions = { message, image, buttonCaption, cancelAction, action };\r\n          this.formService.showForm('notificationForm');\r\n        }, 3000);\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { Item } from './objects';\r\n\r\n@Injectable()\r\nexport class CollectionsService {\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  public getImageTypesItems() {\r\n    const items = [];\r\n    if (this.model.options.exports.showExportToImageBmp) { items.push(new Item('Bmp', 'Bmp', null, 'Bmp')); }\r\n    if (this.model.options.exports.showExportToImageGif) { items.push(new Item('Gif', 'Gif', null, 'Gif')); }\r\n    if (this.model.options.exports.showExportToImageJpeg) { items.push(new Item('Jpeg', 'Jpeg', null, 'Jpeg')); }\r\n    if (this.model.options.exports.showExportToImagePcx) { items.push(new Item('Pcx', 'Pcx', null, 'Pcx')); }\r\n    if (this.model.options.exports.showExportToImagePng) { items.push(new Item('Png', 'Png', null, 'Png')); }\r\n    if (this.model.options.exports.showExportToImageTiff) { items.push(new Item('Tiff', 'Tiff', null, 'Tiff')); }\r\n    if (this.model.options.exports.showExportToImageMetafile) { items.push(new Item('Emf', 'Emf', null, 'Emf')); }\r\n    if (this.model.options.exports.showExportToImageSvg) { items.push(new Item('Svg', 'Svg', null, 'Svg')); }\r\n    if (this.model.options.exports.showExportToImageSvgz) { items.push(new Item('Svgz', 'Svgz', null, 'Svgz')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getDataTypesItems() {\r\n    const items = [];\r\n    if (this.model.options.exports.showExportToCsv) { items.push(new Item('Csv', 'Csv', null, 'Csv')); }\r\n    if (this.model.options.exports.showExportToDbf) { items.push(new Item('Dbf', 'Dbf', null, 'Dbf')); }\r\n    if (this.model.options.exports.showExportToXml) { items.push(new Item('Xml', 'Xml', null, 'Xml')); }\r\n    if (this.model.options.exports.showExportToDif) { items.push(new Item('Dif', 'Dif', null, 'Dif')); }\r\n    if (this.model.options.exports.showExportToSylk) { items.push(new Item('Sylk', 'Sylk', null, 'Sylk')); }\r\n    if (this.model.options.exports.showExportToJson) { items.push(new Item('Json', 'Json', null, 'Json')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getExcelTypesItems() {\r\n    const items = [];\r\n    if (this.model.options.exports.showExportToExcel2007) { items.push(new Item('Excel2007', 'Excel', null, 'Excel2007')); }\r\n    if (this.model.options.exports.showExportToExcel) { items.push(new Item('ExcelBinary', 'Excel 97-2003', null, 'ExcelBinary')); }\r\n    if (this.model.options.exports.showExportToExcelXml) { items.push(new Item('ExcelXml', 'Excel Xml 2003', null, 'ExcelXml')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getHtmlTypesItems() {\r\n    const items = [];\r\n    if (this.model.options.exports.showExportToHtml) { items.push(new Item('Html', 'Html', null, 'Html')); }\r\n    if (this.model.options.exports.showExportToHtml5) { items.push(new Item('Html5', 'Html5', null, 'Html5')); }\r\n    if (this.model.options.exports.showExportToMht) { items.push(new Item('Mht', 'Mht', null, 'Mht')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getZoomItems() {\r\n    const items = [];\r\n    [0.25, 0.5, 0.75, 1, 1.25, 1.5, 2].forEach((item, i) => items.push(new Item('item' + i, (item * 100) + '%', null, item)));\r\n    return items;\r\n  }\r\n\r\n  public getImageFormatForHtmlItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Jpeg', null, 'Jpeg'));\r\n    items.push(new Item('item1', 'Gif', null, 'Gif'));\r\n    items.push(new Item('item2', 'Bmp', null, 'Bmp'));\r\n    items.push(new Item('item3', 'Png', null, 'Png'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getExportModeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Table', null, 'Table'));\r\n    items.push(new Item('item1', 'Span', null, 'Span'));\r\n    items.push(new Item('item2', 'Div', null, 'Div'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getImageResolutionItems() {\r\n    const items = [];\r\n    ['10', '25', '50', '75', '100', '200', '300', '400', '500'].forEach((item, i) => items.push(new Item('item' + i, item, null, parseInt(item, 10))));\r\n    return items;\r\n  }\r\n\r\n  public getImageCompressionMethodItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Jpeg', null, 'Jpeg'));\r\n    items.push(new Item('item1', 'Flate', null, 'Flate'));\r\n    return items;\r\n  }\r\n\r\n  public getImageQualityItems() {\r\n    const items = [];\r\n    [0.25, 0.5, 0.75, 0.85, 0.9, 0.95, 1].forEach((item, i) => items.push(new Item('item' + i, (item * 100).toString(), null, item)));\r\n    return items;\r\n  }\r\n\r\n  public getBorderTypeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('BorderTypeSimple'), null, 'Simple'));\r\n    items.push(new Item('item1', this.model.loc('BorderTypeSingle'), null, 'UnicodeSingle'));\r\n    items.push(new Item('item2', this.model.loc('BorderTypeDouble'), null, 'UnicodeDouble'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getEncodingDataItems() {\r\n    const items = [];\r\n    this.model.encodingData.forEach((item, i) => items.push(new Item('item' + i, item.value, null, item.key)));\r\n    return items;\r\n  }\r\n\r\n  public getImageFormatItems(withoutMonochrome: boolean = false) {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('ImageFormatColor'), null, 'Color'));\r\n    items.push(new Item('item1', this.model.loc('ImageFormatGrayscale'), null, 'Grayscale'));\r\n    if (!withoutMonochrome) { items.push(new Item('item2', this.model.loc('ImageFormatMonochrome'), null, 'Monochrome')); }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getMonochromeDitheringTypeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'None', null, 'None'));\r\n    items.push(new Item('item1', 'FloydSteinberg', null, 'FloydSteinberg'));\r\n    items.push(new Item('item2', 'Ordered', null, 'Ordered'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getTiffCompressionSchemeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Default', null, 'Default'));\r\n    items.push(new Item('item1', 'CCITT3', null, 'CCITT3'));\r\n    items.push(new Item('item2', 'CCITT4', null, 'CCITT4'));\r\n    items.push(new Item('item3', 'LZW', null, 'LZW'));\r\n    items.push(new Item('item4', 'None', null, 'None'));\r\n    items.push(new Item('item5', 'Rle', null, 'Rle'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getEncodingDifFileItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', '437', null, '437'));\r\n    items.push(new Item('item1', '850', null, '850'));\r\n    items.push(new Item('item2', '852', null, '852'));\r\n    items.push(new Item('item3', '857', null, '857'));\r\n    items.push(new Item('item4', '860', null, '860'));\r\n    items.push(new Item('item5', '861', null, '861'));\r\n    items.push(new Item('item6', '862', null, '862'));\r\n    items.push(new Item('item7', '863', null, '863'));\r\n    items.push(new Item('item8', '865', null, '865'));\r\n    items.push(new Item('item9', '866', null, '866'));\r\n    items.push(new Item('item10', '869', null, '869'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getExportModeRtfItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('ExportModeRtfTable'), null, 'Table'));\r\n    items.push(new Item('item1', this.model.loc('ExportModeRtfFrame'), null, 'Frame'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getEncodingDbfFileItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', 'Default', null, 'Default'));\r\n    items.push(new Item('item1', '437 U.S. MS-DOS', null, 'USDOS'));\r\n    items.push(new Item('item2', '620 Mazovia(Polish) MS-DOS', null, 'MazoviaDOS'));\r\n    items.push(new Item('item3', '737 Greek MS-DOS(437G)', null, 'GreekDOS'));\r\n    items.push(new Item('item4', '850 International MS-DOS', null, 'InternationalDOS'));\r\n    items.push(new Item('item5', '852 Eastern European MS-DOS', null, 'EasternEuropeanDOS'));\r\n    items.push(new Item('item6', '857 Turkish MS-DOS', null, 'TurkishDOS'));\r\n    items.push(new Item('item7', '861 Icelandic MS-DOS', null, 'IcelandicDOS'));\r\n    items.push(new Item('item8', '865 Nordic MS-DOS', null, 'NordicDOS'));\r\n    items.push(new Item('item9', '866 Russian MS-DOS', null, 'RussianDOS'));\r\n    items.push(new Item('item10', '895 Kamenicky(Czech) MS-DOS', null, 'KamenickyDOS'));\r\n    items.push(new Item('item11', '1250 Eastern European Windows', null, 'EasternEuropeanWindows'));\r\n    items.push(new Item('item12', '1251 Russian Windows', null, 'RussianWindows'));\r\n    items.push(new Item('item13', '1252 WindowsANSI', null, 'WindowsANSI'));\r\n    items.push(new Item('item14', '1253 GreekWindows', null, 'GreekWindows'));\r\n    items.push(new Item('item15', '1254 TurkishWindows', null, 'TurkishWindows'));\r\n    items.push(new Item('item16', '10000 StandardMacintosh', null, 'StandardMacintosh'));\r\n    items.push(new Item('item17', '10006 GreekMacintosh', null, 'GreekMacintosh'));\r\n    items.push(new Item('item18', '10007 RussianMacintosh', null, 'RussianMacintosh'));\r\n    items.push(new Item('item19', '10029 EasternEuropeanMacintosh', null, 'EasternEuropeanMacintosh'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getAllowEditableItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('NameYes'), null, 'Yes'));\r\n    items.push(new Item('item1', this.model.loc('NameNo'), null, 'No'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getEncryptionKeyLengthItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', '40 bit RC4 (Acrobat 3)', null, 'Bit40'));\r\n    items.push(new Item('item1', '128 bit RC4 (Acrobat 5)', null, 'Bit128'));\r\n    items.push(new Item('item2', '128 bit AES (Acrobat 7)', null, 'Bit128_r4'));\r\n    items.push(new Item('item3', '256 bit AES (Acrobat 9)', null, 'Bit256_r5'));\r\n    items.push(new Item('item4', '256 bit AES (Acrobat X)', null, 'Bit256_r6'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getDataExportModeItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('BandsFilterDataOnly'), null, 'Data'));\r\n    items.push(new Item('item1', this.model.loc('BandsFilterDataAndHeaders'), null, 'DataAndHeaders'));\r\n    items.push(new Item('item2', this.model.loc('BandsFilterDataAndHeadersFooters'), null, 'DataAndHeadersFooters'));\r\n    items.push(new Item('item3', this.model.loc('BandsFilterAllBands'), null, 'AllBands'));\r\n    return items;\r\n  }\r\n\r\n  public getFilterConditionItems(dataType) {\r\n    const items = [];\r\n    switch (dataType) {\r\n      case 'String':\r\n        items.push(new Item('item0', this.model.loc('ConditionEqualTo'), '', 'EqualTo'));\r\n        items.push(new Item('item1', this.model.loc('ConditionNotEqualTo'), '', 'NotEqualTo'));\r\n        items.push('separator1');\r\n        items.push(new Item('item2', this.model.loc('ConditionContaining'), '', 'Containing'));\r\n        items.push(new Item('item3', this.model.loc('ConditionNotContaining'), '', 'NotContaining'));\r\n        items.push('separator2');\r\n        items.push(new Item('item4', this.model.loc('ConditionBeginningWith'), '', 'BeginningWith'));\r\n        items.push(new Item('item5', this.model.loc('ConditionEndingWith'), '', 'EndingWith'));\r\n        items.push('separator3');\r\n        items.push(new Item('item2', this.model.loc('ConditionBetween'), '', 'Between'));\r\n        items.push(new Item('item3', this.model.loc('ConditionNotBetween'), '', 'NotBetween'));\r\n        items.push('separator4');\r\n        items.push(new Item('item6', this.model.loc('ConditionGreaterThan'), '', 'GreaterThan'));\r\n        items.push(new Item('item7', this.model.loc('ConditionGreaterThanOrEqualTo'), '', 'GreaterThanOrEqualTo'));\r\n        items.push('separator5');\r\n        items.push(new Item('item8', this.model.loc('ConditionLessThan'), '', 'LessThan'));\r\n        items.push(new Item('item9', this.model.loc('ConditionLessThanOrEqualTo'), '', 'LessThanOrEqualTo'));\r\n        items.push('separator6');\r\n        items.push(new Item('item10', this.model.loc('ConditionIsNull'), '', 'IsNull'));\r\n        items.push(new Item('item11', this.model.loc('ConditionIsNotNull'), '', 'IsNotNull'));\r\n        items.push('separator7');\r\n        items.push(new Item('item12', this.model.loc('ConditionIsBlank'), '', 'IsBlank'));\r\n        items.push(new Item('item13', this.model.loc('ConditionIsNotBlank'), '', 'IsNotBlank'));\r\n        break;\r\n      case 'Numeric':\r\n      case 'DateTime':\r\n        {\r\n          items.push(new Item('item0', this.model.loc('ConditionEqualTo'), '', 'EqualTo'));\r\n        }\r\n        items.push(new Item('item1', this.model.loc('ConditionNotEqualTo'), '', 'NotEqualTo'));\r\n        items.push('separator1');\r\n        items.push(new Item('item2', this.model.loc('ConditionBetween'), '', 'Between'));\r\n        items.push(new Item('item3', this.model.loc('ConditionNotBetween'), '', 'NotBetween'));\r\n        items.push('separator2');\r\n        items.push(new Item('item4', this.model.loc('ConditionGreaterThan'), '', 'GreaterThan'));\r\n        items.push(new Item('item5', this.model.loc('ConditionGreaterThanOrEqualTo'), '', 'GreaterThanOrEqualTo'));\r\n        items.push('separator3');\r\n        items.push(new Item('item6', this.model.loc('ConditionLessThan'), '', 'LessThan'));\r\n        items.push(new Item('item7', this.model.loc('ConditionLessThanOrEqualTo'), '', 'LessThanOrEqualTo'));\r\n        items.push('separator4');\r\n        items.push(new Item('item8', this.model.loc('ConditionIsNull'), '', 'IsNull'));\r\n        items.push(new Item('item9', this.model.loc('ConditionIsNotNull'), '', 'IsNotNull'));\r\n        break;\r\n      case 'Boolean':\r\n        {\r\n          items.push(new Item('item0', this.model.loc('ConditionEqualTo'), '', 'EqualTo'));\r\n        }\r\n        items.push(new Item('item1', this.model.loc('ConditionNotEqualTo'), '', 'NotEqualTo'));\r\n        break;\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  public getBoolItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('NameTrue'), null, 'True'));\r\n    items.push(new Item('item1', this.model.loc('NameFalse'), null, 'False'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getPaperSizesItems() {\r\n    const items = [];\r\n    this.model.paperSizes.forEach((item, i) => items.push(new Item('item' + i, item, null, item)));\r\n    return items;\r\n  }\r\n\r\n  public getOrientationItems() {\r\n    const items = [];\r\n    items.push(new Item('item0', this.model.loc('Portrait'), null, 'Portrait'));\r\n    items.push(new Item('item1', this.model.loc('Landscape'), null, 'Landscape'));\r\n\r\n    return items;\r\n  }\r\n\r\n  public getDashboardImageQualityItems() {\r\n    const items = [];\r\n    [50, 75, 100, 150, 200, 300, 500].forEach((item, i) => items.push(new Item('item' + i, item + '%', null, item.toString())));\r\n    return items;\r\n  }\r\n\r\n  public getPdfSecurityCertificatesItems() {\r\n    let items = [];\r\n    if (this.model.pdfSecurityCertificates) {\r\n      for (var i = 0; i < this.model.pdfSecurityCertificates.length; i++) {\r\n        var item = this.model.pdfSecurityCertificates[i];\r\n        items.push(new Item('item' + i, \"Name: \" + item.name + \"<br>Issuer: \" + item.issuer + \"<br>Valid from: \" + item.from + \" to \" + item.to, null, item.thumbprint, null, null, null, 'DigitalSignature'));\r\n      }\r\n    }\r\n    return items;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ExportFormSettings, ExportComponent, Message } from './objects';\r\nimport { FormService } from '../forms/form.service';\r\nimport { HelperService } from './helper.service';\r\nimport { ModelService } from './model.service';\r\nimport { CollectionsService } from './collections.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ExportService {\r\n\r\n  public exportFormSettings: ExportFormSettings;\r\n  public exportSettings: any = {};\r\n  public format: string;\r\n  public sendMail = false;\r\n\r\n  private subject = new Subject<any>();\r\n\r\n  constructor(public formService: FormService, public helper: HelperService, public model: ModelService, public collections: CollectionsService,\r\n    public controller: ControllerService) {\r\n\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'Export':\r\n          this.export(message.data.format);\r\n          break;\r\n        case 'SendEmail':\r\n          this.export(message.data.format, false, true);\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  public getMessage(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n\r\n  public export(format: string, update: boolean = false, sendMail: boolean = false) {\r\n    if (!this.helper.checkCloudAuthorization('export')) {\r\n      return;\r\n    }\r\n\r\n    this.sendMail = sendMail;\r\n    this.format = format;\r\n    this.exportSettings = this.getDefaultExportSettings(this.format);\r\n\r\n    if ((this.model.options.exports.showExportDialog && !sendMail) || (this.model.options.email.showExportDialog && sendMail)) {\r\n      this.exportFormSettings = this.getExportSetings(update);\r\n      if (!update) {\r\n        this.formService.closeForm('exportForm');\r\n        setTimeout(() => {\r\n          this.formService.showForm('exportForm');\r\n        });\r\n      }\r\n    } else {\r\n      this.postExport();\r\n    }\r\n  }\r\n\r\n  public postExport() {\r\n    if (!this.sendMail) {\r\n      this.controller.postExport(this.format, this.exportSettings);\r\n    } else {\r\n      this.subject.next('postMail');\r\n    }\r\n  }\r\n\r\n  getExportSetings(update: boolean): ExportFormSettings {\r\n    let result: ExportFormSettings;\r\n\r\n    this.getDefaultSettings();\r\n\r\n    switch (this.format) {\r\n      case 'Document':\r\n        result = { components: this.getComponents(['SaveReportMdc', 'SaveReportMdz', 'SaveReportMdx', 'SaveReportPassword']) };\r\n        break;\r\n\r\n      case 'Pdf':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution', 'ImageCompressionMethod',\r\n            'AllowEditable', 'ImageQuality', /*'StandardPdfFonts',*/ 'EmbeddedFonts', /*'UseUnicode', 'Compressed',*/ 'ExportRtfTextAsImage', 'PdfACompliance', 'UseDigitalSignature', 'DocumentSecurityButton', 'DigitalSignatureButton',\r\n            'OpenAfterExport', 'PasswordInputUser', 'PasswordInputOwner', 'PrintDocument', 'ModifyContents', 'CopyTextAndGraphics',\r\n            'AddOrModifyTextAnnotations', 'KeyLength', 'GetCertificateFromCryptoUI', 'SubjectNameString']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n      case 'Xps':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution', 'ImageQuality', 'OpenAfterExport',\r\n            'ExportRtfTextAsImage']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n      case 'Ppt2007':\r\n        result = { components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution', 'ImageQuality']) };\r\n        break;\r\n\r\n      case 'Html':\r\n        result = {\r\n          components: this.getComponents(['HtmlType', 'Zoom', 'ImageFormatForHtml', 'ExportMode', 'UseEmbeddedImages', 'AddPageBreaks']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n\r\n      case 'Html5':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'HtmlType', 'ImageFormatForHtml', 'ImageResolution',\r\n            'ImageQuality', 'ContinuousPages', 'OpenAfterExport']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n      case 'Mht':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'HtmlType', 'Zoom', 'ImageFormatForHtml',\r\n            'ExportMode', 'AddPageBreaks'])\r\n        };\r\n        break;\r\n      case 'Text':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'KillSpaceLines',\r\n            'PutFeedPageCode', 'DrawBorder', 'CutLongLines', 'BorderType', 'ZoomX', 'ZoomY', 'EncodingTextOrCsvFile'])\r\n        };\r\n        break;\r\n      case 'Rtf':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution',\r\n            'ImageQuality', 'ExportModeRtf', 'UsePageHeadersAndFooters', 'RemoveEmptySpaceAtBottom'])\r\n        };\r\n        break;\r\n      case 'Word2007':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution',\r\n            'ImageQuality', 'UsePageHeadersAndFooters', 'RemoveEmptySpaceAtBottom'])\r\n        };\r\n        break;\r\n      case 'Odt':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution',\r\n            'ImageQuality', 'RemoveEmptySpaceAtBottom'])\r\n        };\r\n        break;\r\n      case 'Excel':\r\n      case 'ExcelBinary':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ExcelType', 'ImageResolution',\r\n            'ImageQuality', 'DataExportMode', 'ExportObjectFormatting', 'UseOnePageHeaderAndFooter', 'ExportEachPageToSheet', 'ExportPageBreaks']),\r\n          openAfterExport: true\r\n        };\r\n        break;\r\n      case 'ExcelXml':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ExcelType'])\r\n        };\r\n        break;\r\n      case 'Excel2007':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ExcelType', 'ImageResolution',\r\n            'ImageQuality', 'DataExportMode', 'ExportObjectFormatting', 'UseOnePageHeaderAndFooter', 'ExportEachPageToSheet', 'ExportPageBreaks'])\r\n        };\r\n        break;\r\n      case 'Ods':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageResolution',\r\n            'ImageQuality'])\r\n        };\r\n        break;\r\n      case 'Csv':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'EncodingTextOrCsvFile',\r\n            'Separator', 'DataExportMode', 'SkipColumnHeaders'])\r\n        };\r\n        break;\r\n      case 'Dbf':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'EncodingDbfFile'])\r\n        };\r\n        break;\r\n      case 'Dif':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'ExportDataOnly',\r\n            'UseDefaultSystemEncoding', 'EncodingDifFile'])\r\n        };\r\n        break;\r\n      case 'Sylk':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'ExportDataOnly',\r\n            'UseDefaultSystemEncoding', 'EncodingDifFile'])\r\n        };\r\n        break;\r\n      case 'Json':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType', 'DataExportMode'])\r\n        };\r\n        break;\r\n      case 'Xml':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'DataType'])\r\n        };\r\n        break;\r\n      case 'ImageBmp':\r\n      case 'ImageGif':\r\n      case 'ImageJpeg':\r\n      case 'ImagePcx':\r\n      case 'ImagePng':\r\n      case 'ImageTiff':\r\n      case 'ImageEmf':\r\n      case 'ImageSvg':\r\n      case 'ImageSvgz':\r\n        result = {\r\n          components: this.getComponents(['PageRangeGroup', 'PageRangeAll', 'PageRangeCurrentPage', 'PageRangePages', 'PageRangePagesText', 'SettingsGroup', 'ImageType', 'ImageZoom', 'ImageResolution',\r\n            'ImageFormat', 'DitheringType', 'TiffCompressionScheme', 'CompressToArchive', 'CutEdges'])\r\n        };\r\n        break;\r\n    }\r\n\r\n    result.groups = this.getGroups(this.format);\r\n    result.update = update;\r\n    return result;\r\n  }\r\n\r\n  getComponents(names: string[]): ExportComponent[] {\r\n    const mrgn = '8px';\r\n    const components: ExportComponent[] = [];\r\n    names.forEach(name => {\r\n      switch (name) {\r\n        case 'ImageType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('Type'), width: 160, tooltip: this.model.loc('TypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getImageTypesItems()\r\n          });\r\n          break;\r\n\r\n        case 'DataType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('Type'), width: 160, tooltip: this.model.loc('TypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getDataTypesItems()\r\n          });\r\n          break;\r\n\r\n        case 'ExcelType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('Type'), width: 160, tooltip: this.model.loc('TypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getExcelTypesItems()\r\n          });\r\n          break;\r\n\r\n        case 'HtmlType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('Type'), width: 160, tooltip: this.model.loc('TypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getHtmlTypesItems()\r\n          });\r\n          break;\r\n\r\n        case 'Zoom':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ZoomHtml'), width: 160, tooltip: this.model.loc('ZoomHtmlTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getZoomItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageZoom':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ZoomHtml'), width: 160, tooltip: this.model.loc('ZoomHtmlTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getZoomItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageFormatForHtml':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageFormatForHtml'), width: 160, tooltip: this.model.loc('ImageFormatForHtmlTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getImageFormatForHtmlItems()\r\n          });\r\n          break;\r\n\r\n        case 'ExportMode':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ExportMode'), width: 160, tooltip: this.model.loc('ExportModeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getExportModeItems()\r\n          });\r\n          break;\r\n\r\n        case 'CompressToArchive':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('CompressToArchive'), tooltip: this.model.loc('CompressToArchiveTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'UseEmbeddedImages':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('EmbeddedImageData'), tooltip: this.model.loc('EmbeddedImageDataTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'AddPageBreaks':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('AddPageBreaks'), tooltip: this.model.loc('AddPageBreaksTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ImageResolution':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageResolution'), width: 160, tooltip: this.model.loc('ImageResolutionTooltip'),\r\n            margin: '2px 4px 2px ' + mrgn, items: this.collections.getImageResolutionItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageCompressionMethod':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageCompressionMethod'), width: 160, tooltip: this.model.loc('ImageCompressionMethodTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getImageCompressionMethodItems()\r\n          });\r\n          break;\r\n\r\n        case 'AllowEditable':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('AllowEditable'), width: 160, tooltip: this.model.loc('AllowEditableTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getAllowEditableItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageQuality':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageQuality'), width: 160, tooltip: this.model.loc('ImageQualityTooltip'),\r\n            margin: '2px 4px 2px ' + mrgn, items: this.collections.getImageQualityItems()\r\n          });\r\n          break;\r\n\r\n        case 'ContinuousPages':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ContinuousPages'), tooltip: this.model.loc('ContinuousPagesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'StandardPdfFonts':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('StandardPDFFonts'), tooltip: this.model.loc('StandardPDFFontsTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'EmbeddedFonts':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('EmbeddedFonts'), tooltip: this.model.loc('EmbeddedFontsTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'UseUnicode':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('UseUnicode'), tooltip: this.model.loc('UseUnicodeTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'Compressed':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('Compressed'), tooltip: this.model.loc('CompressedTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportRtfTextAsImage':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportRtfTextAsImage'), tooltip: this.model.loc('ExportRtfTextAsImageTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'PdfACompliance':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('PdfACompliance'), tooltip: this.model.loc('PdfAComplianceTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'KillSpaceLines':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('KillSpaceLines'), tooltip: this.model.loc('KillSpaceLinesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'PutFeedPageCode':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('PutFeedPageCode'), tooltip: this.model.loc('PutFeedPageCodeTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'DrawBorder':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('DrawBorder'), tooltip: this.model.loc('DrawBorderTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'CutLongLines':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('CutLongLines'), tooltip: this.model.loc('CutLongLinesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'BorderType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('BorderType'), width: 160, tooltip: this.model.loc('BorderTypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getBorderTypeItems()\r\n          });\r\n          break;\r\n\r\n        case 'ZoomX':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ZoomXY').replace(':', '') + ' X ', width: 160, tooltip: this.model.loc('ZoomXYTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getZoomItems()\r\n          });\r\n          break;\r\n\r\n        case 'ZoomY':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ZoomXY').replace(':', '') + ' Y ', width: 160, tooltip: this.model.loc('ZoomXYTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getZoomItems()\r\n          });\r\n          break;\r\n\r\n        case 'EncodingTextOrCsvFile':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('EncodingData'), width: 160, tooltip: this.model.loc('EncodingDataTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getEncodingDataItems()\r\n          });\r\n          break;\r\n\r\n        case 'ImageFormat':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ImageFormat'), width: 160, tooltip: this.model.loc('ImageFormatTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getImageFormatItems()\r\n          });\r\n          break;\r\n\r\n        case 'DitheringType':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('MonochromeDitheringType'), width: 160, tooltip: this.model.loc('MonochromeDitheringTypeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getMonochromeDitheringTypeItems()\r\n          });\r\n          break;\r\n\r\n        case 'TiffCompressionScheme':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('TiffCompressionScheme'), width: 160, tooltip: this.model.loc('TiffCompressionSchemeTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getTiffCompressionSchemeItems()\r\n          });\r\n          break;\r\n\r\n        case 'CutEdges':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('CutEdges'), tooltip: this.model.loc('CutEdgesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'MultipleFiles':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('MultipleFiles'), tooltip: this.model.loc('MultipleFilesTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportDataOnly':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportDataOnly'), tooltip: this.model.loc('ExportDataOnlyTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'UseDefaultSystemEncoding':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('UseDefaultSystemEncoding'), tooltip: this.model.loc('UseDefaultSystemEncodingTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'EncodingDifFile':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('EncodingDifFile'), width: 160, tooltip: this.model.loc('EncodingDifFileTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getEncodingDifFileItems()\r\n          });\r\n          break;\r\n\r\n        case 'ExportModeRtf':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('ExportModeRtf'), width: 160, tooltip: this.model.loc('ExportModeRtfTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getExportModeRtfItems()\r\n          });\r\n          break;\r\n\r\n        case 'UsePageHeadersAndFooters':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('UsePageHeadersFooters'), tooltip: this.model.loc('UsePageHeadersFootersTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'RemoveEmptySpaceAtBottom':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('RemoveEmptySpace'), tooltip: this.model.loc('RemoveEmptySpaceTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'Separator':\r\n          components.push({\r\n            name, type: 'TextBox', label: this.model.loc('Separator'), tooltip: this.model.loc('SeparatorTooltip'), width: 160,\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'DataExportMode':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('BandsFilter'), width: 160, tooltip: this.model.loc('BandsFilterTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getDataExportModeItems()\r\n          });\r\n          break;\r\n\r\n        case 'SkipColumnHeaders':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('SkipColumnHeaders'), tooltip: this.model.loc('SkipColumnHeadersTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportObjectFormatting':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportObjectFormatting'), tooltip: this.model.loc('ExportObjectFormattingTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'UseOnePageHeaderAndFooter':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('UseOnePageHeaderFooter'), tooltip: this.model.loc('UseOnePageHeaderFooterTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportEachPageToSheet':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportEachPageToSheet'), tooltip: this.model.loc('ExportEachPageToSheetTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'ExportPageBreaks':\r\n          components.push({\r\n            name, type: 'CheckBox', caption: this.model.loc('ExportPageBreaks'), tooltip: this.model.loc('ExportPageBreaksTooltip'),\r\n            margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        case 'EncodingDbfFile':\r\n          components.push({\r\n            name, type: 'DropDownListForExportForm', label: this.model.loc('EncodingDbfFile'), width: 160, tooltip: this.model.loc('EncodingDbfFileTooltip'),\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getEncodingDbfFileItems()\r\n          });\r\n          break;\r\n\r\n        case 'DocumentSecurityButton':\r\n          components.push({\r\n            name, type: 'SmallButton', caption: this.model.loc('DocumentSecurityButton'), width: 160,\r\n            margin: '2px ' + mrgn + ' 2px ' + mrgn, items: this.collections.getEncodingDbfFileItems()\r\n          });\r\n          break;\r\n\r\n        case 'UseDigitalSignature':\r\n          components.push({\r\n            name, caption: this.model.loc('DigitalSignatureButton'), type: 'DropDownListForExportForm', tooltip: this.model.loc('UseDigitalSignatureTooltip'), width: 160,\r\n            items: this.collections.getPdfSecurityCertificatesItems(), margin: '4px ' + mrgn + ' 4px ' + mrgn\r\n          });\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    return components;\r\n  }\r\n\r\n  getGroups(format: string): any {\r\n    const openingGroupsStr = this.helper.getCookie('StimulsoftWebViewerExportSettingsOpeningGroups');\r\n    const openingGroups = openingGroupsStr ? JSON.parse(openingGroupsStr) : null;\r\n    const pageRangeAllIsDisabled = format.indexOf('Image') === 0 && format !== 'ImageTiff';\r\n\r\n    return {\r\n      savingReportGroup: { visible: format === 'Document', opened: openingGroups ? openingGroups.SavingReportGroup : true },\r\n      pageRangeGroup: { visible: format !== 'Document', opened: openingGroups ? openingGroups.PageRangeGroup : true, pageRangeAllIsDisabled },\r\n      settingsGroup: { visible: format !== 'Document', opened: openingGroups ? openingGroups.SettingsGroup : false }\r\n    };\r\n  }\r\n\r\n  getDefaultSettings(): any {\r\n    let settings: any;\r\n    if (this.model.options.exports.storeExportSettings && this.helper.getCookie('StimulsoftWebViewerExportSettings' + this.getCommonExportFormat())) {\r\n      const exportSettingsStr = this.helper.getCookie('StimulsoftWebViewerExportSettings' + this.getCommonExportFormat());\r\n      const exportSettings = JSON.parse(exportSettingsStr);\r\n      let exportFormat = exportSettings.ImageType || exportSettings.DataType || exportSettings.ExcelType || exportSettings.HtmlType;\r\n      if (exportFormat === 'ExcelBinary') { exportFormat = 'Excel'; }\r\n      this.format = exportFormat ? (exportSettings.ImageType ? 'Image' + exportFormat : exportFormat) : this.format;\r\n\r\n      const defSettings = this.getDefaultExportSettings(this.format);\r\n      const resultSettings: any = {};\r\n      Object.keys(defSettings).forEach(key => resultSettings[key] = exportSettings[key] || defSettings[key]);\r\n      Object.keys(exportSettings).forEach(key => resultSettings[key] = exportSettings[key] || defSettings[key]);\r\n\r\n      if (this.model.options.exports.showOpenAfterExport === false) {\r\n        resultSettings.OpenAfterExport = true;\r\n      } else if (!(this.format === 'Pdf' || this.format === 'Xps' || this.format === 'Html' || this.format === 'Excel' || this.format === 'ExcelBinary')) {\r\n        resultSettings.OpenAfterExport = false;\r\n      }\r\n\r\n      if (this.model.options.exports.openAfterExport === true || this.model.options.exports.openAfterExport === false) {\r\n        resultSettings.OpenAfterExport = this.model.options.exports.openAfterExport;\r\n      }\r\n\r\n      settings = resultSettings;\r\n    } else {\r\n      settings = this.getDefaultExportSettings(this.format);\r\n    }\r\n\r\n    this.updateTypes(settings);\r\n\r\n    this.exportSettings = this.helper.copyObject(settings);\r\n  }\r\n\r\n  updateTypes(defaultExportSettings: any) {\r\n    const types = ['ImageType', 'DataType', 'ExcelType', 'HtmlType'];\r\n    types.forEach((propertyName) => {\r\n      if (defaultExportSettings[propertyName]) {\r\n        switch (propertyName) {\r\n          case 'ImageType':\r\n            if (!this.model.options.exports.showExportToImageBmp && defaultExportSettings[propertyName] === 'Bmp') { defaultExportSettings[propertyName] = 'Gif'; }\r\n            if (!this.model.options.exports.showExportToImageGif && defaultExportSettings[propertyName] === 'Gif') { defaultExportSettings[propertyName] = 'Jpeg'; }\r\n            if (!this.model.options.exports.showExportToImageJpeg && defaultExportSettings[propertyName] === 'Jpeg') { defaultExportSettings[propertyName] = 'Pcx'; }\r\n            if (!this.model.options.exports.showExportToImagePcx && defaultExportSettings[propertyName] === 'Pcx') { defaultExportSettings[propertyName] = 'Png'; }\r\n            if (!this.model.options.exports.showExportToImagePng && defaultExportSettings[propertyName] === 'Png') { defaultExportSettings[propertyName] = 'Tiff'; }\r\n            if (!this.model.options.exports.showExportToImageTiff && defaultExportSettings[propertyName] === 'Tiff') { defaultExportSettings[propertyName] = 'Emf'; }\r\n            if (!this.model.options.exports.showExportToImageMetafile && defaultExportSettings[propertyName] === 'Emf') { defaultExportSettings[propertyName] = 'Svg'; }\r\n            if (!this.model.options.exports.showExportToImageSvg && defaultExportSettings[propertyName] === 'Svg') { defaultExportSettings[propertyName] = 'Svgz'; }\r\n            if (!this.model.options.exports.showExportToImageSvgz && defaultExportSettings[propertyName] === 'Svgz') { defaultExportSettings[propertyName] = 'Bmp'; }\r\n            break;\r\n\r\n          case 'DataType':\r\n            if (!this.model.options.exports.showExportToCsv && defaultExportSettings[propertyName] === 'Csv') { defaultExportSettings[propertyName] = 'Dbf'; }\r\n            if (!this.model.options.exports.showExportToDbf && defaultExportSettings[propertyName] === 'Dbf') { defaultExportSettings[propertyName] = 'Xml'; }\r\n            if (!this.model.options.exports.showExportToXml && defaultExportSettings[propertyName] === 'Xml') { defaultExportSettings[propertyName] = 'Dif'; }\r\n            if (!this.model.options.exports.showExportToDif && defaultExportSettings[propertyName] === 'Dif') { defaultExportSettings[propertyName] = 'Sylk'; }\r\n            if (!this.model.options.exports.showExportToSylk && defaultExportSettings[propertyName] === 'Sylk') { defaultExportSettings[propertyName] = 'Csv'; }\r\n            if (!this.model.options.exports.showExportToJson && defaultExportSettings[propertyName] === 'Json') { defaultExportSettings[propertyName] = 'Json'; }\r\n            break;\r\n\r\n          case 'ExcelType':\r\n            if (!this.model.options.exports.showExportToExcel2007 && defaultExportSettings[propertyName] === 'Excel2007') { defaultExportSettings[propertyName] = 'ExcelBinary'; }\r\n            if (!this.model.options.exports.showExportToExcel && defaultExportSettings[propertyName] === 'ExcelBinary') { defaultExportSettings[propertyName] = 'ExcelXml'; }\r\n            if (!this.model.options.exports.showExportToExcelXml && defaultExportSettings[propertyName] === 'ExcelXml') { defaultExportSettings[propertyName] = 'Excel2007'; }\r\n            break;\r\n\r\n          case 'HtmlType':\r\n            if (!this.model.options.exports.showExportToHtml && defaultExportSettings[propertyName] === 'Html') { defaultExportSettings[propertyName] = 'Html5'; }\r\n            if (!this.model.options.exports.showExportToHtml5 && defaultExportSettings[propertyName] === 'Html5') { defaultExportSettings[propertyName] = 'Mht'; }\r\n            if (!this.model.options.exports.showExportToMht && defaultExportSettings[propertyName] === 'Mht') { defaultExportSettings[propertyName] = 'Html'; }\r\n            break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  getCommonExportFormat(): string {\r\n    if (this.format === 'Html' || this.format === 'Html5' || this.format === 'Mht') { return 'Html'; }\r\n    if (this.format === 'Excel' || this.format === 'Excel2007' || this.format === 'ExcelXml') { return 'Excel'; }\r\n    if (this.format === 'Csv' || this.format === 'Dbf' || this.format === 'Xml' || this.format === 'Dif' || this.format === 'Sylk') { return 'Data'; }\r\n    if (this.format === 'ImageBmp' || this.format === 'ImageGif' || this.format === 'ImageJpeg' || this.format === 'ImagePcx' || this.format === 'ImagePng' ||\r\n      this.format === 'ImageTiff' || this.format === 'ImageEmf' || this.format === 'ImageSvg' || this.format === 'ImageSvgz') { return 'Image'; }\r\n\r\n    return this.format;\r\n  }\r\n\r\n  public getDefaultExportSettings(format: string, isDashboardExport: boolean = false) {\r\n    let exportSettings = null;\r\n\r\n    if (isDashboardExport) {\r\n      return this.model.options.exports.defaultSettings['Dashboard' + format];\r\n    }\r\n\r\n    switch (format) {\r\n      case 'Document':\r\n        exportSettings = { Format: 'Mdc' };\r\n        break;\r\n\r\n      case 'Pdf':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiPdfExportSettings'];\r\n        break;\r\n\r\n      case 'Xps':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiXpsExportSettings'];\r\n        break;\r\n\r\n      case 'Ppt2007':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiPpt2007ExportSettings'];\r\n        break;\r\n\r\n      case 'Html':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiHtmlExportSettings'];\r\n        exportSettings.HtmlType = 'Html';\r\n        break;\r\n\r\n      case 'Html5':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiHtmlExportSettings'];\r\n        exportSettings.HtmlType = 'Html5';\r\n        break;\r\n\r\n      case 'Mht':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiHtmlExportSettings'];\r\n        exportSettings.HtmlType = 'Mht';\r\n        break;\r\n\r\n      case 'Text':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiTxtExportSettings'];\r\n        break;\r\n\r\n      case 'Rtf':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiRtfExportSettings'];\r\n        break;\r\n\r\n      case 'Word2007':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiWord2007ExportSettings'];\r\n        break;\r\n\r\n      case 'Odt':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiOdtExportSettings'];\r\n        break;\r\n\r\n      case 'Excel':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiExcelExportSettings'];\r\n        exportSettings.ExcelType = 'ExcelBinary';\r\n        break;\r\n\r\n      case 'ExcelXml':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiExcelExportSettings'];\r\n        exportSettings.ExcelType = 'ExcelXml';\r\n        break;\r\n\r\n      case 'Excel2007':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiExcelExportSettings'];\r\n        exportSettings.ExcelType = 'Excel2007';\r\n        break;\r\n\r\n      case 'Ods':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiOdsExportSettings'];\r\n        break;\r\n\r\n      case 'ImageBmp':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Bmp';\r\n        break;\r\n\r\n      case 'ImageGif':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Gif';\r\n        break;\r\n\r\n      case 'ImageJpeg':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Jpeg';\r\n        break;\r\n\r\n      case 'ImagePcx':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Pcx';\r\n        break;\r\n\r\n      case 'ImagePng':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Png';\r\n        break;\r\n\r\n      case 'ImageTiff':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Tiff';\r\n        break;\r\n\r\n      case 'ImageSvg':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Svg';\r\n        break;\r\n\r\n      case 'ImageSvgz':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Svgz';\r\n        break;\r\n\r\n      case 'ImageEmf':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiImageExportSettings'];\r\n        exportSettings.ImageType = 'Emf';\r\n        break;\r\n\r\n      case 'Xml':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Xml';\r\n        break;\r\n\r\n      case 'Csv':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Csv';\r\n        break;\r\n\r\n      case 'Dbf':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Dbf';\r\n        break;\r\n\r\n      case 'Dif':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Dif';\r\n        break;\r\n\r\n      case 'Sylk':\r\n        exportSettings = this.model.options.exports.defaultSettings['StiDataExportSettings'];\r\n        exportSettings.DataType = 'Sylk';\r\n        break;\r\n    }\r\n\r\n    exportSettings.OpenAfterExport = !(this.model.options.exports.showOpenAfterExport === false);\r\n    if (!(format === 'Pdf' || format === 'Xps' || format === 'Html' || format === 'Excel' || format === 'ExcelBinary')) {\r\n      exportSettings.OpenAfterExport = false;\r\n    }\r\n\r\n    return exportSettings;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { ExportService } from './export.service';\r\nimport { FormService } from '../forms/form.service';\r\nimport { ControllerService } from './controller.service';\r\n\r\n@Injectable()\r\nexport class MailService {\r\n\r\n  constructor(public model: ModelService, public exportService: ExportService, public formService: FormService, public controller: ControllerService) {\r\n    exportService.getMessage().subscribe(event => {\r\n      if (event === 'postMail') {\r\n        this.postMail();\r\n      }\r\n    });\r\n  }\r\n\r\n  public postMail() {\r\n    this.fillDefaults();\r\n\r\n    if (this.model.options.email.showEmailDialog) {\r\n      this.formService.showForm('sendEmailForm');\r\n    } else {\r\n      this.sendMail();\r\n    }\r\n  }\r\n\r\n  public sendMail() {\r\n    const data = {\r\n      exportFormat: this.exportService.format,\r\n      exportSettings: this.exportService.exportSettings\r\n    };\r\n\r\n    this.formService.closeForm('sendEmailForm');\r\n    this.controller.post('EmailReport', this.model.options.actions.emailReport, data);\r\n    this.controller.actionSubject.next({ action: 'Email', data });\r\n  }\r\n\r\n  public fillDefaults() {\r\n    this.exportService.exportSettings.Email = this.model.options.email.defaultEmailAddress;\r\n    this.exportService.exportSettings.Message = this.model.options.email.defaultEmailMessage;\r\n    this.exportService.exportSettings.Subject = this.model.options.email.defaultEmailSubject;\r\n\r\n    let ext = this.exportService.format.toLowerCase().replace('image', '');\r\n    switch (ext) {\r\n      case 'excel': ext = 'xls'; break;\r\n      case 'excel2007': ext = 'xlsx'; break;\r\n      case 'excelxml': ext = 'xls'; break;\r\n      case 'html5': ext = 'html'; break;\r\n      case 'jpeg': ext = 'jpg'; break;\r\n      case 'ppt2007': ext = 'ppt'; break;\r\n      case 'text': ext = 'txt'; break;\r\n      case 'word2007': ext = 'docx'; break;\r\n    }\r\n\r\n    this.exportService.exportSettings.Attachment = this.model.reportParams.reportFileName + '.' + ext;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { ExportService } from './export.service';\r\nimport { HelperService } from './helper.service';\r\nimport { MailService } from './mail.service';\r\n\r\n@Injectable()\r\nexport class ApiService {\r\n\r\n  public EXPORT_FORMATS: string[] = ['Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n    'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n    'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'];\r\n\r\n  constructor(private model: ModelService, private controller: ControllerService, private exportService: ExportService,\r\n    private helper: HelperService, private mailService: MailService) { }\r\n\r\n  /**\r\n   * The current page number\r\n   */\r\n  public get currentPage(): number {\r\n    return this.model.reportParams.pageNumber;\r\n  }\r\n\r\n  public set currentPage(value: number) {\r\n    if (value >= 0 && value < this.model.reportParams.pagesCount) {\r\n      this.model.reportParams.pageNumber = value;\r\n      this.controller.getPages();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The total pages count\r\n   */\r\n  public get pageCount() {\r\n    return this.model.reportParams.pageNumber;\r\n  }\r\n\r\n  /**\r\n   * The view mode, can be 'SinglePage', 'Continuous' & 'MultiplePages'\r\n   */\r\n  public get viewMode(): string {\r\n    return this.model.reportParams.viewMode;\r\n  }\r\n\r\n  public set viewMode(value: string) {\r\n    if (value === 'SinglePage' || value === 'Continuous' || value === 'MultiplePages') {\r\n      this.model.reportParams.viewMode = value;\r\n      this.controller.getPages();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The page zoom in percent\r\n   * From 1 to 1000\r\n   */\r\n  public get zoom(): number {\r\n    return this.model.reportParams.zoom;\r\n  }\r\n\r\n  public set zoom(value: number) {\r\n    if (value >= 1 && value <= 1000) {\r\n      this.model.reportParams.zoom = value;\r\n      this.controller.getPages();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Zoom page in height\r\n   */\r\n  public zoomPageHeight() {\r\n    this.controller.action({ name: 'ZoomOnePage' });\r\n  }\r\n\r\n  /**\r\n   * Zoom page in width\r\n   */\r\n  public zoomPageWidth() {\r\n    this.controller.action({ name: 'ZoomPageWidth' });\r\n  }\r\n\r\n  /**\r\n   * Print to PDF\r\n   */\r\n  public printPdf() {\r\n    this.controller.action({ name: 'PrintPdf' });\r\n  }\r\n\r\n  /**\r\n   * Print with preview\r\n   */\r\n  public printWithPreview() {\r\n    this.controller.action({ name: 'PrintWithPreview' });\r\n  }\r\n\r\n  /**\r\n   * Print without preview\r\n   */\r\n  public printWithoutPreview() {\r\n    this.controller.action({ name: 'PrintWithoutPreview' });\r\n  }\r\n\r\n  /**\r\n   * Show export form\r\n   *\r\n   * @param format The format to export, can be 'Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n   * 'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n   * 'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'\r\n   */\r\n  public showExportForm(format: string) {\r\n    if (this.EXPORT_FORMATS.some(f => f === format)) {\r\n      this.controller.actionSubject.next({ action: 'Export', data: { format } });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show export form & email\r\n   *\r\n   * @param format The format to export, can be 'Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n   * 'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n   * 'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'\r\n   */\r\n  public showExportEmailForm(format: string) {\r\n    if (this.EXPORT_FORMATS.some(f => f === format)) {\r\n      this.controller.actionSubject.next({ action: 'SendEmail', data: { format } });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Export report/dashboard to selected format\r\n   * Use default settings if not specified\r\n   *\r\n   * @param format The format to export, can be 'Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n   * 'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n   * 'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'\r\n   *\r\n   * @param settings The export settings\r\n   */\r\n  public export(format: string, settings?: any) {\r\n    if (this.EXPORT_FORMATS.some(f => f === format)) {\r\n      const exportSettings = this.getExportSettings(format, settings);\r\n      this.controller.postExport(format, exportSettings);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Export report/dashboard to seleted format & email\r\n   * Use default settings if not specified\r\n   * Use default email settings if not specified\r\n   *\r\n   * @param format The format to export, can be 'Document', 'Pdf', 'Xps', 'Ppt2007', 'Html', 'Html5', 'Mht', 'Text', 'Rtf', 'Word2007', 'Odt', 'Excel',\r\n   * 'ExcelBinary', 'ExcelXml', 'Excel2007', 'Ods', 'Csv', 'Dbf', 'Dif', 'Sylk', 'Json', 'Xml', 'ImageBmp',\r\n   * 'ImageGif', 'ImageJpeg', 'ImagePcx', 'ImagePng', 'ImageTiff', 'ImageEmf', 'ImageSvg', 'ImageSvgz'\r\n   *\r\n   * @param settings The export settings\r\n   *\r\n   * @param email The email\r\n   *\r\n   * @param message The email message\r\n   *\r\n   * @param subject The email subject\r\n   */\r\n  public exportEmail(format: string, settings?: any, email?: string, subject?: string, message?: string) {\r\n    if (this.EXPORT_FORMATS.some(f => f === format)) {\r\n      this.exportService.exportSettings = this.getExportSettings(format, settings);\r\n      this.exportService.format = format;\r\n      this.mailService.fillDefaults();\r\n\r\n      if (email) {\r\n        this.exportService.exportSettings.Email = email;\r\n      }\r\n\r\n      if (message) {\r\n        this.exportService.exportSettings.Message = message;\r\n      }\r\n\r\n      if (subject) {\r\n        this.exportService.exportSettings.Subject = subject;\r\n      }\r\n\r\n      this.mailService.sendMail();\r\n    }\r\n  }\r\n\r\n  private getExportSettings(format: string, settings?: any) {\r\n    this.exportService.sendMail = false;\r\n    this.exportService.format = format;\r\n    const exportSettings = this.helper.copyObject(this.exportService.getDefaultExportSettings(format));\r\n    if (settings) {\r\n      Object.keys(settings).forEach(key => exportSettings[key] = settings[key]);\r\n    }\r\n    return exportSettings;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { ExportService } from './export.service';\r\nimport { HelperService } from './helper.service';\r\nimport { StiHttpClientService } from './http-client.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { Message } from './objects';\r\n\r\n@Injectable()\r\nexport class PrintService {\r\n\r\n  constructor(public model: ModelService, public exportService: ExportService, public helper: HelperService,\r\n    public httpClient: StiHttpClientService, public controller: ControllerService) {\r\n\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      if (message.action === 'Print') {\r\n        this.postPrint(message.data.format);\r\n      }\r\n    });\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'PrintReport') {\r\n        switch (message.subAction) {\r\n          case 'PrintWithPreview':\r\n            this.printAsPopup(message.data);\r\n            break;\r\n\r\n          case 'PrintWithoutPreview':\r\n            this.printAsHtml(message.data);\r\n            break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  postPrint(printAction: string) {\r\n    if (printAction === 'PrintPdf' && /iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent) && this.helper.isTouchDevice()) {\r\n      const settings = this.exportService.getDefaultExportSettings('Pdf');\r\n      settings.OpenAfterExport = true;\r\n      this.postExport('Pdf', settings);\r\n      return;\r\n    }\r\n\r\n    const data = {\r\n      action: 'PrintReport',\r\n      printAction,\r\n      bookmarksPrint: this.model.options.appearance.bookmarksPrint\r\n    };\r\n\r\n    const url = ''; // this.model.options.requestUrl.replace('{action}', this.model.options.actions.printReport);\r\n    switch (printAction) {\r\n      case 'PrintPdf':\r\n        if (this.model.options.appearance.printToPdfMode === 'Popup' || this.helper.getNavigatorName() == 'Safari' || this.helper.getNavigatorName() == 'iPad') {\r\n          this.printAsPdfPopup(data);\r\n        } else {\r\n          this.printAsPdf(url, data);\r\n        }\r\n        break;\r\n\r\n      default:\r\n        this.controller.post('PrintReport', this.model.options.actions.printReport, data, 'text', printAction);\r\n        break;\r\n    }\r\n  }\r\n\r\n  public postExport(format: string, settings: any, elementName?: string, isDashboardExport?: boolean) {\r\n    const data = {\r\n      action: isDashboardExport ? 'ExportDashboard' : 'ExportReport',\r\n      exportFormat: format,\r\n      exportSettings: settings,\r\n      elementName\r\n    };\r\n\r\n    const doc = settings && settings.OpenAfterExport && this.model.options.appearance.openExportedReportWindow === '_blank' ? this.helper.openNewWindow('about:blank', '_blank').document : null;\r\n    const url = this.model.requestUrl;\r\n    this.httpClient.postForm(url.replace('{action}', this.model.options.actions.exportReport), data, doc);\r\n  }\r\n\r\n  public printAsPdfPopup(data: any) {\r\n    const url = this.model.requestUrl.replace('{action}', this.model.options.actions.printReport);\r\n    const win = this.helper.openNewWindow('about:blank', '_blank');\r\n    if (win != null) {\r\n      this.httpClient.postForm(url, data, win.document);\r\n    }\r\n  }\r\n\r\n  public printAsPdf(url: string, data: any) {\r\n    data.responseType = 'blob';\r\n    const viewer = this.model.controls.viewer.el.nativeElement;\r\n    const printFrameId = this.model.options.viewerId + '_PdfPrintFrame';\r\n    let printFrame: any = document.getElementById(printFrameId);\r\n    if (printFrame) { viewer.removeChild(printFrame); }\r\n\r\n    printFrame = document.createElement('iframe');\r\n    printFrame.id = printFrameId;\r\n    printFrame.name = printFrameId;\r\n    printFrame.width = '0';\r\n    printFrame.height = '0';\r\n    printFrame.style.position = 'absolute';\r\n    printFrame.style.border = 'none';\r\n\r\n    // Firefox does not load the invisible content of the iframe\r\n    if (this.helper.getNavigatorName() === 'Mozilla') {\r\n      printFrame.width = '100px';\r\n      printFrame.height = '100px';\r\n      printFrame.style.visibility = 'hidden';\r\n      printFrame.style.zIndex = '-100';\r\n      printFrame.style.pointerEvents = 'none';\r\n    }\r\n\r\n    viewer.insertBefore(printFrame, viewer.firstChild);\r\n\r\n    // Manual printing in browsers that do not support automatic PDF printing\r\n    if (this.helper.getNavigatorName() !== 'Mozilla') {\r\n      printFrame.onload = () => {\r\n        printFrame.contentWindow.focus();\r\n        printFrame.contentWindow.print();\r\n      };\r\n    }\r\n\r\n    const form: any = document.createElement('FORM');\r\n    form.setAttribute('id', 'printForm');\r\n    form.setAttribute('method', 'POST');\r\n    form.setAttribute('action', this.model.requestUrl.replace('{action}', this.model.options.actions.printReport));\r\n    form.setAttribute('target', this.model.options.viewerId + '_PdfPrintFrame');\r\n\r\n    const params = this.model.createPostParameters(data, true);\r\n    Object.keys(params).forEach(key => {\r\n      const paramsField = document.createElement('INPUT');\r\n      paramsField.setAttribute('type', 'hidden');\r\n      paramsField.setAttribute('name', key);\r\n      paramsField.setAttribute('value', params[key]);\r\n      form.appendChild(paramsField);\r\n    });\r\n\r\n    document.body.appendChild(form);\r\n    form.submit();\r\n    document.body.removeChild(form);\r\n  }\r\n\r\n  public printAsPopup(text: string) {\r\n    const width = this.model.reportParams.pagesWidth || 790;\r\n    const win = this.helper.openNewWindow('about:blank', 'PrintReport', 'height=900,width=' + width + ',toolbar=no,menubar=yes,scrollbars=yes,resizable=yes,location=no,directories=no,status=no');\r\n    if (win != null) {\r\n      win.document.open();\r\n      win.document.write(text);\r\n      win.document.close();\r\n    }\r\n  }\r\n\r\n  public printAsHtml(text: string) {\r\n    if (this.controller.showError(text)) { return; }\r\n\r\n    const viewer = this.model.controls.viewer.el.nativeElement;\r\n    // Remove '_PdfPrintFrame', this should fix IE strange error\r\n    let printFrameId = this.model.options.viewerId + '_PdfPrintFrame';\r\n    let printFrame: any = document.getElementById(printFrameId);\r\n    if (printFrame) { viewer.removeChild(printFrame); }\r\n\r\n    printFrameId = this.model.options.viewerId + '_HtmlPrintFrame';\r\n    printFrame = document.getElementById(printFrameId);\r\n    if (printFrame) { viewer.removeChild(printFrame); }\r\n\r\n    printFrame = document.createElement('iframe');\r\n    printFrame.id = printFrameId;\r\n    printFrame.name = printFrameId;\r\n    printFrame.width = '0';\r\n    printFrame.height = '0';\r\n    printFrame.style.position = 'absolute';\r\n    printFrame.style.border = 'none';\r\n    viewer.insertBefore(printFrame, viewer.firstChild);\r\n\r\n    printFrame.contentWindow.document.open();\r\n    printFrame.contentWindow.document.write(text);\r\n    printFrame.contentWindow.document.close();\r\n    setTimeout(() => {\r\n      printFrame.contentWindow.focus();\r\n      printFrame.contentWindow.print();\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ControllerService } from './controller.service';\r\nimport { ModelService } from './model.service';\r\nimport { Message } from './objects';\r\n\r\n@Injectable()\r\nexport class DashboardService {\r\n\r\n  constructor(private controller: ControllerService, public model: ModelService) {\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'GetReport' || message.action === 'OpenReport') {\r\n        setTimeout(() => {\r\n          if (this.model.reportParams.autoZoom) {\r\n\r\n          }\r\n        });\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { MenuService } from '../menu/menu.service';\r\n\r\n@Injectable()\r\nexport class TooltipService {\r\n\r\n  public state = 'initial';\r\n  public caption = '';\r\n  public helpLink = '';\r\n  public top = 0;\r\n  public left = 0;\r\n\r\n  private innerState = 'initial';\r\n  private timeout: any;\r\n\r\n  constructor(public model: ModelService, public menuService: MenuService) { }\r\n\r\n  public show(left: number, top: number, caption: string, below: boolean = true, helpLink?: string) {\r\n    if (this.menuService.isMenuVisible() || !this.model.options.appearance.showTooltips) {\r\n      this.hideImmediately();\r\n      return;\r\n    }\r\n\r\n    if (this.caption === caption && this.helpLink === helpLink && this.state !== 'initial') {\r\n      this.showInternal();\r\n      return;\r\n    }\r\n\r\n    this.caption = caption;\r\n    this.helpLink = helpLink;\r\n    this.state = this.innerState = this.state !== 'expanded' ? 'preInitial' : 'preInitial2';\r\n\r\n    setTimeout(() => {\r\n      const tooltip = this.model.controls.tooltip.el.nativeElement;\r\n      const browserWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n      if (!below) {\r\n        top -= tooltip.offsetHeight;\r\n      }\r\n      if (left + tooltip.offsetWidth > browserWidth) {\r\n        left = browserWidth - tooltip.offsetWidth;\r\n      }\r\n\r\n      this.left = left;\r\n      this.top = top;\r\n      if (this.innerState !== 'initial') {\r\n        this.showInternal();\r\n      }\r\n    });\r\n  }\r\n\r\n  private showInternal() {\r\n    this.state = 'expanded';\r\n    this.innerState = 'expanded';\r\n  }\r\n\r\n  public showFromTooltip() {\r\n    if (this.state !== 'preInitial') {\r\n      this.state = 'expanded';\r\n      this.innerState = 'expanded';\r\n    }\r\n  }\r\n\r\n  public hideImmediately() {\r\n    this.innerState = 'initial';\r\n    this.state = 'initial';\r\n  }\r\n\r\n  public hide() {\r\n    this.innerState = 'initial';\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n    this.timeout = setTimeout(() => {\r\n      if (this.innerState === 'initial') {\r\n        this.state = 'initial';\r\n      }\r\n      this.timeout = null;\r\n    }, 1000);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\nimport { AnimationService } from './animation.service';\r\n\r\n@Injectable()\r\nexport class FindService {\r\n\r\n  private symbols = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890';\r\n  private findLabels: any[] = [];\r\n\r\n  public text = '';\r\n  public lastFindText = '';\r\n  public matchCase = false;\r\n  public matchWholeWord = false;\r\n  public findMode = false;\r\n\r\n  constructor(private model: ModelService, private helper: HelperService, private animationService: AnimationService) {\r\n    model.controls.findPanel.getVisibility().subscribe((value) => {\r\n      if (!value) {\r\n        this.hideFindLabels();\r\n        this.lastFindText = '';\r\n      }\r\n    });\r\n  }\r\n\r\n  public hideFindLabels() {\r\n    this.findLabels.forEach((findLabel) => {\r\n      const parentElement = findLabel.parentElement;\r\n      parentElement.removeChild(findLabel);\r\n      if (parentElement.oldPositionStyle) {\r\n        parentElement.style.position = parentElement.oldPositionStyle;\r\n      }\r\n    });\r\n\r\n    this.findLabels = [];\r\n    this.findMode = false;\r\n    this.lastFindText = '';\r\n  }\r\n\r\n  public selectFindLabel(direction: string) {\r\n    if (this.findLabels.length === 0) {\r\n      return;\r\n    }\r\n    let selectedIndex = 0;\r\n    const labels = this.findLabels;\r\n    for (let i = 0; i < labels.length; i++) {\r\n      if (labels[i].isSelected) {\r\n        labels[i].setSelected(false);\r\n        selectedIndex = i;\r\n        break;\r\n      }\r\n    }\r\n    if (direction === 'Next') {\r\n      selectedIndex++;\r\n      if (selectedIndex > labels.length - 1) {\r\n        selectedIndex = 0;\r\n      }\r\n    } else {\r\n      selectedIndex--;\r\n      if (selectedIndex < 0) {\r\n        selectedIndex = labels.length - 1;\r\n      }\r\n    }\r\n    labels[selectedIndex].setSelected(true);\r\n    this.goToFindedElement(labels[selectedIndex]);\r\n  }\r\n\r\n  public showFindLabels() {\r\n    this.hideFindLabels();\r\n    this.findMode = true;\r\n    this.lastFindText = this.text;\r\n    const text = this.matchCase ? this.text : this.text.toLowerCase();\r\n\r\n    this.model.pages.forEach(page => {\r\n      const pageElements = page.page.getElementsByTagName('*');\r\n      for (const pageElement of pageElements) {\r\n        let innerText = pageElement.innerHTML;\r\n        if (innerText && pageElement.childNodes.length === 1 && pageElement.childNodes[0].nodeName === '#text') {\r\n          if (!this.matchCase) {\r\n            innerText = innerText.toLowerCase();\r\n          }\r\n          if (innerText.indexOf(text) >= 0) {\r\n            if (this.matchWholeWord && !this.isWholeWord(innerText, text)) {\r\n              continue;\r\n            }\r\n            const label: any = document.createElement('div');\r\n            label.ownerElement = pageElement;\r\n            label.className = 'stiJsViewerFindLabel';\r\n            label.style.width = (pageElement.offsetWidth - 4) + 'px';\r\n            const labelHeight = pageElement.offsetHeight - 4;\r\n            label.style.height = labelHeight + 'px';\r\n            label.style.top = '0px';\r\n            label.style.left = '0px';\r\n            label.ownerElement.oldPositionStyle = label.ownerElement.style.position;\r\n            if (label.ownerElement.style.position !== 'absolute' && label.ownerElement.style.position !== 'fixed') {\r\n              label.ownerElement.style.position = 'relative';\r\n            }\r\n            pageElement.insertBefore(label, pageElement.childNodes[0]);\r\n\r\n            label.setSelected = function (state) {\r\n              this.isSelected = state;\r\n              this.style.border = '2px solid ' + (state ? 'red' : '#8a8a8a');\r\n            };\r\n\r\n            if (this.findLabels.length === 0) {\r\n              label.setSelected(true);\r\n            }\r\n            this.findLabels.push(label);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (this.findLabels.length > 0) {\r\n      this.goToFindedElement(this.findLabels[0]);\r\n    }\r\n  }\r\n\r\n  goToFindedElement(findLabel: any) {\r\n    if (findLabel && findLabel.ownerElement) {\r\n      const targetTop = this.helper.findPosY(findLabel.ownerElement, this.model.options.appearance.scrollbarsMode ? 'stiJsViewerReportPanel' : null, true) - findLabel.ownerElement.offsetHeight - 50;\r\n      const d = new Date();\r\n      const endTime = d.getTime() + this.model.options.scrollDuration;\r\n      this.animationService.showAnimationForScroll(this.model.controls.reportPanel.el.nativeElement, targetTop, endTime, () => { });\r\n    }\r\n  }\r\n\r\n  isWholeWord(str: string, word: string): boolean {\r\n    const index = str.indexOf(word);\r\n    const preSymbol = str.substring(index - 1, index);\r\n    const nextSymbol = str.substring(index + word.length, index + word.length + 1);\r\n\r\n    return ((preSymbol === '' || this.symbols.indexOf(preSymbol) === -1) && (nextSymbol === '' || this.symbols.indexOf(nextSymbol) === -1));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class Md5Service {\r\n  private hexcase = 0;\r\n  constructor() { }\r\n\r\n  hex_md5(a) { return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(a))) }\r\n  hex_hmac_md5(a, b) { return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(a), this.str2rstr_utf8(b))) }\r\n  md5_vm_test() { return this.hex_md5('abc').toLowerCase() == '900150983cd24fb0d6963f7d28e17f72' }\r\n  rstr_md5(a) { return this.binl2rstr(this.binl_md5(this.rstr2binl(a), a.length * 8)) }\r\n  rstr_hmac_md5(c, f) {\r\n    let e = this.rstr2binl(c); if (e.length > 16) {\r\n      e = this.binl_md5(e, c.length * 8)\r\n    } let a = Array(16), d = Array(16); for (let b = 0; b < 16; b++) { a[b] = e[b] ^ 909522486; d[b] = e[b] ^ 1549556828 } let g = this.binl_md5(a.concat(this.rstr2binl(f)), 512 + f.length * 8);\r\n    return this.binl2rstr(this.binl_md5(d.concat(g), 512 + 128))\r\n  }\r\n  rstr2hex(c) { try { this.hexcase } catch (g) { this.hexcase = 0 } let f = this.hexcase ? '0123456789ABCDEF' : '0123456789abcdef'; let b = ''; let a; for (let d = 0; d < c.length; d++) { a = c.charCodeAt(d); b += f.charAt((a >>> 4) & 15) + f.charAt(a & 15) } return b }\r\n  str2rstr_utf8(c) { let b = ''; let d = -1; let a, e; while (++d < c.length) { a = c.charCodeAt(d); e = d + 1 < c.length ? c.charCodeAt(d + 1) : 0; if (55296 <= a && a <= 56319 && 56320 <= e && e <= 57343) { a = 65536 + ((a & 1023) << 10) + (e & 1023); d++ } if (a <= 127) { b += String.fromCharCode(a) } else { if (a <= 2047) { b += String.fromCharCode(192 | ((a >>> 6) & 31), 128 | (a & 63)) } else { if (a <= 65535) { b += String.fromCharCode(224 | ((a >>> 12) & 15), 128 | ((a >>> 6) & 63), 128 | (a & 63)) } else { if (a <= 2097151) { b += String.fromCharCode(240 | ((a >>> 18) & 7), 128 | ((a >>> 12) & 63), 128 | ((a >>> 6) & 63), 128 | (a & 63)) } } } } } return b }\r\n  rstr2binl(b) { let a = Array(b.length >> 2); for (let c = 0; c < a.length; c++) { a[c] = 0 } for (let c = 0; c < b.length * 8; c += 8) { a[c >> 5] |= (b.charCodeAt(c / 8) & 255) << (c % 32) } return a }\r\n  binl2rstr(b) { let a = ''; for (let c = 0; c < b.length * 32; c += 8) { a += String.fromCharCode((b[c >> 5] >>> (c % 32)) & 255) } return a }\r\n  binl_md5(p, k) { p[k >> 5] |= 128 << ((k) % 32); p[(((k + 64) >>> 9) << 4) + 14] = k; let o = 1732584193; let n = -271733879; let m = -1732584194; let l = 271733878; for (let g = 0; g < p.length; g += 16) { let j = o; let h = n; let f = m; let e = l; o = this.md5_ff(o, n, m, l, p[g + 0], 7, -680876936); l = this.md5_ff(l, o, n, m, p[g + 1], 12, -389564586); m = this.md5_ff(m, l, o, n, p[g + 2], 17, 606105819); n = this.md5_ff(n, m, l, o, p[g + 3], 22, -1044525330); o = this.md5_ff(o, n, m, l, p[g + 4], 7, -176418897); l = this.md5_ff(l, o, n, m, p[g + 5], 12, 1200080426); m = this.md5_ff(m, l, o, n, p[g + 6], 17, -1473231341); n = this.md5_ff(n, m, l, o, p[g + 7], 22, -45705983); o = this.md5_ff(o, n, m, l, p[g + 8], 7, 1770035416); l = this.md5_ff(l, o, n, m, p[g + 9], 12, -1958414417); m = this.md5_ff(m, l, o, n, p[g + 10], 17, -42063); n = this.md5_ff(n, m, l, o, p[g + 11], 22, -1990404162); o = this.md5_ff(o, n, m, l, p[g + 12], 7, 1804603682); l = this.md5_ff(l, o, n, m, p[g + 13], 12, -40341101); m = this.md5_ff(m, l, o, n, p[g + 14], 17, -1502002290); n = this.md5_ff(n, m, l, o, p[g + 15], 22, 1236535329); o = this.md5_gg(o, n, m, l, p[g + 1], 5, -165796510); l = this.md5_gg(l, o, n, m, p[g + 6], 9, -1069501632); m = this.md5_gg(m, l, o, n, p[g + 11], 14, 643717713); n = this.md5_gg(n, m, l, o, p[g + 0], 20, -373897302); o = this.md5_gg(o, n, m, l, p[g + 5], 5, -701558691); l = this.md5_gg(l, o, n, m, p[g + 10], 9, 38016083); m = this.md5_gg(m, l, o, n, p[g + 15], 14, -660478335); n = this.md5_gg(n, m, l, o, p[g + 4], 20, -405537848); o = this.md5_gg(o, n, m, l, p[g + 9], 5, 568446438); l = this.md5_gg(l, o, n, m, p[g + 14], 9, -1019803690); m = this.md5_gg(m, l, o, n, p[g + 3], 14, -187363961); n = this.md5_gg(n, m, l, o, p[g + 8], 20, 1163531501); o = this.md5_gg(o, n, m, l, p[g + 13], 5, -1444681467); l = this.md5_gg(l, o, n, m, p[g + 2], 9, -51403784); m = this.md5_gg(m, l, o, n, p[g + 7], 14, 1735328473); n = this.md5_gg(n, m, l, o, p[g + 12], 20, -1926607734); o = this.md5_hh(o, n, m, l, p[g + 5], 4, -378558); l = this.md5_hh(l, o, n, m, p[g + 8], 11, -2022574463); m = this.md5_hh(m, l, o, n, p[g + 11], 16, 1839030562); n = this.md5_hh(n, m, l, o, p[g + 14], 23, -35309556); o = this.md5_hh(o, n, m, l, p[g + 1], 4, -1530992060); l = this.md5_hh(l, o, n, m, p[g + 4], 11, 1272893353); m = this.md5_hh(m, l, o, n, p[g + 7], 16, -155497632); n = this.md5_hh(n, m, l, o, p[g + 10], 23, -1094730640); o = this.md5_hh(o, n, m, l, p[g + 13], 4, 681279174); l = this.md5_hh(l, o, n, m, p[g + 0], 11, -358537222); m = this.md5_hh(m, l, o, n, p[g + 3], 16, -722521979); n = this.md5_hh(n, m, l, o, p[g + 6], 23, 76029189); o = this.md5_hh(o, n, m, l, p[g + 9], 4, -640364487); l = this.md5_hh(l, o, n, m, p[g + 12], 11, -421815835); m = this.md5_hh(m, l, o, n, p[g + 15], 16, 530742520); n = this.md5_hh(n, m, l, o, p[g + 2], 23, -995338651); o = this.md5_ii(o, n, m, l, p[g + 0], 6, -198630844); l = this.md5_ii(l, o, n, m, p[g + 7], 10, 1126891415); m = this.md5_ii(m, l, o, n, p[g + 14], 15, -1416354905); n = this.md5_ii(n, m, l, o, p[g + 5], 21, -57434055); o = this.md5_ii(o, n, m, l, p[g + 12], 6, 1700485571); l = this.md5_ii(l, o, n, m, p[g + 3], 10, -1894986606); m = this.md5_ii(m, l, o, n, p[g + 10], 15, -1051523); n = this.md5_ii(n, m, l, o, p[g + 1], 21, -2054922799); o = this.md5_ii(o, n, m, l, p[g + 8], 6, 1873313359); l = this.md5_ii(l, o, n, m, p[g + 15], 10, -30611744); m = this.md5_ii(m, l, o, n, p[g + 6], 15, -1560198380); n = this.md5_ii(n, m, l, o, p[g + 13], 21, 1309151649); o = this.md5_ii(o, n, m, l, p[g + 4], 6, -145523070); l = this.md5_ii(l, o, n, m, p[g + 11], 10, -1120210379); m = this.md5_ii(m, l, o, n, p[g + 2], 15, 718787259); n = this.md5_ii(n, m, l, o, p[g + 9], 21, -343485551); o = this.safe_add(o, j); n = this.safe_add(n, h); m = this.safe_add(m, f); l = this.safe_add(l, e) } return Array(o, n, m, l) }\r\n  md5_cmn(h, e, d, c, g, f) { return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e, h), this.safe_add(c, f)), g), d) } md5_ff(g, f, k, j, e, i, h) { return this.md5_cmn((f & k) | ((~f) & j), g, f, e, i, h) }\r\n  md5_gg(g, f, k, j, e, i, h) { return this.md5_cmn((f & j) | (k & (~j)), g, f, e, i, h) } md5_hh(g, f, k, j, e, i, h) { return this.md5_cmn(f ^ k ^ j, g, f, e, i, h) }\r\n  md5_ii(g, f, k, j, e, i, h) { return this.md5_cmn(k ^ (f | (~j)), g, f, e, i, h) } safe_add(a, d) { let c = (a & 65535) + (d & 65535); let b = (a >> 16) + (d >> 16) + (c >> 16); return (b << 16) | (c & 65535) }\r\n  bit_rol(a, b) { return (a << b) | (a >>> (32 - b)) };\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { DrillDown, Message } from './objects';\r\nimport { ControllerService } from './controller.service';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\n\r\n@Injectable()\r\nexport class DrillDownService {\r\n\r\n  constructor(public controller: ControllerService, public model: ModelService, public helper: HelperService) {\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action !== 'InitVars' && message.action !== 'viewer_loaded') {\r\n        this.model.options.drillDownInProgress = false;\r\n        const parameters = message.data;\r\n\r\n        if (this.model.drillDownButtons.length === 0) {\r\n          this.addButton(parameters.reportFileName, {});\r\n        }\r\n\r\n        if (message.action === 'DrillDown') {\r\n          const useDbsDrillDownPanel = false; // jsObject.controls.dashboardsPanel && jsObject.controls.dashboardsPanel.visible && jsObject.controls.dashboardsPanel.selectedButton;\r\n          if (useDbsDrillDownPanel) {\r\n            // jsObject.controls.dashboardsPanel.addDrillDownButton(null, parameters.drillDownGuid, parameters.drillDownParameters, parameters.previewSettings, parameters.reportFileName);\r\n          }\r\n          this.showDrillDownPage(parameters.reportFileName, parameters.drillDownGuid, parameters.drillDownParameters, useDbsDrillDownPanel);\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  private showDrillDownPage(reportFileName: string, drillDownGuid: string, drillDownParameters: any, useDbsDrillDownPanel: boolean) {\r\n    if (useDbsDrillDownPanel) { return; }\r\n\r\n    let buttonExist = false;\r\n    this.model.drillDownButtons.forEach((b: DrillDown) => {\r\n      if (b.reportParams.drillDownGuid === drillDownGuid) {\r\n        this.model.drillDownButtons.forEach(bt => bt.selected = false);\r\n        buttonExist = b.selected = b.visible = true;\r\n      }\r\n    });\r\n\r\n    if (!buttonExist) {\r\n      this.addButton(reportFileName);\r\n      this.model.reportParams.drillDownParameters = drillDownParameters;\r\n      this.model.reportParams.pageNumber = 0;\r\n      this.model.reportParams.pagesWidth = 0;\r\n      this.model.reportParams.pagesHeight = 0;\r\n    }\r\n  }\r\n\r\n  public addButton(caption: string, reportParams: any = {}) {\r\n    this.model.drillDownButtons.forEach(b => b.selected = false);\r\n    this.model.drillDownButtons.push({ caption, selected: true, reportParams, visible: true });\r\n    this.updateVisibility();\r\n  }\r\n\r\n  public updateVisibility() {\r\n    this.model.controls.drillDownPanel.visible = this.model.drillDownButtons.length > 1;\r\n  }\r\n\r\n  public saveState() {\r\n    const sButton = this.model.drillDownButtons.find(b => b.selected);\r\n    if (sButton) {\r\n      sButton.reportParams = this.model.getReportParams();\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { Md5Service } from './md5.service';\r\nimport { InteractionParams, InteractionObject, Variable, Message } from './objects';\r\nimport { HelperService } from './helper.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { DrillDownService } from './drill-down.service';\r\n\r\n@Injectable()\r\nexport class InteractionsService {\r\n\r\n  constructor(public model: ModelService, public md5: Md5Service, public controller: ControllerService, public helper: HelperService,\r\n    public drillDownService: DrillDownService) {\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'InitVars') {\r\n        this.showParametersPanel(message.data);\r\n      }\r\n    });\r\n\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'Variables':\r\n          this.postInteraction({ action: 'Variables', variables: this.getParametersValues() });\r\n          break;\r\n\r\n        case 'Reset':\r\n          this.showParametersPanel(this.model.options.paramsVariables);\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  public postInteraction(params: InteractionParams) {\r\n    this.drillDownService.saveState();\r\n    // Add new drill-down parameters to drill-down queue and calc guid\r\n    if (params.action !== 'InitVars' && (params.action === 'DrillDown' || params.action === 'DashboardDrillDown')) {\r\n      if (this.model.options.drillDownInProgress) {\r\n        return;\r\n      }\r\n\r\n      if (params.action === 'DashboardDrillDown' && params.drillDownParameters) {\r\n        params.drillDownParameters.isDashboardDrillDown = true; // add dbs flag\r\n      }\r\n      const drillDownParameters = this.model.reportParams.drillDownParameters || [];\r\n      params.drillDownParameters = params.drillDownParameters ? drillDownParameters.concat(params.drillDownParameters) : drillDownParameters;\r\n\r\n      if (params.action === 'DrillDown') {\r\n        params.drillDownGuid = this.md5.hex_md5(JSON.stringify(this.sortPropsInDrillDownParameters(params.drillDownParameters)));\r\n      } else {\r\n        params.dashboardDrillDownGuid = this.md5.hex_md5(JSON.stringify(this.sortPropsInDrillDownParameters(params.drillDownParameters)));\r\n      }\r\n\r\n      this.model.options.drillDownInProgress = true;\r\n    }\r\n\r\n    this.controller.post(params.action, this.model.options.actions.interaction, params);\r\n  }\r\n\r\n  showParametersPanel(data: any) {\r\n    if (!data) {\r\n      return;\r\n    }\r\n\r\n    if (this.controller.showError(data)) {\r\n      data = null;\r\n    }\r\n\r\n    this.model.options.isParametersReceived = true;\r\n    this.model.options.paramsVariables = typeof data === 'string' ? JSON.parse(data) : data;\r\n    this.model.controls.parametersPanel.visible = !this.model.options.isMobileDevice;\r\n\r\n    // if (this.model.reportParams.type === 'Dashboard') jsObject.postAction('GetPages');\r\n\r\n    const paramsVariables = this.helper.copyObject(this.model.options.paramsVariables);\r\n    const countParameters: number = this.helper.getCountObjects(paramsVariables);\r\n    const countColumns: number = (countParameters <= this.model.options.minParametersCountForMultiColumns)\r\n      ? 1 : this.model.options.appearance.parametersPanelColumnsCount;\r\n\r\n    let countInColumn = Math.trunc(countParameters / countColumns);\r\n    if (countInColumn * countColumns < countParameters) {\r\n      countInColumn++;\r\n    }\r\n\r\n    // setup lists\r\n    for (let i = 0; i < countParameters; i++) {\r\n      const variable = paramsVariables[i] as Variable;\r\n      if (variable.items) {\r\n        variable.items.forEach((v) => {\r\n          v.isChecked = true;\r\n          v.visible = true;\r\n        });\r\n      }\r\n\r\n      variable.isNull = (variable.type === 'DateTime' && variable.value === null && variable.basicType === 'NullableValue');\r\n    }\r\n\r\n    this.model.interactions = { paramsVariables, countColumns: new Array(countColumns), countInColumn: new Array(countInColumn) };\r\n  }\r\n\r\n  sortPropsInDrillDownParameters(inArray: []): any[] {\r\n    if (!inArray || !inArray.length) {\r\n      return inArray;\r\n    }\r\n    const outArray: any[] = [];\r\n    for (let i = 0; i < inArray.length; i++) {\r\n      const propNames = [];\r\n      const el: any = inArray[i];\r\n      const copyEl = {};\r\n      Object.keys(el).forEach(p => {\r\n        if (el.hasOwnProperty(p)) {\r\n          propNames.push(p);\r\n        }\r\n      });\r\n\r\n      propNames.sort();\r\n      propNames.forEach(propName => copyEl[propName] = el[propName]);\r\n      outArray[i] = copyEl;\r\n    }\r\n    return outArray;\r\n  }\r\n\r\n  public getParametersValues(): any {\r\n    const parametersValues = {};\r\n    Object.keys(this.model.interactions.paramsVariables).forEach(i => {\r\n      const parameter: Variable = this.model.interactions.paramsVariables[i];\r\n      parametersValues[parameter.name] = this.getVariableValue(parameter);\r\n    });\r\n    return parametersValues;\r\n  }\r\n\r\n  getVariableValue(parameter: Variable): any {\r\n    if (parameter.isNull) {\r\n      return null;\r\n    }\r\n\r\n    switch (parameter.basicType) {\r\n      case 'Value':\r\n      case 'NullableValue':\r\n        return this.val(parameter.key, parameter, parameter.allowUserValues ? parameter.value : parameter.key);\r\n\r\n      case 'Range':\r\n        return { from: this.val(parameter.key, parameter), to: this.val(parameter.keyTo, parameter) };\r\n\r\n      case 'List':\r\n        const value = [];\r\n        if (parameter.items) {\r\n          parameter.items.filter(i => parameter.allowUserValues || i.isChecked).forEach(item => value.push(this.val(item.key, parameter)));\r\n        }\r\n        return value;\r\n    }\r\n  }\r\n\r\n  val(key: any, parameter: Variable, value?: any): any {\r\n    return parameter.type === 'DateTime' ? this.helper.getStringDateTime(key, parameter.dateTimeType) : (value === undefined ? key : value);\r\n  }\r\n\r\n  public initializeInteractions(page: any) {\r\n    if (!page) {\r\n      return;\r\n    }\r\n    const elems = page.querySelectorAll ? page.querySelectorAll('td,div,span,rect,path,ellipse') : page.getElementsByTagName('td');\r\n    const collapsedHash = [];\r\n    for (const elem of elems) {\r\n      if (elem.getAttribute('interaction') && (\r\n        elem.getAttribute('pageguid') ||\r\n        elem.getAttribute('reportfile') ||\r\n        elem.getAttribute('collapsed') ||\r\n        elem.getAttribute('databandsort'))) {\r\n\r\n        elem.style.cursor = 'pointer';\r\n\r\n        const sort = elem.getAttribute('sort');\r\n        if (sort) {\r\n          this.paintSortingArrow(elem, sort);\r\n        }\r\n\r\n        const collapsed = elem.getAttribute('collapsed');\r\n        if (collapsed) {\r\n          const compId = elem.getAttribute('compindex') + '|' + elem.getAttribute('interaction');\r\n          if (collapsedHash.indexOf(compId) < 0) {\r\n            this.paintCollapsingIcon(elem, collapsed === 'true');\r\n            collapsedHash.push(compId);\r\n          }\r\n        }\r\n\r\n        elem.onclick = (e: any) => {\r\n          if (elem.getAttribute('pageguid') || elem.getAttribute('reportfile')) {\r\n            this.postInteractionDrillDown(elem);\r\n          } else if (elem.getAttribute('collapsed')) {\r\n            this.postInteractionCollapsing(elem);\r\n          } else {\r\n            this.postInteractionSorting(elem, e.ctrlKey);\r\n          }\r\n        };\r\n\r\n        if (elem.getAttribute('pageguid') || elem.getAttribute('reportfile')) {\r\n          elem.onmouseover = () => elem.style.opacity = 0.75;\r\n          elem.onmouseout = () => elem.style.opacity = 1;\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  public getComponentOffset(component: any) {\r\n    let offsetX = 0;\r\n    let offsetY = 0;\r\n    const startComponent = component;\r\n    while (component && !isNaN(component.offsetLeft) && !isNaN(component.offsetTop)\r\n      && (component === startComponent || component.style.position === '' || component.style.position === 'static')) {\r\n      offsetX += component.offsetLeft - component.scrollLeft;\r\n      offsetY += component.offsetTop - component.scrollTop;\r\n      component = component.offsetParent;\r\n    }\r\n    return { top: offsetY, left: offsetX };\r\n  }\r\n\r\n  public paintSortingArrow(component: any, sort: string) {\r\n    if (component.arrowImg) { return; }\r\n\r\n    const arrowImg = document.createElement(\"div\");\r\n    let sortUpSrc = \"<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12'><path d='M1 9l5-4 5 4z' fill='#eeeeee' stroke='#666'/></svg>\";\r\n    let sortDownSrc = \"<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12'><path d='M1 5l5 4 5-4z' fill='#eeeeee' stroke='#666'/></svg>\";\r\n    arrowImg.innerHTML = sort == \"asc\" ? sortDownSrc : sortUpSrc;\r\n\r\n    const arrowWidth = (this.model.reportParams.zoom / 100) * 16;\r\n    const arrowHeight = (this.model.reportParams.zoom / 100) * 16;\r\n\r\n    arrowImg.style.position = 'absolute';\r\n    arrowImg.style.width = arrowWidth + 'px';\r\n    arrowImg.style.height = arrowHeight + 'px';\r\n    component.appendChild(arrowImg);\r\n    component.arrowImg = arrowImg;\r\n\r\n    const oldPosition = component.style.position;\r\n    const oldClassName = component.className;\r\n    component.style.position = 'relative';\r\n    if (!oldClassName) { component.className = 'stiSortingParentElement'; }\r\n\r\n    const arrowLeftPos = this.helper.findPosX(arrowImg, component.className);\r\n    const arrowTopPos = this.helper.findPosY(arrowImg, component.className);\r\n\r\n    arrowImg.style.marginLeft = (component.offsetWidth - arrowLeftPos - arrowWidth - ((this.model.reportParams.zoom / 100) * 3)) + 'px';\r\n    arrowImg.style.marginTop = (component.offsetHeight / 2 - arrowHeight / 2 - arrowTopPos) + 'px';\r\n    if (oldPosition) component.style.position = oldPosition;\r\n    component.className = oldClassName;\r\n  }\r\n\r\n  public paintCollapsingIcon(component: any, collapsed: boolean) {\r\n    if (component.collapsImg) { return; }\r\n    const collapsImg = document.createElement('img');\r\n    collapsImg.src = collapsed ? this.model.img('CollapsingPlus.png') : this.model.img('CollapsingMinus.png');\r\n    collapsImg.style.position = 'absolute';\r\n    const collapsWidth = (this.model.reportParams.zoom / 100) * 10;\r\n    const collapsHeight = (this.model.reportParams.zoom / 100) * 10;\r\n    collapsImg.style.width = collapsWidth + 'px';\r\n    collapsImg.style.height = collapsHeight + 'px';\r\n    component.appendChild(collapsImg);\r\n    component.collapsImg = collapsImg;\r\n\r\n    const componentOffset = this.getComponentOffset(component);\r\n    const collapsOffset = this.getComponentOffset(collapsImg);\r\n    collapsImg.style.marginLeft = (componentOffset.left - collapsOffset.left + collapsWidth / 3) + 'px';\r\n    collapsImg.style.marginTop = (componentOffset.top - collapsOffset.top + collapsWidth / 3) + 'px';\r\n  }\r\n\r\n  public postInteractionSorting(component: any, isCtrl: boolean) {\r\n    const params: InteractionParams = {\r\n      action: 'Sorting',\r\n      sortingParameters: {\r\n        ComponentName: component.getAttribute('interaction') + ';' + isCtrl.toString(),\r\n        DataBand: component.getAttribute('databandsort')\r\n      }\r\n    };\r\n\r\n    if (this.model.options.isParametersReceived) {\r\n      params.variables = this.getParametersValues();\r\n    }\r\n\r\n    this.postInteraction(params);\r\n  }\r\n\r\n  public postInteractionDrillDown(component: any) {\r\n    const params: InteractionParams = {\r\n      action: 'DrillDown',\r\n      drillDownParameters: {\r\n        ComponentIndex: component.getAttribute('compindex'),\r\n        ElementIndex: component.getAttribute('elementindex'),\r\n        PageIndex: component.getAttribute('pageindex'),\r\n        PageGuid: component.getAttribute('pageguid'),\r\n        ReportFile: component.getAttribute('reportfile')\r\n      }\r\n    };\r\n\r\n    this.postInteraction(params);\r\n  }\r\n\r\n  public postInteractionCollapsing(component: any) {\r\n    const componentName = component.getAttribute('interaction');\r\n    const collapsingIndex = component.getAttribute('compindex');\r\n    const collapsed = component.getAttribute('collapsed') === 'true' ? false : true;\r\n\r\n    if (!this.model.reportParams.collapsingStates) { this.model.reportParams.collapsingStates = {}; }\r\n    if (!this.model.reportParams.collapsingStates[componentName]) { this.model.reportParams.collapsingStates[componentName] = {}; }\r\n    this.model.reportParams.collapsingStates[componentName][collapsingIndex] = collapsed;\r\n\r\n    const params: InteractionParams = {\r\n      action: 'Collapsing',\r\n      collapsingParameters: {\r\n        ComponentName: componentName,\r\n        CollapsingStates: this.model.reportParams.collapsingStates\r\n      }\r\n    };\r\n\r\n    if (this.model.options.isParametersReceived) {\r\n      params.variables = this.getParametersValues();\r\n    }\r\n\r\n    this.postInteraction(params);\r\n  }\r\n\r\n  public updateAllHyperLinks() {\r\n    let pointers = this.model.reportParams.tableOfContentsPointers;\r\n    //var bookmarksPanel = this.controls.bookmarksPanel;\r\n    if (this.model.reportParams.bookmarksContent != null || (pointers && pointers.length > 0)) {\r\n      this.model.pages.forEach(p => {\r\n        const page = p.page;\r\n\r\n        const aHyperlinks = page.getElementsByTagName('a');\r\n\r\n        for (const aHyperlink of aHyperlinks) {\r\n          aHyperlink.hrefContent = aHyperlink.getAttribute('href');\r\n\r\n          if (aHyperlink.hrefContent) {\r\n\r\n            if (aHyperlink.hrefContent.indexOf(\"#\") == 0) {\r\n              let anchorParams = aHyperlink.hrefContent.substring(1).split(\"#GUID#\");\r\n              aHyperlink.anchorName = anchorParams[0];\r\n              aHyperlink.componentGuid = anchorParams.length > 1 ? anchorParams[1] : \"\";\r\n\r\n              aHyperlink.onclick = () => {\r\n                let currAnchorName = aHyperlink.anchorName;\r\n                let cuurCompGuid = aHyperlink.componentGuid;\r\n\r\n                try {\r\n                  currAnchorName = decodeURI(aHyperlink.anchorName)\r\n                }\r\n                catch (e) {\r\n                  currAnchorName = aHyperlink.anchorName;\r\n                }\r\n\r\n                if (pointers.length > 0) {\r\n                  let pageIndex = 1;\r\n\r\n                  for (let i = 0; i < pointers.length; i++) {\r\n                    if (cuurCompGuid) {\r\n                      if (pointers[i].componentGuid == cuurCompGuid) {\r\n                        pageIndex = pointers[i].pageIndex;\r\n                        break;\r\n                      }\r\n                    }\r\n                    else if (currAnchorName) {\r\n                      let pointerAnchor = pointers[i].anchor.indexOf(\"#\") == 0 ? pointers[i].anchor.substring(1) : pointers[i].anchor;\r\n                      if (pointerAnchor == currAnchorName) {\r\n                        pageIndex = pointers[i].pageIndex;\r\n                        break;\r\n                      }\r\n                    }\r\n                  }\r\n\r\n                  let anchorName = \"\";\r\n                  if (currAnchorName) anchorName += currAnchorName;\r\n                  if (cuurCompGuid) anchorName += (\"#GUID#\" + cuurCompGuid);\r\n                  if (anchorName) {\r\n                    this.controller.action({ name: 'BookmarkAction', bookmarkPage: Math.max(pageIndex - 1, 0), bookmarkAnchor: anchorName, componentGuid: aHyperlink.compunentGuid });\r\n                    return false;\r\n                  }\r\n                }\r\n\r\n                if (this.model.reportParams.bookmarksContent != null) {\r\n                  const node = this.model.nodes.find(n => n.name === currAnchorName);\r\n                  if (node) {\r\n                    this.model.navigateNode = node;\r\n                  } else {\r\n                    for (let k = 0; k < document.anchors.length; k++) {\r\n                      if (document.anchors[k].name == currAnchorName) {\r\n                        //jsObject.scrollToAnchor(currAnchorName);\r\n                        this.helper.scrollToAnchor(currAnchorName);\r\n                        return;\r\n                      }\r\n                    }\r\n                  }\r\n                  this.controller.post('BookmarkAction', null, 0);\r\n\r\n\r\n                  /*let aBookmarks = bookmarksPanel.getElementsByTagName(\"a\");\r\n                  for (let k = 0; k < aBookmarks.length; k++) {\r\n                    let clickFunc = aBookmarks[k].getAttribute(\"onclick\");\r\n                    if (clickFunc && clickFunc.indexOf(\"'\" + currAnchorName + \"'\") >= 0) {\r\n                      try {\r\n                        eval(clickFunc);\r\n                        return false;\r\n                      }\r\n                      catch (e) { }\r\n                    }\r\n                  }\r\n\r\n                  this.controller.post('BookmarkAction', null, 0);*/\r\n                  return false;\r\n                }\r\n\r\n                //=================================\r\n                /*let pageIndex = 1;\r\n                for (let i = 0; i < pointers.length; i++) {\r\n                  if (aHyperlink.componentGuid) {\r\n                    if (pointers[i].componentGuid == aHyperlink.componentGuid) {\r\n                      pageIndex = pointers[i].pageIndex;\r\n                      break;\r\n                    }\r\n                  }\r\n                  else if (aHyperlink.bookmarkAnchor) {\r\n                    if (pointers[i].anchor == decodeURI(aHyperlink.bookmarkAnchor)) {\r\n                      pageIndex = pointers[i].pageIndex;\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n                this.controller.action({ name: 'BookmarkAction', bookmarkPage: pageIndex - 1, bookmarkAnchor: decodeURI(aHyperlink.bookmarkAnchor), componentGuid: aHyperlink.compunentGuid });\r\n                return false;\r\n                };\r\n                } else if (this.model.reportParams.bookmarksContent != null) {\r\n                aHyperlink.anchorName = aHyperlink.hrefContent.replace('#', '');\r\n\r\n                aHyperlink.onclick = () => {\r\n                const node = this.model.nodes.find(n => n.url.replace(/\\\\\\'/g, '\\'').substr(1) === aHyperlink.anchorName);\r\n                if (node) {\r\n                  this.model.navigateNode = node;\r\n                } else if (aHyperlink.hrefContent.indexOf('#') === 0) {\r\n                  for (let i = 0; i < document.anchors.length; i++) {\r\n                    const anchor = document.anchors[i];\r\n                    if (anchor.name === aHyperlink.anchorName) {\r\n                      this.helper.scrollToAnchor(aHyperlink.anchorName);\r\n                      return;\r\n                    }\r\n                  }\r\n                  this.controller.post('BookmarkAction', null, 0);\r\n                }\r\n                return false;\r\n                };*/\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { RadioButtonComponent } from '../controls/radio-button.components';\r\n\r\n@Injectable()\r\nexport class RadioButtonService {\r\n\r\n  groups = {};\r\n\r\n  constructor() { }\r\n\r\n  public addButton(button: RadioButtonComponent) {\r\n    if (!this.groups[button.groupName]) {\r\n      this.groups[button.groupName] = [];\r\n    }\r\n    this.groups[button.groupName].push(button);\r\n  }\r\n\r\n  public removeButton(button: RadioButtonComponent) {\r\n    const buttons = this.groups[button.groupName] as RadioButtonComponent[];\r\n    buttons?.splice(buttons.indexOf(button), 1);\r\n  }\r\n\r\n  public check(button: RadioButtonComponent) {\r\n    const buttons = this.groups[button.groupName] as RadioButtonComponent[];\r\n    buttons?.filter(b => b.name !== button.name).forEach(b => b.uncheck());\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ControllerService } from './controller.service';\r\nimport { Message } from './objects';\r\nimport { ModelService } from './model.service';\r\nimport { HelperService } from './helper.service';\r\n\r\n@Injectable()\r\nexport class EditableFieldsService {\r\n\r\n  public visible = false;\r\n  public editableFields = [];\r\n  public currentEditableTextArea: any;\r\n\r\n  constructor(private controller: ControllerService, private model: ModelService, private helper: HelperService) {\r\n\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'Editor':\r\n          this.visible = !this.visible;\r\n          if (this.visible) {\r\n            this.showAllEditableFields();\r\n          } else {\r\n            this.hideAllEditableFields();\r\n          }\r\n          break;\r\n      }\r\n    });\r\n\r\n    controller.getMessage().subscribe((message) => {\r\n      if (message.action === 'GetPages' && this.visible) {\r\n        setTimeout(() => this.showAllEditableFields());\r\n      } else {\r\n        this.visible = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  private showAllEditableFields() {\r\n    this.editableFields = [];\r\n\r\n    this.model.pages.forEach((page, pageIndex) => {\r\n      const pageElements = page.page.getElementsByTagName('*');\r\n      for (const pageElement of pageElements) {\r\n        const editableStrAttr = pageElement.getAttribute('editable');\r\n        if (editableStrAttr) {\r\n          const attrArray = editableStrAttr.split(';');\r\n          const params: any = {};\r\n          params.compIndex = attrArray[0];\r\n          params.pageIndex = this.model.reportParams.viewMode === 'SinglePage' ? this.model.reportParams.pageNumber : pageIndex.toString();\r\n          params.type = attrArray[1];\r\n\r\n          if (params.type === 'CheckBox') {\r\n            this.showCheckBoxEditableField(pageElement, params, attrArray);\r\n          } else if (params.type === 'Text') {\r\n            this.showTextEditableField(pageElement, params);\r\n          } else if (params.type === 'RichText') {\r\n            this.showRichTextEditableField(pageElement, params);\r\n          }\r\n        }\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  private hideAllEditableFields() {\r\n    if (this.currentEditableTextArea) { this.currentEditableTextArea.onblur(); }\r\n\r\n    this.editableFields.forEach((eField) => {\r\n      eField.className = eField.className.replace(' stiEditableField stiEditableFieldSelected', '');\r\n      eField.onclick = null;\r\n      eField.style.outline = '';\r\n    });\r\n\r\n  }\r\n\r\n  private showCheckBoxEditableField(editableCell: any, params: any, attrArray: any[]) {\r\n    if (!editableCell.sizes) {\r\n      let imgElements = editableCell.getElementsByTagName('IMG');\r\n      if (imgElements.length === 0) { imgElements = editableCell.getElementsByTagName('SVG'); }\r\n      if (imgElements.length === 0) { imgElements = editableCell.getElementsByTagName('svg'); }\r\n      const imgElement = (imgElements.length > 0) ? imgElements[0] : null;\r\n      if (!imgElement) { return; }\r\n      if (imgElement.offsetWidth) {\r\n        editableCell.sizes = {\r\n          inPixels: imgElement.offsetWidth > imgElement.offsetHeight ? imgElement.offsetHeight : imgElement.offsetWidth,\r\n          widthStyle: imgElement.style.width,\r\n          heightStyle: imgElement.style.height\r\n        };\r\n      } else {\r\n        editableCell.sizes = {\r\n          inPixels: imgElement.clientWidth > imgElement.clientHeight ? imgElement.clientHeight : imgElement.clientWidth,\r\n          widthStyle: imgElement.clientWidth + 'px',\r\n          heightStyle: imgElement.clientHeight + 'px'\r\n        };\r\n      }\r\n    }\r\n\r\n    if (this.helper.getNavigatorName() !== 'Google Chrome') { editableCell.style.outline = '1px solid gray'; }\r\n    editableCell.style.textAlign = 'center';\r\n    editableCell.className += ' stiEditableField stiEditableFieldSelected';\r\n\r\n    const trueSvgImage = this.getSvgCheckBox(attrArray[3], attrArray[5], this.helper.strToInt(attrArray[6]), attrArray[7], editableCell.sizes.inPixels);\r\n    const falseSvgImage = this.getSvgCheckBox(attrArray[4], attrArray[5], this.helper.strToInt(attrArray[6]), attrArray[7], editableCell.sizes.inPixels);\r\n    params.falseImage = `<div style=\"width: ${editableCell.sizes.widthStyle}; height: ${editableCell.sizes.heightStyle}; \"> ${trueSvgImage}  </div>`;\r\n    params.trueImage = `<div style=\"width: ${editableCell.sizes.widthStyle}; height: ${editableCell.sizes.heightStyle}; \"> ${falseSvgImage} </div>`;\r\n    params.checked = attrArray[2] === 'true' || attrArray[2] === 'True';\r\n    editableCell.params = params;\r\n\r\n    if (!editableCell.hasChanged) {\r\n      editableCell.checked = params.checked;\r\n      editableCell.innerHTML = params.checked ? params.trueImage : params.falseImage;\r\n    }\r\n\r\n    editableCell.onclick = () => {\r\n      editableCell.checked = !editableCell.checked;\r\n      editableCell.innerHTML = editableCell.checked ? params.trueImage : params.falseImage;\r\n      editableCell.hasChanged = true;\r\n      this.addEditableParameters(editableCell);\r\n    };\r\n\r\n    this.editableFields.push(editableCell);\r\n  }\r\n\r\n  private showTextEditableField(editableCell: any, params: any) {\r\n\r\n    editableCell.className += ' stiEditableField stiEditableFieldSelected';\r\n    if (this.helper.getNavigatorName() !== 'Google Chrome') { editableCell.style.outline = '1px solid gray'; }\r\n    editableCell.params = params;\r\n    editableCell.jsObject = this;\r\n\r\n    editableCell.onclick = () => {\r\n      if (editableCell.editMode) { return; }\r\n      if (this.currentEditableTextArea) { this.currentEditableTextArea.onblur(); }\r\n      editableCell.editMode = true;\r\n\r\n      const textArea = document.createElement('textarea');\r\n      textArea.style.width = (editableCell.offsetWidth - 5) + 'px';\r\n      textArea.style.height = (editableCell.offsetHeight - 5) + 'px';\r\n      textArea.style.maxWidth = (editableCell.offsetWidth - 5) + 'px';\r\n      textArea.style.maxHeight = (editableCell.offsetHeight - 5) + 'px';\r\n      textArea.className = editableCell.className.replace(' stiEditableField stiEditableFieldSelected', '') + ' stiEditableTextArea';\r\n      textArea.style.border = '0px';\r\n\r\n      let textContainer = editableCell;\r\n      if (textContainer.firstChild && textContainer.firstChild.nodeName && textContainer.firstChild.nodeName.toLowerCase() === 'div') {\r\n        textContainer = textContainer.childNodes[0];\r\n      }\r\n\r\n      textArea.value = textContainer.innerHTML.replace(/<br>/g, '\\n');\r\n      editableCell.appendChild(textArea);\r\n      textArea.focus();\r\n      this.currentEditableTextArea = textArea;\r\n\r\n      textArea.onblur = () => {\r\n        editableCell.editMode = false;\r\n        const newText = textArea.value;\r\n        textContainer.innerHTML = newText.replace(/\\n/g, '<br>');\r\n        if (this && textArea.parentNode) {\r\n          textArea.parentNode.removeChild(textArea);\r\n        }\r\n        this.currentEditableTextArea = null;\r\n        this.addEditableParameters(editableCell, newText);\r\n      };\r\n    };\r\n\r\n    this.editableFields.push(editableCell);\r\n  }\r\n\r\n  private showRichTextEditableField(editableCell: any, params: any) {\r\n\r\n  }\r\n\r\n  private addEditableParameters(editableCell: any, newText?: any) {\r\n    if (!this.model.reportParams.editableParameters) { this.model.reportParams.editableParameters = {}; }\r\n    const params: any = {};\r\n    params.type = editableCell.params.type;\r\n    if (params.type === 'CheckBox') { params.checked = editableCell.checked; }\r\n    if (params.type === 'Text') { params.text = newText != null ? newText : editableCell.innerHTML; }\r\n\r\n    if (!this.model.reportParams.editableParameters[editableCell.params.pageIndex]) { this.model.reportParams.editableParameters[editableCell.params.pageIndex] = {}; }\r\n    this.model.reportParams.editableParameters[editableCell.params.pageIndex][editableCell.params.compIndex] = params;\r\n  }\r\n\r\n  private getSvgCheckBox(style: string, contourColor: string, size: number, backColor: string, width: number) {\r\n    const head = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0\" y=\"0\" width=\"${width}px\" height=\"${width}px\">`;\r\n    const path = `<path stroke=\"${contourColor}\" stroke-width=\"${size}\" fill=\"${backColor}\" stroke-linecap=\"round\" stroke-linejoin=\"round\" transform=\"scale(${(1 / (200 / width))})\" d=\"`;\r\n\r\n    let shape = '';\r\n    switch (style) {\r\n      case 'Cross':\r\n        shape = 'm 62.567796,147.97593 c -0.55,-0.14223 -2.162828,-0.5128 -3.584062,-0.82348 -3.647667,-0.79738 -9.670499,-5.83775 -14.242817,-11.91949 l ' +\r\n          '-3.902341,-5.19058 5.080199,-1.13481 c 7.353071,-1.64253 13.640456,-5.71752 21.826811,-14.14646 l 7.208128,-7.42171 ' +\r\n          '-6.410736,-7.513354 c -11.773129,-13.79803 -14.346726,-23.01954 -8.627769,-30.91434 2.894109,-3.9952 11.818482,-12.369333 ' +\r\n          '13.182086,-12.369333 0.411356,0 1.063049,1.6875 1.448207,3.750003 0.980474,5.25038 6.456187,16.76587 10.936694,23 2.075266,2.8875 ' +\r\n          '3.991125,5.25 4.257464,5.25 0.266339,0 3.775242,-3.4875 7.797566,-7.75 16.397034,-17.37615 29.674184,-19.76481 38.280564,-6.88699 ' +\r\n          '4.15523,6.21753 4.18631,8.07093 0.14012,8.3552 -5.84833,0.41088 -17.16241,8.5342 -25.51465,18.319104 l -4.63153,5.42599 ' +\r\n          '4.87803,4.31529 c 6.55108,5.79533 18.8991,11.89272 25.84076,12.76002 3.0455,0.38051 5.53727,1.10582 5.53727,1.6118 0,2.7809 ' +\r\n          '-9.26611,14.41872 -13.03,16.36511 -7.96116,4.11687 -16.36991,0.71207 -32.764584,-13.26677 l -4.985957,-4.25125 -7.086791,8.97188 c ' +\r\n          '-3.897736,4.93454 -8.82141,10.1198 -10.9415,11.52281 -3.906121,2.58495 -8.86588,4.41339 -10.691162,3.94136 z';\r\n        break;\r\n\r\n      case 'Check':\r\n        shape = 'M 60.972125,162.49704 C 51.172676,136.72254 43.561975,123.37669 35.370344,117.6027 l -4.45827,-3.14248 2.75159,-2.89559 c 3.875121,-4.07793 ' +\r\n          '10.034743,-7.49924 14.902472,-8.27747 3.859874,-0.61709 4.458306,-0.38024 8.535897,3.37835 2.660692,2.45254 6.265525,7.60856 9.167226,13.11196 ' +\r\n          '2.630218,4.98849 4.910542,9.06999 5.067388,9.06999 0.156846,0 2.31372,-3.0375 4.793052,-6.75 C 96.259164,91.956015 129.68299,58.786374 157.56485,41.281603 l ' +\r\n          '8.84913,-5.555656 2.2633,2.631238 2.26329,2.631237 -7.76266,6.294183 C 139.859,66.19023 108.01682,105.51363 89.042715,138.83563 c -6.680477,11.73214 ' +\r\n          '-7.172359,12.31296 -15.090788,17.81963 -4.501873,3.13071 -9.044031,6.30443 -10.093684,7.05271 -1.708923,1.21826 -2.010678,1.09165 -2.886118,-1.21093 z';\r\n        break;\r\n\r\n      case 'CrossRectangle':\r\n        shape = 'm 24.152542,102.04237 0,-72.499996 74.5,0 74.499998,0 0,72.499996 0,72.5 -74.499998,0 -74.5,0 0,-72.5 z m 133.758188,0.25 -0.25819,-57.249996 ' +\r\n          '-58.999998,0 -59,0 -0.259695,55.999996 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 13.207991,1.25 59.517885,1.25 l ' +\r\n          '59.039573,0 -0.25819,-57.25 z m -90.574091,43.18692 c -1.823747,-0.3912 -4.926397,-1.85716 -6.894778,-3.25768 -3.319254,-2.36169 -12.289319,-12.40741 ' +\r\n          '-12.289319,-13.76302 0,-0.32888 2.417494,-1.13897 5.372209,-1.80021 7.185193,-1.60797 13.747505,-5.93496 21.803114,-14.3763 l 6.675323,-6.99496 ' +\r\n          '-6.379078,-7.31436 C 64.931387,85.71231 61.643682,76.29465 65.471903,68.89169 67.054097,65.83207 78.56175,54.542374 80.098251,54.542374 c 0.45744,0 ' +\r\n          '1.146839,1.6875 1.531997,3.75 0.980474,5.250386 6.456187,16.765876 10.936694,22.999996 2.075266,2.8875 3.991125,5.25 4.257464,5.25 0.266339,0 ' +\r\n          '3.775244,-3.4875 7.797564,-7.75 16.39704,-17.376139 29.67419,-19.764806 38.28057,-6.88698 4.15523,6.21752 4.18631,8.07092 0.14012,8.35519 -5.82996,0.40959 ' +\r\n          '-18.23707,9.34942 -25.91566,18.67328 -3.90068,4.73647 -3.97203,4.95414 -2.2514,6.86861 3.19054,3.54997 13.7039,10.54321 18.97191,12.61967 2.83427,1.11716 ' +\r\n          '7.43737,2.33421 10.22912,2.70455 2.79175,0.37034 5.07591,0.9956 5.07591,1.38947 0,2.11419 -8.37504,13.20895 -11.6517,15.4355 -8.39423,5.70403 ' +\r\n          '-16.63203,2.77 -34.14289,-12.16054 l -4.985955,-4.25125 -7.086791,8.97188 c -9.722344,12.3085 -16.524852,16.55998 -23.948565,14.96754 z';\r\n        break;\r\n\r\n      case 'CheckRectangle':\r\n        shape = 'm 19.915254,103.5 0,-72.5 71.942245,0 71.942241,0 6.55727,-4.11139 6.55726,-4.11139 1.96722,2.36139 c 1.08197,1.298765 1.98219,2.644166 2.00049,2.98978 ' +\r\n          '0.0183,0.345615 -2.44173,2.53784 -5.46673,4.87161 l -5.5,4.243219 0,69.378391 0,69.37839 -74.999991,0 -75.000005,0 0,-72.5 z m 133.999996,3.87756 c ' +\r\n          '0,-49.33933 -0.12953,-53.514947 -1.62169,-52.276568 -2.78014,2.307312 -15.68408,17.90053 -24.32871,29.399008 -10.4919,13.955575 -23.47926,33.53736 ' +\r\n          '-29.514025,44.5 -4.457326,8.09707 -5.134776,8.80812 -14.291256,15 -5.28667,3.575 -9.903486,6.62471 -10.259592,6.77712 -0.356107,0.15242 -1.912439,-2.99758 ' +\r\n          '-3.458515,-7 -1.546077,-4.00241 -5.258394,-12.41205 -8.249593,-18.68809 -4.285436,-8.99155 -6.676569,-12.64898 -11.27758,-17.25 C 47.70282,104.62757 ' +\r\n          '44.364254,102 43.495254,102 c -2.798369,0 -1.704872,-1.66044 3.983717,-6.049158 5.593548,-4.31539 13.183139,-7.091307 16.801313,-6.145133 3.559412,0.930807 ' +\r\n          '9.408491,8.154973 13.919775,17.192241 l 4.46286,8.94025 4.54378,-6.83321 C 95.518219,96.605618 108.21371,81.688517 125.80695,63.75 L 143.21531,46 l ' +\r\n          '-53.650021,0 -53.650035,0 0,57.5 0,57.5 59.000005,0 58.999991,0 0,-53.62244 z';\r\n        break;\r\n\r\n      case 'CrossCircle':\r\n        shape = 'M 83.347458,173.13597 C 61.069754,168.04956 42.193415,152.8724 32.202285,132.01368 23.4014,113.63986 23.679644,89.965903 32.91889,71.042373 ' +\r\n          '41.881579,52.685283 60.867647,37.139882 80.847458,31.799452 c 10.235111,-2.735756 31.264662,-2.427393 40.964762,0.600679 26.18668,8.174684 ' +\r\n          '46.06876,28.926852 51.62012,53.879155 2.43666,10.952327 1.56754,28.058524 -1.98036,38.977594 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 ' +\r\n          '-6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033911,0.23456 -15.484931,-0.10267 -19.500002,-1.01939 z M 112.4138,158.45825 c 17.13137,-3.13002 ' +\r\n          '33.71724,-15.96081 41.41353,-32.03742 14.8975,-31.119027 -1.10807,-67.659584 -34.40232,-78.540141 -6.71328,-2.193899 -9.93541,-2.643501 ' +\r\n          '-19.07755,-2.661999 -9.354252,-0.01893 -12.16228,0.37753 -18.768532,2.649866 -17.155451,5.900919 -29.669426,17.531424 -36.438658,33.866137 ' +\r\n          '-2.152301,5.193678 -2.694658,8.35455 -3.070923,17.89744 -0.518057,13.139047 0.741843,19.201887 6.111644,29.410237 4.106815,7.80733 15.431893,19.09359 ' +\r\n          '23.36818,23.28808 12.061362,6.37467 27.138828,8.6356 40.864629,6.1278 z M 69.097458,133.41654 c -2.8875,-2.75881 -5.25,-5.35869 -5.25,-5.77751 ' +\r\n          '0,-0.41882 5.658529,-6.30954 12.57451,-13.0905 l 12.57451,-12.329 L 76.198053,89.392633 63.399628,76.565738 68.335951,71.554056 c 2.714978,-2.756426 ' +\r\n          '5.304859,-5.011683 5.75529,-5.011683 0.450432,0 6.574351,5.611554 13.608709,12.470121 l 12.78974,12.470119 4.42889,-4.553471 c 2.43588,-2.50441 ' +\r\n          '8.39186,-8.187924 13.23551,-12.630032 l 8.80663,-8.076559 5.34744,5.281006 5.34743,5.281007 -12.96155,12.557899 -12.96154,12.557897 13.13318,13.16027 ' +\r\n          '13.13319,13.16027 -5.18386,4.66074 c -2.85112,2.5634 -5.70472,4.66073 -6.34134,4.66073 -0.63661,0 -6.5434,-5.4 -13.12621,-12 -6.58281,-6.6 -12.3871,-12 ' +\r\n          '-12.89844,-12 -0.511329,0 -6.593363,5.60029 -13.515627,12.44509 l -12.585935,12.44508 -5.25,-5.016 z';\r\n        break;\r\n\r\n      case 'DotCircle':\r\n        shape = 'M 81.652542,170.5936 C 59.374838,165.50719 40.498499,150.33003 30.507369,129.47131 21.706484,111.09749 21.984728,87.42353 31.223974,68.5 ' +\r\n          '40.186663,50.14291 59.172731,34.597509 79.152542,29.257079 89.387653,26.521323 110.4172,26.829686 120.1173,29.857758 c 26.18668,8.174684 ' +\r\n          '46.06876,28.926852 51.62012,53.879152 2.43666,10.95233 1.56754,28.05853 -1.98036,38.9776 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 ' +\r\n          '-6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033907,0.23456 -15.484927,-0.10267 -19.499998,-1.01939 z m 29.999998,-15.098 c 20.68862,-4.34363 ' +\r\n          '38.01874,-20.45437 44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.0187 0,-30 C 150.08927,65.371023 134.63549,50.297336 114.65254,44.412396 ' +\r\n          '106.5531,42.027127 90.741304,42.026386 82.695253,44.4109 62.460276,50.407701 46.686742,66.039241 41.6053,85.13096 c -1.948821,7.32201 -1.86506,23.11641 ' +\r\n          '0.158766,29.93754 8.730326,29.42481 38.97193,46.91812 69.888474,40.4271 z M 90.004747,122.6703 C 76.550209,117.63801 69.825047,101.82445 ' +\r\n          '75.898143,89.5 c 2.136718,-4.33615 7.147144,-9.356192 11.754399,-11.776953 5.578622,-2.931141 16.413098,-2.927504 22.052908,0.0074 18.03,9.382663 ' +\r\n          '19.07573,32.784373 1.91442,42.841563 -5.57282,3.26589 -15.830952,4.2617 -21.615123,2.09829 z';\r\n        break;\r\n\r\n      case 'DotRectangle':\r\n        shape = 'm 23.847458,101.19491 0,-72.499995 74.5,0 74.499992,0 0,72.499995 0,72.5 -74.499992,0 -74.5,0 0,-72.5 z m 133.999992,-0.008 0,-57.507925 ' +\r\n          '-59.249992,0.25793 -59.25,0.25793 -0.25819,57.249995 -0.258189,57.25 59.508189,0 59.508182,0 0,-57.50793 z m -94.320573,33.85402 c -0.37368,-0.37368 ' +\r\n          '-0.679419,-15.67942 -0.679419,-34.01275 l 0,-33.333335 35.513302,0 35.51329,0 -0.2633,33.749995 -0.2633,33.75 -34.570573,0.26275 c -19.013819,0.14452 ' +\r\n          '-34.876319,-0.043 -35.25,-0.41666 z';\r\n        break;\r\n\r\n      case 'NoneCircle':\r\n        shape = 'M 83.5,170.5936 C 61.222296,165.50719 42.345957,150.33003 32.354827,129.47131 23.553942,111.09749 23.832186,87.423523 33.071432,68.5 ' +\r\n          '42.034121,50.14291 61.020189,34.597509 81,29.257079 c 10.235111,-2.735756 31.26466,-2.427393 40.96476,0.600679 26.18668,8.174684 46.06876,28.926852 ' +\r\n          '51.62012,53.879155 2.43666,10.95232 1.56754,28.058527 -1.98036,38.977597 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 -6.3909,2.08202 ' +\r\n          '-10.18566,2.59644 -21.27805,2.88446 -9.033909,0.23456 -15.484929,-0.10267 -19.5,-1.01939 z m 30,-15.098 c 20.68862,-4.34363 38.01874,-20.45437 ' +\r\n          '44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.018707 0,-29.999997 C 151.93673,65.371023 136.48295,50.297336 116.5,44.412396 108.40056,42.027127 ' +\r\n          '92.588762,42.026386 84.542711,44.410896 64.307734,50.407697 48.5342,66.039237 43.452758,85.130959 c -1.948821,7.322 -1.86506,23.116411 ' +\r\n          '0.158766,29.937541 8.730326,29.42481 38.97193,46.91812 69.888476,40.4271 z';\r\n        break;\r\n\r\n      case 'NoneRectangle':\r\n        shape = 'm 24.152542,102.04237 0,-72.499997 74.5,0 74.500008,0 0,72.499997 0,72.5 -74.500008,0 -74.5,0 0,-72.5 z m 133.758198,0.25 ' +\r\n          '-0.25819,-57.249997 -59.000008,0 -59,0 -0.259695,55.999997 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 ' +\r\n          '13.207991,1.25 59.517885,1.25 l 59.039583,0 -0.25819,-57.25 z';\r\n        break;\r\n    }\r\n\r\n    return head + path + shape + '\" /></svg>';\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ModelService } from './model.service';\r\nimport { InteractionsService } from './interactions.service';\r\nimport { HelperService } from './helper.service';\r\nimport { EditableFieldsService } from './editable-fields.service';\r\nimport { ControllerService } from './controller.service';\r\nimport { ComponentDescription, Message } from './objects';\r\nimport { MenuItem } from '../menu/meni-item.component';\r\n\r\n@Injectable()\r\nexport class ToolbarService {\r\n\r\n  public comps: ComponentDescription[] = [];\r\n  public dopComps: ComponentDescription[] = [];\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public editableFieldsService: EditableFieldsService,\r\n    public interactionService: InteractionsService, public helper: HelperService) {\r\n    this.controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action !== 'viewer_loaded') {\r\n        this.updateButtons();\r\n      }\r\n    });\r\n  }\r\n\r\n  updateButtons() {\r\n    this.comps.filter(i => i.action === 'ViewMode').forEach(m => m.caption = this.model.loc(this.model.reportParams.viewMode));\r\n    this.comps.filter(i => i.action === 'Zoom').forEach((m) => {\r\n      m.menuItems.forEach(n => n.selected = n.name === ('Zoom' + this.model.reportParams.zoom));\r\n      m.caption = this.model.reportParams.zoom ? Math.round(this.model.reportParams.zoom) + '%' : '';\r\n    });\r\n\r\n    this.comps.filter(i => i.action === 'ShowFind').forEach((m) => {\r\n      m.selected = this.model.controls.findPanel.visible;\r\n    });\r\n  }\r\n\r\n  initButtons() {\r\n    const comps: ComponentDescription[] = [];\r\n    const dopComps: ComponentDescription[] = [];\r\n    let isFirst = false;\r\n\r\n    if (this.model.options.toolbar.showAboutButton) { dopComps.push({ type: 'button', action: 'About', img: 'Help.png' }); }\r\n    if (this.model.options.toolbar.showAboutButton && this.model.options.toolbar.showDesignButton) { dopComps.push({ type: 'separator' }); }\r\n    if (this.model.options.toolbar.showDesignButton) { dopComps.push({ type: 'button', action: 'Design', caption: this.model.loc('Design'), img: 'Design.png' }); }\r\n    if (this.model.options.toolbar.showPinToolbarButton && this.model.options.toolbar.showDesignButton) { dopComps.push({ type: 'separator' }); }\r\n    if (this.model.options.toolbar.showPinToolbarButton) { dopComps.push({ type: 'button', action: 'Pin', img: 'Pin.png' }); }\r\n\r\n\r\n    if (this.model.options.toolbar.showPrintButton) {\r\n      comps.push({\r\n        type: 'button', action: 'Print', caption: this.model.loc('Print'), img: 'Print.png', tooltip: true,\r\n        arrow: this.model.options.toolbar.printDestination === 'Default' ? 'Down' : null,\r\n        menuItems: this.model.options.toolbar.printDestination === 'Default' ?\r\n          [{ name: 'PrintPdf', caption: this.model.loc('PrintPdf'), img: 'Save.Small.Pdf.png' },\r\n          { name: 'PrintWithPreview', caption: this.model.loc('PrintWithPreview'), img: 'ViewMode.png' },\r\n          { name: 'PrintWithoutPreview', caption: this.model.loc('PrintWithoutPreview'), img: 'Print.png' }] :\r\n          null\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showOpenButton) {\r\n      comps.push({ type: 'button', action: 'Open', caption: this.model.loc('Open'), img: 'Open.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showSaveButton) {\r\n      comps.push({\r\n        type: 'button', action: 'Save', caption: this.model.loc('Save'), img: 'Save.png', tooltip: true, arrow: 'Down',\r\n        menuItems: this.getSaveMenuItems('saveMenu')\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showSendEmailButton) {\r\n      comps.push({\r\n        type: 'button', action: 'SendEmail', caption: this.model.loc('SendEmail'), img: 'SendEmail.png', tooltip: true, arrow: 'Down',\r\n        menuItems: this.getSaveMenuItems('sendEmailMenu')\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showBookmarksButton || this.model.options.toolbar.showParametersButton) {\r\n      if (!isFirst) {\r\n        comps.push({ type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showBookmarksButton) {\r\n      comps.push({ type: 'button', action: 'Bookmarks', caption: this.model.options.toolbar.displayMode === 'Separated' ? this.model.loc('Bookmarks') : null, img: 'Bookmarks.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showParametersButton) {\r\n      comps.push({ type: 'button', action: 'Parameters', caption: this.model.options.toolbar.displayMode === 'Separated' ? this.model.loc('Parameters') : null, img: 'Parameters.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showResourcesButton) {\r\n      comps.push({ type: 'button', action: 'Resources', caption: this.model.options.toolbar.displayMode === 'Separated' ? this.model.loc('Resources') : null, img: 'Resources.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showFindButton || this.model.options.toolbar.showEditorButton) {\r\n      if (!isFirst) {\r\n        comps.push({ type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showFindButton) {\r\n      comps.push({ type: 'button', action: 'Find', img: 'Find.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showEditorButton) {\r\n      comps.push({ type: 'button', action: 'Editor', img: 'Editor.png', tooltip: true });\r\n      isFirst = false;\r\n    }\r\n\r\n    if (this.model.options.toolbar.displayMode !== 'Separated') {\r\n      if (this.model.options.toolbar.showFirstPageButton || this.model.options.toolbar.showPreviousPageButton || this.model.options.toolbar.showNextPageButton ||\r\n        this.model.options.toolbar.showLastPageButton || this.model.options.toolbar.showCurrentPageControl) {\r\n        if (!isFirst) {\r\n          comps.push({ type: 'separator' });\r\n        }\r\n        isFirst = false;\r\n      }\r\n      if (this.model.options.toolbar.showFirstPageButton) { comps.push({ type: 'button', action: 'FirstPage', img: this.model.options.appearance.rightToLeft ? 'LastPage.png' : 'FirstPage.png', tooltip: true }); isFirst = false; }\r\n      if (this.model.options.toolbar.showPreviousPageButton) { comps.push({ type: 'button', action: 'PrevPage', img: this.model.options.appearance.rightToLeft ? 'NextPage.png' : 'PrevPage.png', tooltip: true }); isFirst = false; }\r\n      if (this.model.options.toolbar.showCurrentPageControl) { comps.push({ type: 'pageControl' }); isFirst = false; }\r\n\r\n      if (this.model.options.toolbar.showNextPageButton) { comps.push({ type: 'button', action: 'NextPage', img: this.model.options.appearance.rightToLeft ? 'PrevPage.png' : 'NextPage.png', tooltip: true }); isFirst = false; }\r\n      if (this.model.options.toolbar.showLastPageButton) { comps.push({ type: 'button', action: 'LastPage', img: this.model.options.appearance.rightToLeft ? 'FirstPage.png' : 'LastPage.png', tooltip: true }); isFirst = false; }\r\n      if (this.model.options.toolbar.showViewModeButton || this.model.options.toolbar.showZoomButton) {\r\n        if (!isFirst) {\r\n          comps.push({ type: 'separator' });\r\n        }\r\n        isFirst = false;\r\n      }\r\n    }\r\n\r\n    if (this.model.options.toolbar.showFullScreenButton) {\r\n      comps.push({ type: 'button', action: 'FullScreen', img: 'FullScreen.png', tooltip: true });\r\n      comps.push({ type: 'separator' });\r\n      isFirst = false;\r\n    }\r\n\r\n    if (this.model.options.toolbar.showZoomButton && this.model.options.toolbar.displayMode !== 'Separated') {\r\n      comps.push({\r\n        type: 'button', action: 'Zoom', caption: '100%', img: 'Zoom.png', tooltip: true, arrow: 'Down',\r\n        menuItems: this.helper.getZoomMenuItems()\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.toolbar.showViewModeButton) {\r\n      comps.push({\r\n        type: 'button', action: 'ViewMode', caption: this.model.loc('SinglePage'), img: 'SinglePage.png', tooltip: true, arrow: 'Down',\r\n        menuItems: [{ name: 'ViewModeSinglePage', caption: this.model.loc('SinglePage'), img: 'SinglePage.png' },\r\n        { name: 'ViewModeContinuous', caption: this.model.loc('Continuous'), img: 'Continuous.png' },\r\n        { name: 'ViewModeMultiplePages', caption: this.model.loc('MultiplePages'), img: 'MultiplePages.png' }]\r\n      });\r\n      isFirst = false;\r\n    }\r\n    if (typeof (this.model.options.toolbar.multiPageWidthCount) !== 'undefined') {\r\n      this.model.reportParams.multiPageWidthCount = this.model.options.toolbar.multiPageWidthCount;\r\n    }\r\n    if (typeof (this.model.options.toolbar.multiPageHeightCount) !== 'undefined') {\r\n      this.model.reportParams.multiPageHeightCount = this.model.options.toolbar.multiPageHeightCount;\r\n    }\r\n\r\n    if (!this.model.options.appearance.rightToLeft && this.model.options.toolbar.alignment === 'right' &&\r\n      (this.model.options.toolbar.showPinToolbarButton || this.model.options.toolbar.showAboutButton || this.model.options.toolbar.showDesignButton)) {\r\n      comps.push({ type: 'separator6' });\r\n    }\r\n\r\n    this.comps = this.model.options.appearance.rightToLeft ? comps.reverse() : comps;\r\n    this.dopComps = this.model.options.appearance.rightToLeft ? dopComps.reverse() : dopComps;\r\n  }\r\n\r\n  disableNaviButtons(): boolean {\r\n    return this.model.reportParams.viewMode === 'MultiplePages' || this.model.reportParams.viewMode === 'WholeReport' ||\r\n      (this.model.reportParams.viewMode === 'Continuous' && !this.model.options.appearance.scrollbarsMode && !this.model.options.appearance.fullScreenMode);\r\n  }\r\n\r\n  getImage(imageName: string): string {\r\n    switch (this.model.options.appearance.saveMenuImageSize) {\r\n      case 'Big':\r\n        return `Save.Big.${imageName}.png`;\r\n      case 'None':\r\n        return null;\r\n      default:\r\n        return `Save.Small.${imageName}.png`;\r\n    }\r\n  }\r\n\r\n  getSaveMenuItems(menuName: string): any {\r\n    let isFirst = true;\r\n    const items: MenuItem[] = [];\r\n    const imageSize = this.model.options.appearance.saveMenuImageSize;\r\n    if (this.model.options.exports.showExportToDocument && menuName === 'saveMenu') {\r\n      items.push({ name: menuName + 'Document', caption: this.model.loc('ReportSnapshot'), imageSize, img: this.getImage('Document') });\r\n      isFirst = false;\r\n    }\r\n    if (menuName === 'saveMenu' && this.model.options.exports.showExportToPdf || this.model.options.exports.showExportToXps || this.model.options.exports.showExportToPowerPoint) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.exports.showExportToPdf) {\r\n      items.push({ name: menuName + 'Pdf', caption: 'Adobe PDF', imageSize, img: this.getImage('Pdf') });\r\n    }\r\n    if (this.model.options.exports.showExportToXps) {\r\n      items.push({ name: menuName + 'Xps', caption: 'Microsoft XPS', imageSize, img: this.getImage('Xps') });\r\n    }\r\n    if (this.model.options.exports.showExportToPowerPoint) {\r\n      items.push({ name: menuName + 'Ppt2007', caption: 'Microsoft PowerPoint', imageSize, img: this.getImage('Ppt') });\r\n    }\r\n\r\n    if (this.model.options.exports.showExportToHtml || this.model.options.exports.showExportToHtml5 || this.model.options.exports.showExportToMht) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n      let htmlType = this.model.options.exports.defaultSettings['StiHtmlExportSettings'].HtmlType;\r\n      if (!this.model.options.exports['showExportTo' + htmlType]) {\r\n        if (this.model.options.exports.showExportToHtml) {\r\n          htmlType = 'Html';\r\n        } else if (this.model.options.exports.showExportToHtml5) {\r\n          htmlType = 'Html5';\r\n        } else if (this.model.options.exports.showExportToMht) {\r\n          htmlType = 'Mht';\r\n        }\r\n      }\r\n      items.push({ name: menuName + htmlType, caption: 'HTML', imageSize, img: this.getImage('Html') });\r\n    }\r\n    if (this.model.options.exports.showExportToText || this.model.options.exports.showExportToRtf || this.model.options.exports.showExportToWord2007 || this.model.options.exports.showExportToOdt) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.exports.showExportToText) {\r\n      items.push({ name: menuName + 'Text', caption: this.model.loc('Text'), imageSize, img: this.getImage('Text') });\r\n    }\r\n    if (this.model.options.exports.showExportToRtf) {\r\n      items.push({ name: menuName + 'Rtf', caption: 'RTF', imageSize, img: this.getImage('Rtf') });\r\n    }\r\n    if (this.model.options.exports.showExportToWord2007) {\r\n      items.push({ name: menuName + 'Word2007', caption: 'Microsoft Word', imageSize, img: this.getImage('Word') });\r\n    }\r\n    if (this.model.options.exports.showExportToOpenDocumentWriter) {\r\n      items.push({ name: menuName + 'Odt', caption: 'OpenDocument Writer', imageSize, img: this.getImage('Odt') });\r\n    }\r\n    if (this.model.options.exports.showExportToExcel || this.model.options.exports.showExportToExcel2007 || this.model.options.exports.showExportToExcelXml || this.model.options.exports.showExportToOpenDocumentWriter) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n    }\r\n    if (this.model.options.exports.showExportToExcel || this.model.options.exports.showExportToExcelXml || this.model.options.exports.showExportToExcel2007) {\r\n      let excelType = this.model.options.exports.defaultSettings['StiExcelExportSettings'].ExcelType;\r\n      if (excelType === 'ExcelBinary') {\r\n        excelType = 'Excel';\r\n      }\r\n      if (!this.model.options.exports['showExportTo' + excelType]) {\r\n        if (this.model.options.exports.showExportToExcel) {\r\n          excelType = 'Excel';\r\n        } else if (this.model.options.exports.showExportToExcel2007) {\r\n          excelType = 'Excel2007';\r\n        } else if (this.model.options.exports.showExportToExcelXml) {\r\n          excelType = 'ExcelXml';\r\n        }\r\n      }\r\n      items.push({ name: menuName + excelType, caption: 'Microsoft Excel', imageSize, img: this.getImage('Excel') });\r\n    }\r\n    if (this.model.options.exports.showExportToOpenDocumentCalc) {\r\n      items.push({ name: menuName + 'Ods', caption: 'OpenDocument Calc', imageSize, img: this.getImage('Ods') });\r\n    }\r\n    if (this.model.options.exports.showExportToCsv || this.model.options.exports.showExportToDbf || this.model.options.exports.showExportToXml ||\r\n      this.model.options.exports.showExportToDif || this.model.options.exports.showExportToSylk || this.model.options.exports.showExportToJson) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n      let dataType = this.model.options.exports.defaultSettings['StiDataExportSettings'].DataType;\r\n      if (!this.model.options.exports['showExportTo' + dataType]) {\r\n        if (this.model.options.exports.showExportToCsv) {\r\n          dataType = 'Csv';\r\n        } else if (this.model.options.exports.showExportToDbf) {\r\n          dataType = 'Dbf';\r\n        } else if (this.model.options.exports.showExportToXml) {\r\n          dataType = 'Xml';\r\n        } else if (this.model.options.exports.showExportToDif) {\r\n          dataType = 'Dif';\r\n        } else if (this.model.options.exports.showExportToSylk) {\r\n          dataType = 'Sylk';\r\n        } else if (this.model.options.exports.showExportToJson) {\r\n          dataType = 'Json';\r\n        }\r\n      }\r\n      items.push({ name: menuName + dataType, caption: this.model.loc('Data'), imageSize, img: this.getImage('Data') });\r\n    }\r\n    if (this.model.options.exports.showExportToImageBmp || this.model.options.exports.showExportToImageGif || this.model.options.exports.showExportToImageJpeg || this.model.options.exports.showExportToImagePcx ||\r\n      this.model.options.exports.showExportToImagePng || this.model.options.exports.showExportToImageTiff || this.model.options.exports.showExportToImageMetafile || this.model.options.exports.showExportToImageSvg || this.model.options.exports.showExportToImageSvgz) {\r\n      if (!isFirst) {\r\n        items.push({ imageSize, type: 'separator' });\r\n      }\r\n      isFirst = false;\r\n      let imageType = this.model.options.exports.defaultSettings['StiImageExportSettings'].ImageType;\r\n      let imageType_ = imageType === 'Emf' ? 'Metafile' : imageType;\r\n      if (!this.model.options.exports['showExportToImage' + imageType_]) {\r\n        if (this.model.options.exports.showExportToImageBmp) {\r\n          imageType = 'Bmp';\r\n        } else if (this.model.options.exports.showExportToImageGif) {\r\n          imageType = 'Gif';\r\n        } else if (this.model.options.exports.showExportToImageJpeg) {\r\n          imageType = 'Jpeg';\r\n        } else if (this.model.options.exports.showExportToImagePcx) {\r\n          imageType = 'Pcx';\r\n        } else if (this.model.options.exports.showExportToImagePng) {\r\n          imageType = 'Png';\r\n        } else if (this.model.options.exports.showExportToImageTiff) {\r\n          imageType = 'Tiff';\r\n        } else if (this.model.options.exports.showExportToImageMetafile) {\r\n          imageType = 'Emf';\r\n        } else if (this.model.options.exports.showExportToImageSvg) {\r\n          imageType = 'Svg';\r\n        } else if (this.model.options.exports.showExportToImageSvgz) { imageType = 'Svgz'; }\r\n      }\r\n      items.push({ name: menuName + 'Image' + imageType, caption: this.model.loc('Image'), imageSize, img: this.getImage('Image') });\r\n\r\n\r\n    }\r\n    return items;\r\n  }\r\n\r\n  enabled(desc: ComponentDescription): boolean {\r\n    const disableNaviButtons = this.disableNaviButtons();\r\n    switch (desc.action) {\r\n      case 'FirstPage':\r\n      case 'PrevPage':\r\n        return this.model.reportParams.pageNumber > 0 && !disableNaviButtons;\r\n      case 'NextPage':\r\n      case 'LastPage':\r\n        return this.model.reportParams.pageNumber < this.model.reportParams.pagesCount - 1 && !disableNaviButtons;\r\n      case 'Bookmarks':\r\n        return this.model.reportParams.bookmarksContent != null;\r\n      case 'Parameters':\r\n        return this.model.interactions?.paramsVariables != null;\r\n      case 'Resources':\r\n        return this.model.reportParams.resources?.length > 0;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  selected(desc: ComponentDescription): boolean {\r\n    switch (desc.action) {\r\n      case 'Find':\r\n        return this.model.controls.findPanel.visible;\r\n      case 'Bookmarks':\r\n        return this.model.controls.bookmarksPanel.visible;\r\n      case 'Parameters':\r\n        return this.model.controls.parametersPanel.visible;\r\n      case 'Editor':\r\n        return this.editableFieldsService.visible;\r\n      case 'Resources':\r\n        return this.model.controls.resourcesPanel.visible;\r\n      case 'FullScreen':\r\n        return this.model.options.appearance.fullScreenMode;\r\n      case 'Pin':\r\n        return !this.model.options.toolbar.autoHide;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  display(desc: ComponentDescription): string {\r\n    switch (desc.action) {\r\n      case 'Editor':\r\n        return this.model.reportParams.isEditableReport ? '' : 'none';\r\n\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getButonWidth(comp: ComponentDescription): string {\r\n    if (this.model.options.toolbar.displayMode === 'Separated') {\r\n      if (comp.action === 'Find' || comp.action === 'Editor' || comp.action === 'FullScreen' || comp.action === 'About') {\r\n        return '28px';\r\n      }\r\n      if (this.model.options.isMobileDevice) {\r\n        return '0.4in';\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  getInnerTableWidth(comp: ComponentDescription): string {\r\n    if (this.model.options.toolbar.displayMode === 'Separated' &&\r\n      (this.model.options.isMobileDevice || comp.action === 'Find' || comp.action === 'Editor' || comp.action === 'FullScreen' || comp.action === 'About')) {\r\n      return '100%';\r\n    }\r\n    return null;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, AfterViewInit, ViewChild, ElementRef, OnChanges, Output, EventEmitter } from '@angular/core';\r\nimport { ControllerService } from './services/controller.service';\r\nimport { MenuService } from './menu/menu.service';\r\nimport { ModelService } from './services/model.service';\r\nimport { Message } from './services/objects';\r\nimport { ExportService } from './services/export.service';\r\nimport { FormService } from './forms/form.service';\r\nimport { ApiService } from './services/api.service';\r\nimport { PrintService } from './services/print.service';\r\nimport { DashboardService } from './services/dashboard.service';\r\nimport { StiHttpClientService } from './services/http-client.service';\r\nimport { StylesService } from './services/styles.service';\r\nimport { HelperService } from './services/helper.service';\r\nimport { MouseService } from './services/mouse.service';\r\nimport { PageService } from './services/page.service';\r\nimport { TooltipService } from './services/tooltip.service';\r\nimport { FindService } from './services/find.service';\r\nimport { AnimationService } from './services/animation.service';\r\nimport { InteractionsService } from './services/interactions.service';\r\nimport { RadioButtonService } from './services/radio-button.service';\r\nimport { CollectionsService } from './services/collections.service';\r\nimport { MailService } from './services/mail.service';\r\nimport { EditableFieldsService } from './services/editable-fields.service';\r\nimport { DrillDownService } from './services/drill-down.service';\r\nimport { Md5Service } from './services/md5.service';\r\nimport { FullScreenService } from './services/full-screen.service';\r\nimport { ToolbarService } from './services/toolbar.service';\r\n//1bfb351c1add27b1537ffce9c723e3cb1f5b27bb 02.03.2021 17:29:20\r\n\r\n@Component({\r\n  selector: 'stimulsoft-viewer-angular',\r\n  template: `\r\n    <span #viewer [style]=\"style\"\r\n      [style.top.px]=\"0\"\r\n      [style.right.px]=\"0\"\r\n      [style.bottom.px]=\"0\"\r\n      [style.left.px]=\"0\"\r\n      [style.display]=\"'inline-block'\"\r\n      [style.backgroundColor]=\"backgroundColor\"\r\n      [style.width]=\"this.width != null ? this.width : '100%'\"\r\n      [style.height]=\"this.height != null ? this.height : (model.options?.appearance.scrollbarsMode ? '650px' : '100%')\">\r\n      <div class=\"stiJsViewerMainPanel\">\r\n        <sti-center-text *ngIf=\"initialized\"></sti-center-text>\r\n        <sti-toolbar *ngIf=\"initialized\"></sti-toolbar>\r\n        <div *ngFor=\"let i of [1,2,3,4,5]\" [style.zIndex]=\"i * 10\" [style.display]=\"formService.form?.level == i ? '' : 'none'\" class=\"stiJsViewerDisabledPanel\"></div>\r\n        <sti-about-panel *ngIf=\"initialized\"></sti-about-panel>\r\n\r\n        <sti-dashboards-panel *ngIf=\"initialized\"></sti-dashboards-panel>\r\n        <sti-report-panel *ngIf=\"initialized\"></sti-report-panel>\r\n        <sti-progress *ngIf=\"initialized\"></sti-progress>\r\n        <sti-find-panel *ngIf=\"initialized\"></sti-find-panel>\r\n        <sti-drill-down-panel *ngIf=\"initialized\"></sti-drill-down-panel>\r\n        <sti-resources-panel *ngIf=\"initialized\"></sti-resources-panel>\r\n        <sti-navigate-panel *ngIf=\"initialized\"></sti-navigate-panel>\r\n\r\n        <sti-export-form *ngIf=\"initialized\" [exportFormSettings]=\"exportService.exportFormSettings\"></sti-export-form>\r\n        <sti-send-email-form *ngIf=\"initialized\"></sti-send-email-form>\r\n        <sti-password-form *ngIf=\"initialized\"></sti-password-form>\r\n        <sti-error-message-form *ngIf=\"initialized\"></sti-error-message-form>\r\n        <sti-notification-form *ngIf=\"initialized\"></sti-notification-form>\r\n\r\n        <sti-tooltip *ngIf=\"initialized\"></sti-tooltip>\r\n        <sti-menu *ngFor=\"let menu of menuService.menus\" [menu]=\"menu\"></sti-menu>\r\n        <sti-bookmarks-panel *ngIf=\"initialized\"></sti-bookmarks-panel>\r\n        <sti-interactions-panel *ngIf=\"initialized\"></sti-interactions-panel>\r\n\r\n        <sti-open-dialog *ngIf=\"initialized\" [fileMask]=\"model.openDialogFileMask\"></sti-open-dialog>\r\n      </div>\r\n    </span>\r\n  `,\r\n  providers: [ModelService, StiHttpClientService, ControllerService, StylesService, HelperService, MenuService,\r\n    MouseService, PageService, TooltipService, FindService, AnimationService, Md5Service, InteractionsService, FormService, RadioButtonService, ExportService,\r\n    CollectionsService, MailService, EditableFieldsService, DrillDownService, PrintService, FullScreenService, ToolbarService, ApiService, DashboardService]\r\n})\r\nexport class StimulsoftViewerComponent implements OnInit, AfterViewInit, OnChanges {\r\n\r\n  /**\r\n   * Root viewer span\r\n   */\r\n  @ViewChild('viewer') viewerElement: ElementRef;\r\n\r\n  /**\r\n   * Occurs when report/dashboard loaded\r\n   */\r\n  @Output() loaded: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on error, $event is ErrorMessage object contains error: string & type: any  (if present)\r\n   */\r\n  @Output() error: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on export, $event object contains exportFormat: string & exportSettings: {}\r\n   */\r\n  @Output() export: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on export & email, $event object contains exportFormat: string & exportSettings: {}\r\n   */\r\n  @Output() email: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on export & email, $event object contains format: string : 'PrintPdf' or 'PrintWithoutPreview' or 'PrintWithPreview'\r\n   */\r\n  @Output() print: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Occurs on pressing 'Design' button\r\n   */\r\n  @Output() design: EventEmitter<any> = new EventEmitter();\r\n\r\n  /**\r\n   * Url to server instance, must contains placeholder {action} that will replace with action\r\n   * Example: http://server.url:51528/Viewer/{action}\r\n   */\r\n  @Input() requestUrl: string;\r\n\r\n  /**\r\n   * Controller action that handle viewer initial request\r\n   */\r\n  @Input() action: string;\r\n\r\n  /**\r\n   * Properties that will transfer to controller action as JSON object\r\n   */\r\n  @Input() properties: any;\r\n\r\n  /**\r\n   * Viewer width\r\n   */\r\n  @Input() width: string;\r\n\r\n  /**\r\n   * Viewer height\r\n   */\r\n  @Input() height: string;\r\n\r\n  /**\r\n   * Viewer background color\r\n   */\r\n  @Input() backgroundColor = 'White';\r\n\r\n  /**\r\n   * Style of viewer applied to main span as [style]=\"style\"\r\n   */\r\n  @Input() style: string;\r\n\r\n  public initialized = false;\r\n\r\n  private viewInit = false;\r\n\r\n  constructor(private controller: ControllerService, public menuService: MenuService,\r\n    public model: ModelService, public exportService: ExportService, public formService: FormService,\r\n    public api: ApiService, private printService: PrintService, private dashboardService: DashboardService) {\r\n\r\n    window.onresize = () => this.resize();\r\n\r\n    this.initEvents();\r\n  }\r\n\r\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\r\n    this.loadViewer();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.controller.getMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'viewer_loaded':\r\n          this.initialized = true;\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.viewInit = true;\r\n    this.loadViewer();\r\n  }\r\n\r\n  initEvents() {\r\n    this.controller.getMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'GetReport':\r\n        case 'OpenReport':\r\n          setTimeout(() => {\r\n            this.loaded.next();\r\n          });\r\n          break;\r\n      }\r\n    });\r\n\r\n    this.controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'Error':\r\n          setTimeout(() => {\r\n            this.error.next(this.model.errorMessage);\r\n          });\r\n          break;\r\n\r\n        case 'ExportReport':\r\n          setTimeout(() => {\r\n            this.export.next(message.data);\r\n          });\r\n          break;\r\n\r\n        case 'Email':\r\n          setTimeout(() => {\r\n            this.email.next(message.data);\r\n          });\r\n          break;\r\n\r\n        case 'Print':\r\n          setTimeout(() => {\r\n            this.print.next(message.data);\r\n          });\r\n          break;\r\n\r\n        case 'Design':\r\n          setTimeout(() => {\r\n            this.design.next();\r\n          });\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadViewer() {\r\n    if (this.viewInit) {\r\n      this.model.requestUrl = this.requestUrl;\r\n      this.model.action = this.action;\r\n      this.model.properties = this.properties;\r\n      this.controller.loadViewer();\r\n      this.resize();\r\n      this.model.controls.viewer.el = this.viewerElement;\r\n    }\r\n  }\r\n\r\n  resize() {\r\n    if (this.viewerElement?.nativeElement) {\r\n      this.model.viewerSize = { width: this.viewerElement.nativeElement.offsetWidth, height: this.viewerElement.nativeElement.offsetHeight };\r\n      this.controller.viewerResized();\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter } from '@angular/core';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MenuService, Menu } from '../menu/menu.service';\r\nimport { TooltipService } from '../services/tooltip.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { MenuItem } from '../menu/meni-item.component';\r\n\r\n@Component({\r\n  selector: 'sti-button',\r\n  template: `\r\n  <div #button\r\n    [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n    [style.cursor]=\"cursor\"\r\n    [style.borderColor]=\"borderColor\"\r\n    [class]=\"className\"\r\n    [style]=\"{height: helper.val(height, '23px'), boxSizing: helper.val(boxSizing, 'content-box'), margin: helper.val(margin, '1px'), minWidth: minWidth, width: width, display: display }\"\r\n    [style.fontSize]=\"fontSize\"\r\n    (mouseover)=\"mouseover()\"\r\n    (mouseout)=\"mouseout()\"\r\n    (click)=\"click()\" >\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%;width:100%\" [style.width]=\"innerTableWidth\">\r\n      <tbody>\r\n        <tr class=\"stiJsViewerClearAllStyles\">\r\n          <td *ngIf=\"imageName != null\" [style]=\"{lineHeight:'0', padding:helper.val(imageCellPadding, '0 3px'), textAlign: imageCellTextAlign, width: imageCellWidth}\" class=\"stiJsViewerClearAllStyles\">\r\n            <img src=\"{{model.img(imageName)}}\" [style.opacity]=\"enabled ? '1' : '0.5'\"\r\n                [style.width.px]=\"imageSizesWidth\"\r\n                [style.height.px]=\"imageSizesHeight\"\r\n                [style.margin]=\"imageMargin\">\r\n          </td>\r\n          <td *ngIf=\"caption != null\"\r\n             [style]=\"{whiteSpace:'nowrap', textAlign: captionAlign || 'left', padding:captionPadding || ((arrow ? '1px 0' : '1px 5px') + (imageName ? ' 0 0' : ' 0 5px')), width: captionWidth}\"\r\n             [style.maxWidth]=\"captionMaxWidth\"\r\n             [style.lineHeight]=\"captionLineHeight\"\r\n             [style.paddingLeft]=\"captionPaddingLeft\"\r\n             [style.whiteSpace]=\"captionWhiteSpace\"\r\n             [style.overflow]=\"captionOverflow\"\r\n             [style.textOverflow]=\"captionTextOverflow\"\r\n             class=\"stiJsViewerClearAllStyles\">\r\n            {{caption}}\r\n            <div *ngIf=\"caption2 != null\">\r\n            {{caption2}}\r\n            </div>\r\n          </td>\r\n          <td *ngIf=\"arrow\" class=\"stiJsViewerClearAllStyles\">\r\n            <img src=\"{{arrow == 'Up' || arrow == 'Down' ? model.img('Arrows.SmallArrow' + arrow + (arrow == 'Down' && styleColors && styleColors.isDarkStyle ? 'White.png' : '.png')) : model.img(arrow)}}\"\r\n            [style]=\"{lineHeight:'0', width:'8px', height:'8px', verticalAlign:'baseline', padding:caption ? '0 5px 0 5px' : '0 5px 0 2px', marginTop: arrowMarginTop}\"\r\n            [style.opacity]=\"enabled ? '1' : '0.5'\"/>\r\n          </td>\r\n\r\n          <td *ngIf=\"closeButton\" class=\"stiJsViewerClearAllStyles\">\r\n            <sti-button [imageName]=\"'CloseForm.png'\"\r\n              [imageMargin]=\"'1px 0 0 -1px'\"\r\n              [margin]=\"'0 2px 0 0'\"\r\n              [imageCellPadding]=\"'0'\"\r\n              [width]=\"model.options.isTouchDevice ? '22px' : '17px'\"\r\n              [height]=\"model.options.isTouchDevice ? '22px' : '17px'\"\r\n              (action)=\"closeButtonPressed = true; closeButtonAction.emit()\">\r\n            </sti-button>\r\n          </td>\r\n\r\n          <td #resButtonEl *ngIf=\"resourceButton\" style=\"width: 1px;\">\r\n            <sti-button [imageName]=\"'Arrows.SmallArrowDown.png'\"\r\n              [styleName]=\"'stiJsViewerResourceDropDownButton'\"\r\n              [innerTableWidth]=\"'100%'\"\r\n              [margin]=\"'0 7px 0 3px'\"\r\n              [imageCellTextAlign]=\"'center'\"\r\n              [imageSizesWidth]=\"8\"\r\n              [imageSizesHeight]=\"8\"\r\n              [height]=\"model.options.isTouchDevice ? '23px' : '17px'\"\r\n              [width]=\"model.options.isTouchDevice ? '23px' : '17px'\"\r\n              (action)=\"resourceButtonPressed = true;\">>\r\n            </sti-button>\r\n          </td>\r\n\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  `\r\n})\r\nexport class ButtonComponent implements OnInit {\r\n\r\n  @Input() caption: string;\r\n  @Input() caption2: string;\r\n  @Input() captionAlign: string;\r\n  @Input() captionPadding: string;\r\n  @Input() captionPaddingLeft: string;\r\n  @Input() captionWhiteSpace: string;\r\n  @Input() captionOverflow: string;\r\n  @Input() captionTextOverflow: string;\r\n  @Input() captionWidth: string;\r\n  @Input() captionMaxWidth: string;\r\n  @Input() captionLineHeight: string;\r\n  @Input() imageName: string;\r\n  @Input() arrow: string;\r\n  @Input() arrowMarginTop: string;\r\n  @Input() margin = '1px';\r\n  @Input() height = '23px';\r\n  @Input() selected = false;\r\n  @Input() minWidth: string;\r\n  @Input() innerTableWidth: string;\r\n  @Input() menuItems: MenuItem[];\r\n  @Input() actionName: string;\r\n  @Input() tooltip: any;\r\n  @Input() imageCellTextAlign = 'center';\r\n  @Input() imageCellWidth: string;\r\n  @Input() imageCellPadding: string;\r\n  @Input() imageSizesWidth = 16;\r\n  @Input() imageSizesHeight = 16;\r\n  @Input() imageMargin: string;\r\n  @Input() width: string;\r\n  @Input() display: string;\r\n  @Input() closeButton = false;\r\n  @Input() resourceButton = false;\r\n  @Input() styleColors: any;\r\n  @Input() boxSizing: string;\r\n  @Input() navagationPanelTooltip = false;\r\n  @Input() cursor: string;\r\n  @Input() fontSize: string;\r\n  @Input() helpLink = 'user-manual/index.html?viewer_reports.htm';\r\n  @Input() borderColor;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n  @Output() closeButtonAction: EventEmitter<any> = new EventEmitter();\r\n  @ViewChild('button') button: ElementRef;\r\n  @ViewChild('resButtonEl') resButtonEl: ElementRef;\r\n\r\n  over = false;\r\n  showMenu = false;\r\n  closeButtonPressed = false;\r\n  resourceButtonPressed = false;\r\n  private _enabled = true;\r\n  private _styleName: string;\r\n  private menuObj: Menu;\r\n  private canShowTooltip = true;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public menuService: MenuService, private tooltipService: TooltipService,\r\n    public helper: HelperService) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.menuItems) {\r\n      setTimeout(() => {\r\n        this.menuObj = { type: 'buttonMenu', name: this.actionName, items: this.menuItems, parent: !this.resourceButton ? this.button : this.resButtonEl };\r\n        this.menuService.addMenu(this.menuObj);\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n  @Input() get styleName(): string {\r\n    return this._styleName || 'stiJsViewerStandartSmallButton';\r\n  }\r\n\r\n  set styleName(value: string) {\r\n    this._styleName = value;\r\n  }\r\n\r\n  @Input() get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(value: boolean) {\r\n    if (!value) {\r\n      this.over = false;\r\n    }\r\n    this._enabled = value;\r\n  }\r\n\r\n  mouseover() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n\r\n    if (this.model.options.toolbar.showMenuMode === 'Hover' && ['Print', 'Save', 'SendEmail', 'Zoom', 'ViewMode'].some(a => a === this.actionName)) {\r\n      this.tooltipService.hideImmediately();\r\n      this.menuService.showMenu(this.actionName);\r\n    } else if (this.tooltip && !this.menuService.menus.some(e => e.state === 'expanded') && this.canShowTooltip) {\r\n      const top = !this.navagationPanelTooltip ? this.model.controls.toolbar.offsetHeight + this.model.controls.dashboardsPanel.offsetHeight :\r\n        this.helper.findPosY(this.model.controls.navigatePanel.el.nativeElement, 'stiJsViewerMainPanel');\r\n      const tooltip = this.tooltip === true ? (this.model.localization[this.actionName + 'ToolTip'] != null ? this.model.loc(this.actionName + 'ToolTip') : this.model.loc(this.actionName)) : this.tooltip;\r\n      this.tooltipService.show(this.helper.findPosX(this.button.nativeElement, 'stiJsViewerMainPanel'),\r\n        top, tooltip, !this.navagationPanelTooltip, this.helpLink);\r\n    }\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n    this.tooltipService.hide();\r\n    setTimeout(() => {\r\n      this.canShowTooltip = true;\r\n    }, 1000);\r\n  }\r\n\r\n  click() {\r\n    if (this.enabled && !this.closeButtonPressed) {\r\n      this.tooltipService.hideImmediately();\r\n      if (this.menuItems == null || (this.resourceButton && !this.resourceButtonPressed)) {\r\n        this.action.emit();\r\n      } else {\r\n        this.menuService.showMenu(this.actionName);\r\n      }\r\n    }\r\n    this.canShowTooltip = false;\r\n    this.closeButtonPressed = false;\r\n    this.resourceButtonPressed = false;\r\n  }\r\n\r\n  get className(): string {\r\n    return this.styleName ? this.styleName + ' ' + (this.enabled ? (this.styleName + ((this.selected || this.menuObj?.state === 'expanded') ? 'Selected' : (this.over ? 'Over' : 'Default'))) : this.styleName + 'Disabled') : '';\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ReportPanelComponent } from './report-panel.component';\r\nimport { ControllerService } from '../services/controller.service';\r\n\r\n@Component({\r\n  selector: 'sti-page',\r\n  template: `\r\n    <div #element\r\n      style=\"overflow: hidden; text-align: left; vertical-align: top; color: #000000; box-sizing: content-box; display:inline-block\"\r\n      [style.margin]=\"model.reportParams.viewMode === 'Continuous' ? '10px auto 10px auto' : '10px'\"\r\n      [style.display]=\"this.model.reportParams.viewMode === 'Continuous' ? 'table' : 'inline-block'\"\r\n      [style.border]=\"'1px solid ' + this.model.options.appearance.pageBorderColor\"\r\n      [style.background]=\"pageAttributes['background'] == 'Transparent' || pageAttributes.background == 'rgba(255,255,255,0)' ? 'White' : pageAttributes['background']\"\r\n      [style.padding]=\"pageAttributes['margins']\"\r\n      [style.width]=\"!pageAttributes['content'] ? pageWidth + 'px' : ''\"\r\n      [style.height]=\"!pageAttributes['content'] ? pageHeight + 'px' : ''\"\r\n      [class]=\"model.options.appearance.showPageShadow ? 'stiJsViewerPageShadow' : 'stiJsViewerPage'\"\r\n      (touchstart)=\"eventTouchStart($event)\"\r\n      (touchmove)=\"eventTouchMove($event)\"\r\n      (touchend)=\"eventTouchEnd($event)\">\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class PageComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n  @Input() pageAttributes: any;\r\n  @Input() reportPanel: ReportPanelComponent;\r\n\r\n  private touchesLength = 0;\r\n  private lastTouches = [{ x: 0, y: 0, time: 0 }, { x: 0, y: 0, time: 0 }];\r\n  private touchAllowPageAction = false;\r\n  private touchAllowScroll = false;\r\n  private touchStartX: number;\r\n  private touchStartScrollY: number;\r\n  private touchPosX: number;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService) { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    const page = this.element.nativeElement;\r\n    page.innerHTML = this.pageAttributes.content;\r\n    this.pageAttributes.page = page;\r\n\r\n    // Correct Watermark\r\n    if (this.pageAttributes.existsWatermark) {\r\n      page.style.position = 'relative';\r\n      for (const childNode of page.childNodes) {\r\n        if (childNode.className === 'stiWatermarkImage') {\r\n          childNode.style.width = 'auto';\r\n          childNode.style.height = 'auto';\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.model.options.appearance.reportDisplayMode === 'Div' || this.model.options.appearance.reportDisplayMode === 'Span') {\r\n      const childs = page.getElementsByClassName('StiPageContainer');\r\n      if (childs && childs.length > 0) {\r\n        const pageContainer = childs[0];\r\n        pageContainer.style.position = 'relative';\r\n        if (this.model.options.appearance.reportDisplayMode === 'Span') {\r\n          pageContainer.style.margin = '0 1px'; // fix Chrome bug with SPAN position\r\n        }\r\n        page.style.width = (page.pageWidth - page.margins[1] - page.margins[3]) + 'px';\r\n        page.style.height = (page.pageHeight - page.margins[0] - page.margins[2]) + 'px';\r\n      }\r\n    }\r\n\r\n    this.element.nativeElement.pageAttributes = this.pageAttributes;\r\n\r\n    /*const pageHeight = this.pageHeight;\r\n    if (pageHeight !== 0) {\r\n      // fixed bug with long time execute\r\n      if (this.model.options.appearance.reportDisplayMode !== 'Table' && this.model.reportParams.viewMode !== 'SinglePage') {\r\n        setTimeout(() => {\r\n          const currentPageHeight = page.offsetHeight - this.margins[0] - this.margins[2];\r\n          if (this.reportPanel.maxHeights[pageHeight] == null || currentPageHeight > this.reportPanel.maxHeights[pageHeight]) {\r\n            this.reportPanel.maxHeights[pageHeight] = currentPageHeight;\r\n          }\r\n        });\r\n      } else {\r\n        const currentPageHeight = page.offsetHeight - this.margins[0] - this.margins[2];\r\n        if (this.reportPanel.maxHeights[pageHeight] === null || currentPageHeight > this.reportPanel.maxHeights[pageHeight]) {\r\n          this.reportPanel.maxHeights[pageHeight] = currentPageHeight;\r\n        }\r\n      }\r\n    }*/\r\n  }\r\n\r\n  public get margins(): number[] {\r\n    const margins = [0, 0, 0, 0];\r\n    if (this.pageAttributes.margins) {\r\n      const marginsPx = this.pageAttributes.margins.split(' ');\r\n      for (let i = 0; i < marginsPx.length; i++) {\r\n        margins[i] = parseInt(marginsPx[i].replace('px', ''), 10);\r\n      }\r\n    }\r\n    return margins;\r\n  }\r\n\r\n  public get pageWidth(): number {\r\n    const pageSizes: string[] = this.pageAttributes.sizes ? this.pageAttributes.sizes.split(';') : null;\r\n    if (pageSizes) {\r\n      return parseInt(pageSizes[0], 10);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public get pageHeight(): number {\r\n    const pageSizes: string[] = this.pageAttributes.sizes ? this.pageAttributes.sizes.split(';') : null;\r\n    if (pageSizes) {\r\n      return parseInt(pageSizes[1], 10);\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  public eventTouchStart(e: any) {\r\n    const reportPanel = this.model.controls.reportPanel.el.nativeElement;\r\n    this.touchAllowPageAction = this.touchesLength === 0 && Math.abs(reportPanel.offsetWidth - reportPanel.scrollWidth) <= 10;\r\n    this.touchAllowScroll = reportPanel.offsetWidth === reportPanel.scrollWidth;\r\n    this.touchesLength++;\r\n\r\n    if (this.touchAllowPageAction) {\r\n      this.touchStartX = parseInt(e.changedTouches[0].clientX, 10);\r\n      this.touchStartScrollY = reportPanel.scrollTop;\r\n    }\r\n  }\r\n\r\n  public eventTouchMove(e: any) {\r\n    const reportPanel = this.model.controls.reportPanel.el.nativeElement;\r\n    if (this.touchAllowPageAction) {\r\n      this.lastTouches.shift();\r\n      this.lastTouches.push({\r\n        x: e.changedTouches[0].clientX,\r\n        y: e.changedTouches[0].clientY,\r\n        time: new Date().getTime()\r\n      });\r\n      if (this.touchAllowScroll && this.touchStartScrollY === reportPanel.scrollTop) {\r\n        this.touchPosX = Math.trunc(this.lastTouches[1].x - this.touchStartX);\r\n        if (scrollX === 0) {\r\n          this.element.nativeElement.style.transform = `translateX(${this.touchPosX}px)`;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public eventTouchEnd(e: any) {\r\n    const reportPanel = this.model.controls.reportPanel.el.nativeElement;\r\n    if (this.touchesLength > 0) { this.touchesLength--; }\r\n    if (this.touchAllowPageAction && this.touchesLength === 0) {\r\n      const dX = this.lastTouches[1].x - this.lastTouches[0].x;\r\n      const dT = new Date().getTime() - this.lastTouches[1].time;\r\n\r\n      if (this.touchStartScrollY !== reportPanel.scrollTop ||\r\n        (dX <= 0 && this.model.reportParams.pageNumber >= this.model.reportParams.pagesCount - 1) ||\r\n        (dX >= 0 && this.model.reportParams.pageNumber <= 0)) {\r\n        this.translateX(0);\r\n      } else if ((dX < -5 && dT <= 14 && this.lastTouches[1].x < this.touchStartX) ||\r\n        (dX < 0 && this.touchPosX < -this.pageWidth / 3)) {\r\n        this.controller.action({ name: 'NextPage' });\r\n        this.translateX(-this.pageWidth);\r\n      } else if ((dX > 5 && dT <= 14 && this.lastTouches[1].x > this.touchStartX) ||\r\n        (dX > 0 && this.touchPosX > this.pageWidth / 3)) {\r\n        this.controller.action({ name: 'PrevPage' });\r\n        this.translateX(this.pageWidth);\r\n      } else {\r\n        this.translateX(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  public translateX(value: number) {\r\n    this.element.nativeElement.style.transitionDuration = '300ms';\r\n    this.element.nativeElement.style.transform = value === 0 ? '' : `translateX(${value}px)`;\r\n    setTimeout(() => {\r\n      this.element.nativeElement.style.transitionDuration = '';\r\n    }, 300);\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { StylesService } from '../services/styles.service';\r\nimport { InteractionsService } from '../services/interactions.service';\r\nimport { Message } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-report-panel',\r\n  template: `\r\n    <div #element\r\n         [style.textAlign]=\"model.options.appearance.pageAlignment == 'default' ? 'center' : model.options.appearance.pageAlignment\"\r\n         [style.top]=\"0\"\r\n         [style.bottom]=\"0\"\r\n         [style.position]=\"position\"\r\n         [style.height]=\"model.options.heightType != 'Percentage' || model.options.appearance.scrollbarsMode ? 'auto' : 'calc(100% - 35px)'\"\r\n         [style.overflow] = \"model.reportParams.type == 'Report' && model.options.appearance.scrollbarsMode ? 'auto' : 'hidden'\"\r\n         [style.marginTop.px]=\"model.controls.reportPanel.layout.top\"\r\n         [style.marginLeft.px]=\"model.controls.reportPanel.layout.left\"\r\n         [style.marginBottom.px]=\"position == 'absolute' ? model.controls.reportPanel.layout.bottom : 0\"\r\n         [style.paddingBottom.px]=\"position == 'relative' ? model.controls.reportPanel.layout.bottom : 0\"\r\n         [style.transition]=\"model.options.isMobileDevice ? 'margin 200ms ease' : null\"\r\n         (scroll)=\"scroll()\"\r\n         class=\"stiJsViewerReportPanel\"\r\n         (touchstart)=\"eventTouchStart($event)\"\r\n         (touchmove)=\"eventTouchMove($event)\"\r\n         (touchend)=\"eventTouchEnd($event)\">\r\n      <sti-page *ngFor=\"let page of model.pages\" [pageAttributes]=\"page\" [reportPanel]=\"this\"></sti-page>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class ReportPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  private scrollTimeout: any;\r\n  private touchesLength: number;\r\n  private touchZoomFirstDistance = 0;\r\n  private touchZoomSecondDistance = 0;\r\n  private touchZoomValue = 0;\r\n  private touchStartX: number;\r\n\r\n  public maxHeights = {};\r\n\r\n  constructor(private controller: ControllerService, public model: ModelService, private stylesService: StylesService, private interactionService: InteractionsService) {\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n\r\n      if (message.action !== 'viewer_loaded' && this.model.reportParams.pagesArray) {\r\n        if (this.model.reportParams.repaintOnlyDashboardContent) {\r\n          // jsObject.controls.reportPanel.repaintDashboardContent(parameters);\r\n        } else {\r\n          this.loadPages();\r\n        }\r\n      }\r\n\r\n      if (message.action === 'GetReport' || message.action === 'OpenReport') {\r\n        setTimeout(() => {\r\n          if (!this.model.options.isParametersReceived && ((this.model.reportParams.type === 'Report' && this.model.options.toolbar.showParametersButton) || this.model.reportParams.type === 'Dashboard')) {\r\n            interactionService.postInteraction({ action: 'InitVars' });\r\n          }\r\n\r\n          if (this.model.reportParams.autoZoom) {\r\n            this.controller.action({ name: this.model.reportParams.autoZoom === -1 ? 'ZoomPageWidth' : 'ZoomOnePage' });\r\n            this.model.reportParams.autoZoom = null;\r\n          }\r\n        });\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.reportPanel.el = this.element;\r\n  }\r\n\r\n  loadPages() {\r\n    this.maxHeights = {};\r\n    const pagesArray: [] = this.model.reportParams.pagesArray;\r\n    this.stylesService.setupStyle(pagesArray[pagesArray.length - 2], 'page');\r\n    const chartScript = pagesArray[pagesArray.length - 1];\r\n    this.model.pages = pagesArray.slice(0, pagesArray.length - 2);\r\n\r\n    setTimeout(() => {\r\n      this.model.pages.forEach(page => this.interactionService.initializeInteractions(page.page));\r\n      this.interactionService.updateAllHyperLinks();\r\n      this.stylesService.addChartScript(chartScript);\r\n    });\r\n\r\n  }\r\n\r\n  get position(): string {\r\n    return this.model.options.heightType !== 'Percentage' || this.model.options.appearance.scrollbarsMode ? 'absolute' : 'relative';\r\n  }\r\n\r\n  scroll() {\r\n    if (this.model.pagesNavigationIsActive()) {\r\n      clearTimeout(this.scrollTimeout);\r\n\r\n      // update current page number\r\n      this.scrollTimeout = setTimeout(() => {\r\n        let commonPagesHeight = 0;\r\n        let index = 0;\r\n\r\n        for (index = 0; index < this.model.pages.length; index++) {\r\n          commonPagesHeight += this.model.pages[index].page.offsetHeight + 10;\r\n          if (commonPagesHeight > this.element.nativeElement.scrollTop) {\r\n            break;\r\n          }\r\n        }\r\n\r\n        if (index < this.model.reportParams.pagesCount && index >= 0 && index !== this.model.reportParams.pageNumber) {\r\n          this.model.reportParams.pageNumber = index;\r\n        }\r\n      }, 300);\r\n    }\r\n  }\r\n\r\n  public eventTouchStart(e: any) {\r\n    this.touchesLength++;\r\n    this.touchStartX = parseInt(e.changedTouches[0].clientX, 10);\r\n\r\n    if (this.model.options.appearance.allowTouchZoom && this.touchesLength === 1) {\r\n      this.touchZoomFirstDistance = 0;\r\n      this.touchZoomSecondDistance = 0;\r\n      this.touchZoomValue = 0;\r\n    }\r\n  }\r\n\r\n  public eventTouchMove(e: any) {\r\n    if (this.model.options.appearance.allowTouchZoom && e.touches.length > 1) {\r\n      if ('preventDefault' in e) { e.preventDefault(); }\r\n\r\n      this.touchZoomSecondDistance = Math.sqrt(Math.pow(e.touches[0].pageX - e.touches[1].pageX, 2) + Math.pow(e.touches[0].pageY - e.touches[1].pageY, 2));\r\n      if (this.touchZoomFirstDistance === 0) {\r\n        this.touchZoomFirstDistance = Math.sqrt(Math.pow(e.touches[0].pageX - e.touches[1].pageX, 2) + Math.pow(e.touches[0].pageY - e.touches[1].pageY, 2));\r\n      }\r\n\r\n      const touchZoomOffset = Math.trunc((this.touchZoomSecondDistance - this.touchZoomFirstDistance) / 2.5);\r\n      if (Math.abs(touchZoomOffset) >= 5) {\r\n        this.touchZoomValue = Math.trunc((this.model.reportParams.zoom + touchZoomOffset) / 5) * 5;\r\n        this.touchZoomValue = Math.min(Math.max(this.touchZoomValue, 20), 200);\r\n        this.controller.actionSubject.next({ action: 'centerText', data: this.touchZoomValue.toString() });\r\n      }\r\n    }\r\n  }\r\n\r\n  public eventTouchEnd(e: any) {\r\n    if (this.touchesLength > 0) { this.touchesLength--; }\r\n\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      if (Math.trunc(this.touchStartX - e.changedTouches[0].clientX) !== 0) {\r\n        this.controller.keepToolbar();\r\n      } else {\r\n        if (!this.model.controls.toolbar.visible) {\r\n          this.controller.showToolbar();\r\n        } else {\r\n          this.controller.hideToolbar();\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.model.options.appearance.allowTouchZoom && this.touchZoomValue !== 0 && this.touchesLength === 0) {\r\n      this.controller.actionSubject.next({ action: 'hideCenterText' });\r\n      this.model.reportParams.zoom = this.touchZoomValue;\r\n      this.controller.post('GetPages');\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ToolbarService } from '../services/toolbar.service';\r\n\r\n@Component({\r\n  selector: 'sti-toolbar',\r\n  template: `\r\n    <div #element [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode === 'Separated' ? '  stiJsViewerToolBarSeparated' : '')\" style=\"display: block\"\r\n         [style.width.px]=\"!model.controls.toolbar.visible ? '0px' : ''\"\r\n         [style.height.px]=\"!model.controls.toolbar.visible ? '0px' : ''\"\r\n         [style.display]=\"!model.options.isMobileDevice ? (this.model.controls.toolbar.visible ? '' : 'none') : ''\"\r\n         [style.transition]=\"model.options.isMobileDevice ? 'margin 300ms ease, opacity 300ms ease' : null\"\r\n         [style.zIndex]=\"model.options.toolbar.autoHide ? 5 : 2\"\r\n         [style.position]=\"model.options.toolbar.autoHide ? 'absolute' : 'relative'\"\r\n         [style.opacity]=\"model.options.isMobileDevice ? (model.controls.toolbar.visible ? (model.options.toolbar.autoHide ? 0.9 : 1) : 0) : 1\"\r\n         [style.marginTop]=\"model.options.isMobileDevice && !model.controls.toolbar.visible ? '-0.55in' : 0\">\r\n      <div [style]=\"model.options.toolbar.displayMode === 'Simple' ? 'paddingTop: 2px' : ''\">\r\n        <table class=\"stiJsViewerToolBarTable\" style=\"margin: 0px; box-sizing: border-box;\"\r\n               cellpadding=\"0\" cellspacing=\"0\"\r\n               [style.background]=\"model.options.toolbar.backgroundColor !== '' ? model.options.toolbar.backgroundColor : ''\"\r\n               [style.border]=\"model.options.toolbar.displayMode === 'Separated' ? '0px' : (model.options.toolbar.borderColor !== '' ?  '1px solid ' + model.options.toolbar.borderColor : '')\"\r\n               [style.color]=\"model.options.toolbar.fontColor !== '' ? model.options.toolbar.fontColor : ''\"\r\n               [style.fontFamily]=\"model.options.toolbar.fontFamily\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td *ngIf=\"model.options.appearance.rightToLeft\">\r\n              <sti-toolbar-dop [comps]=\"toolbarService.dopComps\" ></sti-toolbar-dop>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"width: 100%\">\r\n                <sti-toolbar-dop\r\n                  [align]=\"model.options.appearance.rightToLeft ? 'right' : (model.options.toolbar.alignment === 'default' ? 'left' : model.options.toolbar.alignment)\"\r\n                  [comps]=\"toolbarService.comps\">\r\n                </sti-toolbar-dop>\r\n              </td>\r\n\r\n              <td *ngIf=\"!model.options.appearance.rightToLeft\">\r\n                <sti-toolbar-dop [comps]=\"toolbarService.dopComps\" ></sti-toolbar-dop>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"stiJsViewerDisabledPanel\" [style.display]=\"this.model.controls.toolbar.enabled ? 'none' : 'block'\"></div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class ToolbarComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public toolbarService: ToolbarService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.toolbar.el = this.element;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.toolbarService.initButtons();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-toolbar-separator',\r\n  template: `\r\n    <div style=\"width:1px\" [style.height]=\"model.options.isMobileDevice ? '0.4in' : (model.options.isTouchDevice ? '26px' : '21px')\" class=\"stiJsViewerToolBarSeparator\"></div>\r\n  `\r\n})\r\n\r\nexport class ToolbarSeparatorComponent implements OnInit {\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-page-control',\r\n  template: `\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" [style.margin]=\"helper.val(margin, '1px')\">\r\n      <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              {{model.loc('Page')}}\r\n            </td>\r\n            <td *ngIf=\"model.options.isMobileDevice\" class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              <span>{{model.reportParams.pageNumber + 1}}</span>\r\n            </td>\r\n            <td *ngIf=\"!model.options.isMobileDevice\" class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              <sti-text-box [width]=\"45\" [enabled]=\"enabled\" [style.color]=\"textBoxColor\" [style.opacity]=\"enabled ? 1 : 0.5\"\r\n              (action)=\"textBoxAction($event)\" [value]=\"model.reportParams.pageNumber + 1\" [border]=\"textBoxBorder\"></sti-text-box>\r\n            </td>\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              {{model.loc('PageOf')}}\r\n            </td>\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"padding: '0 2px 0 2px' \">\r\n              {{count}}\r\n            </td>\r\n          </tr>\r\n      </tbody>\r\n    </table>\r\n  `\r\n})\r\n\r\nexport class PageControlComponent implements OnInit {\r\n\r\n  @Input() enabled = true;\r\n  @Input() count = '?';\r\n  @Input() textBoxBorder: string;\r\n  @Input() margin: string;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  textBoxAction(target: any): void {\r\n    if (this.model.reportParams.pagesCount > 0 && this.model.reportParams.pageNumber !== this.getCorrectValue(target.value) - 1) {\r\n      this.controller.action({ name: 'GoToPage', value: this.getCorrectValue(target.value) - 1 });\r\n    }\r\n  }\r\n\r\n  getCorrectValue(value: any): number {\r\n    value = parseInt(value, 10);\r\n    if (value < 1 || !value) {\r\n      value = 1;\r\n    }\r\n    if (value > this.model.reportParams.pagesCount) {\r\n      value = this.model.reportParams.pagesCount;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  get textBoxColor(): string {\r\n    const toolbarFontColor = this.model.options.toolbar.fontColor;\r\n    return this.enabled ? (toolbarFontColor && toolbarFontColor !== 'Empty' ? toolbarFontColor : '#444444')\r\n      : (this.model.reportParams && this.model.reportParams.viewMode !== 'SinglePage' ? 'transparent' : toolbarFontColor);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-text-box',\r\n  template: `\r\n    <input #element\r\n    [style]=\"{fontFamily:model.options.toolbar.fontFamily, height: height, lineHeight: height, boxSizing:'content-box'}\"\r\n    [style.color]=\"color ? color : (model.options.toolbar.fontColor != '' ? model.options.toolbar.fontColor : '')\"\r\n    [style.width]=\"width != null ? width + 'px' : ''\"\r\n    [style.margin]=\"margin\"\r\n    [style.cursor]=\"readOnly ? 'default' : ''\"\r\n    [style.padding]=\"padding\"\r\n    [style.border]=\"border\"\r\n    [title]=\"tooltip || ''\"\r\n    [class]=\"className\"\r\n    [value]=\"value || ''\"\r\n    [attr.maxLength]=\"maxLength\"\r\n    [attr.type]=\"type\"\r\n    (mouseover)=\"over=true\"\r\n    (mouseleave)=\"over=false\"\r\n    (focused)=\"focused=true; selected=true\"\r\n    (blur)=\"focused=false; selected=false; onblur.emit($event.target)\"\r\n    (keypress)=\"keypress($event)\"\r\n    (keyup)=\"onchanged($event)\"\r\n    (focus)=\"focus()\"/>\r\n  `\r\n})\r\n\r\nexport class TextBoxComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  @Input() width: number;\r\n  @Input() actionLostFocus: any;\r\n  @Input() tooltip: string;\r\n  @Input() enabled = true;\r\n  @Input() value: string;\r\n  @Input() margin: string;\r\n  @Input() focusOnCreate = false;\r\n  @Input() maxLength: number;\r\n  @Input() color: string;\r\n  @Input() type: string;\r\n  @Input() padding: string;\r\n  @Input() border: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n  @Output() onchange: EventEmitter<any> = new EventEmitter();\r\n  @Output() onblur: EventEmitter<any> = new EventEmitter();\r\n\r\n  public oldValue: string;\r\n\r\n  selected = false;\r\n  focused = false;\r\n  over = false;\r\n  _readOnly = false;\r\n\r\n  styleName = 'stiJsViewerTextBox';\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (this.focusOnCreate) {\r\n      setTimeout(() => {\r\n        this.element.nativeElement.focus();\r\n      });\r\n    }\r\n  }\r\n\r\n  keypress(event: KeyboardEvent) {\r\n    if (!this.enabled) {\r\n      return false;\r\n    }\r\n    if (event.keyCode === 13) {\r\n      this.action.emit(event.target);\r\n    }\r\n  }\r\n\r\n  onchanged(event: KeyboardEvent) {\r\n    this.onchange.emit(event.target);\r\n  }\r\n\r\n  focus() {\r\n    this.oldValue = this.element.nativeElement.value;\r\n  }\r\n\r\n  get height(): string {\r\n    return this.model.options.isTouchDevice ? '26px' : '21px';\r\n  }\r\n\r\n  get className(): string {\r\n    if (this._readOnly) {\r\n      return this.styleName + ' ' + this.styleName + 'Default';\r\n    }\r\n    return this.styleName + ' ' + this.styleName + (this.selected ? 'Over' : (this.enabled ? (this.over ? 'Over' : 'Default') : 'Disabled'));\r\n  }\r\n\r\n  @Input()\r\n  set readOnly(value: boolean) {\r\n    this._readOnly = value;\r\n    setTimeout(() => {\r\n      try {\r\n        this.element.nativeElement.setAttribute('unselectable', value ? 'on' : 'off');\r\n        this.element.nativeElement.setAttribute('onselectstart', value ? 'return false' : '');\r\n        this.element.nativeElement.readOnly = value;\r\n      } catch (e) { }\r\n    });\r\n  }\r\n\r\n  get readOnly(): boolean {\r\n    return this._readOnly;\r\n  }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, Input, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MenuItem } from './meni-item.component';\r\nimport { Menu, MenuService } from './menu.service';\r\nimport { trigger, state, style, transition, animate, AnimationEvent } from '@angular/animations';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-menu',\r\n  template: `\r\n      <div #menuEl class=\"stiJsViewerParentMenu\"\r\n      [style]=\"menu.sizeStyle || style\"\r\n      [style.top.px]=\"menu.top\"\r\n      [style.left.px]=\"menu.left\"\r\n      [style.zIndex]=\"zIndex\"\r\n      [style.height]=\"menu.type=='buttonMenu' && model.options.isMobileDevice ? '100%' : menu.height + 'px'\"\r\n      [@.disabled]=\"!model.options.toolbar.menuAnimation\"\r\n      (mouseup)=\"mouseup()\">\r\n        <div #innerContent [style]=\"{overflowX: 'hidden', overflowY: overflow}\"\r\n        [style.color]=\"model.options.toolbar.fontColor\"\r\n        [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n        [style.maxHeight]=\"menu.type=='buttonMenu' && model.options.isMobileDevice ? '100%' : '450px'\"\r\n        [style.height]=\"menu.type=='buttonMenu' && model.options.isMobileDevice ? '100%' : null\"\r\n        [@expand]=\"menu.state || 'initialDown'\"\r\n        (@expand.start)=\"startAnimation($event)\"\r\n        (@expand.done)=\"doneAnimation($event)\"\r\n        [class]=\"helper.val(menu.menuStyleName, 'stiJsViewerMenu')\">\r\n            <ng-container *ngIf=\"menu.type=='buttonMenu'\">\r\n              <sti-menu-item *ngFor=\"let item of menu.items\" [item]=\"item\" (click)=\"menuClick(item)\"></sti-menu-item>\r\n            </ng-container>\r\n\r\n            <sti-parameter-menu-edit-list *ngIf=\"menu.type=='parameterMenuForEditList'\" [menu]=\"menu\">\r\n            </sti-parameter-menu-edit-list>\r\n\r\n            <sti-parameter-menu-not-edit-list *ngIf=\"menu.type=='parameterMenuForNotEditList'\" [menu]=\"menu\">\r\n            </sti-parameter-menu-not-edit-list>\r\n\r\n            <sti-parameter-menu-for-value *ngIf=\"menu.type=='parameterMenuForValue'\" [menu]=\"menu\">\r\n            </sti-parameter-menu-for-value>\r\n\r\n            <sti-parameter-menu-for-range *ngIf=\"menu.type=='parameterMenuForRange'\" [menu]=\"menu\">\r\n            </sti-parameter-menu-for-range>\r\n\r\n            <sti-date-picker-menu *ngIf=\"menu.type=='datePickerMenu'\" [menu]=\"menu\">\r\n            </sti-date-picker-menu>\r\n\r\n            <sti-double-date-picker-menu *ngIf=\"menu.type=='doubleDatePickerMenu'\" [menu]=\"menu\">\r\n            </sti-double-date-picker-menu>\r\n\r\n            <sti-document-security-menu *ngIf=\"menu.type=='documentSecurityMenu'\">\r\n            </sti-document-security-menu>\r\n\r\n            <sti-digital-signature-menu *ngIf=\"menu.type=='useDigitalSignatureMenu'\">\r\n            </sti-digital-signature-menu>\r\n\r\n            <sti-vertical-menu *ngIf=\"menu.type=='verticalMenu'\" [menu]=\"menu\">\r\n            </sti-vertical-menu>\r\n        </div>\r\n      </div>\r\n  `,\r\n  animations: [\r\n    trigger('expand', [\r\n      state('initialDown', style({ transform: 'translateY(-100%)' })),\r\n      state('initialUp', style({ transform: 'translateY(100%)' })),\r\n      state('initialLeft', style({ transform: 'translateX(-100%)' })),\r\n      state('expanded', style({ transform: 'translateY(0) translateX(0)' })),\r\n      transition('initialUp => expanded', [\r\n        animate('150ms ease-in-out')]),\r\n      transition('initialDown => expanded', [\r\n        animate('150ms ease-in-out')]),\r\n      transition('initialLeft => expanded', [\r\n        animate('150ms ease-in-out')]),\r\n      transition('expanded => initialLeft', [\r\n        animate('150ms ease-in-out')])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class MenuComponent implements OnInit, AfterViewInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  @ViewChild('menuEl') menuEl: ElementRef;\r\n  @ViewChild('innerContent') innerContent: ElementRef;\r\n\r\n  style = 'display: none';\r\n  overflow = 'hidden';\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService, public menuService: MenuService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.menu.menuEl = this.menuEl;\r\n    this.menu.innerContent = this.innerContent;\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  startAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'expanded') {\r\n      this.style = 'width: 350px; overflow: hidden';\r\n      this.overflow = 'hidden';\r\n    }\r\n  }\r\n\r\n  doneAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'expanded') {\r\n      this.style = 'overflow: visible;';\r\n      this.overflow = this.menu.type.indexOf('parameterMenu') === 0 || this.model.options.isMobileDevice ? 'auto' : 'hidden';\r\n    } else if (event.toState === 'initialUp' || event.toState === 'initialDown') {\r\n      this.style = 'display: none';\r\n      this.overflow = 'hidden';\r\n    }\r\n  }\r\n\r\n  menuClick(item: MenuItem) {\r\n    this.menuService.closeAllMenus();\r\n    this.controller.action({ name: item.name, value: item.value });\r\n  }\r\n\r\n  mouseup() {\r\n    this.menuService.menuMouseUp = this.menu.type;\r\n  }\r\n\r\n  get zIndex() {\r\n    return this.menu.type === 'datePickerMenu' ? 36 : (this.menu.type === 'verticalMenu' ? 37 : 35);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\nexport class MenuItem {\r\n  constructor(public name?: string, public caption?: string, public img?: string, public type?: string, public selected?: boolean, public imageSize?: string,\r\n    public value?: any) { }\r\n}\r\n\r\n@Component({\r\n  selector: 'sti-menu-item',\r\n  template: `\r\n    <div *ngIf=\"item.type!='separator'\" [class]=\"className\" (mouseover)=\"mouseover()\"\r\n         (mouseout)=\"mouseout()\" [style.height]=\"height\">\r\n         <table style=\"height: 100%; width: 100%\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td *ngIf=\"item.img != null && !model.options.appearance.rightToLeft\" class=\"stiJsViewerClearAllStyles\" style=\"width:22px; min-width:22px; padding: 0; text-align:center; line-height: 0;\">\r\n                  <img *ngIf=\"item.img != ''\" [style.height.px]=\"item.imageSize === 'Big' ? 32 : 16\" [style.width.px]=\"item.imageSize === 'Big' ? 32 : 16\" src=\"{{model.img(item.img)}}\" />\r\n                </td>\r\n\r\n                <td *ngIf=\"item.caption != null\" class=\"stiJsViewerClearAllStyles\" style=\"white-space:nowrap\"\r\n                  [style.textAlign]=\"model.options.appearance.rightToLeft ? 'right' : 'left'\"\r\n                  [style.padding]=\"item.imageSize == 'None' ? '0 20px 0 30px' : '0 20px 0 7px'\">\r\n                  {{item.caption}}\r\n                </td>\r\n\r\n                <td *ngIf=\"item.img != null && model.options.appearance.rightToLeft\" class=\"stiJsViewerClearAllStyles\" style=\"width:22px; min-width:22px; padding: 0; text-align:center; line-height: 0;\">\r\n                  <img *ngIf=\"item.img != ''\" [style.height.px]=\"item.imageSize === 'Big' ? 32 : 16\" [style.width.px]=\"item.imageSize === 'Big' ? 32 : 16\" src=\"{{model.img(item.img)}}\" />\r\n                </td>\r\n            </tr>\r\n         </table>\r\n    </div>\r\n    <div *ngIf=\"item.type=='separator'\" class=\"stiJsViewerVerticalMenuSeparator\" [style.margin]=\"item.imageSize == 'Big' ? '1px 2px 1px 2px' : ''\">\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class MenuItemComponent implements OnInit {\r\n\r\n  @Input() item: MenuItem;\r\n  @Input() styleName = 'stiJsViewerMenuStandartItem';\r\n\r\n  selected = false;\r\n  over = false;\r\n\r\n  private _enabled = true;\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  @Input() get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(value: boolean) {\r\n    if (!value) {\r\n      this.over = false;\r\n    }\r\n    this._enabled = value;\r\n  }\r\n\r\n  mouseover() {\r\n    if (!this.enabled || !this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled || !this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n  }\r\n\r\n  get height(): string {\r\n    if (this.item.imageSize === 'Big') {\r\n      return '38px';\r\n    } else {\r\n      return this.model.options.isMobileDevice ? '0.4in' : (this.model.options.isTouchDevice ? '30px' : '24px');\r\n    }\r\n  }\r\n\r\n  get className(): string {\r\n    return this.styleName ? this.styleName + ' ' + (this.enabled ? (this.styleName + ((this.selected || this.item.selected) ? 'Selected' : (this.over ? 'Over' : ''))) : this.styleName + 'Disabled') : '';\r\n  }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { trigger, state, transition, animate, style, keyframes } from '@angular/animations';\r\nimport { TooltipService } from '../services/tooltip.service';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-tooltip',\r\n  template: `\r\n      <div #element class='stiJsViewerToolTip' [@expandDown]=\"tooltipService.state\"\r\n        [style.left.px]='tooltipService.left' [style.top.px]='tooltipService.top'\r\n        (mouseover)=\"tooltipService.showFromTooltip()\" (mouseout)=\"tooltipService.hide()\">\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%;\"\r\n          [style.border]=\"model.options.appearance.showTooltipsHelp ? '' : 0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerToolTipTextCell\">\r\n                {{tooltipService.caption}}\r\n              </td>\r\n            </tr>\r\n            <tr *ngIf=\"model.options.appearance.showTooltipsHelp\" class=\"stiJsViewerClearAllStyles\">\r\n              <td  class=\"stiJsViewerClearAllStyles\">\r\n                <sti-button [caption]=\"model.loc('TellMeMore')\"\r\n                    [imageName]=\"'HelpIcon.png'\"\r\n                    [margin]=\"'4px 8px 4px 8px'\"\r\n                    (action)='action()'\r\n                    [styleName]=\"'stiJsViewerHyperlinkButton'\">\r\n                </sti-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n    </div>\r\n  `,\r\n  animations: [\r\n    trigger('expandDown', [\r\n      state('initial', style({ opacity: 0, display: 'none' })),\r\n      state('preInitial', style({ opacity: 0, display: 'block' })),\r\n      state('preInitial2', style({ opacity: 0, display: 'block' })),\r\n      state('expanded', style({ opacity: 1, display: 'block' })),\r\n      transition('preInitial => expanded', [\r\n        animate('300ms 300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 0, offset: 0 }),\r\n          style({ display: 'block', opacity: 1, offset: 1 }),\r\n        ]))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class TooltipComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public tooltipService: TooltipService, public helper: HelperService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.tooltip.el = this.element;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  action() {\r\n    this.helper.showHelpWindow(this.tooltipService.helpLink);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ComponentDescription, Message } from '../services/objects';\r\nimport { FindService } from '../services/find.service';\r\nimport { TextBoxComponent } from '../controls/text-box.componet';\r\nimport { ControllerService } from '../services/controller.service';\r\n\r\n@Component({\r\n  selector: 'sti-find-panel',\r\n  template: `\r\n    <div #element [style.display]=\"model.controls.findPanel.visible ? '' : 'none'\"\r\n    [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\">\r\n      <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\r\n        <div class=\"stiJsViewerToolBarTable\" [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\" style=\"box-sizing: border-box\">\r\n          <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 0\">\r\n            <tbody>\r\n                <tr class=\"stiJsViewerClearAllStyles\">\r\n                   <td *ngFor=\"let item of items\"  class=\"stiJsViewerClearAllStyles\">\r\n                      <sti-button *ngIf=\"item.type=='button'\"\r\n                        [actionName]=\"item.action\"\r\n                        [imageName]=\"item.img\"\r\n                        [caption]=\"item.caption\"\r\n                        [margin]=\"item.margin\"\r\n                        [height]=\"model.options.toolbar.displayMode == 'Separated' ? '28px' : ''\"\r\n                        (action)=\"action(item.action)\"\r\n                        [selected]=\"selected(item)\"\r\n                        ></sti-button>\r\n                      <sti-text-box #textBox *ngIf=\"item.type=='textBox'\" [width]=\"170\"\r\n                        [margin]=\"item.margin\"\r\n                        [focusOnCreate]=\"true\"\r\n                        (action)=\"textBoxAction($event)\"\r\n                        [value]=\"findService.text\"></sti-text-box>\r\n                      <sti-text-block *ngIf=\"item.type=='textBlock'\" [margin]=\"item.margin\" [text]=\"item.caption\"></sti-text-block>\r\n                  </td>\r\n                </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class FindPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n  @ViewChild('textBox') textBox: TextBoxComponent;\r\n\r\n  items: ComponentDescription[];\r\n  private changeFind = false;\r\n\r\n  constructor(public model: ModelService, public findService: FindService, public controller: ControllerService) {\r\n    this.initItems();\r\n\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'GetReport':\r\n        case 'GetPages':\r\n        case 'OpenReport':\r\n        case 'Variables':\r\n          if (model.controls.findPanel.visible) {\r\n            setTimeout(() => {\r\n              this.findService.hideFindLabels();\r\n              this.find('Next');\r\n            });\r\n          }\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.findPanel.el = this.element;\r\n\r\n    this.model.controls.findPanel.getVisibility().subscribe(() => {\r\n      if (this.model.controls.findPanel.visible) {\r\n        this.findService.text = '';\r\n        setTimeout(() => {\r\n          this.textBox.element.nativeElement.focus();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  selected(item: ComponentDescription): boolean {\r\n    switch (item.action) {\r\n      case 'MatchCase':\r\n        return this.findService.matchCase;\r\n      case 'MatchWholeWord':\r\n        return this.findService.matchWholeWord;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  textBoxAction(target: any) {\r\n    this.findService.text = target.value;\r\n    this.find('Next');\r\n  }\r\n\r\n  find(direction: string) {\r\n    if (this.findService.text === '') {\r\n      this.findService.hideFindLabels();\r\n      return;\r\n    }\r\n    if (this.findService.lastFindText !== this.findService.text || this.changeFind) {\r\n      this.changeFind = false;\r\n      this.findService.showFindLabels();\r\n    } else {\r\n      this.findService.selectFindLabel(direction);\r\n    }\r\n  }\r\n\r\n  initItems() {\r\n    this.items = [\r\n      { type: 'button', action: 'close', img: 'CloseForm.png', margin: '2px' },\r\n      { type: 'textBlock', action: 'text', caption: this.model.loc('FindWhat').replace(\":\", \"\"), margin: '2px' },\r\n      { type: 'textBox', action: 'findTextBox', margin: '2px' },\r\n      { type: 'button', action: 'FindPreviows', caption: this.model.loc('FindPrevious'), img: 'Arrows.ArrowUpBlue.png', margin: '2px' },\r\n      { type: 'button', action: 'FindNext', caption: this.model.loc('FindNext'), img: 'Arrows.ArrowDownBlue.png', margin: '2px' },\r\n      { type: 'button', action: 'MatchCase', caption: this.model.loc('MatchCase').replace('&', ''), margin: '2px' },\r\n      { type: 'button', action: 'MatchWholeWord', caption: this.model.loc('MatchWholeWord').replace('&', ''), margin: '2px' }\r\n    ];\r\n  }\r\n\r\n  action(action: string) {\r\n    switch (action) {\r\n      case 'close':\r\n        this.model.controls.findPanel.visible = false;\r\n        break;\r\n      case 'MatchCase':\r\n        this.findService.matchCase = !this.findService.matchCase;\r\n        this.changeFind = true;\r\n        break;\r\n      case 'MatchWholeWord':\r\n        this.findService.matchWholeWord = !this.findService.matchWholeWord;\r\n        this.changeFind = true;\r\n        break;\r\n      case 'FindPreviows':\r\n        this.findService.text = this.textBox.element.nativeElement.value;\r\n        this.find('Previous');\r\n        break;\r\n      case 'FindNext':\r\n        this.findService.text = this.textBox.element.nativeElement.value;\r\n        this.find('Next');\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-text-block',\r\n  template: `\r\n    <div [style]=\"{fontFamily: model.options.toolbar.fontFamily, fontSize: '12px', paddingTop: '2px', margin: margin}\">\r\n      {{text || ''}}\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class TextBlockComponent implements OnInit {\r\n\r\n  @Input() text: string;\r\n  @Input() margin: string;\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { BookmarkNode, Message } from '../services/objects';\r\nimport { trigger, state, transition, animate, style, keyframes, AnimationEvent } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'sti-bookmarks-panel',\r\n  template: `\r\n    <div #element [style]=\"{fontFamily: model.options.toolbar.fontFamily, fontColor: helper.val(model.options.toolbar.fontColor)}\"\r\n      [class]=\"'stiJsViewerBookmarksPanel' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerBookmarksPanelSeparated' : '')\"\r\n      [style.width.px]=\"model.options.appearance.bookmarksTreeWidth - (model.options.toolbar.displayMode == 'Simple' ? 0 : 1)\"\r\n      [style.bottom]=\"bottom\"\r\n      [style.top.px]=\"model.controls.bookmarksPanel.layout.top\"\r\n      [style.transition]=\"model.options.isMobileDevice ? 'opacity 300ms ease' : null\"\r\n      [style.display]=\"!this.model.options.isMobileDevice ? (model.controls.bookmarksPanel.visible ? '' : 'none') : null\"\r\n      [@visibility]=\"!this.model.options.isMobileDevice ? null : (model.controls.bookmarksPanel.visible ? 'visible' : 'hidden')\">\r\n      <div #bookmarksPanel [class]=\"'stiJsViewerBookmarksContainer' + (model.options.toolbar.displayMode == 'Simple' ? ' stiJsViewerBookmarksContainerSimple' : '')\"\r\n           [style.background]=\"helper.val(model.options.toolbar.backgroundColor)\"\r\n           [style.border]=\"helper.val(model.options.toolbar.borderColor) != '' ? '1px solid ' + helper.val(model.options.toolbar.borderColor): ''\">\r\n           <div class=\"stiTree\">\r\n              <div class=\"stiTreeNode\">\r\n                <img style=\"width: 16px; height: 16px;\" [src]=\"model.imagesForBookmark['root']\"/>\r\n                <a class=\"node\">{{rootName}}</a>\r\n              </div>\r\n              <div class=\"clip\" style=\"display:block;\">\r\n                <ng-container *ngFor=\"let node of model.nodes; index as i\">\r\n                    <div class=\"stiTreeNode\">\r\n                        <a (click)=\"node.open = !node.open\">\r\n                            <img style=\"width: 18px; height: 18px\"\r\n                             [src]=\"getImg1(node, i)\"/>\r\n                        </a>\r\n                        <img style=\"width: 16px; height: 16px;\" [src]=\"node.nodes?.length == 0 ? model.imagesForBookmark['node'] :(node.open ? model.imagesForBookmark['folderOpen'] : model.imagesForBookmark['folder'])\"/>\r\n                        <a [class]=\"node.selected ? 'nodeSel' : 'node'\" (click)=\"postAction(node)\">{{node.name}}</a>\r\n                    </div>\r\n                    <div class=\"clip\" [style.display]=\"node.open ? 'block' : 'none'\">\r\n                      <div *ngFor=\"let subNode of node.nodes; index as k\" class=\"stiTreeNode\">\r\n                        <img style=\"width: 18px; height: 18px;\" [src]=\"i != model.nodes.length - 1 ? model.imagesForBookmark['line'] : model.imagesForBookmark['empty']\"/>\r\n                        <img style=\"width: 18px; height: 18px;\" [src]=\"k == node.nodes.length - 1 ? model.imagesForBookmark['joinBottom'] : model.imagesForBookmark['join']\"/>\r\n                        <img style=\"width: 16px; height: 16px;\" [src]=\"model.imagesForBookmark['node']\" />\r\n                        <a [class]=\"subNode.selected ? 'nodeSel' : 'node'\" (click)=\"postAction(subNode)\">{{subNode.name}}</a>\r\n                      </div>\r\n                    </div>\r\n                </ng-container>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  animations: [\r\n    trigger('visibility', [\r\n      state('visible', style({ opacity: 1, display: 'block' })),\r\n      state('hidden', style({ opacity: 0, display: 'none' })),\r\n      transition('hidden => visible', [\r\n        animate('300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 0, offset: 0 }),\r\n          style({ display: 'block', opacity: 1, offset: 1 }),\r\n        ]))\r\n      ]),\r\n      transition('visible => hidden', [\r\n        animate('300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 1, offset: 0 }),\r\n          style({ display: 'none', opacity: 0, offset: 1 }),\r\n        ]))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class BookmarksPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n  @ViewChild('bookmarksPanel') bookmarksPanel: ElementRef;\r\n\r\n  public rootName: string;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public controller: ControllerService) {\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'GetReport' || message.action === 'OpenReport') {\r\n        setTimeout(() => {\r\n          if (this.model.reportParams.bookmarksContent != null) {\r\n            this.create();\r\n          }\r\n          this.model.controls.bookmarksPanel.visible = this.model.reportParams.bookmarksContent !== null && !this.model.options.isMobileDevice;\r\n        });\r\n      } else {\r\n        // Go to the bookmark, if it present\r\n        setTimeout(() => {\r\n          if (this.model.options.bookmarkAnchor != null) {\r\n            this.helper.scrollToAnchor(this.model.options.bookmarkAnchor, this.model.options.componentGuid);\r\n            this.model.options.bookmarkAnchor = null;\r\n            this.model.options.componentGuid = null;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    this.model.controls.bookmarksPanel.getVisibility().subscribe((value) => {\r\n      if (!value) {\r\n        this.helper.removeBookmarksLabel();\r\n        this.clearSelected();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.bookmarksPanel.el = this.element;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  public getImg1(node: BookmarkNode, i: number): string {\r\n    if (node.nodes?.length === 0) {\r\n      return i !== this.model.nodes.length - 1 ? this.model.imagesForBookmark['join'] : this.model.imagesForBookmark['joinBottom'];\r\n    }\r\n    return node.open ? (i === this.model.nodes.length - 1 ? this.model.imagesForBookmark['minusBottom'] : this.model.imagesForBookmark['minus']) :\r\n      (i === this.model.nodes.length - 1 ? this.model.imagesForBookmark['plusBottom'] : this.model.imagesForBookmark['plus']);\r\n  }\r\n\r\n  public postAction(node: BookmarkNode) {\r\n    this.clearSelected();\r\n    this.controller.postBookmarkNodeAction(node);\r\n  }\r\n\r\n  clearSelected() {\r\n    this.model.nodes?.forEach((n) => {\r\n      n.selected = false;\r\n      n.nodes.forEach(element => element.selected = false);\r\n    });\r\n  }\r\n\r\n  create() {\r\n    const bookmarks = this.model.reportParams.bookmarksContent.split('bookmarks.add(');\r\n\r\n    const root = bookmarks[1].replace('0,-1,\\'', '');\r\n    this.rootName = root.substr(0, root.indexOf('\\''));\r\n\r\n    const nodes: BookmarkNode[] = [];\r\n    this.parseNodes(bookmarks.splice(2), 0, nodes);\r\n    this.model.nodes = nodes;\r\n  }\r\n\r\n  parseNodes(bookmarks: string[], index: number, nodes: BookmarkNode[]) {\r\n    let folder: BookmarkNode;\r\n    bookmarks.forEach((bookmark) => {\r\n      const str = bookmark.substr(bookmark.indexOf(',') + 1);\r\n      const nodeType = parseInt(str.substr(0, str.indexOf(',')), 10);\r\n      const node = this.parseNode(str);\r\n      if (nodeType === 0) {\r\n        nodes.push(node);\r\n        folder = node;\r\n      } else {\r\n        folder.nodes.push(node);\r\n      }\r\n    });\r\n  }\r\n\r\n  parseNode(str: string): BookmarkNode {\r\n    str = str.substr(str.indexOf(',') + 2);\r\n    const name = this.unescape(str.substr(0, str.indexOf('\\',')));\r\n    str = str.substr(str.indexOf('\\',') + 3);\r\n    const url = str.substr(0, str.indexOf('\\','));\r\n    str = str.substr(str.indexOf('\\',') + 3);\r\n    const pageTitle = str.substr(0, str.indexOf('\\','));\r\n    str = str.substr(str.indexOf('\\',') + 3);\r\n    const componentGuid = str.substr(0, str.length - 3);\r\n    return { name, url, page: parseInt(pageTitle.substr(5), 10) - 1, compunentGuid: componentGuid, nodes: [], open: false, selected: false };\r\n  }\r\n\r\n  unescape(str: string): string {\r\n    return str.replace(/\\\\&apos;/g, '\\'')\r\n      .replace(/\\\\&quot;/g, '\"')\r\n      .replace(/\\\\&gt;/g, '>')\r\n      .replace(/\\\\&lt;/g, '<')\r\n      .replace(/\\\\&amp;/g, '&');\r\n  }\r\n\r\n  get bottom(): string {\r\n    if (this.model.options.isMobileDevice) {\r\n      return this.model.options.toolbar.autoHide ? '0' : '0.5in';\r\n    } else {\r\n      return this.model.options.toolbar.displayMode === 'Separated' && this.model.options.toolbar.visible ? '35px' : '0';\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { InteractionsService } from '../services/interactions.service';\r\nimport { MenuService } from '../menu/menu.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { trigger, state, transition, style, keyframes, animate } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'sti-interactions-panel',\r\n  template: `\r\n    <div #element [class]=\"className\"\r\n       [style.display]=\"!this.model.options.isMobileDevice ? (model.controls.parametersPanel.visible ? '' : 'none') : null\"\r\n       [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n       [style.color]=\"model.options.toolbar.fontColor\"\r\n       [style.top.px]=\"top\"\r\n       [style.left.px]=\"model.controls.parametersPanel.layout.left\"\r\n       [style.bottom]=\"bottom\"\r\n       [style.transition]=\"model.options.isMobileDevice ? 'opacity 300ms ease' : null\"\r\n       [@visibility]=\"!this.model.options.isMobileDevice ? null : (model.controls.parametersPanel.visible ? 'visible' : 'hidden')\">\r\n       <div [class]=\"innerClassName\" [style.marginTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\" (scroll)=\"menuService.closeAllMenus()\">\r\n         <div class=\"stiJsViewerInnerContainerParametersPanel\"\r\n              [style.background]=\"helper.val(model.options.toolbar.backgroundColor, '')\"\r\n              [style.border]=\"helper.val(model.options.toolbar.backgroundColor, '') != '' ? '1px solid ' + helper.val(model.options.toolbar.backgroundColor, '') : ''\"\r\n              [style.maxHeight]=\"model.options.appearance.parametersPanelPosition == 'Top' ? model.options.appearance.parametersPanelMaxHeight + 'px' : ''\"\r\n              (scroll)=\"menuService.closeAllMenus()\">\r\n            <table *ngIf=\"model.interactions\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"border: 0px;\">\r\n              <tbody>\r\n                <tr *ngFor=\"let item of model.interactions.countInColumn; let indexRow=index\" >\r\n                  <ng-container *ngFor=\"let item2 of model.interactions.countColumns; let indexColumn=index\">\r\n                    <ng-container *ngIf=\"index(indexRow, indexColumn) <= length()\">\r\n                        <td [style.padding]=\"'0 10px 0 ' + (indexColumn > 0 ? '30px' : '0')\"\r\n                            [style.whiteSpace]=\"'nowrap'\"\r\n                            [style.verticalAlign]='getNameAlign(indexRow, indexColumn)'\r\n                            [style.paddingTop]='getNamePadding(indexRow, indexColumn)'\r\n                            [attr.title]='getTitle(indexRow, indexColumn)'>\r\n                            {{getCaption(indexRow, indexColumn)}}\r\n                              <table *ngIf=\"ifLeftRange(indexRow, indexColumn)\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 60px;\">\r\n                                <tbody>\r\n                                  <tr class=\"stiJsViewerClearAllStyles\">\r\n                                    <td class=\"stiJsViewerClearAllStyles\" rowspan=\"2\" style=\"vertical-align: top; padding-top: 9px;\">\r\n                                      {{getCaption(indexRow, indexColumn, false)}}\r\n                                    </td>\r\n                                    <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 12px;\">\r\n                                      {{model.loc('RangeFrom')}}\r\n                                    </td>\r\n                                  </tr>\r\n                                  <tr class=\"stiJsViewerClearAllStyles\">\r\n                                    <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 12px;\">\r\n                                      {{model.loc('RangeTo')}}\r\n                                    </td>\r\n                                  </tr>\r\n                                </tbody>\r\n                              </table>\r\n                            </td>\r\n                        <td [style.padding]=\"'0px'\">\r\n                          <sti-parameter *ngIf=\"index(indexRow, indexColumn) != length()\"  [params]=\"model.interactions.paramsVariables[index(indexRow, indexColumn)]\"></sti-parameter>\r\n\r\n                          <table *ngIf=\"index(indexRow, indexColumn) == length()\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\"\r\n                            align=\"right\" style=\"margin: 5px 2px 10px 0px;\">\r\n                            <tr class=\"stiJsViewerClearAllStyles\">\r\n                              <td class=\"stiJsViewerClearAllStyles\">\r\n                                <sti-form-button [caption]=\"model.loc('Reset')\" (action)=\"controller.action({name: 'Reset'})\"></sti-form-button>\r\n                              </td>\r\n                              <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 10px;\">\r\n                                <sti-form-button [caption]=\"model.loc('Submit')\" (action)=\"controller.action({name: 'Submit'})\"></sti-form-button>\r\n                              </td>\r\n                            </tr>\r\n                          </table>\r\n                        </td>\r\n                    </ng-container>\r\n                  </ng-container>\r\n                </tr>\r\n                <tr *ngIf=\"length() == model.interactions.countInColumn.length * model.interactions.countColumns.length\">\r\n                  <td></td>\r\n                  <td *ngIf=\"model.interactions.countColumns.length > 1\"></td>\r\n                  <td *ngIf=\"model.interactions.countColumns.length > 1\"></td>\r\n                  <td [style.padding]=\"'0px'\">\r\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\"\r\n                         align=\"right\" style=\"margin: 5px 2px 10px 0px;\">\r\n                         <tr class=\"stiJsViewerClearAllStyles\">\r\n                           <td class=\"stiJsViewerClearAllStyles\">\r\n                             <sti-form-button [caption]=\"model.loc('Reset')\" (action)=\"controller.action({name: 'Reset'})\"></sti-form-button>\r\n                           </td>\r\n                           <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 10px;\">\r\n                              <sti-form-button [caption]=\"model.loc('Submit')\" (action)=\"controller.action({name: 'Submit'})\"></sti-form-button>\r\n                           </td>\r\n                         </tr>\r\n                       </table>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  animations: [\r\n    trigger('visibility', [\r\n      state('visible', style({ opacity: 1, display: 'block' })),\r\n      state('hidden', style({ opacity: 0, display: 'none' })),\r\n      transition('hidden => visible', [\r\n        animate('300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 0, offset: 0 }),\r\n          style({ display: 'block', opacity: 1, offset: 1 }),\r\n        ]))\r\n      ]),\r\n      transition('visible => hidden', [\r\n        animate('300ms ease-in-out', keyframes([\r\n          style({ display: 'block', opacity: 1, offset: 0 }),\r\n          style({ display: 'none', opacity: 0, offset: 1 }),\r\n        ]))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class InteractionsPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  currentOpeningParameter = null;\r\n  dropDownButtonWasClicked = false;\r\n  dateTimeButtonWasClicked = false;\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public interactionService: InteractionsService, public menuService: MenuService,\r\n    public controller: ControllerService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.parametersPanel.el = this.element;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  getNameAlign(indexRow: number, indexColumn: number): string {\r\n    const index = this.index(indexRow, indexColumn);\r\n    if (index < this.length() &&\r\n      this.model.interactions.paramsVariables[index].basicType === 'Range' &&\r\n      this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n      return 'top';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getNamePadding(indexRow: number, indexColumn: number): string {\r\n    const index = this.index(indexRow, indexColumn);\r\n    if (index < this.length() &&\r\n      this.model.interactions.paramsVariables[index].basicType === 'Range' &&\r\n      this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n      return this.model.options.isTouchDevice ? '11px' : '9px';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getCaption(indexRow: number, indexColumn: number, checkLeft = true): string {\r\n    const index = this.index(indexRow, indexColumn);\r\n    if (checkLeft && this.ifLeftRange(indexRow, indexColumn)) {\r\n      return '';\r\n    }\r\n    return index < this.length() ? this.model.interactions.paramsVariables[index].alias : '';\r\n  }\r\n\r\n  ifLeftRange(indexRow: number, indexColumn: number): boolean {\r\n    const index = this.index(indexRow, indexColumn);\r\n    return this.model.interactions.paramsVariables[index].basicType === 'Range' && this.model.options.appearance.parametersPanelPosition === 'Left';\r\n  }\r\n\r\n  getTitle(indexRow: number, indexColumn: number): string {\r\n    const index = this.index(indexRow, indexColumn);\r\n    return index < this.length() ? this.model.interactions.paramsVariables[index].description : '';\r\n  }\r\n\r\n  index(indexRow: number, indexColumn: number): number {\r\n    return indexColumn * this.model.interactions.countInColumn.length + indexRow;\r\n  }\r\n\r\n  length(): number {\r\n    return this.model.interactions?.paramsVariables != null ? Object.keys(this.model.interactions?.paramsVariables).length : 0;\r\n  }\r\n\r\n  get className(): string {\r\n    let className = 'stiJsViewerParametersPanel';\r\n\r\n    if (this.model.options.appearance.parametersPanelPosition === 'Top') {\r\n      className += ' stiJsViewerParametersPanelTop';\r\n\r\n      if (this.model.options.toolbar.displayMode === 'Separated') {\r\n        className += ' stiJsViewerParametersPanelSeparatedTop';\r\n      }\r\n    }\r\n\r\n    return className;\r\n  }\r\n\r\n  get top(): number {\r\n    let styleTop = this.model.options.toolbar.visible ? this.model.controls.toolbar.offsetHeight : 0;\r\n    if (this.model.options.isMobileDevice && this.model.options.toolbar.autoHide) {\r\n      styleTop = 0;\r\n    }\r\n    styleTop += this.model.controls.drillDownPanel.exists ? this.model.controls.drillDownPanel.offsetHeight : 0;\r\n    styleTop += this.model.controls.findPanel.exists ? this.model.controls.findPanel.offsetHeight : 0;\r\n    styleTop += this.model.controls.resourcesPanel.exists ? this.model.controls.resourcesPanel.offsetHeight : 0;\r\n    return styleTop;\r\n  }\r\n\r\n  get bottom(): string {\r\n    if (this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n      if (this.model.options.isMobileDevice) {\r\n        return this.model.options.toolbar.autoHide ? '0' : '0.5in';\r\n      } else {\r\n        return this.model.options.toolbar.displayMode === 'Separated' && this.model.options.toolbar.visible ? '35px' : '0';\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  get innerClassName(): string {\r\n    let className = this.model.options.toolbar.displayMode === 'Simple' ? 'stiJsViewerInnerParametersPanelSimple' : '';\r\n\r\n    if (this.model.options.appearance.parametersPanelPosition === 'Left') {\r\n      className += ' stiJsViewerInnerParametersPanelLeft';\r\n      if (this.model.options.toolbar.displayMode === 'Separated') {\r\n        className += ' stiJsViewerInnerParametersPanelSeparatedLeft';\r\n      }\r\n    }\r\n    return className;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'sti-form-button',\r\n  template: `\r\n      <sti-button [styleName]=\"'stiJsViewerFormButton'\"\r\n                  [caption]=\"caption\"\r\n                  [actionName]=\"actionName\"\r\n                  [captionAlign]=\"captionAlign\"\r\n                  [innerTableWidth]=\"'100%'\"\r\n                  [minWidth]=\"'80px'\"\r\n                  [imageName]=\"imageName\"\r\n                  [imageCellWidth]=\"imageCellWidth\"\r\n                  [captionPadding]=\"captionPadding\"\r\n                  [margin]=\"margin\"\r\n                  (action)=\"onaction($event)\">\r\n      </sti-button>\r\n  `\r\n})\r\nexport class FormButtonComponent implements OnInit {\r\n\r\n  @Input() caption: string;\r\n  @Input() actionName: string;\r\n  @Input() imageName: string;\r\n  @Input() imageCellWidth: string;\r\n  @Input() captionPadding: string;\r\n  @Input() margin: string;\r\n  @Input() captionAlign = 'center';\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onaction(event: any) {\r\n    this.action.emit(event);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ElementRef, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../../services/model.service';\r\nimport { Variable } from '../../services/objects';\r\nimport { HelperService } from '../../services/helper.service';\r\nimport { MenuService } from '../../menu/menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter',\r\n  template: `\r\n    <table #element class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" #rangeFrom>\r\n       <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\" >\r\n            <td *ngIf=\"params.type == 'Bool' && (params.basicType == 'Value' || params.basicType == 'NullableValue')\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-checkbox [params]=\"params\" [isEnabled]=\"params.allowUserValues && !params.isNull\" (action)=\"params.value = $event\">\r\n                </sti-parameter-checkbox>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'Range' && model.options.appearance.parametersPanelPosition === 'Top'\"  style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                {{model.loc('RangeFrom')}}\r\n            </td>\r\n\r\n            <td *ngIf=\"params.type != 'Bool' || params.basicType == 'List'\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-text-box [variable]=\"params\"\r\n                    [readOnly]=\"getReadOnlyCheckbox()\"\r\n                    [value]=\"getFirstTextBoxValue()\">\r\n                </sti-parameter-text-box>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.type == 'DateTime' && params.allowUserValues && params.basicType != 'List' && params.basicType != 'Range'\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\" #firstDateTimeButton>\r\n                <sti-parameter-button [buttonType]=\"'DateTimeButton'\" [params]=\"params\"  (action)=\"firstDateTimeAction($event)\">\r\n                </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.type == 'Guid' && params.allowUserValues && params.basicType != 'List'\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-button  [buttonType]=\"'GuidButton'\" [params]=\"params\" (action)=\"firstGuidAction()\">\r\n                </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'Range' && model.options.appearance.parametersPanelPosition === 'Top'\" style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              {{model.loc('RangeTo')}}\r\n            </td>\r\n\r\n            <!-- second -->\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'Range'\" style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-text-box [variable]=\"params\"\r\n                    [readOnly]=\"!params.allowUserValues\"\r\n                    [value]=\"helper.getStringKey(params.keyTo, params)\"\r\n                    [secondTextBox]=\"true\">\r\n              </sti-parameter-text-box>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'Range' && params.type == 'DateTime' && params.allowUserValues\" #doubleDateTimeButton\r\n              style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button  [buttonType]=\"'DateTimeButton'\" [params]=\"params\" (action)=\"doubleDateTimeAction($event)\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'Range' && params.type == 'Guid' && params.allowUserValues\"\r\n              style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button  [buttonType]=\"'GuidButton'\" [params]=\"params\" (action)=\"params.keyTo=helper.newGuid()\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.items != null || (params.basicType == 'List' && params.allowUserValues)\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button [buttonType]=\"'DropDownButton'\" [params]=\"params\" (action)=\"dropDownButtonAction($event)\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'NullableValue' && params.allowUserValues\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-checkbox [params]=\"params\" [isEnabled]=\"params.allowUserValues\" (action)=\"nullableAction($event)\" [nullable]=\"true\" >\r\n                </sti-parameter-checkbox>\r\n            </td>\r\n\r\n            <td *ngIf=\"!showParameterInTwoRows && params.basicType == 'NullableValue' && params.allowUserValues\"\r\n                style=\"padding: 0px\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                {{model.loc('Null')}}\r\n            </td>\r\n          </tr>\r\n\r\n          <!-- NEW LINE -->\r\n          <tr *ngIf=\"showParameterInTwoRows\">\r\n            <td *ngIf=\"params.basicType == 'Range' && model.options.appearance.parametersPanelPosition === 'Top'\" style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              {{model.loc('RangeTo')}}\r\n            </td>\r\n\r\n            <!-- second -->\r\n            <td *ngIf=\"params.basicType == 'Range'\" style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-text-box [variable]=\"params\"\r\n                    [readOnly]=\"!params.allowUserValues\"\r\n                    [value]=\"helper.getStringKey(params.keyTo, params)\"\r\n                    [secondTextBox]=\"true\">\r\n              </sti-parameter-text-box>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'Range' && params.type == 'DateTime' && params.allowUserValues\" #doubleDateTimeButton\r\n              style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button  [buttonType]=\"'DateTimeButton'\" [params]=\"params\" (action)=\"doubleDateTimeAction($event)\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'Range' && params.type == 'Guid' && params.allowUserValues\"\r\n              style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button  [buttonType]=\"'GuidButton'\" [params]=\"params\" (action)=\"params.keyTo=helper.newGuid()\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.items != null || (params.basicType == 'List' && params.allowUserValues)\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n              <sti-parameter-button [buttonType]=\"'DropDownButton'\" [params]=\"params\" (action)=\"dropDownButtonAction($event)\">\r\n              </sti-parameter-button>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'NullableValue' && params.allowUserValues\"\r\n                style=\"padding: 0px 2px;\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                <sti-parameter-checkbox [params]=\"params\" [isEnabled]=\"params.allowUserValues\" (action)=\"nullableAction($event)\" [nullable]=\"true\" >\r\n                </sti-parameter-checkbox>\r\n            </td>\r\n\r\n            <td *ngIf=\"params.basicType == 'NullableValue' && params.allowUserValues\"\r\n                style=\"padding: 0px\" [style.height.px]=\"model.options.parameterRowHeight\">\r\n                {{model.loc('Null')}}\r\n            </td>\r\n\r\n          </tr>\r\n       </tbody>\r\n    </table>\r\n  `\r\n})\r\n\r\nexport class ParameterComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n  @ViewChild('firstDateTimeButton') firstDateTimeButton: ElementRef;\r\n  @ViewChild('doubleDateTimeButton') doubleDateTimeButton: ElementRef;\r\n  @ViewChild('rangeFrom') rangeFrom: ElementRef;\r\n\r\n  private _params: Variable;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public menuService: MenuService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  @Input() get params(): Variable {\r\n    return this._params;\r\n  }\r\n\r\n  set params(params: Variable) {\r\n    this._params = params;\r\n\r\n    if (params.basicType === 'Range') {\r\n      if (params.type === 'DateTime' && params.keyTo && params.keyTo.isNull) {\r\n        params.keyTo = this.helper.getDateTimeObject(new Date());\r\n      }\r\n    }\r\n  }\r\n\r\n  get showParameterInTwoRows(): boolean {\r\n    return this.params.basicType === 'Range' && this.model.options.appearance.parametersPanelPosition === 'Left';\r\n  }\r\n\r\n  getReadOnlyCheckbox(): boolean {\r\n    return this.params.basicType === 'List' || !this.params.allowUserValues;\r\n  }\r\n\r\n  getFirstTextBoxValue(): string {\r\n    let value = '';\r\n    if (this.params.basicType === 'Value' || this.params.basicType === 'NullableValue') {\r\n      if (this.params.type === 'DateTime' && this.params.value === null) {\r\n        this.params.value = new Date();\r\n        this.params.key = this.helper.getDateTimeObject(this.params.value);\r\n      }\r\n\r\n      value = (this.params.type === 'DateTime') ? this.helper.getStringKey(this.params.key, this.params) : this.params.value;\r\n    }\r\n\r\n    // Range\r\n    if (this.params.basicType === 'Range') {\r\n      if (this.params.type === 'DateTime' && this.params.key && this.params.key.isNull) {\r\n        this.params.key = this.helper.getDateTimeObject(new Date());\r\n      }\r\n      value = this.helper.getStringKey(this.params.key, this.params);\r\n    }\r\n\r\n    // List\r\n    if (this.params.basicType === 'List' && this.params.items) {\r\n      this.params.items.forEach((item) => {\r\n        if (item.isChecked) {\r\n          if (value !== '') {\r\n            value += (this.model.options.listSeparator ? this.model.options.listSeparator + \" \" : \"; \");\r\n          }\r\n\r\n          if (this.params.allowUserValues) {\r\n            value += this.helper.getStringKey(item.key, this.params);\r\n          } else {\r\n            value += item.value !== '' ? item.value : this.helper.getStringKey(item.key, this.params);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    return value != null ? value.toString() : value;\r\n  }\r\n\r\n  nullableAction(checked: boolean) {\r\n    this.params.isNull = !this.params.isNull;\r\n  }\r\n\r\n  firstGuidAction() {\r\n    if (this.params.basicType === 'Range') {\r\n      this.params.key = this.helper.newGuid();\r\n    } else {\r\n      this.params.value = this.helper.newGuid();\r\n    }\r\n  }\r\n\r\n  doubleDateTimeAction(event: any) {\r\n    this.menuService.addMenu({\r\n      type: 'doubleDatePickerMenu', name: 'doubleDatePickerMenu', items: [], parent: this.rangeFrom,\r\n      params: this.params\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu('doubleDatePickerMenu');\r\n    });\r\n  }\r\n\r\n  firstDateTimeAction(event: any) {\r\n    this.menuService.addMenu({\r\n      type: 'datePickerMenu', name: 'datePickerMenu', items: [], parent: this.firstDateTimeButton,\r\n      params: this.params\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu('datePickerMenu');\r\n    });\r\n  }\r\n\r\n  dropDownButtonAction(event: any) {\r\n    let menuType = 'parameterMenuForValue';\r\n    switch (this.params.basicType) {\r\n      case 'Range':\r\n        menuType = 'parameterMenuForRange';\r\n        break;\r\n      case 'List':\r\n        menuType = this.params.allowUserValues ? 'parameterMenuForEditList' : 'parameterMenuForNotEditList';\r\n        break;\r\n    }\r\n\r\n    if (this.params.items) {\r\n      this.params.items.forEach(i => i.visible = true);\r\n    }\r\n\r\n    this.menuService.addMenu({\r\n      type: menuType, name: 'parameterMenu', items: [], parent: this.element,\r\n      params: this.params\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu('parameterMenu');\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild } from '@angular/core';\r\nimport { Variable } from '../../services/objects';\r\nimport { TextBoxComponent } from '../text-box.componet';\r\nimport { HelperService } from '../../services/helper.service';\r\nimport { ModelService } from '../../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-text-box',\r\n  template: `\r\n    <sti-text-box #element\r\n      [maxLength]=\"variable.type === 'Char' ? 1 : ''\"\r\n      [value]=\"isMenu ? helper.getStringKey(item.key, variable): value\"\r\n      [width]=\"width\"\r\n      [readOnly]=\"readOnly\"\r\n      [focusOnCreate]=\"focusOnCreate\"\r\n      [enabled]=\"!variable?.isNull\"\r\n      [color]=\"color\"\r\n      (onchange)=\"onchange($event)\">\r\n    </sti-text-box>\r\n  `\r\n})\r\n\r\nexport class ParameterTextBoxComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: TextBoxComponent;\r\n\r\n  @Input() item: Variable;\r\n  @Input() variable: Variable;\r\n  @Input() readOnly: boolean;\r\n  @Input() focusOnCreate = false;\r\n  @Input() isMenu = false;\r\n  @Input() value = '';\r\n  @Input() secondTextBox = false;\r\n\r\n  constructor(public helper: HelperService, public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onchange(target: any) {\r\n    if (this.element.oldValue === target.value) {\r\n      return;\r\n    }\r\n    const value = this.getValue(target);\r\n    if (this.isMenu) {\r\n      if (!this.secondTextBox) {\r\n        this.item.key = value;\r\n      } else {\r\n        this.item.keyTo = value;\r\n      }\r\n    } else {\r\n      if (!this.secondTextBox) {\r\n        if (this.variable.basicType === 'Range' || this.variable.type === 'DateTime') {\r\n          this.variable.key = value;\r\n        } else {\r\n          this.variable.value = value;\r\n        }\r\n      } else {\r\n        this.variable.keyTo = value;\r\n      }\r\n    }\r\n  }\r\n\r\n  getValue(target: any): any {\r\n    if (this.variable.type === 'DateTime') {\r\n      if (this.element.oldValue === target.value) {\r\n        return;\r\n      }\r\n      try {\r\n        const timeString = new Date().toLocaleTimeString();\r\n        const isAmericanFormat = timeString.toLowerCase().indexOf('am') >= 0 || timeString.toLowerCase().indexOf('pm') >= 0;\r\n        const formatDate = isAmericanFormat ? 'MM/dd/yyyy' : 'dd.MM.yyyy';\r\n        let format = formatDate + (isAmericanFormat ? ' h:mm:ss tt' : ' hh:mm:ss');\r\n        if (this.variable.dateTimeType === 'Date') {\r\n          format = formatDate;\r\n        }\r\n        if (this.variable.dateTimeType === 'Time') {\r\n          format = 'hh:mm:ss';\r\n        }\r\n        const date = this.helper.getDateTimeFromString(target.value, this.model.options.appearance.parametersPanelDateFormat || format);\r\n        return this.helper.getDateTimeObject(date);\r\n      } catch (e) {\r\n        alert(e);\r\n      }\r\n    } else {\r\n      return target.value;\r\n    }\r\n  }\r\n\r\n  get width(): number {\r\n    let width = 210;\r\n    if (this.variable.basicType === 'Range') {\r\n      width = 140;\r\n      if (this.variable.type === 'Guid' || this.variable.type === 'String') {\r\n        width = 190;\r\n      }\r\n      if (this.variable.type === 'DateTime') {\r\n        width = 235;\r\n      }\r\n      if (this.variable.type === 'Char') {\r\n        width = 60;\r\n      }\r\n    } else {\r\n      if (this.variable.type === 'Guid') {\r\n        width = 265;\r\n      } else {\r\n        width = 210;\r\n      }\r\n    }\r\n    return width;\r\n  }\r\n\r\n  get color(): string {\r\n    return !this.variable.isNull\r\n      ? (this.model.options.toolbar.fontColor && this.model.options.toolbar.fontColor !== 'Empty' ? this.model.options.toolbar.fontColor : '#444444')\r\n      : this.variable.type === 'DateTime' ? 'transparent' : '#c6c6c6';\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-check-box',\r\n  template: `\r\n    <table cellpadding=\"0\" cellspacing=\"0\"\r\n      [class]=\"isEnabled ? 'stiJsViewerCheckBox' : 'stiJsViewerCheckBoxDisabled'\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.color]=\"model.options.toolbar.fontColor\"\r\n      [attr.title]=\"tooltip\"\r\n      [style.margin]=\"margin\"\r\n      [style.width]=\"width\"\r\n      style=\"box-sizing:content-box\"\r\n      (mouseover)=\"mouseover()\"\r\n      (mouseleave)=\"mouseleave()\"\r\n      (click)=\"click()\">\r\n       <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n             <td style=\"line-height: 0\"\r\n                 [style.padding]=\"model.options.isTouchDevice ? '1px 3px 1px 1px' : ''\"\r\n                 [style.width]=\"imageBlockParentWidth\"\r\n                 class=\"stiJsViewerClearAllStyles\">\r\n                <div [style.width.px]=\"model.options.isTouchDevice ? 16 : 13\"\r\n                     [style.height.px]=\"model.options.isTouchDevice ? 16 : 13\"\r\n                     [class]=\"isEnabled ? (over ? 'stiJsViewerCheckBoxImageBlockOver' : 'stiJsViewerCheckBoxImageBlock') : 'stiJsViewerCheckBoxImageBlockDisabled'\"\r\n                     style=\"box-sizing: content-box\">\r\n                     <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%; height: 100%;\">\r\n                        <tbody>\r\n                          <tr class=\"stiJsViewerClearAllStyles\">\r\n                            <td [style.textAlign]=\"model.options.isTouchDevice ? 'center' : 'right'\"\r\n                                [style.verticalAlign]=\"model.options.isTouchDevice ? 'middle' : 'top'\">\r\n                                <img [src]=\"model.img((indeterminate ? 'CheckBoxIndeterminate' : 'CheckBox') + (styleColors && styleColors.isDarkStyle ? 'White.png' : '.png'))\"\r\n                                    [style.visibility]=\"isChecked ? 'visible' : 'hidden'\"\r\n                                    [style.width.px]=\"indeterminate ? 13 : 12\"\r\n                                    [style.height.px]=\"indeterminate ? 13 : 12\"\r\n                                    [style.opacity]=\"isEnabled ? 1 : 0.5\"\r\n                                    style=\"vertical-align: baseline\"/>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                </div>\r\n             </td>\r\n             <td *ngIf=\"captionText != null\"\r\n                 [style.padding]=\"!model.options.isTouchDevice ? '1px 0 0 4px' : ''\"\r\n                 style=\"white-space: nowrap\">\r\n                 {{captionText}}\r\n             </td>\r\n          </tr>\r\n       </tbody>\r\n    </table>\r\n  `\r\n})\r\n\r\nexport class CheckboxComponent implements OnInit {\r\n\r\n  @Input() isEnabled = true;\r\n  @Input() isChecked = false;\r\n  @Input() indeterminate = false;\r\n  @Input() captionText: string;\r\n  @Input() tooltip: string;\r\n  @Input() margin: string;\r\n  @Input() width: string;\r\n  @Input() styleColors: any;\r\n  @Input() imageBlockParentWidth: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  public over = false;\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  mouseover() {\r\n    this.over = true;\r\n  }\r\n\r\n  mouseleave() {\r\n    this.over = false;\r\n  }\r\n\r\n  click() {\r\n    if (this.isEnabled) {\r\n      this.isChecked = !this.isChecked;\r\n      this.action.emit(this.isChecked);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Variable } from '../../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-checkbox',\r\n  template: `\r\n    <sti-check-box [isEnabled]=\"isEnabled\"\r\n                   [isChecked]=\"checked\"\r\n                   [captionText]=\"captionText\"\r\n                   [margin]=\"margin\"\r\n                   [width]=\"width\"\r\n                   [imageBlockParentWidth]=\"imageBlockParentWidth\"\r\n                   (action)=\"onAction($event)\">\r\n    </sti-check-box>\r\n    `\r\n})\r\n\r\nexport class ParameterCheckboxComponent implements OnInit {\r\n\r\n  @Input() params: Variable;\r\n  @Input() captionText: string;\r\n  @Input() margin: string;\r\n  @Input() width: string;\r\n  @Input() imageBlockParentWidth: string;\r\n  @Input() isEnabled = true;\r\n  @Input() isMenuParameter = false;\r\n  @Input() nullable = false;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onAction(checked: boolean) {\r\n    this.action.emit(checked);\r\n  }\r\n\r\n  get checked(): boolean {\r\n    if (this.nullable) {\r\n      return this.params.isNull;\r\n    } else {\r\n      return this.isMenuParameter ? this.params.isChecked : (typeof (this.params.value) === 'boolean' && this.params.value) || this.params.value === 'true' || this.params.value === 'True';\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Variable } from '../../services/objects';\r\nimport { ModelService } from '../../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-button',\r\n  template: `\r\n    <sti-button [imageName]=\"buttonType + '.png'\"\r\n        [styleName]=\"'stiJsViewerFormButton'\"\r\n        [height]=\"model.options.isTouchDevice ? '26px' : '21px'\"\r\n        [innerTableWidth]=\"'100%'\"\r\n        [enabled]=\"!params?.isNull\"\r\n        (action)=\"onaction()\">\r\n    </sti-button>\r\n  `\r\n})\r\n\r\nexport class ParameterButtonComponent implements OnInit {\r\n\r\n  @Input() params: Variable;\r\n  @Input() buttonType: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onaction() {\r\n    this.action.emit(this.params);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MenuItem } from './meni-item.component';\r\nimport { Menu, MenuService } from './menu.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Variable } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-edit-list',\r\n  template: `\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n        [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n        [style.color]=\"model.options.toolbar.fontColor\"\r\n        [style.fontSize]=\"'12px'\"\r\n        [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <!--New Item Button -->\r\n                <sti-parameter-menu-item (action)=\"newItem($event)\">\r\n                  {{model.loc('NewItem')}}\r\n                </sti-parameter-menu-item>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-parameter-menu-item *ngFor=\"let item of menu.params.items\" [active]=\"false\">\r\n                  <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n                    <tbody>\r\n                      <tr class=\"stiJsViewerClearAllStyles\">\r\n                         <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0px 1px 0px 0px;\">\r\n                            <sti-parameter-text-box [item]=\"item\" [isMenu]=\"true\"\r\n                              [variable]=\"menu.params\" [focusOnCreate]=\"item.focusOnCreate\">\r\n                            </sti-parameter-text-box>\r\n                         </td>\r\n\r\n                         <td *ngIf=\"menu.params.type == 'DateTime'\" class=\"stiJsViewerClearAllStyles\" style=\"padding: 0 1px 0 1px;\" #dateTimeButton>\r\n                           <sti-parameter-button [buttonType]=\"'DateTimeButton'\" (action)=\"dateTimeButtonAction(item)\">\r\n                           </sti-parameter-button>\r\n                         </td>\r\n\r\n                         <td *ngIf=\"menu.params.type == 'Guid'\" class=\"stiJsViewerClearAllStyles\" style=\"padding: 0 1px 0 1px;\">\r\n                           <sti-parameter-button [buttonType]=\"'GuidButton'\" (action)=\"guidButtonAction(item)\">\r\n                           </sti-parameter-button>\r\n                         </td>\r\n\r\n                         <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0 1px 0 1px;\">\r\n                           <sti-parameter-button [buttonType]=\"'RemoveItemButton'\" (action)=\"removeButtonAction(item)\" [params]=\"item\">\r\n                           </sti-parameter-button>\r\n                         </td>\r\n                       </tr>\r\n                     </tbody>\r\n                  </table>\r\n                </sti-parameter-menu-item>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-item (action)=\"removeAllAction()\">\r\n                      {{model.loc('RemoveAll')}}\r\n                  </sti-parameter-menu-item>\r\n\r\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\r\n\r\n                  <sti-parameter-menu-item (action)=\"closeAction()\">\r\n                      {{model.loc('Close')}}\r\n                  </sti-parameter-menu-item>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuEditListComponent implements OnInit {\r\n\r\n  @ViewChild('dateTimeButton') dateTimeButton: ElementRef;\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public menuService: MenuService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  newItem(event: any) {\r\n    const item: any = new Variable();\r\n    if (this.menu.params.type === 'DateTime') {\r\n      item.key = this.helper.getDateTimeObject();\r\n      item.value = this.helper.dateTimeObjectToString(item.key);\r\n    } else if (this.menu.params.type === 'TimeSpan') {\r\n      item.key = '00:00:00';\r\n      item.value = '00:00:00';\r\n    } else if (this.menu.params.type === 'Bool') {\r\n      item.key = 'False';\r\n      item.value = 'False';\r\n    } else {\r\n      item.key = '';\r\n      item.value = '';\r\n    }\r\n    item.focusOnCreate = true;\r\n    if (!this.menu.params.items) {\r\n      this.menu.params.items = [];\r\n    }\r\n    this.menu.params.items.push(item);\r\n    setTimeout(() => {\r\n      item.focusOnCreate = false;\r\n    });\r\n  }\r\n\r\n  dateTimeButtonAction(item: Variable) {\r\n    this.menuService.addMenu({\r\n      type: 'datePickerMenu', name: 'datePickerMenu', items: [], parent: this.dateTimeButton,\r\n      params: item\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu('datePickerMenu');\r\n    });\r\n  }\r\n\r\n  guidButtonAction(item: Variable) {\r\n    item.key = this.helper.newGuid();\r\n  }\r\n\r\n  removeButtonAction(item: Variable) {\r\n    this.menu.params.items.splice(this.menu.params.items.indexOf(item), 1);\r\n  }\r\n\r\n  removeAllAction() {\r\n    this.menu.params.items.splice(0, this.menu.params.items.length);\r\n  }\r\n\r\n  closeAction() {\r\n    this.menu.state = 'initialDown';\r\n  }\r\n}\r\n","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-item',\r\n  template: `\r\n      <div [class]=\"className\"\r\n        [style.height.px]=\"model.options.isTouchDevice ? 30 : 24\"\r\n        (mouseover)=\"mouseover()\"\r\n        (mouseout)=\"mouseout()\"\r\n        (mousedown)=\"mousedown()\"\r\n        (mouseup)=\"mouseup()\">\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuItemInnerTable\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" [style.padding]=\"padding\">\r\n                <ng-content>\r\n                </ng-content>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuItemComponent implements OnInit {\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Input() active = true;\r\n  @Input() padding = '0px 5px';\r\n\r\n  isOver = false;\r\n  mouseDown = false;\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  mouseover() {\r\n    this.isOver = true;\r\n  }\r\n\r\n  mouseout() {\r\n    this.isOver = false;\r\n    this.mouseDown = false;\r\n  }\r\n\r\n  mousedown() {\r\n    this.mouseDown = true;\r\n  }\r\n\r\n  mouseup() {\r\n    this.mouseDown = false;\r\n    this.action.emit();\r\n  }\r\n\r\n  get className(): string {\r\n    return this.active ? this.mouseDown ? 'stiJsViewerParametersMenuItemPressed' : (this.isOver ? 'stiJsViewerParametersMenuItemOver' : 'stiJsViewerParametersMenuItem') : 'stiJsViewerParametersMenuItem';\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-separator',\r\n  template: `\r\n        <div class=\"stiJsViewerParametersMenuSeparator\">\r\n        </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuSeparatorComponent implements OnInit {\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../../services/model.service';\r\nimport { Variable } from '../../services/objects';\r\nimport { HelperService } from '../../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-find',\r\n  template: `\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 8px;\">\r\n                <sti-text-block [text]=\"model.loc('FindWhat')\"></sti-text-block>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 8px;\">\r\n                <sti-text-box [width]=\"80\"\r\n                  [margin]=\"'4px'\"\r\n                  [focusOnCreate]=\"true\"\r\n                  (onchange)=\"onchange($event)\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n      </table>\r\n\r\n  `\r\n})\r\n\r\nexport class ParameterFindComponent implements OnInit {\r\n\r\n  @Input() variable: Variable;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  onchange(event: any) {\r\n    const text = event.value.toLowerCase();\r\n    this.variable.items.forEach((item) => {\r\n      const itemText = this.helper.val(item.value, this.helper.getStringKey(item.key, this.variable)).toLowerCase();\r\n      item.visible = itemText.indexOf(text) >= 0;\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Menu } from './menu.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Variable } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-not-edit-list',\r\n  template: `\r\n      <sti-parameter-find *ngIf=\"menu.params.items.length > 10\" [variable]=\"menu.params\"></sti-parameter-find>\r\n\r\n      <sti-parameter-menu-separator *ngIf=\"menu.params.items.length > 10\"></sti-parameter-menu-separator>\r\n\r\n      <div style=\"max-height: 400px; overflow: hidden auto;\">\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n          [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n          [style.color]=\"model.options.toolbar.fontColor\"\r\n          [style.fontSize]=\"'12px'\"\r\n          [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\r\n            <tbody>\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-check-box [captionText]=\"model.loc('SelectAll')\"\r\n                    [margin]=\"'8px 7px 8px 7px'\"\r\n                    [isChecked]=\"isAllSelected()\"\r\n                    (action)=\"selectAll()\" >\r\n                  </sti-check-box>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr *ngFor=\"let item of menu.params.items\" class=\"stiJsViewerClearAllStyles\" [style.display]=\"item.visible ? '' : 'none'\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-item>\r\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%\">\r\n                          <tbody>\r\n                            <tr class=\"stiJsViewerClearAllStyles\">\r\n                              <td class=\"stiJsViewerClearAllStyles\">\r\n                                  <sti-parameter-checkbox [params]=\"item\"\r\n                                      [captionText]=\"helper.val(item.value, helper.getStringKey(item.key, menu.params))\"\r\n                                      [margin]=\"'0 5px 0 0'\"\r\n                                      [width]=\"'100%'\"\r\n                                      [imageBlockParentWidth]=\"'1px'\"\r\n                                      [isMenuParameter]=\"true\"\r\n                                      (action)=\"check(item)\">\r\n                                  </sti-parameter-checkbox>\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                      </table>\r\n                  </sti-parameter-menu-item>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\r\n                </td>\r\n              </tr>\r\n\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                    <sti-parameter-menu-item [padding]=\"'0px 5px 0px 13px'\" (action)=\"closeAction()\">\r\n                      {{model.loc('Close')}}\r\n                    </sti-parameter-menu-item>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuNotEditListComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  selectAll() {\r\n    const isAllSelected = this.isAllSelected();\r\n    if (this.menu.params.items) {\r\n      this.menu.params.items.forEach(e => e.isChecked = !isAllSelected);\r\n    }\r\n  }\r\n\r\n  isAllSelected() {\r\n    return this.menu.params.items.every(e => e.isChecked);\r\n  }\r\n\r\n  check(item: Variable) {\r\n    item.isChecked = !item.isChecked;\r\n  }\r\n\r\n  closeAction() {\r\n    this.menu.state = 'initialDown';\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Menu } from './menu.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Variable } from '../services/objects';\r\nimport { InteractionsService } from '../services/interactions.service';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-for-value',\r\n  template: `\r\n      <sti-parameter-find *ngIf=\"menu.params.items.length > 10\" [variable]=\"menu.params\"></sti-parameter-find>\r\n\r\n      <sti-parameter-menu-separator *ngIf=\"menu.params.items.length > 10\"></sti-parameter-menu-separator>\r\n\r\n      <div style=\"max-height: 400px\" [style.overflow]=\"menu.params.items.length > 10 ? 'hidden auto' : 'hidden'\">\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n          [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n          [style.color]=\"model.options.toolbar.fontColor\"\r\n          [style.fontSize]=\"'12px'\"\r\n          [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\r\n            <tbody>\r\n              <tr *ngFor=\"let item of menu.params.items\" class=\"stiJsViewerClearAllStyles\" [style.display]=\"item.visible ? '' : 'none'\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-item>\r\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%\">\r\n                          <tbody>\r\n                            <tr class=\"stiJsViewerClearAllStyles\">\r\n                              <td class=\"stiJsViewerClearAllStyles\">\r\n                                  <sti-parameter-menu-item (action)=\"action(item)\">\r\n                                    {{getValue(item)}}\r\n                                  </sti-parameter-menu-item>\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                      </table>\r\n                  </sti-parameter-menu-item>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuForValueComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public intearctionService: InteractionsService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  action(item: Variable) {\r\n    this.menu.params.value = this.menu.params.key = item.key;\r\n    this.menu.state = 'initialDown';\r\n\r\n    if (this.menu.params.binding) {\r\n      if (!this.model.options.paramsVariablesStartValues) {\r\n        this.model.options.paramsVariablesStartValues = this.helper.copyObject(this.model.options.paramsVariables);\r\n      }\r\n\r\n      this.intearctionService.postInteraction({ action: 'InitVars', variables: this.intearctionService.getParametersValues() });\r\n    }\r\n\r\n  }\r\n\r\n  getValue(item: Variable) {\r\n    return (item.value !== '' && this.menu.params.type !== 'DateTime' && this.menu.params.type !== 'TimeSpan')\r\n      ? item.value\r\n      : this.helper.getStringKey(item.key, this.menu.params);\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Menu } from './menu.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Variable } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-parameter-menu-for-range',\r\n  template: `\r\n      <sti-parameter-find *ngIf=\"menu.params.items.length > 10\" [variable]=\"menu.params\"></sti-parameter-find>\r\n\r\n      <sti-parameter-menu-separator *ngIf=\"menu.params.items.length > 10\"></sti-parameter-menu-separator>\r\n\r\n      <div style=\"max-height: 400px\" [style.overflow]=\"menu.params.items.length > 10 ? 'hidden auto' : 'hidden'\">\r\n        <table class=\"stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n          [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n          [style.color]=\"model.options.toolbar.fontColor\"\r\n          [style.fontSize]=\"'12px'\"\r\n          [style.width]=\"(menu.parent.nativeElement.offsetWidth - 5) + 'px'\">\r\n            <tbody>\r\n              <tr *ngFor=\"let item of menu.params.items\" class=\"stiJsViewerClearAllStyles\" [style.display]=\"item.visible ? '' : 'none'\">\r\n                <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-parameter-menu-item>\r\n                      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%\">\r\n                          <tbody>\r\n                            <tr class=\"stiJsViewerClearAllStyles\">\r\n                              <td class=\"stiJsViewerClearAllStyles\">\r\n                                  <sti-parameter-menu-item (action)=\"action(item)\">\r\n                                    {{getValue(item)}}\r\n                                  </sti-parameter-menu-item>\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                      </table>\r\n                  </sti-parameter-menu-item>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n      </div>\r\n  `\r\n})\r\n\r\nexport class ParameterMenuForRangeComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  action(item: Variable) {\r\n    this.menu.params.key = item.key;\r\n    this.menu.params.keyTo = item.keyTo;\r\n    this.menu.state = 'initialDown';\r\n  }\r\n\r\n  getValue(item: Variable) {\r\n    return `${item.value} [${this.helper.getStringKey(item.key, this.menu.params)} - ${this.helper.getStringKey(item.keyTo, this.menu.params)}]`;\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { Menu } from './menu.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { Item, DateTimeObject } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-date-picker-menu',\r\n  template: `\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-button [imageName]=\"'Arrows.BigArrowLeft.png'\" [margin]=\"'1px 2px 0 1px'\" (action)=\"prevMonthButtonAction()\">\r\n                </sti-button>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-drop-down-list\r\n                  [width]=\"model.options.isTouchDevice ? 79 : 81\"\r\n                  [readOnly]=\"true\"\r\n                  [margin]=\"'1px 2px 0 0'\"\r\n                  [items]=\"monthesForDatePickerItems\"\r\n                  [key]=\"key.month - 1\"\r\n                  (action)=\"key.month = $event.key + 1\">\r\n                </sti-drop-down-list>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-text-box [width]=\"40\" [margin]=\"'1px 2px 0 0'\" [value]=\"key.year\" (action)=\"yearAction($event)\">\r\n                </sti-text-box>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-button [imageName]=\"'Arrows.BigArrowRight.png'\" [margin]=\"'1px 1px 0 0'\" (action)=\"nextMonthButtonAction()\">\r\n                </sti-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"stiJsViewerDatePickerSeparator\" style=\"margin: 2px 0px;\"></div>\r\n\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td *ngFor=\"let item of model.dayOfWeek; let i = index\" class=\"stiJsViewerDatePickerDayOfWeekCell\"\r\n                  [style.fontSize]=\"countLetters == 2 ? '11px' : ''\"\r\n                  [style.color]=\"getShortDayColor(i)\">\r\n                  {{getShortDayName(i)}}\r\n              </td>\r\n            </tr>\r\n            <tr *ngFor=\"let row of rows\" class=\"stiJsViewerClearAllStyles\">\r\n                <td *ngFor=\"let col of cols\" class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-date-picker-day-button\r\n                      [col]=\"col\"\r\n                      [row]=\"row\"\r\n                      [date]=\"key\"\r\n                      [selected]=\"getButtonSelected(col, row)\"\r\n                      [caption]=\"getButtonCaption(col, row)\"\r\n                      [enabled]=\"getButtonCaption(col, row) != ''\">\r\n                      [closeOnAction]=\"closeOnAction\"\r\n                  </sti-date-picker-day-button>\r\n                </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <div *ngIf=\"showTime\" class=\"stiJsViewerDatePickerSeparator\" style=\"margin: 2px 0px;\"></div>\r\n        <table *ngIf=\"showTime\" class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0 4px 0 4px; white-space: nowrap;\">\r\n                {{this.model.loc('Time') + ':'}}\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"text-align: right;\">\r\n                <sti-text-box [width]=\"90\"\r\n                    [margin]=\"'1px 2px 2px 2px'\"\r\n                    [value]=\"getTime()\"\r\n                    (action)=\"timeAction($event)\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  `\r\n})\r\n\r\nexport class DatePickerMenuComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n  @Input() keyTo = false;\r\n  @Input() closeOnAction = true;\r\n\r\n  public monthesForDatePickerItems: Item[] = [];\r\n  public countLetters: number;\r\n  public cols = [0, 1, 2, 3, 4, 5, 6];\r\n  public rows = [0, 1, 2, 3, 4, 5];\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) {\r\n    this.model.months.forEach((m, i) => this.monthesForDatePickerItems.push({ name: 'Month' + i, caption: this.model.loc('Month' + m), key: i }));\r\n\r\n    const firstLetters = {};\r\n    this.model.dayOfWeek.forEach((d) => {\r\n      const dayName = this.model.loc('Day' + d);\r\n      firstLetters[dayName.toString().substring(0, 1).toUpperCase()] = true;\r\n    });\r\n    this.countLetters = Object.keys(firstLetters).length < 5 ? 2 : 1;\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  getButtonSelected(col: number, row: number): boolean {\r\n    const firstDay = this.getFirstDay();\r\n    const curDay = row * 7 + col;\r\n    const day = curDay - firstDay + 1;\r\n\r\n    return day === this.key.day;\r\n  }\r\n\r\n  getButtonCaption(col: number, row: number): string {\r\n    const firstDay = this.getFirstDay();\r\n    const daysInMonth = this.helper.getCountDaysOfMonth(this.key.year, this.key.month - 1);\r\n    const curDay = row * 7 + col;\r\n    const day = curDay - firstDay + 1;\r\n    if (curDay >= firstDay && day <= daysInMonth) {\r\n      return day.toString();\r\n    }\r\n    return '';\r\n  }\r\n\r\n\r\n  getTime(): string {\r\n    return this.helper.formatDate(this.helper.getDate(this.key), 'H:mm:ss');\r\n  }\r\n\r\n  getFirstDay(): number {\r\n    let firstDay = new Date(this.key.year, this.key.month - 1, 1).getDay();\r\n    if (firstDay === 0) {\r\n      firstDay = 7;\r\n    }\r\n    if (this.model.options.appearance.datePickerFirstDayOfWeek !== 'Sunday') {\r\n      firstDay--;\r\n    }\r\n    return firstDay;\r\n  }\r\n\r\n  get showTime(): boolean {\r\n    return this.menu?.params?.dateTimeType !== 'Date';\r\n  }\r\n\r\n  get key(): DateTimeObject {\r\n    return this.keyTo ? this.menu.params.keyTo : this.menu.params.key;\r\n  }\r\n\r\n  yearAction(input: any) {\r\n    try {\r\n      this.key.year = parseInt(input.value, 10);\r\n    } catch { }\r\n  }\r\n\r\n  timeAction(input: any) {\r\n    const time = this.helper.stringToTime(input.value);\r\n    this.key.seconds = time.seconds;\r\n    this.key.minutes = time.minutes;\r\n    this.key.hours = time.hours;\r\n  }\r\n\r\n  getShortDayName(index: number): string {\r\n    const dayName = this.model.loc('Day' + this.model.dayOfWeek[index]);\r\n    if (dayName) {\r\n      return dayName.toString().substring(0, this.countLetters <= dayName.length ? this.countLetters : 1).toUpperCase();\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getShortDayColor(index: number): string {\r\n    if (index === (this.model.options.appearance.datePickerFirstDayOfWeek === 'Sunday' ? 6 : 5)) {\r\n      return '#0000ff';\r\n    }\r\n\r\n    if (index === (this.model.options.appearance.datePickerFirstDayOfWeek === 'Sunday' ? 0 : 6)) {\r\n      return '#ff0000';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  prevMonthButtonAction() {\r\n    let month = this.key.month;\r\n    let year = this.key.year;\r\n    month--;\r\n    if (month === 0) {\r\n      month = 12;\r\n      year--;\r\n    }\r\n    const countDaysInMonth = this.helper.getCountDaysOfMonth(year, month - 1);\r\n    if (countDaysInMonth < this.key.day) {\r\n      this.key.day = countDaysInMonth;\r\n    }\r\n    this.key.month = month;\r\n    this.key.year = year;\r\n  }\r\n\r\n  nextMonthButtonAction() {\r\n    let month = this.key.month;\r\n    let year = this.key.year;\r\n    month++;\r\n    if (month === 13) {\r\n      month = 1;\r\n      year++;\r\n    }\r\n    const countDaysInMonth = this.helper.getCountDaysOfMonth(year, month - 1);\r\n    if (countDaysInMonth < this.key.day) {\r\n      this.key.day = countDaysInMonth;\r\n    }\r\n    this.key.month = month;\r\n    this.key.year = year;\r\n  }\r\n\r\n\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { Item } from '../services/objects';\r\nimport { MouseService } from '../services/mouse.service';\r\nimport { MenuService } from '../menu/menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-drop-down-list',\r\n  template: `\r\n        <table #element [class]=\"className\" cellpadding=\"0\" cellspacing=\"0\"\r\n              [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n              [style.color]=\"model.options.toolbar.fontColor\"\r\n              [style.margin]=\"margin\"\r\n              [style.verticalAlign]=\"verticalAlign\"\r\n              [style.display]=\"styleDisplay\"\r\n              [attr.title]=\"toolTip\"\r\n              (mouseover)=\"mouseover()\"\r\n              (mouseout)=\"mouseout()\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <input #input\r\n                [style.width.px]=\"width - (model.options.isTouchDevice ? 23 : 15) - (showImage ? 38 : 0)\"\r\n                [style.border]=\"0\"\r\n                [style.cursor]=\"readOnly ? 'default' : 'text'\"\r\n                [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n                [style.color]=\"model.options.toolbar.fontColor\"\r\n                [style.height]=\"model.options.isTouchDevice ? '23px' : '18px'\"\r\n                [style.lineHeight]=\"model.options.isTouchDevice ? '23px' : '18px'\"\r\n                [style.visibility]=\"enabled ? 'visible' : 'hidden'\"\r\n                [value]=\"inputValue\"\r\n                (click)=\"inputClick()\"\r\n                class=\"stiJsViewerDropDownList_TextBox\">\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-button [imageName]=\"'Arrows.' + (model.options.isTouchDevice ? 'Big' : 'Small') + 'ArrowDown.png'\"\r\n                     [styleName]=\"'stiJsViewerDropDownListButton'\"\r\n                     [imageSizesWidth]=\"model.options.isTouchDevice ? 16 : 8\"\r\n                     [imageSizesHeight]=\"model.options.isTouchDevice ? 16 : 8\"\r\n                     [height]=\"model.options.isTouchDevice ? '26px' : '21px'\"\r\n                     [enabled]=\"enabled\"\r\n                     [selected]=\"selected\"\r\n                     [margin]=\"'0'\"\r\n                     (action)=\"showListMenu()\">\r\n                  </sti-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n  `\r\n})\r\n\r\nexport class DropDownListComponent implements OnInit {\r\n\r\n  @ViewChild('input') input: ElementRef;\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  @Input() toolTip: string;\r\n  @Input() showImage = false;\r\n  @Input() width: number;\r\n  @Input() margin: string;\r\n  @Input() items: Item[];\r\n  @Input() styleDisplay: string;\r\n  @Input() verticalAlign: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  over = false;\r\n  private _readOnly = false;\r\n  private _enabled = true;\r\n  private _key: any;\r\n\r\n  constructor(public model: ModelService, public mouseService: MouseService, public menuService: MenuService) {\r\n    this.mouseService.getDocumentMouseUp().subscribe(() => {\r\n      this.hideListMenu();\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  set readOnly(value: boolean) {\r\n    this._readOnly = value;\r\n    setTimeout(() => {\r\n      try {\r\n        this.input.nativeElement.setAttribute('unselectable', value ? 'on' : 'off');\r\n        this.input.nativeElement.setAttribute('onselectstart', value ? 'return false' : '');\r\n        this.input.nativeElement.readOnly = value;\r\n      } catch (e) { }\r\n    });\r\n  }\r\n\r\n  @Input() get readOnly(): boolean {\r\n    return this._readOnly;\r\n  }\r\n\r\n  @Input() get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(value: boolean) {\r\n    if (!value) {\r\n      this.over = false;\r\n    }\r\n    this._enabled = value;\r\n  }\r\n\r\n  @Input() get key(): any {\r\n    return this._key;\r\n  }\r\n\r\n  set key(key: any) {\r\n    if (this.items != null) {\r\n      this.items.forEach(i => i.selected = i.key === key);\r\n    }\r\n    this._key = key;\r\n  }\r\n\r\n  get inputValue(): string {\r\n    if (this.items != null) {\r\n      return this.items.find(i => i.key === this._key)?.caption || '';\r\n    }\r\n    return '';\r\n  }\r\n\r\n  get selected(): boolean {\r\n    const vm = this.menuService.getVerticalMenu();\r\n    return vm?.state === 'expanded' && vm?.parent === this.element;\r\n  }\r\n\r\n  get className(): string {\r\n    return this.selected ? 'stiJsViewerDropDownListOver' : (this.enabled ? (this.over ? 'stiJsViewerDropDownListOver' : 'stiJsViewerDropDownList') : 'stiJsViewerDropDownListDisabled');\r\n  }\r\n\r\n  mouseover() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n  }\r\n\r\n  inputClick() {\r\n    if (this.readOnly) {\r\n      this.showListMenu();\r\n    }\r\n  }\r\n\r\n  showListMenu() {\r\n    this.menuService.addMenu({\r\n      type: this.menuService.VERTICAL_MENU_NAME, name: this.menuService.VERTICAL_MENU_NAME, items: [], parent: this.element,\r\n      verticalItems: this.items, itemStyleName: 'stiJsViewerMenuStandartItem', menuStyleName: 'stiJsViewerDropdownMenu',\r\n      action: this.action, width: this.element.nativeElement.offsetWidth\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu(this.menuService.VERTICAL_MENU_NAME);\r\n    });\r\n  }\r\n\r\n  hideListMenu() {\r\n    if (this.menuService.getVerticalMenu()) {\r\n      this.menuService.getVerticalMenu().state = 'initialDown';\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Item } from '../services/objects';\r\nimport { Menu } from './menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-vertical-menu',\r\n  template: `\r\n    <sti-vertical-menu-item *ngFor=\"let item of menu.verticalItems\" [item]=\"item\" [styleName]=\"menu.itemStyleName\" (action)=\"action(item)\">\r\n    </sti-vertical-menu-item>\r\n  `\r\n})\r\n\r\nexport class VerticalMenuComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  action(item: Item) {\r\n    this.menu?.action?.emit(item);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { Item } from '../services/objects';\r\nimport { MenuService } from './menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-vertical-menu-item',\r\n  template: `\r\n    <div [style.height]=\"item?.type == 'DigitalSignature' ? 'auto' :(model.options.isMobileDevice ? '0.4in' : (model.options.isTouchDevice ? '30px' : '24px'))\"\r\n         [class]=\"className\"\r\n         [style.width]=\"item?.type == 'DigitalSignature' ? '100%' :  menuService.getVerticalMenu().width + 'px'\"\r\n         [style.lineHeight]=\"item?.type == 'DigitalSignature' ? 1.3 : null\"\r\n         (mouseover)=\"mouseover()\"\r\n         (mouseout)=\"mouseout()\"\r\n         (click)=\"click()\">\r\n         <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%; width: 100%\">\r\n            <tbody>\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                 <td *ngIf=\"item?.imageName != null && !model.options.appearance.rightToLeft\"\r\n                     style=\"width:22px; min-width = 22px; padding: 0; textAlign: center; lineHeight: 0\"\r\n                     class=\"stiJsViewerClearAllStyles\">\r\n                     <img [style.width.px]=\"(imageSizesWidth ? imageSizesWidth : (isSmallItem ? 16 : 32))\"\r\n                          [style.height.px]=\"(imageSizesHeight ? imageSizesHeight : (isSmallItem ? 16 : 32))\"\r\n                          [src]=\"model.img(item?.imageName)\"\r\n                          [style.visible]=\"model.img(item?.imageName) === '' ? 'none' : ''\" />\r\n                </td>\r\n\r\n                <td *ngIf=\"item?.caption != null && !model.options.appearance.rightToLeft && item?.type != 'DigitalSignature'\"\r\n                     style=\"padding: 0px 20px 0px 7px; text-align: left; white-space: nowrap;\"\r\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\r\n                     class=\"stiJsViewerClearAllStyles\">\r\n                     {{item?.caption}}\r\n                </td>\r\n\r\n                <td *ngIf=\"item?.caption != null && !model.options.appearance.rightToLeft && item?.type == 'DigitalSignature'\"\r\n                     style=\"padding: 8px 20px 8px 8px ; text-align: left; white-space: nowrap;\"\r\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\r\n                     class=\"stiJsViewerClearAllStyles\" [innerHtml]=\"item?.caption\">\r\n                </td>\r\n\r\n                <!-- right-to-left -->\r\n                <td *ngIf=\"item?.caption != null && model.options.appearance.rightToLeft && item?.type == 'DigitalSignature'\"\r\n                     style=\"padding: 8px 20px 8px 8px; text-align: right; white-space: nowrap;\"\r\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\r\n                     class=\"stiJsViewerClearAllStyles\" [innerHtml]=\"item?.caption\">\r\n                </td>\r\n\r\n                <td *ngIf=\"item?.caption != null && model.options.appearance.rightToLeft && item?.type != 'DigitalSignature'\"\r\n                     style=\"padding: 0 7px 0 20px; text-align: right; white-space: nowrap;\"\r\n                     [style.fontSize]=\"model.options.isMobileDevice ? '0.16in' : ''\"\r\n                     class=\"stiJsViewerClearAllStyles\">\r\n                     {{item?.caption}}\r\n                </td>\r\n\r\n                <td *ngIf=\"item?.imageName != null && model.options.appearance.rightToLeft\"\r\n                     style=\"width:22px; min-width = 22px; padding: 0; textAlign: center; lineHeight: 0\"\r\n                     class=\"stiJsViewerClearAllStyles\">\r\n                     <img [style.width.px]=\"(imageSizesWidth ? imageSizesWidth : (isSmallItem ? 16 : 32))\"\r\n                          [style.height.px]=\"(imageSizesHeight ? imageSizesHeight : (isSmallItem ? 16 : 32))\"\r\n                          [src]=\"model.img(item?.imageName)\"\r\n                          [style.visible]=\"model.img(item?.imageName) === '' ? 'none' : ''\" />\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class VerticalMenuItemComponent implements OnInit {\r\n\r\n  @Input() styleName = 'stiJsViewerMenuStandartItem';\r\n  @Input() item: Item;\r\n  @Input() imageSizesWidth: number;\r\n  @Input() imageSizesHeight: number;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  over = false;\r\n  private _enabled = true;\r\n\r\n  constructor(public model: ModelService, public menuService: MenuService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  @Input() get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n\r\n  set enabled(value: boolean) {\r\n    if (!value) {\r\n      this.over = false;\r\n    }\r\n    this._enabled = value;\r\n  }\r\n\r\n  get className(): string {\r\n    return this.styleName ? this.styleName + ' ' + (this.enabled ? (this.styleName + (this.over ? 'Over' : (this.item?.selected ? 'Selected' : 'Default'))) : this.styleName + 'Disabled') : '';\r\n  }\r\n\r\n  mouseover() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n  }\r\n\r\n  click() {\r\n    if (this._enabled) {\r\n      this.action.emit(this.item);\r\n    }\r\n  }\r\n\r\n  get isSmallItem(): boolean {\r\n    return this.styleName && this.styleName.indexOf('MenuStandartItem') >= 0;\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { DateTimeObject } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { MenuService } from '../menu/menu.service';\r\n\r\n@Component({\r\n  selector: 'sti-date-picker-day-button',\r\n  template: `\r\n    <sti-button [styleName]=\"'stiJsViewerDatePickerDayButton'\"\r\n                [width]=\"model.options.isTouchDevice ? '25px' : '23px'\"\r\n                [height]=\"model.options.isTouchDevice ? '25px' : '23px'\"\r\n                [captionAlign]=\"'center'\"\r\n                [innerTableWidth]=\"'100%'\"\r\n                [captionPadding]=\"'0px'\"\r\n                [margin]=\"'1px'\"\r\n                [caption]=\"caption\"\r\n                [enabled]=\"enabled\"\r\n                [selected]=\"selected\"\r\n                (action)=\"action()\">\r\n    </sti-button>\r\n  `\r\n})\r\n\r\nexport class DatePickerDayButtonComponent implements OnInit {\r\n\r\n  @Input() col: number;\r\n  @Input() row: number;\r\n  @Input() caption = '';\r\n  @Input() enabled = false;\r\n  @Input() selected = false;\r\n  @Input() date: DateTimeObject;\r\n  @Input() closeOnAction = true;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public menuService: MenuService) { }\r\n\r\n  action() {\r\n    this.date.day = this.row * 7 + this.col - this.getFirstDay() + 1;\r\n    if (this.closeOnAction && this.menuService.getMenu('datePickerMenu') != null) {\r\n      this.menuService.getMenu('datePickerMenu').state = 'initialUp';\r\n    }\r\n  }\r\n\r\n  getFirstDay(): number {\r\n    let firstDay = new Date(this.date.year, this.date.month - 1, 1).getDay();\r\n    if (firstDay === 0) {\r\n      firstDay = 7;\r\n    }\r\n    if (this.model.options.appearance.datePickerFirstDayOfWeek !== 'Sunday') {\r\n      firstDay--;\r\n    }\r\n    return firstDay;\r\n  }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Menu } from './menu.service';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-double-date-picker-menu',\r\n  template: `\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 4px; border: 1px dotted rgb(198, 198, 198);\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"vertical-align: top;\">\r\n                  <div style=\"margin:4px\">\r\n                    <sti-date-picker-menu [menu]=\"menu\" [closeOnAction]=\"false\">\r\n                    </sti-date-picker-menu>\r\n                  </div>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"border-left: 1px dotted rgb(198, 198, 198); vertical-align: top;\">\r\n                  <div style=\"margin:4px\">\r\n                    <sti-date-picker-menu [menu]=\"menu\" [keyTo]=\"true\" [closeOnAction]=\"false\">\r\n                    </sti-date-picker-menu>\r\n                  </div>\r\n              </td>\r\n\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"border-left: 1px dotted rgb(198, 198, 198); vertical-align: top;\">\r\n                <div style=\"width: 150px; overflow: auto; margin: 4px;\" [style.height.px]=\"showTime ? 250 : 220\">\r\n                    <ng-container *ngFor=\"let item of model.dateRanges\">\r\n                        <sti-button [caption]=\"model.loc(item)\" (action)=\"getValuesByDateRangeName(item)\">\r\n                        </sti-button>\r\n\r\n                        <div *ngIf=\"item=='Yesterday' || item=='PreviousWeek' || item=='PreviousMonth' || item=='PreviousQuarter' || item=='PreviousYear' || item=='FourthQuarter' || item=='Last30Days'\"\r\n                            class=\"stiJsViewerVerticalMenuSeparator\" style=\"margin:2px\"></div>\r\n                    </ng-container>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n      </table>\r\n  `\r\n})\r\n\r\nexport class DoubleDatePickerMenuComponent implements OnInit {\r\n\r\n  @Input() menu: Menu;\r\n\r\n  constructor(public model: ModelService, public helper: HelperService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  get showTime(): boolean {\r\n    return this.menu?.params?.dateTimeType !== 'Date';\r\n  }\r\n\r\n  setTimeInterval(firstDate: Date, secondDate: Date) {\r\n    firstDate.setHours(0);\r\n    firstDate.setMinutes(0);\r\n    firstDate.setSeconds(0);\r\n    secondDate.setHours(23);\r\n    secondDate.setMinutes(59);\r\n    secondDate.setSeconds(59);\r\n  }\r\n\r\n  getFirstDayOfWeek() {\r\n    const date = new Date();\r\n    const timeString = date.toLocaleTimeString();\r\n    return (timeString.toLowerCase().indexOf('am') >= 0 || timeString.toLowerCase().indexOf('pm') >= 0 ? 0 : 1);\r\n  }\r\n\r\n  getWeekInterval(now: Date) {\r\n    const startDay = this.getFirstDayOfWeek();\r\n    let dayWeek = startDay === 0 ? now.getDay() : now.getDay() - 1;\r\n    if (dayWeek < 0) { dayWeek = 6; }\r\n    const values = [new Date(now.valueOf() - dayWeek * 86400000)];\r\n    values.push(new Date(values[0].valueOf() + 6 * 86400000));\r\n    this.setTimeInterval(values[0], values[1]);\r\n\r\n    return values;\r\n  }\r\n\r\n\r\n  getValuesByDateRangeName(item: string) {\r\n    const now = new Date();\r\n    let values = [new Date(), new Date()];\r\n\r\n    switch (item) {\r\n      case 'CurrentMonth': {\r\n        values[0].setDate(1);\r\n        values[1].setDate(this.helper.getCountDaysOfMonth(now.getFullYear(), now.getMonth()));\r\n        break;\r\n      }\r\n      case 'CurrentQuarter': {\r\n        const firstMonth = parseInt((now.getMonth() / 3).toString(), 10) * 3;\r\n        values[0] = new Date(now.getFullYear(), firstMonth, 1);\r\n        values[1] = new Date(now.getFullYear(), firstMonth + 2, this.helper.getCountDaysOfMonth(now.getFullYear(), firstMonth + 2));\r\n        break;\r\n      }\r\n      case 'CurrentWeek': {\r\n        values = this.getWeekInterval(now);\r\n        break;\r\n      }\r\n      case 'CurrentYear': {\r\n        values[0] = new Date(now.getFullYear(), 0, 1);\r\n        values[1] = new Date(now.getFullYear(), 11, 31);\r\n        break;\r\n      }\r\n      case 'NextMonth': {\r\n        let month = now.getMonth() + 1;\r\n        let year = now.getFullYear();\r\n        if (month > 11) {\r\n          month = 0;\r\n          year++;\r\n        }\r\n        values[0] = new Date(year, month, 1);\r\n        values[1] = new Date(year, month, this.helper.getCountDaysOfMonth(year, month));\r\n        break;\r\n      }\r\n      case 'NextQuarter': {\r\n        let year = now.getFullYear();\r\n        let firstMonth = parseInt((now.getMonth() / 3).toString(), 10) * 3 + 3;\r\n        if (firstMonth > 11) {\r\n          firstMonth = 0;\r\n          year++;\r\n        }\r\n        values[0] = new Date(year, firstMonth, 1);\r\n        values[1] = new Date(year, firstMonth + 2, this.helper.getCountDaysOfMonth(year, firstMonth + 2));\r\n        break;\r\n      }\r\n      case 'NextWeek': {\r\n        values = this.getWeekInterval(now);\r\n        values[0] = new Date(values[0].valueOf() + 7 * 86400000);\r\n        values[1] = new Date(values[1].valueOf() + 7 * 86400000);\r\n        break;\r\n      }\r\n      case 'NextYear': {\r\n        values[0] = new Date(now.getFullYear() + 1, 0, 1);\r\n        values[1] = new Date(now.getFullYear() + 1, 11, 31);\r\n        break;\r\n      }\r\n      case 'PreviousMonth': {\r\n        let month = now.getMonth() - 1;\r\n        let year = now.getFullYear();\r\n        if (month < 0) {\r\n          month = 11;\r\n          year--;\r\n        }\r\n        values[0] = new Date(year, month, 1);\r\n        values[1] = new Date(year, month, this.helper.getCountDaysOfMonth(year, month));\r\n        break;\r\n      }\r\n      case 'PreviousQuarter': {\r\n        let year = now.getFullYear();\r\n        let firstMonth = parseInt((now.getMonth() / 3).toString(), 10) * 3 - 3;\r\n        if (firstMonth < 0) {\r\n          firstMonth = 9;\r\n          year--;\r\n        }\r\n        values[0] = new Date(year, firstMonth, 1);\r\n        values[1] = new Date(year, firstMonth + 2, this.helper.getCountDaysOfMonth(year, firstMonth + 2));\r\n        break;\r\n      }\r\n      case 'PreviousWeek': {\r\n        values = this.getWeekInterval(now);\r\n        values[0] = new Date(values[0].valueOf() - 7 * 86400000);\r\n        values[1] = new Date(values[1].valueOf() - 7 * 86400000);\r\n        break;\r\n      }\r\n      case 'PreviousYear': {\r\n        values[0] = new Date(now.getFullYear() - 1, 0, 1);\r\n        values[1] = new Date(now.getFullYear() - 1, 11, 31);\r\n        break;\r\n      }\r\n      case 'FirstQuarter': {\r\n        values[0] = new Date(now.getFullYear(), 0, 1);\r\n        values[1] = new Date(now.getFullYear(), 2, this.helper.getCountDaysOfMonth(now.getFullYear(), 2));\r\n        break;\r\n      }\r\n      case 'SecondQuarter': {\r\n        values[0] = new Date(now.getFullYear(), 3, 1);\r\n        values[1] = new Date(now.getFullYear(), 5, this.helper.getCountDaysOfMonth(now.getFullYear(), 5));\r\n        break;\r\n      }\r\n      case 'ThirdQuarter': {\r\n        values[0] = new Date(now.getFullYear(), 6, 1);\r\n        values[1] = new Date(now.getFullYear(), 8, this.helper.getCountDaysOfMonth(now.getFullYear(), 8));\r\n        break;\r\n      }\r\n      case 'FourthQuarter': {\r\n        values[0] = new Date(now.getFullYear(), 9, 1);\r\n        values[1] = new Date(now.getFullYear(), 11, this.helper.getCountDaysOfMonth(now.getFullYear(), 11));\r\n        break;\r\n      }\r\n      case 'MonthToDate': {\r\n        values[0].setDate(1);\r\n        break;\r\n      }\r\n      case 'QuarterToDate': {\r\n        const firstMonth = parseInt((now.getMonth() / 3).toString(), 10) * 3;\r\n        values[0].setDate(1);\r\n        values[0].setMonth(firstMonth);\r\n        break;\r\n      }\r\n      case 'WeekToDate': {\r\n        const weekValues = this.getWeekInterval(now);\r\n        values[0] = weekValues[0];\r\n        break;\r\n      }\r\n      case 'YearToDate': {\r\n        values[0].setDate(1);\r\n        values[0].setMonth(0);\r\n        break;\r\n      }\r\n      case 'Today': {\r\n        break;\r\n      }\r\n      case 'Tomorrow': {\r\n        values[0] = new Date(values[0].valueOf() + 86400000);\r\n        values[1] = new Date(values[1].valueOf() + 86400000);\r\n        break;\r\n      }\r\n      case 'Yesterday': {\r\n        values[0] = new Date(values[0].valueOf() - 86400000);\r\n        values[1] = new Date(values[1].valueOf() - 86400000);\r\n        break;\r\n      }\r\n      case 'Last7Days': {\r\n        if (this.model.options.appearance.datePickerIncludeCurrentDayForRanges) {\r\n          values[0] = new Date(values[0].valueOf() - 6 * 86400000);\r\n        } else {\r\n          values[0] = new Date(values[0].valueOf() - 7 * 86400000);\r\n        }\r\n        break;\r\n      }\r\n      case 'Last14Days': {\r\n        if (this.model.options.appearance.datePickerIncludeCurrentDayForRanges) {\r\n          values[0] = new Date(values[0].valueOf() - 13 * 86400000);\r\n        } else {\r\n          values[0] = new Date(values[0].valueOf() - 14 * 86400000);\r\n        }\r\n        break;\r\n      }\r\n      case 'Last30Days': {\r\n        if (this.model.options.appearance.datePickerIncludeCurrentDayForRanges) {\r\n          values[0] = new Date(values[0].valueOf() - 29 * 86400000);\r\n        } else {\r\n          values[0] = new Date(values[0].valueOf() - 30 * 86400000);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.setTimeInterval(values[0], values[1]);\r\n\r\n    this.menu.params.key = this.helper.getDateTimeObject(values[0]);\r\n    this.menu.params.keyTo = this.helper.getDateTimeObject(values[1]);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, EventEmitter, Output, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { trigger, state, transition, style, animate, AnimationEvent } from '@angular/animations';\r\nimport { FormService } from './form.service';\r\n\r\n@Component({\r\n  selector: 'sti-base-form',\r\n  template: `\r\n    <div #element class=\"stiJsViewerForm\"\r\n      [style.zIndex]=\"level * 10 + 1\"\r\n      [@.disabled]=\"!model.options.toolbar.menuAnimation\"\r\n      [style.fontFamily]=\"fontFamily\"\r\n      [style.color]=\"color\"\r\n      [style.fontSize]=\"fontSize\"\r\n      [style.left.px]=\"formService.form?.left\"\r\n      [style.top.px]=\"formService.form?.top\"\r\n      [style.display]=\"display\"\r\n      [@showForm]=\"formService.form?.name == name ? 'visible' : 'hidden'\"\r\n      (@showForm.start)=\"startAnimation($event)\"\r\n      (@showForm.done)=\"doneAnimation($event)\">\r\n      <div class=\"stiJsViewerFormHeader\"\r\n        (mousedown)=\"formService.startMove(name, $event)\"\r\n        (touchstart)=\"formService.startMove(name, null, $event)\"\r\n        (touchmove)=\"formService.move($event)\"\r\n        (touchend)=\"formService.stopMove()\">\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"text-align: left; padding: 5px 10px 8px 15px;\">\r\n                {{caption}}\r\n              </td>\r\n              <td *ngIf=\"helpUrl != null && model.options.appearance.showDialogsHelp\" class=\"stiJsViewerClearAllStyles\" style=\"width: 20px; text-align: right; padding: 2px 0px 1px 0px; vertical-align: top;\">\r\n                <sti-button [imageMargin]=\"'0 2px 0 2px'\" [display]=\"'inline-block'\" (action)=\"helper.showHelpWindow(helpUrl)\">\r\n                </sti-button>\r\n              </td>\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"vertical-align: top; width: 30px; text-align: right; padding: 2px 1px 1px;\">\r\n                <sti-button [imageMargin]=\"'0 2px 0 2px'\" [display]=\"'inline-block'\" [imageName]=\"'CloseForm.png'\" (action)=\"formService.closeForm(name)\">\r\n                </sti-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div class=\"stiJsViewerFormContainer\" [style.padding]=\"containerPadding\">\r\n        <ng-content>\r\n        </ng-content>\r\n      </div>\r\n\r\n      <div *ngIf=\"showSeparator\" class=\"stiJsViewerFormSeparator\"></div>\r\n\r\n      <div *ngIf=\"showButtons\" class=\"stiJsViewerFormButtonsPanel\">\r\n        <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 8px;\">\r\n                <sti-form-button [caption]=\"model.loc('ButtonOk')\" (action)=\"action.emit()\">\r\n                </sti-form-button>\r\n              </td>\r\n              <td *ngIf=\"showCancel\" class=\"stiJsViewerClearAllStyles\" style=\"padding: 8px 8px 8px 0px;\">\r\n                <sti-form-button [caption]=\"model.loc('ButtonCancel')\" (action)=\"formService.closeForm(name)\">\r\n                </sti-form-button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n    </div>\r\n  `,\r\n  animations: [\r\n    trigger('showForm', [\r\n      state('hidden', style({ opacity: '0' })),\r\n      state('visible', style({ opacity: '1' })),\r\n      transition('hidden => visible', [\r\n        animate('200ms ease-in-out')])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class BaseFormComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  @Output() changeVisibility: EventEmitter<any> = new EventEmitter();\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Input() level = 1;\r\n  @Input() caption: string;\r\n  @Input() helpUrl: string;\r\n  @Input() fontFamily: string;\r\n  @Input() color: string;\r\n  @Input() fontSize: string;\r\n  @Input() containerPadding: string;\r\n  @Input() name: string;\r\n  @Input() defaultTop: number;\r\n  @Input() showCancel = true;\r\n  @Input() showButtons = true;\r\n  @Input() showSeparator = true;\r\n\r\n  display = 'none';\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public formService: FormService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  startAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'visible') {\r\n      this.display = '';\r\n      if (this.defaultTop != null) {\r\n        this.formService.centerForm(this, this.defaultTop);\r\n      }\r\n    }\r\n  }\r\n\r\n  doneAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'hidden') {\r\n      this.display = 'none';\r\n    }\r\n    this.changeVisibility.emit(event.toState);\r\n  }\r\n}\r\n","import { Component, OnInit, Input, OnChanges, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ExportFormSettings, ExportComponent, ExportGroup } from '../services/objects';\r\nimport { ExportService } from '../services/export.service';\r\nimport { BaseFormComponent } from './base-form.component';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { FormService } from './form.service';\r\nimport { MenuService } from '../menu/menu.service';\r\nimport { ButtonComponent } from '../controls/button.component';\r\nimport { CollectionsService } from '../services/collections.service';\r\nimport { RadioButtonComponent } from '../controls/radio-button.components';\r\nimport { ControllerService } from '../services/controller.service';\r\n\r\n@Component({\r\n  selector: 'sti-export-form',\r\n  template: `\r\n    <sti-base-form #baseForm [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n    [color]=\"model.options.toolbar.fontColor\"\r\n    [fontSize]=\"'12px'\"\r\n    [containerPadding]=\"'3px'\"\r\n    [name]=\"'exportForm'\"\r\n    [caption]=\"model.loc('ExportFormTitle')\"\r\n    [defaultTop]=\"150\"\r\n    (changeVisibility)=\"changeVisibility($event)\"\r\n    (action)=\"action()\">\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n      <tbody>\r\n          <tr *ngIf=\"exportFormSettings?.groups.savingReportGroup.visible\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n              <sti-group-panel [caption]=\"model.loc('SavingReport')\"\r\n               [width]=\"390\"\r\n               [margin]=\"'4px'\"\r\n               [innerPadding]=\"'4px 0 4px 0'\"\r\n               [opened]=\"exportFormSettings.groups.savingReportGroup.opened\"\r\n               (action)=\"exportFormSettings.groups.savingReportGroup.opened=$event\">\r\n                <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n                  <tbody>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button #saveReportMdc\r\n                           [name]=\"baseForm.name + 'SaveReportMdc'\"\r\n                           [groupName]=\"baseForm.name + 'SavingReportGroup'\"\r\n                           [caption]=\"model.loc('SaveReportMdc')\"\r\n                           [margin]=\"'6px 8px 3px 8px'\"\r\n                           [checked]=\"true\"\r\n                           (action)=\"exportService.exportSettings.Format = 'Mdc'\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button\r\n                           [name]=\"baseForm.name + 'SaveReportMdz'\"\r\n                           [groupName]=\"baseForm.name + 'SavingReportGroup'\"\r\n                           [caption]=\"model.loc('SaveReportMdz')\"\r\n                           [margin]=\"'3px 8px 3px 8px'\"\r\n                           (action)=\"exportService.exportSettings.Format = 'Mdz'\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button\r\n                           [name]=\"baseForm.name + 'SaveReportMdx'\"\r\n                           [groupName]=\"baseForm.name + 'SavingReportGroup'\"\r\n                           [caption]=\"model.loc('SaveReportMdx')\"\r\n                           [margin]=\"'3px 8px 0px 8px'\"\r\n                           (action)=\"exportService.exportSettings.Format = 'Mdx'\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0px 8px; min-width: 150px;\" [attr.title]=\"model.loc('PasswordSaveReportTooltip')\">\r\n                      {{model.loc('PasswordSaveReport')}}\r\n                      </td>\r\n                      <td>\r\n                        <sti-text-box\r\n                           [width]=\"140\"\r\n                           [tooltip]=\"model.loc('PasswordSaveReportTooltip')\"\r\n                           [margin]=\"'4px 8px 0px 8px'\"\r\n                           [type]=\"getTextBoxType('SaveReportPassword')\"\r\n                           [enabled]=\"exportService.exportSettings.Format == 'Mdx'\"\r\n                           (onchange)=\"exportService.exportSettings.Password = $event.value\">\r\n                        </sti-text-box>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </sti-group-panel>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr *ngIf=\"exportFormSettings?.groups.pageRangeGroup.visible\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n              <sti-group-panel [caption]=\"model.loc('PagesRange')\"\r\n               [width]=\"390\"\r\n               [margin]=\"'4px'\"\r\n               [innerPadding]=\"'4px 0 4px 0'\"\r\n               [opened]=\"exportFormSettings.groups.pageRangeGroup.opened\"\r\n               (action)=\"exportFormSettings.groups.pageRangeGroup.opened=$event\">\r\n                <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n                  <tbody>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button #pagesRangeAll\r\n                           [name]=\"baseForm.name + 'PagesRangeAll'\"\r\n                           [groupName]=\"baseForm.name + 'PageRangeGroup'\"\r\n                           [caption]=\"model.loc('PagesRangeAll')\"\r\n                           [tooltip]=\"model.loc('PagesRangeAllTooltip')\"\r\n                           [margin]=\"'6px 8px 6px 8px'\"\r\n                           [checked]=\"!exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled\"\r\n                           [enabled]=\"!exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled\"\r\n                           (action)=\"exportService.exportSettings.PageRange = 'All'\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button #pageRangeCurrentPage\r\n                           [name]=\"baseForm.name + 'PageRangeCurrentPage'\"\r\n                           [groupName]=\"baseForm.name + 'PageRangeGroup'\"\r\n                           [caption]=\"model.loc('PagesRangeCurrentPage')\"\r\n                           [tooltip]=\"model.loc('PagesRangeCurrentPageTooltip')\"\r\n                           [margin]=\"'0px 8px 4px 8px'\"\r\n                           [checked]=\"exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled\"\r\n                           (action)=\"exportService.exportSettings.PageRange = (model.reportParams.pageNumber + 1).toString()\">\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-radio-button\r\n                           [name]=\"baseForm.name + 'PageRangePages'\"\r\n                           [groupName]=\"baseForm.name + 'PageRangeGroup'\"\r\n                           [caption]=\"model.loc('PagesRangePages')\"\r\n                           [tooltip]=\"model.loc('PagesRangePagesTooltip')\"\r\n                           [margin]=\"'0px 8px 0px 8px'\"\r\n                           [paddingLeftLastCell]=\"'60px'\"\r\n                           (action)=\"exportService.exportSettings.PageRange = pagesRange.element.nativeElement.value\">\r\n                              <sti-text-box #pagesRange\r\n                                [width]=\"130\"\r\n                                [tooltip]=\"model.loc('PagesRangePagesTooltip')\"\r\n                                [margin]=\"'0px 0px 0px 30px'\"\r\n                                (onchange)=\"exportService.exportSettings.PageRange = $event.value\"\r\n                                (onblur)=\"exportService.exportSettings.PageRange = $event.value\">\r\n                              </sti-text-box>\r\n                        </sti-radio-button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </sti-group-panel>\r\n            </td>\r\n          </tr>\r\n\r\n        <tr *ngIf=\"exportFormSettings?.groups.settingsGroup.visible\"class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n              <sti-group-panel [caption]=\"model.loc('SettingsGroup')\"\r\n                [opened]=\"exportFormSettings.groups.settingsGroup.opened\"\r\n                [width]=\"390\"\r\n                [margin]=\"'4px'\"\r\n                [innerPadding]=\"'4px 0 4px 0'\"\r\n                (action)=\"exportFormSettings.groups.settingsGroup.opened=$event\">\r\n                <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n                  <tbody>\r\n                    <tr *ngFor=\"let comp of exportFormSettings.components\">\r\n                      <td *ngIf=\"comp.label != null\" style=\"padding: 0px 8px; min-width: 150px;\" [attr.title]=\"comp.tooltip\">\r\n                        {{comp.label}}\r\n                      </td>\r\n\r\n                      <td *ngIf=\"comp.name == 'UseDigitalSignature'\">\r\n                        <sti-check-box\r\n                           [tooltip]=\"comp.tooltip\"\r\n                           [margin]=\"comp.margin\"\r\n                           [captionText]=\"comp.caption\"\r\n                           [isChecked]=\"getValue(comp)\"\r\n                           (action)=\"componentAction(comp, $event)\">\r\n                        </sti-check-box>\r\n                      </td>\r\n\r\n                      <td [attr.colSpan]=\"comp.label != null || comp.name == 'DocumentSecurityButton' || comp.name == 'UseDigitalSignature' ? 1 : 2\">\r\n                        <sti-drop-down-list-for-export-form *ngIf=\"comp.type == 'DropDownListForExportForm'\"\r\n                           [width]=\"comp.width\"\r\n                           [items]=\"comp.items\"\r\n                           [key]=\"getValue(comp, 'dropDownList')\"\r\n                           [margin]=\"comp.margin\"\r\n                           [verticalAlign]=\"comp.name == 'ImageQuality' || comp.name == 'ImageResolution' ? 'middle' : null\"\r\n                           [styleDisplay]=\"comp.name == 'ImageQuality' || comp.name == 'ImageResolution' ? 'inline-block' : null\"\r\n                           [enabled]=\"!disabledComponents[comp.name]\"\r\n                           (action)=\"componentAction(comp, $event.key)\">\r\n                        </sti-drop-down-list-for-export-form>\r\n\r\n                        <div *ngIf=\"comp.name == 'ImageQuality' || comp.name == 'ImageResolution'\"\r\n                           [style.display]=\"'inline-block'\">\r\n                          {{comp.name == 'ImageQuality' ? '%' : 'dpi'}}\r\n                        </div>\r\n\r\n                        <sti-text-box *ngIf=\"comp.type == 'TextBox'\"\r\n                           [width]=\"comp.width\"\r\n                           [tooltip]=\"comp.tooltip\"\r\n                           [margin]=\"comp.margin\"\r\n                           [type]=\"getTextBoxType(comp.name)\"\r\n                           [enabled]=\"!comp.disabled\"\r\n                           [value]=\"getValue(comp)\"\r\n                           [enabled]=\"!disabledComponents[comp.name]\"\r\n                           (onchange)=\"componentAction(comp, $event.value)\">\r\n                        </sti-text-box>\r\n\r\n                        <sti-check-box *ngIf=\"comp.type == 'CheckBox' || comp.type == 'DigitalSignature'\"\r\n                           [tooltip]=\"comp.tooltip\"\r\n                           [margin]=\"comp.margin\"\r\n                           [captionText]=\"comp.caption\"\r\n                           [isChecked]=\"getValue(comp)\"\r\n                           [isEnabled]=\"!disabledComponents[comp.name]\"\r\n                           (action)=\"componentAction(comp, $event)\">\r\n                        </sti-check-box>\r\n\r\n                      </td>\r\n\r\n                      <td *ngIf=\"comp.name == 'DocumentSecurityButton'\">\r\n                        <sti-button #button\r\n                           [width]=\"comp.width\"\r\n                           [arrow]=\"'Down'\"\r\n                           [minWidth]=\"'163px'\"\r\n                           [captionAlign]=\"'center'\"\r\n                           [display]=\"'inline-block'\"\r\n                           [styleName]=\"'stiJsViewerFormButton'\"\r\n                           [margin]=\"'2px 8px'\"\r\n                           [innerTableWidth]=\"'100%'\"\r\n                           [captionWidth]=\"'100%'\"\r\n                           [caption]=\"comp.name == 'DocumentSecurityButton' ? comp.caption : ''\"\r\n                           [enabled]=\"!disabledComponents[comp.name + 'Button']\"\r\n                           (action)=\"showMenu(comp, button)\">\r\n                        </sti-button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n\r\n              </sti-group-panel>\r\n            </td>\r\n        </tr>\r\n\r\n        <tr *ngIf=\"model.options.exports.showOpenAfterExport && exportFormSettings?.openAfterExport && !exportService.sendMail\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                <sti-check-box [captionText]=\"model.loc('OpenAfterExport')\"\r\n                  [tooltip]=\"model.loc('OpenAfterExportTooltip')\"\r\n                  [margin]=\"'4px 8px 4px 8px'\"\r\n                  [isChecked]=\"exportService.exportSettings.OpenAfterExport\"\r\n                  (action)=\"exportService.exportSettings.OpenAfterExport = $event\">\r\n                </sti-check-box>\r\n            </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    </sti-base-form>\r\n  `\r\n})\r\n\r\nexport class ExportFormComponent implements OnInit, OnChanges {\r\n\r\n  private PROPERTY_ALIAS = {\r\n    ImageFormatForHtml: 'ImageFormat',\r\n    EncodingTextOrCsvFile: 'Encoding',\r\n    ExportModeRtf: 'ExportMode',\r\n    EncodingDifFile: 'Encoding',\r\n    EncodingDbfFile: 'CodePage'\r\n  };\r\n\r\n  @ViewChild('baseForm') baseForm: BaseFormComponent;\r\n  @ViewChild('saveReportMdc') saveReportMdc: RadioButtonComponent;\r\n  @ViewChild('pagesRangeAll') pagesRangeAll: RadioButtonComponent;\r\n  @ViewChild('pageRangeCurrentPage') pageRangeCurrentPage: RadioButtonComponent;\r\n\r\n  @Input() exportFormSettings: ExportFormSettings;\r\n\r\n  formVisible = false;\r\n  disabledComponents: any = {};\r\n\r\n  constructor(public model: ModelService, public exportService: ExportService, public helper: HelperService, public formService: FormService,\r\n    public menuService: MenuService, public collections: CollectionsService, public controller: ControllerService) { }\r\n\r\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\r\n    if (this.baseForm && this.formService?.form?.name === this.baseForm.name) {\r\n      setTimeout(() => this.updateDisabledComponents());\r\n    }\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  action() {\r\n    this.formService.closeForm(this.baseForm.name);\r\n\r\n    if (this.model.options.exports.storeExportSettings) {\r\n      this.helper.setCookie('StimulsoftWebViewerExportSettings' + this.exportService.getCommonExportFormat(), JSON.stringify(this.exportService.exportSettings));\r\n    }\r\n\r\n    this.exportService.postExport();\r\n  }\r\n\r\n  updateDisabledComponents() {\r\n    ['StandardPdfFonts', 'EmbeddedFonts', 'UseUnicode'].forEach(n => this.disabledComponents[n] = (this.exportService.exportSettings.PdfACompliance === true));\r\n\r\n    this.disabledComponents.ImageQuality = this.exportService.exportSettings.ImageCompressionMethod && this.exportService.exportSettings.ImageCompressionMethod !== 'Jpeg';\r\n\r\n    this.disabledComponents.ExportObjectFormatting = this.exportService.exportSettings.DataExportMode === 'AllBands';\r\n    this.disabledComponents.UseOnePageHeaderAndFooter = this.exportService.exportSettings.DataExportMode != 'AllBands';\r\n\r\n    this.disabledComponents.EncodingDifFile = this.exportService.exportSettings.UseDefaultSystemEncoding;\r\n\r\n    this.disabledComponents.TiffCompressionScheme = this.exportService.exportSettings.ImageType !== 'Tiff';\r\n\r\n    this.disabledComponents.UseDigitalSignature = !this.exportService.exportSettings.UseDigitalSignature || !(this.model.pdfSecurityCertificates?.length > 0);\r\n\r\n    this.disabledComponents.RemoveEmptySpaceAtBottom = this.exportService.exportSettings.UsePageHeadersAndFooters;\r\n\r\n    if (this.exportService.exportSettings.ImageType != null) {\r\n      const ifComponent = this.exportService.exportFormSettings.components.find(c => c.name === 'ImageFormat');\r\n      if (ifComponent != null) {\r\n        ifComponent.items = this.collections.getImageFormatItems(this.exportService.exportSettings.ImageType === 'Emf');\r\n      }\r\n    }\r\n\r\n    this.disabledComponents.DitheringType = this.exportService.exportSettings.ImageFormat !== 'Monochrome';\r\n\r\n    if (this.saveReportMdc) { this.saveReportMdc.click(); }\r\n    if (this.pagesRangeAll && !this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled) {\r\n      this.pagesRangeAll.click();\r\n    }\r\n    if (this.pageRangeCurrentPage && this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled) {\r\n      this.pageRangeCurrentPage.click();\r\n    }\r\n\r\n    if (this.exportService.exportSettings.CompressToArchive === true) {\r\n      this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled = false;\r\n    }\r\n\r\n    if (this.exportService.exportSettings.CompressToArchive === false) {\r\n      this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled = true;\r\n    }\r\n  }\r\n\r\n  componentAction(comp: ExportComponent, value?: any) {\r\n    let property = this.PROPERTY_ALIAS[comp.name] || comp.name;\r\n\r\n    switch (property) {\r\n      case 'EmbeddedFonts':\r\n      case 'UseUnicode':\r\n        if (value) {\r\n          this.exportService.exportSettings.StandardPdfFonts = false;\r\n        }\r\n        break;\r\n\r\n      case 'StandardPdfFonts':\r\n        if (value) {\r\n          this.exportService.exportSettings.EmbeddedFonts = false;\r\n          this.exportService.exportSettings.UseUnicode = false;\r\n        }\r\n        break;\r\n\r\n      case 'ImageType':\r\n        this.exportService.export('Image' + value, true);\r\n        break;\r\n\r\n      case 'DataType':\r\n      case 'HtmlType':\r\n        this.exportService.export(value, true);\r\n        break;\r\n\r\n      case 'ExcelType':\r\n        const exportFormat = value === 'ExcelBinary' ? 'Excel' : value;\r\n        this.exportService.export(exportFormat, true);\r\n        break;\r\n\r\n      case 'UseDigitalSignature':\r\n        if (!(value === true || value === false)) {\r\n          property = 'CertificateThumbprint';\r\n        }\r\n        if (value === true && this.collections.getPdfSecurityCertificatesItems().length == 0) {\r\n          value = false;\r\n          this.controller.showError('Warning', 'Certificate Not Found!');\r\n        }\r\n        break;\r\n\r\n      case 'UsePageHeadersAndFooters':\r\n        if (value === true) {\r\n          this.exportService.exportSettings.RemoveEmptySpaceAtBottom = true;\r\n        }\r\n        break;\r\n    }\r\n\r\n    this.exportService.exportSettings[property] = value;\r\n\r\n    this.updateDisabledComponents();\r\n  }\r\n\r\n  getValue(comp: ExportComponent, component?: string): string {\r\n    const property = this.PROPERTY_ALIAS[comp.name] || comp.name;\r\n    switch (property) {\r\n      case 'Zoom2':\r\n        return this.exportService.exportSettings[property].toString();\r\n\r\n      case 'UseDigitalSignature':\r\n        if (component == 'dropDownList') {\r\n          return this.exportService.exportSettings['CertificateThumbprint'];\r\n        }\r\n      default:\r\n        return this.exportService.exportSettings[property];\r\n    }\r\n  }\r\n\r\n  changeVisibility(state: string) {\r\n    this.formVisible = state === 'visible';\r\n\r\n    if (state === 'hidden' && this.exportFormSettings?.groups?.savingReportGroup) {\r\n      this.helper.setCookie('StimulsoftWebViewerExportSettingsOpeningGroups', JSON.stringify({\r\n        SavingReportGroup: this.exportFormSettings.groups.savingReportGroup.opened,\r\n        PageRangeGroup: this.exportFormSettings.groups.pageRangeGroup.opened,\r\n        SettingsGroup: this.exportFormSettings.groups.settingsGroup.opened\r\n      }));\r\n    }\r\n    if (state === 'visible') {\r\n      this.updateDisabledComponents();\r\n    }\r\n  }\r\n\r\n  showMenu(comp: ExportComponent, button: ButtonComponent) {\r\n    let menuName = 'documentSecurityMenu';\r\n    if (comp.name === 'DocumentSecurityButton') {\r\n      this.menuService.addMenu({\r\n        type: menuName, name: menuName, items: [], parent: button.button,\r\n        itemStyleName: 'stiJsViewerMenuStandartItem', menuStyleName: 'stiJsViewerDropdownMenu'\r\n      });\r\n    } else {\r\n      menuName = this.menuService.VERTICAL_MENU_NAME;\r\n      this.menuService.addMenu({\r\n        type: 'buttonMenu', name: menuName, items: this.collections.getPdfSecurityCertificatesItems(), parent: button.button,\r\n        itemStyleName: 'stiJsViewerMenuStandartItem', menuStyleName: 'stiJsViewerDropdownMenu'\r\n      });\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.menuService.showMenu(menuName);\r\n    });\r\n  }\r\n\r\n  getTextBoxType(name: string) {\r\n    if (name === 'SaveReportPassword' || name === 'PasswordInputUser' || name === 'PasswordInputOwner') {\r\n      return this.formVisible ? 'password' : '';\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { trigger, state, transition, animate, style, AnimationEvent } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'sti-group-panel',\r\n  template: `\r\n  <div #groupPanel [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n       [style.color]=\"model.options.toolbarFontColor\"\r\n       [style.minWidth.px]=\"width\"\r\n       [style.margin]=\"margin\"\r\n       style=\"overflow: hidden\">\r\n      <sti-form-button [caption]=\"caption\"\r\n          [imageName]=\"opened ? 'Arrows.BigArrowDown.png' : 'Arrows.BigArrowRight.png'\"\r\n          [imageCellWidth]=\"'1px'\"\r\n          [captionPadding]=\"'0 15px 0 5px'\"\r\n          [margin]=\"'0px'\"\r\n          [captionAlign]=\"'left'\"\r\n          (action)=\"opened = !opened; action.emit(opened)\">\r\n      </sti-form-button>\r\n\r\n      <div class=\"stiJsViewerGroupPanelContainer\"\r\n           [style.padding]=\"innerPadding\"\r\n           [style.display]=\"display\"\r\n           [@state]=\"opened ? 'opened' : 'closed'\"\r\n           (@state.start)=\"startAnimation($event)\"\r\n           (@state.done)=\"doneAnimation($event)\">\r\n          <ng-content>\r\n\r\n          </ng-content>\r\n      </div>\r\n\r\n\r\n  </div>\r\n  `,\r\n  animations: [\r\n    trigger('state', [\r\n      state('opened', style({ height: '*' })),\r\n      state('closed', style({ height: '0px' })),\r\n      transition('* => *', [\r\n        animate('150ms ease-in-out')])\r\n    ])\r\n  ]\r\n})\r\n\r\nexport class GroupPanelComponent implements OnInit {\r\n\r\n  @Input() width: number;\r\n  @Input() caption: string;\r\n  @Input() innerPadding: string;\r\n  @Input() opened = false;\r\n  @Input() margin: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  display = 'none';\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  startAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'opened') {\r\n      this.display = '';\r\n    }\r\n  }\r\n\r\n  doneAnimation(event: AnimationEvent) {\r\n    if (event.toState === 'closed') {\r\n      this.display = 'none';\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, OnDestroy, AfterViewInit, Output, EventEmitter } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { RadioButtonService } from '../services/radio-button.service';\r\n\r\n@Component({\r\n  selector: 'sti-radio-button',\r\n  template: `\r\n    <table [class]=\"enabled ? 'stiJsViewerRadioButton' : 'stiJsViewerRadioButtonDisabled'\" cellpadding=\"0\" cellspacing=\"0\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.margin]=\"margin\"\r\n      [attr.title]=\"tooltip\"\r\n      (mouseover)=\"mouseover()\" (mouseout)=\"mouseout()\" (click)=\"click()\">\r\n      <tbody>\r\n        <tr class=\"stiJsViewerClearAllStyles\">\r\n          <td class=\"stiJsViewerClearAllStyles\">\r\n            <div class=\"stiJsViewerRadioButtonOutCircle\" [class]=\"outClass\">\r\n              <div class=\"stiJsViewerRadioButtonInnerCircle\"\r\n                  [style.margin]=\"model.options.isTouchDevice ? '4px' : '3px'\"\r\n                  [style.width]=\"model.options.isTouchDevice ? '9px' : '7px'\"\r\n                  [style.height]=\"model.options.isTouchDevice ? '9px' : '7px'\"\r\n                  [style.visibility]=\"checked ? 'visible' : 'hidden'\"\r\n                  [style.opacity]=\"enabled ? 1 : 0.5\">\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td *ngIf=\"caption != null\" class=\"stiJsViewerClearAllStyles\" style=\"padding-left: 4px; white-space: nowrap;\">\r\n            {{caption}}\r\n          </td>\r\n          <td class=\"stiJsViewerClearAllStyles\" [style.paddingLeft]=\"paddingLeftLastCell\">\r\n            <ng-content></ng-content>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  `\r\n})\r\n\r\nexport class RadioButtonComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  @Input() groupName: string;\r\n  @Input() name: string;\r\n  @Input() enabled = true;\r\n  @Input() checked = false;\r\n  @Input() tooltip: string;\r\n  @Input() caption: string;\r\n  @Input() margin: string;\r\n  @Input() paddingLeftLastCell: string;\r\n\r\n  over = false;\r\n\r\n  constructor(public model: ModelService, public radioService: RadioButtonService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.radioService.addButton(this);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.radioService.removeButton(this);\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  mouseover() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = true;\r\n  }\r\n\r\n  mouseout() {\r\n    if (!this.enabled) {\r\n      return;\r\n    }\r\n    this.over = false;\r\n  }\r\n\r\n  click() {\r\n    if (this.enabled) {\r\n      this.checked = true;\r\n      this.radioService.check(this);\r\n      this.action.emit(true);\r\n    }\r\n  }\r\n\r\n  public uncheck() {\r\n    this.checked = false;\r\n    this.action.emit(false);\r\n  }\r\n\r\n  get outClass(): string {\r\n    return !this.enabled ? 'stiJsViewerRadioButtonOutCircleDisabled' : (this.over ? 'stiJsViewerRadioButtonOutCircleOver' : 'stiJsViewerRadioButtonOutCircle');\r\n  }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Item } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-drop-down-list-for-export-form',\r\n  template: `\r\n    <sti-drop-down-list [items]=\"items\"\r\n      [width]=\"width\"\r\n      [readOnly]=\"true\"\r\n      [key]=\"key\"\r\n      [margin]=\"margin\"\r\n      [enabled]=\"enabled\"\r\n      [styleDisplay]=\"styleDisplay\"\r\n      [verticalAlign]=\"verticalAlign\"\r\n      (action)=\"key = $event.key; action.emit($event)\">\r\n    </sti-drop-down-list>\r\n  `\r\n})\r\n\r\nexport class DropDownListForExportFormComponent implements OnInit {\r\n\r\n  @Input() items: Item[];\r\n  @Input() width: number;\r\n  @Input() key: string;\r\n  @Input() margin: string;\r\n  @Input() enabled = true;\r\n  @Input() styleDisplay: string;\r\n  @Input() verticalAlign: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { FormService } from '../forms/form.service';\r\nimport { ExportService } from '../services/export.service';\r\nimport { CollectionsService } from '../services/collections.service';\r\nimport { CheckboxComponent } from '../controls/checkbox.component';\r\n\r\n@Component({\r\n  selector: 'sti-document-security-menu',\r\n  template: `\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n                  <tbody>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td style=\"padding: 0px 8px; min-width: 150px;\" [attr.title]=\"model.loc('UserPasswordTooltip')\">\r\n                        {{model.loc('UserPassword')}}\r\n                      </td>\r\n                      <td class=\"stiJsViewerClearAllStyles\">\r\n                        <sti-text-box\r\n                           [width]=\"160\"\r\n                           [tooltip]=\"model.loc('UserPasswordTooltip')\"\r\n                           [margin]=\"'8px 8px 2px 8px'\"\r\n                           [type]=\"getTextBoxType()\"\r\n                           [value]=\"exportService.exportSettings?.PasswordInputUser\"\r\n                           (onchange)=\"exportService.exportSettings.PasswordInputUser =  $event.value\">\r\n                        </sti-text-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\" [attr.title]=\"model.loc('OwnerPasswordTooltip')\">\r\n                      <td style=\"padding: 0px 8px; min-width: 150px;\">\r\n                        {{model.loc('OwnerPassword')}}\r\n                      </td>\r\n                      <td class=\"stiJsViewerClearAllStyles\">\r\n                        <sti-text-box\r\n                           [width]=\"160\"\r\n                           [tooltip]=\"model.loc('OwnerPasswordTooltip')\"\r\n                           [margin]=\"'2px 8px 2px 8px'\"\r\n                           [type]=\"getTextBoxType()\"\r\n                           [value]=\"exportService.exportSettings?.PasswordInputOwner\"\r\n                           (onchange)=\"exportService.exportSettings.PasswordInputOwner =  $event.value\">\r\n                        </sti-text-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-check-box #AllowPrintDocument\r\n                           [captionText]=\"model.loc('AllowPrintDocument')\"\r\n                           [tooltip]=\"model.loc('AllowPrintDocumentTooltip')\"\r\n                           [margin]=\"'4px 8px 4px 8px'\"\r\n                           [isChecked]=\"getUserAccessPrivileges('PrintDocument')\"\r\n                           (action)=\"updateUserAccessPrivileges()\">\r\n                        </sti-check-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-check-box #AllowModifyContents\r\n                           [captionText]=\"model.loc('AllowModifyContents')\"\r\n                           [tooltip]=\"model.loc('AllowModifyContentsTooltip')\"\r\n                           [margin]=\"'4px 8px 4px 8px'\"\r\n                           [isChecked]=\"getUserAccessPrivileges('ModifyContents')\"\r\n                           (action)=\"updateUserAccessPrivileges()\">\r\n                        </sti-check-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-check-box #AllowCopyTextAndGraphics\r\n                           [captionText]=\"model.loc('AllowCopyTextAndGraphics')\"\r\n                           [tooltip]=\"model.loc('AllowCopyTextAndGraphicsTooltip')\"\r\n                           [margin]=\"'4px 8px 4px 8px'\"\r\n                           [isChecked]=\"getUserAccessPrivileges('CopyTextAndGraphics')\"\r\n                           (action)=\"updateUserAccessPrivileges()\">\r\n                        </sti-check-box>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" colspan=\"2\">\r\n                        <sti-check-box #AllowAddOrModifyTextAnnotations\r\n                           [captionText]=\"model.loc('AllowAddOrModifyTextAnnotations')\"\r\n                           [tooltip]=\"model.loc('AllowAddOrModifyTextAnnotationsTooltip')\"\r\n                           [margin]=\"'4px 8px 4px 8px'\"\r\n                           [isChecked]=\"getUserAccessPrivileges('AddOrModifyTextAnnotations')\"\r\n                           (action)=\"updateUserAccessPrivileges()\">\r\n                        </sti-check-box>\r\n                      </td>\r\n                    </tr>\r\n                    <tr class=\"stiJsViewerClearAllStyles\">\r\n                      <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 0px 8px; min-width: 150px;\" [attr.title]=\"model.loc('EncryptionKeyLengthTooltip')\">\r\n                        {{model.loc('EncryptionKeyLength')}}\r\n                      </td>\r\n                      <td>\r\n                        <sti-drop-down-list-for-export-form\r\n                           [width]=\"160\"\r\n                           [items]=\"collections.getEncryptionKeyLengthItems()\"\r\n                           [key]=\"exportService.exportSettings?.KeyLength\"\r\n                           [margin]=\"'2px 8px 4px 8px'\"\r\n                           (action)=\"exportService.exportSettings.KeyLength = $event.key\">\r\n                        </sti-drop-down-list-for-export-form>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n`\r\n})\r\n\r\nexport class DocumentSecurityMenuComponent implements OnInit {\r\n\r\n  @ViewChild('AllowPrintDocument') allowPrintDocument: CheckboxComponent;\r\n  @ViewChild('AllowModifyContents') allowModifyContents: CheckboxComponent;\r\n  @ViewChild('AllowCopyTextAndGraphics') allowCopyTextAndGraphics: CheckboxComponent;\r\n  @ViewChild('AllowAddOrModifyTextAnnotations') allowAddOrModifyTextAnnotations: CheckboxComponent;\r\n\r\n  constructor(public model: ModelService, public formService: FormService, public exportService: ExportService, public collections: CollectionsService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  getTextBoxType() {\r\n    return this.formService.form?.name === 'exportForm' ? 'password' : '';\r\n  }\r\n\r\n  updateUserAccessPrivileges() {\r\n    const privileges = [];\r\n    if (this.allowPrintDocument.isChecked) { privileges.push('PrintDocument'); }\r\n    if (this.allowModifyContents.isChecked) { privileges.push('ModifyContents'); }\r\n    if (this.allowCopyTextAndGraphics.isChecked) { privileges.push('CopyTextAndGraphics'); }\r\n    if (this.allowAddOrModifyTextAnnotations.isChecked) { privileges.push('AddOrModifyTextAnnotations'); }\r\n    this.exportService.exportSettings.UserAccessPrivileges = privileges.join(',');\r\n  }\r\n\r\n  getUserAccessPrivileges(name: string) {\r\n    return this.exportService.exportSettings?.UserAccessPrivileges === 'All' || this.exportService.exportSettings?.UserAccessPrivileges?.indexOf(name) >= 0;\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ExportService } from '../services/export.service';\r\n\r\n@Component({\r\n  selector: 'sti-digital-signature-menu',\r\n  template: `\r\n    <div *ngFor=\"let item of model.pdfSecurityCertificates\" class=\"stiJsViewerMenuStandartItem stiJsViewerMenuStandartItemSelected\" style=\"height: auto; line-height: 1.3;\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"height: 100%; width: 100%;\">\r\n        <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"padding: 8px 20px 8px 8px; text-align: left; white-space: nowrap;\">\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n`\r\n})\r\n\r\nexport class DigitalSignatureMenuComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService, public exportService: ExportService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { MailService } from '../services/mail.service';\r\nimport { ExportService } from '../services/export.service';\r\n\r\n@Component({\r\n  selector: 'sti-send-email-form',\r\n  template: `\r\n    <sti-base-form #baseForm [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [color]=\"model.options.toolbar.fontColor\"\r\n      [fontSize]=\"'12px'\"\r\n      [name]=\"'sendEmailForm'\"\r\n      [caption]=\"model.loc('EmailOptions')\"\r\n      [level]=\"1\"\r\n      [defaultTop]=\"150\"\r\n      (action)=\"this.mailService.sendMail()\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%;\">\r\n        <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerCaptionControls\" [style.padding]=\"model.options.isMobileDevice ? '0 25px 0 4px' : ''\">\r\n                {{model.loc('Email')}}\r\n              </td>\r\n              <td *ngIf=\"!model.options.isMobileDevice\">\r\n                <sti-text-box [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Email\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Email = $event.value\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\" *ngIf=\"model.options.isMobileDevice\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-text-box [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Email\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Email = $event.value\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerCaptionControls\" [style.padding]=\"model.options.isMobileDevice ? '0 25px 0 4px' : ''\">\r\n                {{model.loc('Subject')}}\r\n              </td>\r\n              <td *ngIf=\"!model.options.isMobileDevice\">\r\n                <sti-text-box [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Subject\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Subject = $event.value\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\" *ngIf=\"model.options.isMobileDevice\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-text-box [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Subject\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Subject = $event.value\">\r\n                </sti-text-box>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerCaptionControls\" [style.padding]=\"model.options.isMobileDevice ? '0 25px 0 4px' : ''\">\r\n                {{model.loc('Message')}}\r\n              </td>\r\n              <td *ngIf=\"!model.options.isMobileDevice\">\r\n                <sti-text-area [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Message\"\r\n                  [height]=\"70\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Message = $event.value\">\r\n                </sti-text-area>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\" *ngIf=\"model.options.isMobileDevice\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <sti-text-area [margin]=\"model.options.isMobileDevice ? '4px 4px 12px 4px' : '4px'\"\r\n                  [value]=\"exportService.exportSettings.Message\"\r\n                  [height]=\"70\"\r\n                  [width]=\"model.options.isMobileDevice ? 200 : 280\"\r\n                  (onchange)=\"exportService.exportSettings.Message = $event.value\">\r\n                </sti-text-area>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerCaptionControls\" [style.padding]=\"model.options.isMobileDevice ? '0 25px 0 4px' : ''\">\r\n                {{model.loc('Attachment')}}\r\n              </td>\r\n              <td *ngIf=\"!model.options.isMobileDevice\">\r\n                <div style=\"margin: 4px\">\r\n                  {{exportService.exportSettings.Attachment}}\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            <tr class=\"stiJsViewerClearAllStyles\" *ngIf=\"model.options.isMobileDevice\">\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <div style=\"margin: 4px\">\r\n                  {{exportService.exportSettings.Attachment}}\r\n                </div>\r\n              </td>\r\n            </tr>\r\n        </tbody>\r\n      </table>\r\n    </sti-base-form>\r\n  `\r\n})\r\n\r\nexport class SendEmailFormComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService, public mailService: MailService, public exportService: ExportService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'sti-text-area',\r\n  template: `\r\n    <textarea\r\n      [style.width.px]=\"width\"\r\n      [style.minWidth.px]=\"width\"\r\n      [style.height.px]=\"height\"\r\n      [style.minHeight.px]=\"height\"\r\n      [class]=\"className\"\r\n      [value]=\"value || ''\"\r\n      [style.margin]=\"margin\"\r\n      [style.cursor]=\"readOnly ? 'default' : ''\"\r\n      [style.padding]=\"padding\"\r\n      style=\"padding-top: 3px, font-family: Arial\"\r\n      (mouseover)=\"over=true\"\r\n      (mouseleave)=\"over=false\"\r\n      (focused)=\"focused=true; selected=true\"\r\n      (blur)=\"focused=false; selected=false; onblur.emit($event.target)\"\r\n      (keypress)=\"keypress($event)\"\r\n      (keyup)=\"onchanged($event)\">\r\n    </textarea>\r\n  `\r\n})\r\n\r\nexport class TextAreaComponent implements OnInit {\r\n\r\n  @Input() width: number;\r\n  @Input() height: number;\r\n  @Input() enabled = true;\r\n  @Input() value: string;\r\n  @Input() padding: string;\r\n  @Input() margin: string;\r\n\r\n  @Output() action: EventEmitter<any> = new EventEmitter();\r\n  @Output() onchange: EventEmitter<any> = new EventEmitter();\r\n  @Output() onblur: EventEmitter<any> = new EventEmitter();\r\n\r\n  selected = false;\r\n  focused = false;\r\n  over = false;\r\n\r\n  _readOnly = false;\r\n\r\n  styleName = 'stiJsViewerTextBox';\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() { }\r\n\r\n  keypress(event: KeyboardEvent) {\r\n    if (!this.enabled) {\r\n      return false;\r\n    }\r\n    if (event.keyCode === 13) {\r\n      this.action.emit(event.target);\r\n    }\r\n  }\r\n\r\n  onchanged(event: KeyboardEvent) {\r\n    this.onchange.emit(event.target);\r\n  }\r\n\r\n  get className(): string {\r\n    if (this._readOnly) {\r\n      return this.styleName + ' ' + this.styleName + 'Default';\r\n    }\r\n    return this.styleName + ' ' + this.styleName + (this.selected ? 'Over' : (this.enabled ? (this.over ? 'Over' : 'Default') : 'Disabled'));\r\n  }\r\n\r\n  get readOnly(): boolean {\r\n    return this._readOnly;\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { DrillDownService } from '../services/drill-down.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { Message, DrillDown } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-drill-down-panel',\r\n  template: `\r\n  <div #element [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\"\r\n    [style.display]=\"model.controls.drillDownPanel.visible ? '' : 'none'\">\r\n    <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\r\n      <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 0px; box-sizing: border-box;\"\r\n        [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\"\r\n        [style.color]=\"model.options.toolbar.fontColor\"\r\n        [style.fontFamily]=\"model.options.toolbar.fontFamily\">\r\n        <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\">\r\n              <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n                <tbody>\r\n                  <tr class=\"stiJsViewerClearAllStyles\">\r\n                    <td *ngFor=\"let button of model.drillDownButtons; index as i\" class=\"stiJsViewerClearAllStyles\" style=\"padding: 0px; border: 0px; line-height: 0;\">\r\n                      <sti-button [display]=\"button.visible ? 'inline-block': 'none'\"\r\n                        [margin]=\"'2px 1px 2px 2px'\"\r\n                        [caption]=\"button.caption\"\r\n                        [height]=\"model.options.toolbar.displayMode == 'Separated' ? '28px' : null\"\r\n                        [display]=\"'inline-block'\"\r\n                        [selected]=\"button.selected\"\r\n                        [closeButton]=\"i > 0\"\r\n                        (action)=\"action(button)\"\r\n                        (closeButtonAction)=\"close(button)\">\r\n                      </sti-button>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  `\r\n})\r\n\r\nexport class DrillDownPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public drillDownService: DrillDownService, public controller: ControllerService) {\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message?.action === 'DrillDown' && this.element) {\r\n        this.element.nativeElement.scrollTop = 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.drillDownPanel.el = this.element;\r\n  }\r\n\r\n  action(button: DrillDown) {\r\n    this.drillDownService.saveState();\r\n    this.model.drillDownButtons.forEach(b => b.selected = false);\r\n    button.selected = true;\r\n    this.model.setReportParams(button.reportParams);\r\n    this.element.nativeElement.scrollTop = 0;\r\n    this.controller.getPages();\r\n  }\r\n\r\n  close(button: DrillDown) {\r\n    button.visible = false;\r\n    if (button.selected) {\r\n      this.action(this.model.drillDownButtons[0]);\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, OnChanges, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\n\r\n@Component({\r\n  selector: 'sti-open-dialog',\r\n  template: `\r\n    <input #element *ngIf=\"model.openDialogFileMask != null\"  type=\"file\" name=\"files[]\" multiple=\"\" style=\"display: none;\"\r\n      [attr.accept]=\"model.openDialogFileMask\"\r\n      (change)=\"onchange($event)\">\r\n  `\r\n})\r\n\r\nexport class OpenDialogComponent implements OnInit, OnChanges {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  @Input() fileMask: string;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService) { }\r\n\r\n  ngOnChanges(changes: import('@angular/core').SimpleChanges): void {\r\n    if (this.fileMask != null && this.model.openDialogFileMask != null) {\r\n      setTimeout(() => {\r\n        this.element.nativeElement.focus();\r\n        this.element.nativeElement.click();\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  onchange(event: any) {\r\n    const files: any[] = event.target.files;\r\n    const fileName = files[0] ? files[0].name : 'Report';\r\n    const filePath = event.target.value;\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = (e: any) => {\r\n      this.controller.loadFile(fileName, e.target.result);\r\n    };\r\n\r\n    this.model.openDialogFileMask = null;\r\n    reader.readAsDataURL(files[0]);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { FormService } from './form.service';\r\nimport { TextBoxComponent } from '../controls/text-box.componet';\r\n\r\n@Component({\r\n  selector: 'sti-password-form',\r\n  template: `\r\n    <sti-base-form [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [color]=\"model.options.toolbar.fontColor\"\r\n      [name]=\"'passwordForm'\"\r\n      [caption]=\"model.loc('PasswordSaveReport').replace(':', '')\"\r\n      [level]=\"2\"\r\n      [defaultTop]=\"150\"\r\n      (changeVisibility)=\"changeVisibility($event)\"\r\n      (action)=\"action()\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 5px;\">\r\n        <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerCaptionControls\">\r\n              {{model.loc('PasswordEnter')}}\r\n            </td>\r\n            <td class=\"stiJsViewerCaptionControls\">\r\n              <sti-text-box #textBox [type]=\"'password'\" [width]=\"200\" [focusOnCreate]=\"true\" [value]=\"password\" (onchange)=\"password = $event.value\">\r\n              </sti-text-box>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </sti-base-form>\r\n  `\r\n})\r\n\r\nexport class PasswordFormComponent implements OnInit {\r\n\r\n  @ViewChild('textBox') textBox: TextBoxComponent;\r\n\r\n  password: string;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public formService: FormService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  changeVisibility(state: string) {\r\n    if (state === 'visible') {\r\n      this.password = '';\r\n      this.textBox.element.nativeElement.focus();\r\n    }\r\n  }\r\n\r\n  action() {\r\n    const data = this.formService.form.formData;\r\n    data.openingFilePassword = this.password;\r\n    this.formService.closeForm('passwordForm');\r\n\r\n    this.controller.postOpen(data);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { FormService } from './form.service';\r\n\r\n@Component({\r\n  selector: 'sti-error-message-form',\r\n  template: `\r\n    <sti-base-form [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [color]=\"model.options.toolbar.fontColor\"\r\n      [name]=\"'errorMessageForm'\"\r\n      [caption]=\"model.loc(model.errorMessage?.type == 'Error' ? 'Error' : 'FormViewerTitle')\"\r\n      [level]=\"4\"\r\n      [defaultTop]=\"150\"\r\n      [showCancel]=\"false\"\r\n      (action)=\"formService.closeForm('errorMessageForm')\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n        <tbody>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\">\r\n              <img [attr.src]=\"getImage()\" style=\"padding: 15px; height: 32px; width: 32px;\">\r\n            </td>\r\n            <td class=\"stiJsViewerMessagesFormDescription\" style=\"max-width: 600px;\"\r\n              [style.color]=\"model.options.toolbar.fontColor\" [innerHTML]=\"model.errorMessage?.error\">\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </sti-base-form>\r\n  `\r\n})\r\n\r\nexport class ErrorMessageFormComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService, public formService: FormService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  getImage() {\r\n    const messageType = this.model.errorMessage?.type;\r\n\r\n    if (messageType === 'Warning') {\r\n      return this.model.img('MsgFormWarning.png');\r\n    } else if (messageType === true || messageType === 'Info') {\r\n      return this.model.img('MsgFormInfo.png');\r\n    } else {\r\n      return this.model.img('MsgFormError.png');\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { Message, Resource } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { MenuItem } from '../menu/meni-item.component';\r\n\r\n@Component({\r\n  selector: 'sti-resources-panel',\r\n  template: `\r\n    <div #element style=\"z-index: 3\"\r\n      [style.display]=\"this.model.controls.resourcesPanel.visible ? '' : 'none'\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.fontColor]=\"model.options.toolbar.fontColor\"\r\n      [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\">\r\n      <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\r\n        <div class=\"stiJsViewerToolBarTable\" style=\"box-sizing: border-box; display: table;\"\r\n          [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\">\r\n          <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n            <tbody>\r\n              <tr class=\"stiJsViewerClearAllStyles\">\r\n                <td *ngFor=\"let resource of model.reportParams.resources\" class=\"stiJsViewerClearAllStyles\">\r\n                  <sti-button [caption]=\"resource.name\"\r\n                    [caption2]=\"helper.getHumanFileSize(resource.size, 1)\"\r\n                    [imageName]=\"getResourceImage(resource.type)\"\r\n                    [styleName]=\"'stiJsViewerFormButton'\"\r\n                    [height]=\"'auto'\"\r\n                    [margin]=\"'3px 0 3px 3px'\"\r\n                    [innerTableWidth]=\"'100%'\"\r\n                    [minWidth]=\"'80px'\"\r\n                    [captionAlign]=\"'left'\"\r\n                    [captionPaddingLeft]=\"'3px'\"\r\n                    [captionMaxWidth]=\"'150px'\"\r\n                    [captionLineHeight]=\"'14px'\"\r\n                    [captionWhiteSpace]=\"'nowrap'\"\r\n                    [captionOverflow]=\"'hidden'\"\r\n                    [captionTextOverflow]=\"'ellipsis'\"\r\n                    [imageCellWidth]=\"'1px'\"\r\n                    [imageCellPadding]=\"'4px 8px 4px 4px'\"\r\n                    [menuItems]=\"getMenuItems(resource)\"\r\n                    [resourceButton]=\"true\"\r\n                    [imageSizesWidth]=\"32\"\r\n                    [imageSizesHeight]=\"32\"\r\n                    [actionName]=\"getActionName(resource)\"\r\n                    (action)=\"action(resource)\">\r\n                  </sti-button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class ResourcesPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService) {\r\n    controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action === 'GetReport' || message.action === 'OpenReport') {\r\n        this.model.controls.resourcesPanel.visible = this.model.reportParams.resources?.length > 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.resourcesPanel.el = this.element;\r\n  }\r\n\r\n  action(resource: Resource) {\r\n    const resTypesAllowedViewInBrowser = ['Image', 'Pdf', 'Txt'];\r\n    const viewType = resTypesAllowedViewInBrowser.indexOf(resource.type) >= 0 ? 'View' : 'SaveFile';\r\n    this.controller.postReportResource(resource.name, this.model.options.jsMode ? 'SaveFile' : viewType);\r\n  }\r\n\r\n  getResourceImage(resourceType: string): string {\r\n    if (this.model.img('BigResource' + resourceType + '.png') !== '') {\r\n      return 'BigResource' + resourceType + '.png';\r\n    } else {\r\n      return 'BigResource.png';\r\n    }\r\n  }\r\n\r\n  getMenuItems(resource: Resource): MenuItem[] {\r\n    const items: MenuItem[] = [];\r\n    items.push({ name: 'Resource' + 'View', caption: this.model.loc('ButtonView'), value: resource });\r\n    items.push({ name: 'Resource' + 'SaveFile', caption: this.model.loc('SaveFile'), value: resource });\r\n    return items;\r\n  }\r\n\r\n  getActionName(resource: Resource): string {\r\n    if (!resource.id) {\r\n      resource.id = Math.random().toString();\r\n    }\r\n    return 'resource' + resource.name + resource.id;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-progress',\r\n  template: `\r\n    <div style=\"position: absolute; z-index: 1000; left: calc(50% - 35px);\"\r\n        [style.top]=\"model.options.appearance.fullScreenMode ? 'calc(50% - 100px)' : '250px'\"\r\n        [style.display]=\"model.showProgress ? '' : 'none'\">\r\n      <div class=\"js_viewer_loader\"></div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class ProgressComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  ngOnInit() { }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ComponentDescription, Message } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { PageService } from '../services/page.service';\r\n\r\n@Component({\r\n  selector: 'sti-navigate-panel',\r\n  template: `\r\n  <div #element class=\"stiJsViewerNavigatePanel\" style=\"display: block;\"\r\n    [style.display]=\"!model.options.isMobileDevice ? (this.model.controls.navigatePanel.visible ? '' : 'none') : ''\"\r\n    [style.transition]=\"model.options.isMobileDevice ? 'margin 300ms ease, opacity 300ms ease' : null\"\r\n    [style.zIndex]=\"model.options.isMobileDevice ? (model.options.toolbar.autoHide ? 5 : 2) : null\"\r\n    [style.opacity]=\"model.options.isMobileDevice ? (model.controls.navigatePanel.visible ? (model.options.toolbar.autoHide ? 0.9 : 1) : 0) : 1\"\r\n    [style.marginBottom]=\"model.options.isMobileDevice && !model.controls.navigatePanel.visible ? '-0.55in' : 0\">\r\n    <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n      <tbody>\r\n        <tr class=\"stiJsViewerClearAllStyles\">\r\n          <td *ngFor=\"let comp of comps\" class=\"stiJsViewerClearAllStyles\" [style.width]=\"comp.type == 'space' ? '100%' : null\">\r\n            <sti-button *ngIf=\"comp.type=='button'\"\r\n              [caption]=\"comp.caption\"\r\n              [imageName]=\"comp.img\"\r\n              [arrow]=\"comp.arrow\"\r\n              [menuItems]=\"comp.menuItems\"\r\n              [actionName]=\"comp.action\"\r\n              [tooltip]=\"comp.tooltip\"\r\n              [styleName]=\"'stiJsViewerNavigateButton'\"\r\n              [height]=\"model.options.isMobileDevice ? '0.5in' : '35px'\"\r\n              [width]=\"model.options.isMobileDevice ? '0.4in' : '35px'\"\r\n              [boxSizing]=\"'border-box'\"\r\n              [arrowMarginTop]=\"'1px'\"\r\n              [enabled]=\"enabled(comp)\"\r\n              [imageCellTextAlign]=\"'center'\"\r\n              [innerTableWidth]=\"'100%'\"\r\n              [navagationPanelTooltip]=\"true\"\r\n              [margin]=\"comp.action == 'FirstPage' ? '0 1px 0 3px' : (comp.action == 'Zoom' ? '0 3px 0 1px' : '0px 1px 0 1px')\"\r\n              [selected]=\"selected(comp)\"\r\n              (action)=\"controller.action({ name: comp.action })\">\r\n            </sti-button>\r\n\r\n            <div *ngIf=\"comp.type=='separator'\"\r\n              [style.height]=\"model.options.isMobileDevice ? '0.5in' : '35px'\"\r\n              [style.margin]=\"'0px 1px 0 1px'\"\r\n              class=\"stiJsViewerNavigatePanelSeparator\"></div>\r\n\r\n            <sti-page-control *ngIf=\"comp.type=='pageControl'\"\r\n              [enabled]=\"!(model.reportParams.pagesCount <= 1 || disableNaviButtons())\"\r\n              [count]=\"model.reportParams.pagesCount\"\r\n              [margin]=\"'0px 1px 0 1px'\"\r\n              [textBoxBorder]=\"'0px'\"></sti-page-control>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"stiJsViewerNavigatePanelDisabledPanel\" [style.display]=\"this.model.controls.navigatePanel.enabled ? 'none' : 'block'\"></div>\r\n  </div>\r\n  `\r\n})\r\n\r\nexport class NavigatePanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  public comps: ComponentDescription[] = [];\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService,\r\n    public pageService: PageService) { }\r\n\r\n  ngOnInit() {\r\n    if (this.model.options.toolbar.displayMode === 'Separated') {\r\n      this.initButtons();\r\n    }\r\n    this.controller.getMessage().subscribe((message: Message) => {\r\n      if (message.action !== 'viewer_loaded') {\r\n        this.updateButtons();\r\n      }\r\n    });\r\n    this.model.controls.navigatePanel.visible = this.model.options.toolbar.displayMode === 'Separated';\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.navigatePanel.el = this.element;\r\n  }\r\n\r\n  updateButtons() {\r\n    this.comps.filter(i => i.action === 'ViewMode').forEach(m => m.caption = this.model.loc(this.model.reportParams.viewMode));\r\n    this.comps.filter(i => i.action === 'Zoom').forEach((m) => {\r\n      m.menuItems.forEach(n => n.selected = n.name === ('Zoom' + this.model.reportParams.zoom));\r\n      m.caption = Math.round(this.model.reportParams.zoom) + '%';\r\n    });\r\n\r\n    this.comps.filter(i => i.action === 'ShowFind').forEach((m) => {\r\n      m.selected = this.model.controls.findPanel.visible;\r\n    });\r\n  }\r\n\r\n  initButtons() {\r\n    const comps: ComponentDescription[] = [];\r\n    if (this.model.options.toolbar.showFirstPageButton) {\r\n      comps.push({ type: 'button', action: 'FirstPage', img: 'PageFirst20.png', tooltip: true });\r\n    }\r\n    if (this.model.options.toolbar.showPreviousPageButton) {\r\n      comps.push({ type: 'button', action: 'PrevPage', img: 'PagePrevious20.png', tooltip: true });\r\n    }\r\n\r\n    if (this.model.options.toolbar.showCurrentPageControl) {\r\n      comps.push({ type: 'separator' });\r\n      comps.push({ type: 'pageControl' });\r\n      comps.push({ type: 'separator' });\r\n    }\r\n\r\n    if (this.model.options.toolbar.showNextPageButton) {\r\n      comps.push({ type: 'button', action: 'NextPage', img: 'PageNext20.png', tooltip: true });\r\n    }\r\n\r\n    if (this.model.options.toolbar.showLastPageButton) {\r\n      comps.push({ type: 'button', action: 'LastPage', img: 'PageLast20.png', tooltip: true });\r\n    }\r\n\r\n    comps.push({ type: 'space' });\r\n    comps.push({ type: 'button', action: 'ZoomPageWidth', img: 'ZoomPageWidth20.png', tooltip: true });\r\n    comps.push({ type: 'button', action: 'ZoomOnePage', img: 'ZoomOnePage20.png', tooltip: true });\r\n\r\n    if (this.model.options.toolbar.showZoomButton) {\r\n      comps.push({ type: 'separator' });\r\n      comps.push({\r\n        type: 'button', action: 'Zoom', caption: '100%', tooltip: true, arrow: 'Arrows.SmallArrowUpWhite.png',\r\n        menuItems: this.helper.getZoomMenuItems()\r\n      });\r\n    }\r\n\r\n    this.comps = comps;\r\n  }\r\n\r\n  enabled(desc: ComponentDescription): boolean {\r\n    const disableNaviButtons = this.disableNaviButtons();\r\n    switch (desc.action) {\r\n      case 'FirstPage':\r\n      case 'PrevPage':\r\n        return this.model.reportParams.pageNumber > 0 && !disableNaviButtons;\r\n      case 'NextPage':\r\n      case 'LastPage':\r\n        return this.model.reportParams.pageNumber < this.model.reportParams.pagesCount - 1 && !disableNaviButtons;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  selected(desc: ComponentDescription): boolean {\r\n    switch (desc.action) {\r\n      case 'ZoomPageWidth':\r\n        return Math.round(this.model.reportParams.zoom) === Math.round(this.pageService.getZoomByPageWidth());\r\n      case 'ZoomOnePage':\r\n        return Math.round(this.model.reportParams.zoom) === Math.round(this.pageService.getZoomByPageHeight());\r\n    }\r\n    return false;\r\n  }\r\n\r\n  disableNaviButtons(): boolean {\r\n    return this.model.reportParams.viewMode === 'MultiplePages' || this.model.reportParams.viewMode === 'WholeReport' ||\r\n      (this.model.reportParams.viewMode === 'Continuous' && !this.model.options.appearance.scrollbarsMode && !this.model.options.appearance.fullScreenMode);\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { Message } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { FormService } from '../forms/form.service';\r\n\r\n@Component({\r\n  selector: 'sti-about-panel',\r\n  template: `\r\n    <div #element class=\"stiJsViewerAboutPanel\" style=\"background-size: contain;\"\r\n      [style.display]=\"formService.form?.name == 'about' ? '' : 'none'\"\r\n      [style.left.px]=\"left\"\r\n      [style.top.px]=\"top\"\r\n      [style.opacity]=\"opacity\"\r\n      (click)=\"close()\" >\r\n      <div class=\"stiJsViewerAboutPanelHeader\">\r\n        Stimulsoft Reports\r\n      </div>\r\n      <img src=\"{{model.img('About.png')}}\" style=\"margin-top: 30px; height: 94px; width: 94px;\">\r\n      <div class=\"stiJsViewerAboutPanelCopyright\">\r\n        {{'Copyright 2003-' + year + ' Stimulsoft'}}\r\n      </div>\r\n      <div class=\"stiJsViewerAboutPanelVersion\">\r\n        {{model.options.productVersion?.trim()}}, {{model.options?.frameworkType}}, Angular\r\n      </div>\r\n      <div class=\"stiJsViewerAboutPanelVersion\">\r\n        All rights reserved\r\n      </div>\r\n      <div class=\"stiJsViewerAboutPanelVersion\" style=\"margin-top: 20px;font-weight: bold; \"\r\n        [style.color]=\"isLicensed() ? 'red' : '#444444'\"\r\n        [style.display]=\"isLicensed() || userLabel ? '' : 'none'\">\r\n        {{userLabel}}\r\n      </div>\r\n      <div class=\"stiJsViewerFormSeparator\" style=\"margin-top: 20px;\">\r\n      </div>\r\n      <div class=\"stiJsViewerAboutPanelStiLink\" (click)='click($event)'>\r\n        www.stimulsoft.com\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class AboutPanelComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  year: number = new Date().getFullYear();\r\n  jsHelper: any;\r\n  top = 0;\r\n  left = 0;\r\n  opacity = 0;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService,\r\n    public formService: FormService) {\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      if (message.action === 'About') {\r\n        this.formService.form = { name: 'about', left: 0, top: 0, isMooving: false, level: 2 };\r\n        this.opacity = 0;\r\n        setTimeout(() => {\r\n          this.top = this.model.viewerSize.height / 2 - this.element.nativeElement.offsetHeight / 2;\r\n          this.left = this.model.viewerSize.width / 2 - this.element.nativeElement.offsetWidth / 2;\r\n          this.opacity = 1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  close() {\r\n    this.formService.closeForm('about');\r\n  }\r\n\r\n  click(event: any) {\r\n    if (event) {\r\n      event.stopPropagation();\r\n      event.preventDefault();\r\n    }\r\n    this.helper.openNewWindow('https://www.stimulsoft.com');\r\n  }\r\n\r\n  isLicensed(): boolean {\r\n    return !this.model.options.cloudMode && !this.model.options.serverMode && !this.model.options.standaloneJsMode &&\r\n      !this.model.options.reportDesignerMode && !this.model.options.licenseIsValid;\r\n  }\r\n\r\n  get userLabel(): string {\r\n    let userName = this.model.options.licenseUserName || '';\r\n    if (this.isLicensed()) {\r\n      if (userName) {\r\n        userName += ', ';\r\n      }\r\n      return userName + this.helper.getBackText(true) + ' Version';\r\n    } else {\r\n      return userName;\r\n    }\r\n  }\r\n}\r\n","import { Component, OnInit, Input, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ToolbarService } from '../services/toolbar.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { ComponentDescription } from '../services/objects';\r\n\r\n@Component({\r\n  selector: 'sti-toolbar-dop',\r\n  template: `\r\n    <table #mainTable\r\n      class=\"stiJsViewerClearAllStyles\"\r\n      cellpadding=\"0\"\r\n      cellspacing=\"0\"\r\n      style=\"margin: 1px;\"\r\n      [attr.align]=\"align\"\r\n      [style.marginLeft]=\"marginLeft\">\r\n      <tbody>\r\n        <tr class=\"stiJsViewerClearAllStyles\">\r\n          <td *ngFor=\"let comp of comps\" class=\"stiJsViewerClearAllStyles\">\r\n            <sti-button *ngIf=\"comp.type=='button'\"\r\n              [caption]=\"model.options.toolbar.showButtonCaptions ? comp.caption : null\"\r\n              [imageName]=\"comp.img\"\r\n              [arrow]=\"!model.options.isMobileDevice ? comp.arrow : null\"\r\n              [menuItems]=\"comp.menuItems\"\r\n              [actionName]=\"comp.action\"\r\n              [tooltip]=\"comp.tooltip\"\r\n              [enabled]=\"toolbarService.enabled(comp)\"\r\n              [display]=\"toolbarService.display(comp)\"\r\n              [innerTableWidth]=\"toolbarService.getInnerTableWidth(comp)\"\r\n              [width]=\"toolbarService.getButonWidth(comp)\"\r\n              [height]=\"model.options.toolbar.displayMode == 'Separated' ? (model.options.isMobileDevice ? '0.5in' : '28px') : null\"\r\n              (action)=\"controller.action({ name: comp.action });\"\r\n              [selected]=\"toolbarService.selected(comp)\"></sti-button>\r\n            <sti-toolbar-separator *ngIf=\"comp.type=='separator'\"></sti-toolbar-separator>\r\n            <sti-page-control *ngIf=\"comp.type=='pageControl'\" [enabled]=\"!(model.reportParams.pagesCount <= 1 || toolbarService.disableNaviButtons())\" [count]=\"model.reportParams.pagesCount\" ></sti-page-control>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  `\r\n})\r\n\r\nexport class ToolbarDopComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('mainTable') mainTable: ElementRef;\r\n\r\n  @Input() comps: ComponentDescription[];\r\n  @Input() align: string;\r\n\r\n  public marginLeft = '1px';\r\n\r\n  viewInit = false;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public toolbarService: ToolbarService) { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.viewInit = true;\r\n\r\n    setTimeout(() => {\r\n      const width = this.mainTable?.nativeElement?.offsetWidth;\r\n      this.marginLeft = this.viewInit && this.model.options.toolbar.alignment === 'Center' && width ? `calc(50% - ${Math.trunc(width / 2)}px)` : '1px';\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { ControllerService } from '../services/controller.service';\r\nimport { Message } from '../services/objects';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Component({\r\n  selector: 'sti-center-text',\r\n  template: `\r\n    <div #element\r\n      style=\"position: absolute; z-index: 1000; transition-property: opacity; transition-duration: 300ms; text-shadow: rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px; font-size: 100px;\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.color]=\"model.options.toolbar.fontColor\"\r\n      [style.opacity]=\"opacity\"\r\n      [style.display]=\"display\">\r\n      <div>\r\n        {{text}}\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class CenterTextComponent implements OnInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  public text = '';\r\n  public opacity = 0;\r\n  public display = 'none';\r\n\r\n  private hideTimer: any;\r\n\r\n  constructor(public model: ModelService, public controller: ControllerService, public helper: HelperService) {\r\n    controller.getActionMessage().subscribe((message: Message) => {\r\n      switch (message.action) {\r\n        case 'centerText':\r\n          this.show(message.data);\r\n          break;\r\n\r\n        case 'hideCenterText':\r\n          this.hide();\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  public show(text: string) {\r\n    this.display = '';\r\n    this.opacity = 0;\r\n    this.text = text;\r\n    setTimeout(() => {\r\n      this.helper.setObjectToCenter(this.element.nativeElement);\r\n      this.opacity = 1;\r\n    });\r\n\r\n    if (this.hideTimer) { clearTimeout(this.hideTimer); }\r\n    this.hideTimer = setTimeout(() => {\r\n      this.hide();\r\n    }, 2000);\r\n  }\r\n\r\n  public hide() {\r\n    this.opacity = 0;\r\n    if (this.hideTimer) { clearTimeout(this.hideTimer); }\r\n    this.hideTimer = setTimeout(() => {\r\n      this.display = 'none';\r\n    }, 300);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { FormService } from './form.service';\r\n\r\n@Component({\r\n  selector: 'sti-notification-form',\r\n  template: `\r\n  <sti-base-form [fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [color]=\"model.options.toolbar.fontColor\"\r\n      [name]=\"'notificationForm'\"\r\n      [defaultTop]=\"150\"\r\n      [caption]=\"model.loc('Viewer')\"\r\n      [level]=\"4\"\r\n      [showButtons]=\"false\"\r\n      [showSeparator]=\"false\"\r\n      (changeVisibility)=\"changeVisibility($event)\">\r\n      <table class=\"stiJsViewerClearAllStyles\" cellpadding=\"0\" cellspacing=\"0\">\r\n        <tbody>\r\n          <tr *ngIf=\"model.notificationFormOptions?.image\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"text-align: center;\">\r\n              <img src=\"{{model.img(model.notificationFormOptions?.image)}}\" style=\"margin-top: 20px; width: 112px; height: 112px;\">\r\n            </td>\r\n          </tr>\r\n          <tr *ngIf=\"model.notificationFormOptions?.message\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\">\r\n              <div class=\"stiJsViewerNotificationFormMessage\">\r\n                {{model.notificationFormOptions?.message}}\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr *ngIf=\"model.notificationFormOptions?.description\" class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\">\r\n              <div class=\"stiJsViewerNotificationFormDescription\">\r\n                {{model.notificationFormOptions?.description}}\r\n              </div>\r\n            </td>\r\n          </tr>\r\n          <tr class=\"stiJsViewerClearAllStyles\">\r\n            <td class=\"stiJsViewerClearAllStyles\" style=\"text-align: center;\">\r\n              <sti-button\r\n                [caption]=\"model.notificationFormOptions?.buttonCaption\"\r\n                [styleName]=\"'stiJsViewerLoginButton'\"\r\n                [innerTableWidth]=\"'100%'\"\r\n                [height]=\"'40px'\"\r\n                [minWidth]=\"'80px'\"\r\n                [captionAlign]=\"'center'\"\r\n                [cursor]=\"'pointer'\"\r\n                [display]=\"'inline-block'\"\r\n                [minWidth]=\"'200px'\"\r\n                [width]=\"'auto'\"\r\n                [margin]=\"'20px 30px 30px 30px'\"\r\n                [fontSize]=\"'14px'\"\r\n                (action)=\"action()\">\r\n              </sti-button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </sti-base-form>\r\n    `\r\n})\r\n\r\nexport class NotificationFormComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService, public formService: FormService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  changeVisibility(state: string) {\r\n    if (state === 'hidden' && this.model.notificationFormOptions?.cancelAction) {\r\n      this.model.notificationFormOptions.cancelAction();\r\n    }\r\n  }\r\n\r\n  action() {\r\n    this.model.notificationFormOptions?.action ? this.model.notificationFormOptions.action() : this.formService.closeForm('notificationForm');\r\n  }\r\n}\r\n","import { Component, OnInit, AfterViewInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\nimport { HelperService } from '../services/helper.service';\r\nimport { DashboardService } from '../services/dashboard.service';\r\n\r\n@Component({\r\n  selector: 'sti-dashboards-panel',\r\n  template: `\r\n    <div #element\r\n      [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\"\r\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\r\n      [style.fontColor]=\"helper.val(model.options.toolbar.fontColor)\"\r\n      [style.display]=\"model.controls.dashboardsPanel.visible ? '' : 'none'\"\r\n      [style.background]=\"dbsMode ? 'transparent' : ''\"\r\n      [style.borderColor]=\"dbsMode ? 'transparent' : ''\">\r\n      <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\r\n        <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 0px; box-sizing: border-box;\"\r\n          [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\"\r\n          [style.background]=\"dbsMode ? 'transparent' : ''\"\r\n          [style.borderColor]=\"dbsMode ? 'transparent' : ''\">\r\n          <tbody>\r\n            <tr class=\"stiJsViewerClearAllStyles\">\r\n              <td class=\"stiJsViewerClearAllStyles\" style=\"width: 100%;\">\r\n                <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\"\r\n                  [style.align]=\"model.options.appearance.rightToLeft ? 'right' : (model.options.toolbar.alignment == 'default' ? 'left' : model.options.toolbar.alignment)\">\r\n                  <tbody>\r\n                      <tr>\r\n                         <td *ngFor=\"let info of model.reportParams.dashboards; let i=index\">\r\n                            <sti-dashboard-button\r\n                              [info]=\"info\"\r\n                              [dbsMode]=\"dbsMode\"\r\n                              [display]=\"dashboardsCount == 1 && reportsCount == 0 ? 'none': null\">\r\n                            </sti-dashboard-button>\r\n                        </td>\r\n                      </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n\r\n              <!-- actions table -->\r\n              <td class=\"stiJsViewerClearAllStyles\">\r\n                <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin-right:2px\">\r\n                  <tbody>\r\n                      <tr>\r\n                        <td *ngIf=\"model.options.toolbar.showRefreshButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Refresh.png'\"\r\n                            [tooltip]=\"model.loc('Refresh')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'Refresh'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardRefreshButton ? '' : 'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showParametersButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Parameters.png'\"\r\n                            [tooltip]=\"model.loc('Parameters')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'Parameters'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showOpenButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Open.png'\"\r\n                            [tooltip]=\"model.loc('Open')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'OpenDashboard'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardOpenButton ? '' : 'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showDesignButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Edit.png'\"\r\n                            [tooltip]=\"model.loc('Edit')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'postDesign'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardEditButton ? '' : 'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showFullScreenButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'CloseFullScreen.png'\"\r\n                            [caption]=\"model.loc('Close')\"\r\n                            [tooltip]=\"model.loc('FullScreen')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'postFullScreen'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardFullScreenButton ? '' : 'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n\r\n                        <td *ngIf=\"model.options.toolbar.showSaveButton && model.options.toolbar.visible\">\r\n                          <sti-button [imageName]=\"imagesPath + 'Menu.png'\"\r\n                            [tooltip]=\"model.loc('Save')\"\r\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\r\n                            [margin]=\"'2px 0 2px 2px'\"\r\n                            [actionName]=\"'ExportDashboard'\"\r\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\r\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\r\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\r\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardMenuButton && ((previewSettings.dashboardShowReportSnapshots && !model.options.jsMode) || previewSettings.dashboardShowExports) ? '' :'none'\">\r\n                          </sti-button>\r\n                        </td>\r\n                      </tr>\r\n                  </tbody>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  `\r\n})\r\n\r\nexport class DashboardsPanelComponent implements OnInit, AfterViewInit {\r\n\r\n  @ViewChild('element') element: ElementRef;\r\n\r\n  public imagesPath = 'Dashboards.Actions.Light.';\r\n\r\n  constructor(public model: ModelService, public helper: HelperService, public dashboardService: DashboardService) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.model.controls.navigatePanel.el = this.element;\r\n  }\r\n\r\n\r\n  get dbsMode(): boolean {\r\n    return this.dashboardsCount > 0 && this.reportsCount === 0;\r\n  }\r\n\r\n  get dashboardsCount(): number {\r\n    let count = 0;\r\n    if (this.model?.reportParams?.dashboards) {\r\n      (this.model.reportParams.dashboards as []).forEach(i => {\r\n        if (i['type'] === 'Dashboard') {\r\n          count++;\r\n        }\r\n      });\r\n    }\r\n    return count;\r\n  }\r\n\r\n  get reportsCount(): number {\r\n    if (this.model?.reportParams?.dashboards) {\r\n      return (this.model.reportParams.dashboards as []).length - this.dashboardsCount;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  get previewSettings(): any {\r\n    return this.model.reportParams.previewSettings || {};\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModelService } from '../services/model.service';\r\n\r\n@Component({\r\n  selector: 'sti-dashboard-button',\r\n  template: `\r\n    <sti-button\r\n      [margin]=\"'2px 1px 2px 2px'\"\r\n      [display]=\"display\"\r\n      [borderColor]=\"!dbsMode ? 'transparent' : ''\"\r\n      [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\">\r\n    </sti-button>\r\n  `\r\n})\r\n\r\nexport class DashboardButtonComponent implements OnInit {\r\n\r\n  constructor(public model: ModelService) { }\r\n\r\n  @Input() showCloseButton = false;\r\n  @Input() info: any;\r\n  @Input() dbsMode: boolean;\r\n  @Input() display: string;\r\n\r\n  ngOnInit() { }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { StimulsoftViewerComponent } from './stimulsoft-viewer-angular.component';\r\nimport { StiHttpClientService } from './services/http-client.service';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonComponent } from './controls/button.component';\r\nimport { PageComponent } from './components/page.component';\r\nimport { ReportPanelComponent } from './components/report-panel.component';\r\nimport { ModelService } from './services/model.service';\r\nimport { ControllerService } from './services/controller.service';\r\nimport { StylesService } from './services/styles.service';\r\nimport { ToolbarComponent } from './components/toolbar.component';\r\nimport { ToolbarSeparatorComponent } from './controls/toolbar-separator.component';\r\nimport { HelperService } from './services/helper.service';\r\nimport { PageControlComponent } from './controls/page-control.component';\r\nimport { TextBoxComponent } from './controls/text-box.componet';\r\nimport { MenuComponent } from './menu/menu.component';\r\nimport { MenuItemComponent } from './menu/meni-item.component';\r\nimport { MenuService } from './menu/menu.service';\r\nimport { MouseService } from './services/mouse.service';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { PageService } from './services/page.service';\r\nimport { TooltipComponent } from './controls/tooltip.component';\r\nimport { TooltipService } from './services/tooltip.service';\r\nimport { FindPanelComponent } from './components/find-panel.component';\r\nimport { TextBlockComponent } from './controls/text-block.component';\r\nimport { FindService } from './services/find.service';\r\nimport { AnimationService } from './services/animation.service';\r\nimport { BookmarksPanelComponent } from './components/bookmarks-panel.component';\r\nimport { Md5Service } from './services/md5.service';\r\nimport { InteractionsService } from './services/interactions.service';\r\nimport { InteractionsPanelComponent } from './components/interactions-panel.component';\r\nimport { FormButtonComponent } from './controls/form-button.component';\r\nimport { ParameterComponent } from './controls/parameters/parameter.component';\r\nimport { ParameterTextBoxComponent } from './controls/parameters/parameter-text-box.component';\r\nimport { CheckboxComponent } from './controls/checkbox.component';\r\nimport { ParameterCheckboxComponent } from './controls/parameters/parameter-checkbox.component';\r\nimport { ParameterButtonComponent } from './controls/parameters/parameter-button.component';\r\nimport { ParameterMenuEditListComponent } from './menu/parameter-menu-edit-list.component';\r\nimport { ParameterMenuItemComponent } from './menu/parameter-menu-item.component';\r\nimport { ParameterMenuSeparatorComponent } from './menu/parameter-menu-separator.component';\r\nimport { ParameterFindComponent } from './controls/parameters/parameter-find.component';\r\nimport { ParameterMenuNotEditListComponent } from './menu/parameter-menu-not-edit-list.component';\r\nimport { ParameterMenuForValueComponent } from './menu/parameter-menu-for-value.component';\r\nimport { ParameterMenuForRangeComponent } from './menu/parameter-menu-for-range.component';\r\nimport { DatePickerMenuComponent } from './menu/date-picker-menu.component';\r\nimport { DropDownListComponent } from './controls/drop-down-list.component';\r\nimport { VerticalMenuComponent } from './menu/vertical-menu.component';\r\nimport { VerticalMenuItemComponent } from './menu/vertical-menu-item.component';\r\nimport { DatePickerDayButtonComponent } from './controls/date-picker-day-button.component';\r\nimport { DoubleDatePickerMenuComponent } from './menu/double-date-picker-menu.component';\r\nimport { BaseFormComponent } from './forms/base-form.component';\r\nimport { FormService } from './forms/form.service';\r\nimport { ExportFormComponent } from './forms/export-form.component';\r\nimport { GroupPanelComponent } from './forms/group-panel.component';\r\nimport { RadioButtonComponent } from './controls/radio-button.components';\r\nimport { RadioButtonService } from './services/radio-button.service';\r\nimport { ExportService } from './services/export.service';\r\nimport { DropDownListForExportFormComponent } from './controls/drop-down-list-for-export-form.component';\r\nimport { CollectionsService } from './services/collections.service';\r\nimport { DocumentSecurityMenuComponent } from './menu/document-security-menu.component';\r\nimport { DigitalSignatureMenuComponent } from './menu/digital-signature-menu.component copy';\r\nimport { SendEmailFormComponent } from './forms/send-email-form.component';\r\nimport { MailService } from './services/mail.service';\r\nimport { TextAreaComponent } from './controls/text-area.component';\r\nimport { EditableFieldsService } from './services/editable-fields.service';\r\nimport { DrillDownPanelComponent } from './components/drill-down-panel.component';\r\nimport { DrillDownService } from './services/drill-down.service';\r\nimport { PrintService } from './services/print.service';\r\nimport { OpenDialogComponent } from './components/open-dialog.component';\r\nimport { PasswordFormComponent } from './forms/password-form.component';\r\nimport { ErrorMessageFormComponent } from './forms/error-message-form.component';\r\nimport { ResourcesPanelComponent } from './components/resources-panel.component';\r\nimport { FullScreenService } from './services/full-screen.service';\r\nimport { ProgressComponent } from './components/progress.component';\r\nimport { NavigatePanelComponent } from './components/navigate-panel.component';\r\nimport { AboutPanelComponent } from './components/about-panel.component';\r\nimport { ToolbarDopComponent } from './components/toolbar-dop.component';\r\nimport { ToolbarService } from './services/toolbar.service';\r\nimport { CenterTextComponent } from './components/center-text.component';\r\nimport { NotificationFormComponent } from './forms/notification-form.component';\r\nimport { ApiService } from './services/api.service';\r\nimport { DashboardsPanelComponent } from './components/dashboards-panel.component';\r\nimport { DashboardService } from './services/dashboard.service';\r\nimport { DashboardButtonComponent } from './controls/dashboard-panel-button.component';\r\n\r\n@NgModule({\r\n  declarations: [StimulsoftViewerComponent, ToolbarComponent, ButtonComponent, PageComponent, ReportPanelComponent, ToolbarSeparatorComponent, PageControlComponent, TextBoxComponent,\r\n    MenuComponent, MenuItemComponent, TooltipComponent, FindPanelComponent, TextBlockComponent, BookmarksPanelComponent, InteractionsPanelComponent, FormButtonComponent,\r\n    ParameterComponent, ParameterTextBoxComponent, CheckboxComponent, ParameterCheckboxComponent, ParameterButtonComponent, ParameterMenuEditListComponent,\r\n    ParameterMenuItemComponent, ParameterMenuSeparatorComponent, ParameterFindComponent, ParameterMenuNotEditListComponent, ParameterMenuForValueComponent,\r\n    ParameterMenuForRangeComponent, DatePickerMenuComponent, DropDownListComponent, VerticalMenuComponent, VerticalMenuItemComponent, DatePickerDayButtonComponent,\r\n    DoubleDatePickerMenuComponent, BaseFormComponent, ExportFormComponent, GroupPanelComponent, RadioButtonComponent, DropDownListForExportFormComponent,\r\n    DocumentSecurityMenuComponent, DigitalSignatureMenuComponent, SendEmailFormComponent, TextAreaComponent, DrillDownPanelComponent, OpenDialogComponent,\r\n    PasswordFormComponent, ErrorMessageFormComponent, ResourcesPanelComponent, ProgressComponent, NavigatePanelComponent, AboutPanelComponent, ToolbarDopComponent,\r\n    CenterTextComponent, NotificationFormComponent, DashboardsPanelComponent, DashboardButtonComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  providers: [],\r\n  exports: [StimulsoftViewerComponent]\r\n})\r\nexport class StimulsoftViewerModule { }\r\n"],"names":["Subject","Injectable","timeout","catchError","throwError","HttpClient","EventEmitter","ViewChild","Output","Input","Component","trigger","state","style","transition","animate","keyframes","NgModule","CommonModule"],"mappings":"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S,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,QAAQ,CAAC,CAAC;YAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,CAA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"}