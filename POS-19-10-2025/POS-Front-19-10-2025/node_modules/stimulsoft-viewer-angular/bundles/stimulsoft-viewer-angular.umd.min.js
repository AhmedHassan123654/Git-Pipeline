!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@angular/animations")):"function"==typeof define&&define.amd?define("stimulsoft-viewer-angular",["exports","@angular/core","@angular/common/http","rxjs","rxjs/operators","@angular/common","@angular/animations"],t):t((e=e||self)["stimulsoft-viewer-angular"]={},e.ng.core,e.ng.common.http,e.rxjs,e.rxjs.operators,e.ng.common,e.ng.animations)}(this,(function(e,t,o,i,n,s,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function a(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var p=function(){function e(){this.toolbar=new m,this.reportPanel=new m,this.drillDownPanel=new m,this.findPanel=new m,this.resourcesPanel=new m,this.bookmarksPanel=new m,this.navigatePanel=new m,this.parametersPanel=new m,this.dashboardsPanel=new m,this.viewer=new m,this.tooltip=new m,this.aboutPanel=new m}return Object.defineProperty(e.prototype,"head",{get:function(){return document.getElementsByTagName("head")[0]},enumerable:!0,configurable:!0}),e}(),m=function(){function e(e,t){this.pageService=e,this.el=t,this._visible=!1,this.subject=new i.Subject,this.enabled=!0,this.layout=new c}return Object.defineProperty(e.prototype,"offsetHeight",{get:function(){var e;return(null===(e=this.el)||void 0===e?void 0:e.nativeElement.offsetHeight)||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetWidth",{get:function(){var e;return(null===(e=this.el)||void 0===e?void 0:e.nativeElement.offsetWidth)||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){var t;this._visible=e,this.subject.next(e),null===(t=this.pageService)||void 0===t||t.calculateLayout()},enumerable:!0,configurable:!0}),e.prototype.getVisibility=function(){return this.subject.asObservable()},Object.defineProperty(e.prototype,"exists",{get:function(){return null!=this.el},enumerable:!0,configurable:!0}),e}(),c=function(){function e(e,t,o,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===n&&(n=0),this.width=e,this.height=t,this.left=o,this.bottom=i,this.right=n,this._top=0}return Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(e){this._top=e},enumerable:!0,configurable:!0}),e}(),d=function(e,t,o,i,n,s,r,a,l,p,m,c,d,h,u,g){void 0===c&&(c=!0),void 0===h&&(h=!0),this.name=e,this.alias=t,this.description=o,this.basicType=i,this.type=n,this.allowUserValues=s,this.dateTimeType=r,this.items=a,this.key=l,this.value=p,this.keyTo=m,this.isChecked=c,this.focusOnCreate=d,this.visible=h,this.binding=u,this.isNull=g},h=function(e,t,o,i,n,s){this.year=e,this.month=t,this.day=o,this.hours=i,this.minutes=n,this.seconds=s},u=function(e,t,o,i,n,s,r,a){this.name=e,this.caption=t,this.imageName=o,this.key=i,this.haveSubMenu=n,this.imageSizes=s,this.selected=r,this.type=a},g=function(){function e(){this._reportParams={},this.controls=new p,this.pages=[],this.months=[],this.dayOfWeek=[],this.dateRanges=[],this.encodingData=[],this.pdfSecurityCertificates=[],this.paperSizes=[],this.drillDownButtons=[],this.showProgress=!1}return Object.defineProperty(e.prototype,"reportParams",{get:function(){return this._reportParams},set:function(e){this._reportParams.pagesArray=e.pagesArray,e.action&&"GetPages"!==e.action&&(this.reportParams.type=e.reportType,this.reportParams.drillDownGuid=e.drillDownGuid,this.reportParams.dashboardDrillDownGuid=e.dashboardDrillDownGuid,this.reportParams.pagesCount=e.pagesCount,null!=e.pageNumber&&(this.reportParams.pageNumber=e.pageNumber),this.reportParams.zoom=e.zoom,this.reportParams.viewMode=e.viewMode,this.reportParams.reportFileName=e.reportFileName,this.reportParams.collapsingStates=e.collapsingStates,e.bookmarksContent&&(this.reportParams.bookmarksContent=e.bookmarksContent),e.resources&&(this.reportParams.resources=e.resources),this.reportParams.isCompilationMode=e.isCompilationMode,e.variablesValues&&(this.reportParams.variablesValues=e.variablesValues),e.parametersDateFormat&&(this.options.appearance.parametersPanelDateFormat=e.parametersDateFormat),e.tableOfContentsPointers&&(this.reportParams.tableOfContentsPointers=e.tableOfContentsPointers),this.reportParams.isEditableReport=e.isEditableReport,e.userValues&&(this.options.userValues=e.userValues),this.reportParams.dashboards=e.dashboards,this.reportParams.previewSettings=e.previewSettings)},enumerable:!0,configurable:!0}),e.prototype.setReportParams=function(e){this._reportParams=e},e.prototype.getReportParams=function(){return this.copyObject(this._reportParams)},e.prototype.copyObject=function(e){if(!e||"object"!=typeof e)return e;var t,o,i="function"==typeof e.pop?[]:{};for(t in e)e.hasOwnProperty(t)&&"pagesArray"!==t&&(o=e[t],i[t]=o&&"object"==typeof o?this.copyObject(o):o);return i},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){if(this._options=this.toLower(e.options),e.jsOptions)for(var t in e.jsOptions)e.jsOptions.hasOwnProperty(t)&&(this._options[t]=e.jsOptions[t]);this._options.exports.defaultSettings=e.defaultSettings,this.localization=e.loc,this.months=e.months,this.dayOfWeek=e.dayOfWeek,this.images=e.images,this.dateRanges=e.dateRanges,this.paperSizes=e.paperSizes,this.encodingData=e.encodingData,this.pdfSecurityCertificates=e.pdfSecurityCertificates,this.clearViewerState(),this.setupOptions()},enumerable:!0,configurable:!0}),e.prototype.loc=function(e){var t;return null!=(t=this.localization[e])?t:e},e.prototype.img=function(e){var t;return null!=e&&e.length>0&&this.images[e],null!=(t=this.images[e])?t:""},e.prototype.toLower=function(e){var t=this,o={};return Object.keys(e).forEach((function(i){o[i.substr(0,1).toLowerCase()+i.substr(1)]="object"==typeof e[i]&&null!==e[i]?t.toLower(e[i]):e[i]})),o},e.prototype.clear=function(){this._options=void 0,this._reportParams={},this._imagesForBookmark=void 0,this.pages=[],this.form=null},e.prototype.clearViewerState=function(){this.reportParams={},this.reportParams.type="Auto",this.reportParams.pageNumber=0,this.reportParams.originalPageNumber=0,this.reportParams.drillDownGuid=null,this.reportParams.dashboardDrillDownGuid=null,this.reportParams.collapsingStates=null,this.reportParams.bookmarksContent=null,this.reportParams.editableParameters=null,this.reportParams.resources=null,this.reportParams.drillDownParameters=[],this.reportParams.elementName=null,this.reportParams.variablesValues=null,this.reportParams.tableOfContentsPointers=[],this.reportParams.isEditableReport=!1,this.options.viewerId=this.newToken(),this.options.clientGuid=this.newToken(),this.options.paramsVariables=null,this.options.multiFilterStates=null,this.options.isParametersReceived=!1,this.options.drillDownInProgress=!1,this.reportParams.prevPageNumber&&(this.reportParams.pageNumber=this.reportParams.prevPageNumber,delete this.reportParams.prevPageNumber),this.fullScreenOptions=null,this.drillDownButtons=[],this.controls.parametersPanel.visible=!1,this.controls.bookmarksPanel.visible=!1,this.interactions=null},e.prototype.style=function(e){return""!==e&&null!=e?e:""},e.prototype.createPostParameters=function(e,t,o){var i,n,s,r,a;void 0===t&&(t=!0),void 0===o&&(o=!0);var l={stiweb_component:"Viewer",stiweb_imagesScalingFactor:this.getImagesScalingFactor()};if(this.properties&&(l.properties=btoa(JSON.stringify(this.properties))),this.options&&o?(a={viewerId:this.options.viewerId,routes:this.options.routes,formValues:this.options.formValues,clientGuid:this.options.clientGuid,drillDownGuid:this.reportParams.drillDownGuid,dashboardDrillDownGuid:this.reportParams.dashboardDrillDownGuid,cacheMode:this.options.server.cacheMode,cacheTimeout:this.options.server.cacheTimeout,cacheItemPriority:this.options.server.cacheItemPriority,pageNumber:this.reportParams.pageNumber,originalPageNumber:this.reportParams.originalPageNumber,reportType:this.reportParams.type,zoom:this.reportParams.zoom&&this.reportParams.zoom>0?this.reportParams.zoom:(null===(n=null===(i=this.options)||void 0===i?void 0:i.toolbar)||void 0===n?void 0:n.zoom)>0?null===(r=null===(s=this.options)||void 0===s?void 0:s.toolbar)||void 0===r?void 0:r.zoom:100,viewMode:this.reportParams.viewMode||this.options.toolbar.viewMode,multiPageWidthCount:this.reportParams.multiPageWidthCount,multiPageHeightCount:this.reportParams.multiPageHeightCount,multiPageContainerWidth:this.reportParams.multiPageContainerWidth,multiPageContainerHeight:this.reportParams.multiPageContainerHeight,multiPageMargins:this.reportParams.multiPageMargins,showBookmarks:this.options.toolbar.showBookmarksButton,openLinksWindow:this.options.appearance.openLinksWindow,chartRenderType:this.options.appearance.chartRenderType,reportDisplayMode:this.options.appearance.reportDisplayMode,drillDownParameters:this.reportParams.drillDownParameters,editableParameters:this.reportParams.editableParameters,useRelativeUrls:this.options.server.useRelativeUrls,passQueryParametersForResources:this.options.server.passQueryParametersForResources,passQueryParametersToReport:this.options.server.passQueryParametersToReport,version:this.options.shortProductVersion,reportDesignerMode:this.options.reportDesignerMode,imagesQuality:this.options.appearance.imagesQuality,parametersPanelSortDataItems:this.options.appearance.parametersPanelSortDataItems,combineReportPages:this.options.appearance.combineReportPages,isAngular:!0,allowAutoUpdateCookies:this.options.server.allowAutoUpdateCookies},this.options.server.useLocalizedCache&&this.options.localization&&(a.useLocalizedCache=!0,a.localization=this.options.localization),this.options.userValues&&(a.userValues=this.options.userValues)):a={},e&&Object.keys(e).forEach((function(t){return a[t]=e[t]})),a.action&&(l.stiweb_action=a.action,delete a.action),a.base64Data&&(l.stiweb_data=a.base64Data,delete a.base64Data),this.options&&o){var p=JSON.stringify(a);this.options.server.useCompression,l.stiweb_parameters=btoa(p)}if(t)return l},e.prototype.newToken=function(){for(var e="1234567890abcdefghijklmnopqrstuvwxyz".split(""),t=[],o=0;o<32;o++){var i=(Math.random()*(e.length-1)).toFixed(0);t[o]=e[i]}return t.join("")},e.prototype.setupOptions=function(){var e,t,o,i,n,s;if(this.options.exports.showExportToPowerPoint||this.options.exports.showExportToPdf||this.options.exports.showExportToXps||this.options.exports.showExportToOpenDocumentWriter||this.options.exports.showExportToOpenDocumentCalc||this.options.exports.showExportToText||this.options.exports.showExportToRtf||this.options.exports.showExportToWord2007||this.options.exports.showExportToCsv||this.options.exports.showExportToJson||this.options.exports.showExportToDbf||this.options.exports.showExportToXml||this.options.exports.showExportToDif||this.options.exports.showExportToSylk||this.options.exports.showExportToExcel||this.options.exports.showExportToExcel2007||this.options.exports.showExportToExcelXml||this.options.exports.showExportToHtml||this.options.exports.showExportToHtml5||this.options.exports.showExportToMht||this.options.exports.showExportToImageBmp||this.options.exports.showExportToImageGif||this.options.exports.showExportToImageJpeg||this.options.exports.showExportToImageMetafile||this.options.exports.showExportToImagePcx||this.options.exports.showExportToImagePng||this.options.exports.showExportToImageTiff||this.options.exports.showExportToImageSvg||this.options.exports.showExportToImageSvgz||(this.options.exports.showExportToDocument||(this.options.toolbar.showSaveButton=!1),this.options.toolbar.showSendEmailButton=!1),this.options.isTouchDevice="Auto"===this.options.appearance.interfaceType?this.isTouchDevice()&&this.isMobileDevice():"Touch"===this.options.appearance.interfaceType,this.options.isMobileDevice="Auto"!==this.options.appearance.interfaceType||this.options.reportDesignerMode?"Mobile"===this.options.appearance.interfaceType:this.isTouchDevice()&&this.isMobileDevice(),this.options.isMobileDevice?this.initializeMobile():this.options.toolbar.showPinToolbarButton=!1,this.controls.toolbar.visible=this.options.toolbar.visible,this.options.menuAnimDuration=150,this.options.formAnimDuration=200,this.options.scrollDuration=350,this.options.menuHideDelay=250,this.options.server.timeoutAutoUpdateCache=18e4,this.options.toolbar.backgroundColor=this.getHTMLColor(this.options.toolbar.backgroundColor),this.options.toolbar.borderColor=this.getHTMLColor(this.options.toolbar.borderColor),this.options.toolbar.fontColor=this.getHTMLColor(this.options.toolbar.fontColor),this.options.appearance.pageBorderColor=this.getHTMLColor(this.options.appearance.pageBorderColor),this.options.parametersValues={},this.options.parameterRowHeight=this.options.isTouchDevice?35:30,this.options.minParametersCountForMultiColumns=5,"Sunday"===this.options.appearance.datePickerFirstDayOfWeek&&(this.dayOfWeek.splice(6,1),this.dayOfWeek.splice(0,0,"Sunday")),-1!==(null===(t=null===(e=this.options)||void 0===e?void 0:e.toolbar)||void 0===t?void 0:t.zoom)&&-2!==(null===(i=null===(o=this.options)||void 0===o?void 0:o.toolbar)||void 0===i?void 0:i.zoom)||(this.reportParams.autoZoom=null===(s=null===(n=this.options)||void 0===n?void 0:n.toolbar)||void 0===s?void 0:s.zoom),this.options.actions.getReport||(this.options.actions.getReport=this.options.actions.viewerEvent),this.options.actions.printReport||(this.options.actions.printReport=this.options.actions.viewerEvent),this.options.actions.openReport||(this.options.actions.openReport=this.options.actions.viewerEvent),this.options.actions.exportReport||(this.options.actions.exportReport=this.options.actions.viewerEvent),this.options.actions.interaction||(this.options.actions.interaction=this.options.actions.viewerEvent),window.File&&window.FileReader&&window.FileList&&window.Blob||(this.options.toolbar.showOpenButton=!1),this.options.requestResourcesUrl||this.options.appearance.customStylesUrl){var r=document.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.options.appearance.customStylesUrl||this.getResourceUrl("styles")),this.controls.head.appendChild(r)}this.options.viewerId=(1e6*Math.random()).toString()},e.prototype.pagesNavigationIsActive=function(){return(this.options.appearance.fullScreenMode||this.options.appearance.scrollbarsMode)&&"Continuous"===this.reportParams.viewMode},Object.defineProperty(e.prototype,"imagesForBookmark",{get:function(){var e=this;if(!this._imagesForBookmark){var t={};["root","folder","folderOpen","node","empty","line","join","joinBottom","plus","plusBottom","minus","minusBottom"].forEach((function(o){return t[o]=e.images["Bookmarks"+o+".png"]})),this._imagesForBookmark=t}return this._imagesForBookmark},enumerable:!0,configurable:!0}),e.prototype.isTouchDevice=function(){return"ontouchstart"in document.documentElement},e.prototype.isMobileDevice=function(){return/iPhone|iPad|iPod|Macintosh|Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.prototype.initializeMobile=function(){var e,t,o=!1,i=this.controls.head.getElementsByTagName("meta");try{for(var n=l(i),s=n.next();!s.done;s=n.next()){var r=s.value;if(r.name&&"viewport"===r.name.toLowerCase()){o=!0;break}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}if(!o){var a=document.createElement("meta");a.id="viewport",a.name="viewport",a.content="initial-scale=1.0,width=device-width,user-scalable=0",this.controls.head.appendChild(a)}this.options.appearance.fullScreenMode=!0,this.options.appearance.scrollbarsMode=!0,this.options.appearance.parametersPanelPosition="Left",this.options.appearance.parametersPanelColumnsCount=1,this.options.toolbar.displayMode="Separated",this.options.toolbar.viewMode="SinglePage",this.options.toolbar.showZoomButton=!1;var p=-2===this.options.toolbar.zoom?-2:-1;this.options.toolbar.zoom=this.reportParams.zoom=p,this.options.toolbar.showButtonCaptions=!1,this.options.toolbar.showOpenButton=!1,this.options.toolbar.showFindButton=!1,this.options.toolbar.showEditorButton=!1,this.options.toolbar.showFullScreenButton=!1,this.options.toolbar.showAboutButton=!1,this.options.toolbar.showViewModeButton=!1},e.prototype.getImagesScalingFactor=function(){var e=window,t=window.devicePixelRatio||(e.deviceXDPI&&e.logicalXDPI?e.deviceXDPI/e.logicalXDPI:1);return!t||t<=1?"1":t.toString()},e.prototype.getHTMLColor=function(e){return e.indexOf(",")>0&&e.indexOf("rgb")<0?"rgb("+e+")":e},e.prototype.getResourceUrl=function(e){var t=this.getActionRequestUrl(this.options.requestResourcesUrl,this.options.actions.viewerEvent);return t+=t.indexOf("?")>0?"&":"?",t+="stiweb_component=Viewer&stiweb_action=Resource&stiweb_data="+e+"&stiweb_theme="+this.options.theme,t+="&stiweb_cachemode="+(this.options.server.useCacheForResources?"ObjectSession"===this.options.server.cacheMode||"StringSession"===this.options.server.cacheMode?"session":"cache":"none"),t+="&stiweb_version="+this.options.shortProductVersion},e.prototype.getActionRequestUrl=function(e,t){if(!t)return e;if(t.indexOf("?")<0)return e.replace("{action}",t);var o=t.substring(t.indexOf("?")+1);return t=t.substring(0,t.indexOf("?")),e.replace("{action}",t)+(e.indexOf("?")>0?"&":"?")+o},e=a([t.Injectable()],e)}(),y=function(){function e(e){this.model=e}return e.prototype.showAnimationForScroll=function(e,t,o,i){var n=this;if(e){var s=0;this.model.options.appearance.scrollbarsMode?s=e.scrollTop:0===(s=document.documentElement.scrollTop)&&(s=document.getElementsByTagName("BODY")[0].scrollTop),clearTimeout(e.animationTimer);var r,a=(new Date).getTime(),l=Math.round((t-s)/((Math.abs(o-a)+1)/30));Math.abs(l)>Math.abs(t-s)&&(l=t-s),s+=l,a<o?(r=s,e.animationTimer=setTimeout((function(){n.showAnimationForScroll(e,t,o,i)}),30)):(r=t,i&&i()),this.model.options.appearance.scrollbarsMode?e.scrollTop=r:window.scrollTo(0,r)}},e.ctorParameters=function(){return[{type:g}]},e=a([t.Injectable()],e)}(),f=function(){function e(e,t){this.model=e,this.animationService=t}return e.prototype.val=function(e,t){return null!=e&&""!==e.trim()?e:t||""},e.prototype.findPosY=function(e,t,o){var i=o?0:this.getScrollYOffset(e,t);if(e.offsetParent)for(;e.className!==t&&(i+=e.offsetTop,e.offsetParent);)e=e.offsetParent;else e.y&&(i+=e.y);return i},e.prototype.getScrollYOffset=function(e,t){var o=0;if(e.parentElement)for(;e.className!==t&&("scrollTop"in e&&(o-=e.scrollTop),e.parentElement);)e=e.parentElement;return o},e.prototype.findPosX=function(e,t,o){var i=o?0:this.getScrollXOffset(e,t);if(e.offsetParent)for(;e.className!==t&&(i+=e.offsetLeft,e.offsetParent);)e=e.offsetParent;else e.x&&(i+=e.x);return i},e.prototype.getScrollXOffset=function(e,t){var o=0;if(e.parentElement)for(;e.className!==t&&("scrollLeft"in e&&(o-=e.scrollLeft),e.parentElement);)e=e.parentElement;return o},e.prototype.showHelpWindow=function(e){var t="en";switch(this.model.options.cultureName){case"ru":t="ru"}this.openNewWindow("https://www.stimulsoft.com/"+t+"/documentation/online/"+e)},e.prototype.openNewWindow=function(e,t,o){return window.open(e,t,o)},e.prototype.scrollToAnchor=function(e,t){var o=this,i=this.model.controls.reportPanel.el.nativeElement.getElementsByTagName("a"),n=[];if(e&&(e=e.replace(/!!#92/g,"\\")),t)for(var s=0;s<i.length;s++)i[s].getAttribute("guid")===t&&n.push(i[s]);if(0===n.length){var r=e.indexOf("#GUID#");if(0==n.length)for(var a=this.model.controls.reportPanel.el.nativeElement.getElementsByTagName("a"),l=0;l<a.length;l++)a[l].name&&(r>=0&&(a[l].name.indexOf(e.substring(r+6))>=0||e.substring(0,r)==a[l].name)||a[l].name==e)&&n.push(a[l])}if(n.length>0){var p=n[0],m=p.parentElement||p,c=m.offsetHeight,d=m.offsetTop;n.forEach((function(e){var t=e.parentElement||e;t.offsetTop>d&&(c=Math.max(c,t.offsetTop-d+t.offsetHeight))}));var h=(new Date).getTime()+this.model.options.scrollDuration,u=this.findPosY(p,this.model.options.appearance.scrollbarsMode?"stiJsViewerReportPanel":null,!0)-2*m.offsetHeight;this.animationService.showAnimationForScroll(this.model.controls.reportPanel.el.nativeElement,u,h,(function(){var e,t=o.getPageFromAnchorElement(p),i=o.findPosY(m,"stiJsViewerReportPanel",!0),n=t?o.findPosY(t,"stiJsViewerReportPanel",!0):i;o.removeBookmarksLabel();var s=document.createElement("div");o.model.controls.bookmarksLabel=s,s.className="stiJsViewerBookmarksLabel";var r=o.model.reportParams.zoom/100*20,a=t?t.offsetWidth-r-6:m.offsetWidth,l=c-2;s.style.width=a+"px",s.style.height=l+"px";var d=null===(e=t.pageAttributes.margins)||void 0===e?void 0:e.replace("px","").split(" "),h=t.pageAttributes.margins?o.strToInt(d[3]):0,u=t.pageAttributes.margins?o.strToInt(d[0]):0;s.style.marginLeft=r/2-h+"px",s.style.marginTop=i-n-u-o.model.reportParams.zoom/100-1+"px",t.insertBefore(s,t.childNodes[0])}))}},e.prototype.removeBookmarksLabel=function(){this.model.controls.bookmarksLabel&&(this.model.controls.bookmarksLabel.parentElement.removeChild(this.model.controls.bookmarksLabel),this.model.controls.bookmarksLabel=null)},e.prototype.getPageFromAnchorElement=function(e){for(var t=e;t.parentElement;){if(t.className&&0===t.className.indexOf("stiJsViewerPage"))return t;t=t.parentElement}return t},e.prototype.strToInt=function(e){return parseInt(e,10)||0},e.prototype.strToDouble=function(e){return null===e?null:parseFloat(e.toString().replace(",",".").trim())||0},e.prototype.copyObject=function(e){if(!e||"object"!=typeof e)return e;var t,o,i="function"==typeof e.pop?[]:{};for(t in e)e.hasOwnProperty(t)&&(o=e[t],i[t]=o&&"object"==typeof o?this.copyObject(o):o);return i},e.prototype.getCountObjects=function(e){var t=0;if(e)for(var o in e)t++;return t},e.prototype.replaceMonths=function(e){for(var t=1;t<=12;t++){var o="",i="";switch(t){case 1:o="January",i=this.model.loc("MonthJanuary");break;case 2:o="February",i=this.model.loc("MonthFebruary");break;case 3:o="March",i=this.model.loc("MonthMarch");break;case 4:o="April",i=this.model.loc("MonthApril");break;case 5:o="May",i=this.model.loc("MonthMay");break;case 6:o="June",i=this.model.loc("MonthJune");break;case 7:o="July",i=this.model.loc("MonthJuly");break;case 8:o="August",i=this.model.loc("MonthAugust");break;case 9:o="September",i=this.model.loc("MonthSeptember");break;case 10:o="October",i=this.model.loc("MonthOctober");break;case 11:o="November",i=this.model.loc("MonthNovember");break;case 12:o="December",i=this.model.loc("MonthDecember")}var n=o.substring(0,3),s=i.substring(0,3);e=(e=e.replace(o,t).replace(o.toLowerCase(),t).replace(n,t).replace(n.toLowerCase(),t)).replace(i,t).replace(i.toLowerCase(),t).replace(s,t).replace(s.toLowerCase(),t)}return e},e.prototype.getDate=function(e){return new Date(e.year,e.month-1,e.day,e.hours,e.minutes,e.seconds)},e.prototype.getDateTimeObject=function(e){e||(e=new Date);var t=new h;return t.year=e.getFullYear(),t.month=e.getMonth()+1,t.day=e.getDate(),t.hours=e.getHours(),t.minutes=e.getMinutes(),t.seconds=e.getSeconds(),t},e.prototype.getDateTimeFromString=function(e,t){var o=function(e){return"0123456789".indexOf(e)>=0};if(!e)return new Date;e=this.replaceMonths(e);var i=new Date;null===t&&(t="dd.MM.yyyy hh:mm:ss");for(var n=1970,s=1,r=1,a=0,l=0,p=0,m=0,c="",d=0,h=[];d<e.length;){if(o(c=e.charAt(d))){for(h.push(c),d++;d<e.length&&o(e.charAt(d));)h[h.length-1]+=e.charAt(d),d++;h[h.length-1]=this.strToInt(h[h.length-1])}d++}d=0;for(var u=-1;d<t.length;){if(0,"Y"===(c=t.charAt(d))||"y"===c||"M"===c||"d"===c||"h"===c||"H"===c||"m"===c||"s"===c||"f"===c||"F"===c||"t"===c||"z"===c)for(u++;d<t.length&&t.charAt(d)===c;)d++;switch(c){case"Y":n=h[u];break;case"y":n=h[u]<1e3?2e3+h[u]:h[u];break;case"M":s=h[u];break;case"d":r=h[u];break;case"h":!0,a=h[u];break;case"H":a=h[u];break;case"m":l=h[u];break;case"s":p=h[u];break;case"f":case"F":m=h[u];break;case"t":e.toLowerCase().indexOf("am")>=0&&12===a&&(a=0),e.toLowerCase().indexOf("pm")>=0&&a<12&&(a+=12);break;default:d++}}return!(i=new Date(n||(new Date).getFullYear(),s-1||0,r||1,a||0,l||0,p,m||0))||isNaN(i)?new Date:i},e.prototype.getStringDateTime=function(e,t){return"Date"===t&&(e.hours=0,e.minutes=0,e.seconds=0),e.month+"/"+e.day+"/"+e.year+" "+(e.hours>12?e.hours-12:e.hours)+":"+e.minutes+":"+e.seconds+" "+(e.hours<12?"AM":"PM")},e.prototype.dateTimeObjectToString=function(e,t){var o=new Date(e.year,e.month-1,e.day,e.hours,e.minutes,e.seconds);return""!==this.model.options.appearance.parametersPanelDateFormat?this.formatDate(o,this.model.options.appearance.parametersPanelDateFormat):this.dateToLocaleString(o,t)},e.prototype.dateToLocaleString=function(e,t){var o=e.toLocaleTimeString(),i=o.toLowerCase().indexOf("am")>=0||o.toLowerCase().indexOf("pm")>=0,n=i?"MM/dd/yyyy":"dd.MM.yyyy",s=e.getFullYear(),r=s.toString().substring(2),a=e.getMonth()+1,l=a<10?"0"+a:a,p=e.getDate(),m=p<10?"0"+p:p;n=(n=(n=(n=(n=(n=n.replace(/yyyy/i,s)).replace(/yy/i,r)).replace(/MM/i,l)).replace(/M/i,a)).replace(/dd/i,m)).replace(/d/i,p);var c=e.getHours(),d="";i?(d=c<12?" AM":" PM",0===(c=c>12?c-12:c)&&(c=12)):c=c<10?"0"+c:c;var h=e.getMinutes();h=h<10?"0"+h:h;var u=e.getSeconds(),g=c+":"+h+":"+(u=u<10?"0"+u:u)+d;return"Time"===t?g:"Date"===t?n:n+" "+g},e.prototype.formatDate=function(e,t){var o=e.getFullYear(),i=o.toString().substring(2),n=e.getMonth()+1,s=n<10?"0"+n:n,r=e.getDate(),a=r<10?"0"+r:r,l=e.getHours(),p=l<10?"0"+l:l,m=l>12?l-12:l>0?l:12,c=m<10?"0"+m:m,d=e.getMinutes(),h=d<10?"0"+d:d,u=e.getSeconds(),g=u<10?"0"+u:u,y=l<12?"AM":"PM";return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/yyyy/gi,o)).replace(/yy/gi,i)).replace(/Y/,o)).replace(/MM/g,s)).replace(/M/g,n)).replace(/dd/g,a)).replace(/d/g,r)).replace(/hh/g,c)).replace(/h/g,m)).replace(/HH/g,p)).replace(/H/g,l)).replace(/mm/g,h)).replace(/m/g,d)).replace(/ss/g,g)).replace(/s/g,u)).replace(/tt/gi,y)).replace(/t/gi,y.substr(0,1))},e.prototype.getStringKey=function(e,t){return null===e?"":"DateTime"===t.type?this.dateTimeObjectToString(e,t.dateTimeType):e},e.prototype.stringToTime=function(e){var t=e.split(":"),o={hours:0,minutes:0,seconds:0};return o.hours=this.strToInt(t[0]),t.length>1&&(o.minutes=this.strToInt(t[1])),t.length>2&&(o.seconds=this.strToInt(t[2])),o.hours<0&&(o.hours=0),o.minutes<0&&(o.minutes=0),o.seconds<0&&(o.seconds=0),o.hours>23&&(o.hours=23),o.minutes>59&&(o.minutes=59),o.seconds>59&&(o.seconds=59),o},e.prototype.newGuid=function(){var e,t="0123456789abcdefghijklmnopqrstuvwxyz".split(""),o=[],i=Math.random;o[8]=o[13]=o[18]=o[23]="-",o[14]="4";for(var n=0;n<36;n++)o[n]||(e=0|16*i(),o[n]=t[19===n?3&e|8:15&e]);return o.join("")},e.prototype.getCountDaysOfMonth=function(e,t){var o=[31,28,31,30,31,30,31,31,30,31,30,31][t];return 1===t&&(o=e%4!=0||e%100==0&&e%400!=0?28:29),o},e.prototype.setObjectToCenter=function(e,t){var o=this.model.viewerSize.width/2-e.offsetWidth/2,i=this.model.options.appearance.fullScreenMode?this.model.viewerSize.height/2-e.offsetHeight/2:t||250;return{left:Math.max(o,0),top:Math.max(i,0)}},e.prototype.checkCloudAuthorization=function(e){return!0},e.prototype.getCookie_=function(e){var t=" "+document.cookie,o=" "+e+"=",i=null,n=0,s=0;return t.length>0&&-1!==(n=t.indexOf(o))&&(n+=o.length,-1===(s=t.indexOf(";",n))&&(s=t.length),i=unescape(t.substring(n,s))),i},e.prototype.getCookie=function(e){if(this.model.options.standaloneJsMode||"undefined"==typeof localStorage||0==e.indexOf("sti_")||0==e.indexOf("login"))return this.getCookie_(e);var t=localStorage.getItem(e);return null!=t?t:(null!=(t=this.getCookie_(e))&&(this.removeCookie(e),localStorage.setItem(e,t)),t)},e.prototype.removeCookie=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},e.prototype.setCookie=function(e,t,o,i,n,s){if(this.model.options.standaloneJsMode||"undefined"==typeof localStorage||0===e.indexOf("sti_")||0===e.indexOf("login")){if(t&&"string"==typeof t&&t.length>=4096)return;location.pathname;var r=new Date;r.setTime(r.getTime()+31536e6),document.cookie=e+"="+escape(t)+"; expires="+(s||r.toGMTString())+(o?"; path="+o:"; path=/")+(i?"; domain="+i:"")+(n?"; secure":"")}else localStorage.setItem(e,t)},e.prototype.getNavigatorName=function(){if(!navigator)return"Unknown";var e=navigator.userAgent;return e.indexOf("Edge")>=0?"Edge":e.indexOf("MSIE")>=0||e.indexOf("Trident")>=0?"MSIE":e.indexOf("Gecko")>=0?e.indexOf("Chrome")>=0?"Chrome":e.indexOf("Safari")>=0?"Safari":"Mozilla":e.indexOf("Opera")>=0?"Opera":void 0},e.prototype.isTouchDevice=function(){return"ontouchstart"in document.documentElement},e.prototype.isMobileDevice=function(){return/iPhone|iPad|iPod|Macintosh|Android|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},e.prototype.getHumanFileSize=function(e,t){var o=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,o)).toFixed(t)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][o]},e.prototype.getZoomMenuItems=function(){var e=[{name:"Zoom25",caption:"25%",img:""},{name:"Zoom50",caption:"50%",img:""},{name:"Zoom75",caption:"75%",img:""},{name:"Zoom100",caption:"100%",img:""},{name:"Zoom150",caption:"150%",img:""},{name:"Zoom200",caption:"200%",img:""}];return"Separated"!==this.model.options.toolbar.displayMode&&(e.push({type:"separator"}),e.push({name:"ZoomOnePage",caption:this.model.loc("ZoomOnePage"),img:"ZoomOnePage.png"}),e.push({name:"ZoomPageWidth",caption:this.model.loc("ZoomPageWidth"),img:"ZoomPageWidth.png"})),e},Object.defineProperty(e.prototype,"helpLinks",{get:function(){return{Print:"user-manual/index.html?viewer_reports.htm#toolbar",Save:"user-manual/index.html?viewer_reports.htm#toolbar",SendEmail:"user-manual/index.html?viewer_reports.htm#toolbar",Bookmarks:"user-manual/index.html?viewer_reports.htm#toolbar",Parameters:"user-manual/index.html?viewer_reports.htm#toolbar",FirstPage:"user-manual/index.html?viewer_reports.htm#statusbar",PrevPage:"user-manual/index.html?viewer_reports.htm#statusbar",NextPage:"user-manual/index.html?viewer_reports.htm#statusbar",LastPage:"user-manual/index.html?viewer_reports.htm#statusbar",FullScreen:"user-manual/index.html?viewer_reports.htm#toolbar",Zoom:"user-manual/index.html?viewer_reports.htm#statusbar",ViewMode:"user-manual/index.html?viewer_reports.htm#displayingmode",Editor:"user-manual/index.html?viewer_reports.htm#toolbar",Find:"user-manual/index.html?viewer_reports.htm#searchpanel",DashboardToolbar:"user-manual/index.html?viewer_dashboards.htm#controlbuttonsofthedashboard",DashboardElementToolbar:"user-manual/index.html?viewer_dashboards.htm#elementcontrols",DashboardExport:"user-manual/index.html?exports_dashboards.htm",DashboardPdfExport:"user-manual/index.html?exports_dashboards.htm#pdfexportsettings",DashboardExcelExport:"user-manual/index.html?exports_dashboards.htm#excelexportsettings",DashboardImageExport:"user-manual/index.html?exports_dashboards.htm#imageexportsettings",DashboardDataExport:"user-manual/index.html?exports_dashboards.htm#exportsettingsofdata"}},enumerable:!0,configurable:!0}),e.prototype.getBackText=function(e){var t=String.fromCharCode(84)+"r"+String.fromCharCode(105)+"a";return e?t+String.fromCharCode(108):String.fromCharCode(91)+t+String.fromCharCode(108)+String.fromCharCode(93)},e.ctorParameters=function(){return[{type:g},{type:y}]},e=a([t.Injectable()],e)}(),b=function(){function e(e,t,o){this.httpClient=e,this.model=t,this.helper=o}return e.prototype.post=function(e,t,o){var s,r,a,l,p=this;void 0===o&&(o="json");var m=this.model;m.showProgress=!0;var c=(null===(r=null===(s=this.model.options)||void 0===s?void 0:s.server)||void 0===r?void 0:r.requestTimeout)>0?1e3*(null===(l=null===(a=this.model.options)||void 0===a?void 0:a.server)||void 0===l?void 0:l.requestTimeout):1e6;return"json"===o?this.httpClient.post(e,this.getFormData(t)).pipe(n.timeout(c),n.catchError((function(e){return m.httpError=e,m.showProgress=!1,p.model.controls.navigatePanel.enabled=!0,p.model.controls.toolbar.enabled=!0,i.throwError("Something bad happened; please try again later.")}))):this.httpClient.post(e,this.getFormData(t),{responseType:"text"}).pipe(n.timeout(c),n.catchError((function(e){return m.httpError=e,m.showProgress=!1,p.model.controls.navigatePanel.enabled=!0,p.model.controls.toolbar.enabled=!0,i.throwError("Something bad happened; please try again later.")})))},e.prototype.getFormData=function(e){var t=new FormData;return Object.keys(e).forEach((function(o){return t.append(o,e[o])})),t},e.prototype.postForm=function(e,t,o,i){var n=this;void 0===i&&(i=!1),o||(o=document);var s=o.createElement("FORM");s.setAttribute("method","POST"),s.setAttribute("action",e);var r=i?t:this.model.createPostParameters(t,!0);Object.keys(r).forEach((function(e){var t=o.createElement("INPUT");t.setAttribute("type","hidden"),t.setAttribute("name",e),t.setAttribute("value",r[e]),s.appendChild(t)})),this.model.options.jsDesigner&&(this.model.options.jsDesigner.options.ignoreBeforeUnload=!0),o.body.appendChild(s),s.submit(),o.body.removeChild(s),setTimeout((function(){n.model.options.jsDesigner&&(n.model.options.jsDesigner.options.ignoreBeforeUnload=!1)}),500)},e.ctorParameters=function(){return[{type:o.HttpClient},{type:g},{type:f}]},e=a([t.Injectable()],e)}(),v=function(){function e(e){this.model=e,this.pagesCss={}}return e.prototype.setupStyle=function(e,t){var o;null==this.pagesCss[t]&&(this.pagesCss[t]=document.createElement("STYLE"),this.pagesCss[t].id=(null===(o=this.model.options)||void 0===o?void 0:o.viewerId)+"Styles",this.pagesCss[t].setAttribute("type","text/css"),this.model.controls.head.appendChild(this.pagesCss[t])),this.pagesCss[t].styleSheet?this.pagesCss[t].styleSheet.cssText=e:this.pagesCss[t].innerHTML=e},e.prototype.addCustomFontStyles=function(e){if(e){var t=[];try{t=document.getElementsByTagName("head")[0].getElementsByTagName("style")}catch(e){}e.forEach((function(e){var o,i;if(e.contentForCss&&e.originalFontFamily){var n=document.createElement("style");n.innerHTML="@font-face {\r\nfont-family: '"+e.originalFontFamily+"';\r\n src: url("+e.contentForCss+");\r\n }";var s=!1;try{for(var r=l(t),a=r.next();!a.done;a=r.next()){if(a.value.innerHTML.indexOf("font-family: '"+e.originalFontFamily+"'")>0){s=!0;break}}}catch(e){o={error:e}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}s||document.getElementsByTagName("head")[0].appendChild(n)}}))}},e.prototype.addChartScript=function(e){var t=document.getElementById(this.model.options.viewerId+"chartScriptJsViewer");if(t&&this.model.controls.head.removeChild(t),e){var o=document.createElement("Script");o.setAttribute("type","text/javascript"),o.id=this.model.options.viewerId+"chartScriptJsViewer",o.textContent=e,this.model.controls.head.appendChild(o)}},e.ctorParameters=function(){return[{type:g}]},e=a([t.Injectable()],e)}(),x=function(){function e(e,t){var o=this;this.model=e,this.helper=t,Object.keys(e.controls).forEach((function(t){return e.controls[t].pageService=o}))}return e.prototype.calculateLayout=function(){var e=this;setTimeout((function(){e.calculateLayoutInner()}))},e.prototype.calculateLayoutInner=function(){var e,t=new c,o=new c;if(!this.model.controls.reportPanel.el)return t;if(this.model.controls.dashboardsPanel.el&&(t.top+=this.model.controls.dashboardsPanel.offsetHeight),"Report"===this.model.reportParams.type&&(!this.model.controls.toolbar||!this.model.controls.toolbar.visible||this.model.options.isMobileDevice&&this.model.options.toolbar.autoHide||(t.top+=this.model.controls.toolbar.offsetHeight),this.model.controls.drillDownPanel&&this.model.controls.drillDownPanel.visible&&(t.top+=this.model.controls.drillDownPanel.offsetHeight),this.model.controls.findPanel&&this.model.controls.findPanel.visible&&(t.top+=this.model.controls.findPanel.offsetHeight),this.model.controls.resourcesPanel&&this.model.controls.resourcesPanel.visible&&(t.top+=this.model.controls.resourcesPanel.offsetHeight),this.model.controls.bookmarksPanel&&this.model.controls.bookmarksPanel.visible&&(t.left+=this.model.options.appearance.bookmarksTreeWidth,"Simple"===this.model.options.toolbar.displayMode&&(t.left+=2)),!this.model.controls.navigatePanel||!this.model.controls.navigatePanel.visible||this.model.options.isMobileDevice&&this.model.options.toolbar.autoHide||(t.bottom=this.model.controls.navigatePanel.offsetHeight)),this.model.controls.parametersPanel&&this.model.controls.parametersPanel.visible&&(this.model.controls.parametersPanel.layout=o,o.top=t.top,"Left"===this.model.options.appearance.parametersPanelPosition&&(o.left=t.left,o.width=this.model.controls.parametersPanel.el.nativeElement.firstChild.offsetWidth,t.left+=o.width,"Simple"===this.model.options.toolbar.displayMode&&(t.left+=2)),"Top"===this.model.options.appearance.parametersPanelPosition&&(o.height=this.model.controls.parametersPanel.offsetHeight,t.top+=o.height)),this.model.controls.bookmarksPanel){var i=this.model.options.toolbar.visible?this.model.controls.toolbar.offsetHeight:0;this.model.options.isMobileDevice&&this.model.options.toolbar.autoHide&&(i=0),i+=this.model.controls.parametersPanel.exists&&"Top"===this.model.options.appearance.parametersPanelPosition?this.model.controls.parametersPanel.offsetHeight:0,i+=this.model.controls.findPanel.exists?this.model.controls.findPanel.offsetHeight:0,i+=this.model.controls.drillDownPanel.exists?this.model.controls.drillDownPanel.offsetHeight:0,i+=this.model.controls.resourcesPanel.exists?this.model.controls.resourcesPanel.offsetHeight:0,this.model.controls.bookmarksPanel.layout.top=i}"Simple"===this.model.options.toolbar.displayMode&&t.top>0&&(t.top+=2),"relative"===(null===(e=this.model.controls.reportPanel.el)||void 0===e?void 0:e.nativeElement.style.position)&&(t.top=o.height);var n=parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginTop?this.model.controls.reportPanel.el.nativeElement.style.marginTop:0),s=parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginRight?this.model.controls.reportPanel.el.nativeElement.style.marginRight:0),r=parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginBottom?this.model.controls.reportPanel.el.nativeElement.style.marginBottom:0),a=parseInt(this.model.controls.reportPanel.el.nativeElement.style.marginLeft?this.model.controls.reportPanel.el.nativeElement.style.marginLeft:0);t.width=this.model.controls.reportPanel.offsetWidth-t.left-t.right+a+s,t.height="absolute"===this.model.controls.reportPanel.el.nativeElement.style.position?this.model.controls.reportPanel.offsetHeight-t.top-t.bottom+n+r:Math.round(.56*t.width),this.model.controls.reportPanel.layout=t},e.prototype.getZoomByPageWidth=function(){var e,t,o="SinglePage"===this.model.reportParams.viewMode?0:this.model.reportParams.pageNumber||0;return(this.model.controls.reportPanel.layout.width-40)*this.getZoom()/((null===(t=null===(e=this.model.pages[o])||void 0===e?void 0:e.page)||void 0===t?void 0:t.offsetWidth)||1)},e.prototype.getZoomByPageHeight=function(){var e,t,o="SinglePage"===this.model.reportParams.viewMode?0:this.model.reportParams.pageNumber||0;return(this.model.controls.reportPanel.layout.height-40)*this.getZoom()/((null===(t=null===(e=this.model.pages[o])||void 0===e?void 0:e.page)||void 0===t?void 0:t.offsetHeight)||1)},e.prototype.getZoom=function(){return this.model.reportParams.zoom<0?100:this.model.reportParams.zoom},e.ctorParameters=function(){return[{type:g},{type:f}]},e=a([t.Injectable()],e)}(),w=function(){function e(){var e=this;this.documetMouseDown=new i.Subject,this.documetMouseMove=new i.Subject,this.documetMouseUp=new i.Subject,document.addEventListener("mouseup",(function(t){e.documetMouseUp.next(t)})),document.addEventListener("mousemove",(function(t){e.documetMouseMove.next(t)})),document.addEventListener("mousedown",(function(t){e.documetMouseDown.next(t)}))}return e.prototype.getDocumentMouseUp=function(){return this.documetMouseUp.asObservable()},e.prototype.getDocumentMouseMove=function(){return this.documetMouseMove.asObservable()},e.prototype.getDocumentMouseDown=function(){return this.documetMouseDown.asObservable()},e=a([t.Injectable()],e)}(),S=function(){function e(e,t,o){var n=this;this.helper=e,this.model=t,this.mouseService=o,this.VERTICAL_MENU_NAME="verticalMenu",this.menuMouseUp="",this._menus={},this.subject=new i.Subject,this.mouseService.getDocumentMouseUp().subscribe((function(e){if(""===n.menuMouseUp)n.closeAllMenus();else if("datePickerMenu"!==n.menuMouseUp&&n.menuMouseUp!==n.VERTICAL_MENU_NAME){var t=Object.values(n._menus).find((function(e){return"datePickerMenu"===e.type}));null!=t&&(t.state="initialDown")}n.menuMouseUp=""}))}return e.prototype.getVisibility=function(){return this.subject.asObservable()},e.prototype.addMenu=function(e){this._menus[e.name]=e},e.prototype.closeAllMenus=function(){var e=this;Object.values(this._menus).forEach((function(t){return t.state="buttonMenu"===t.type&&e.model.options.isMobileDevice?"initialLeft":"initialDown"}))},e.prototype.isMenuVisible=function(){return null!=Object.values(this._menus).find((function(e){return"expanded"===e.state}))},e.prototype.showMenu=function(e){var t,o,i=this,n=this._menus[e];"datePickerMenu"!==(null===(t=n)||void 0===t?void 0:t.type)&&(null===(o=n)||void 0===o?void 0:o.type)!==this.VERTICAL_MENU_NAME&&this.closeAllMenus(),n&&(n.sizeStyle="opacity: 0;",this.model.options.isMobileDevice&&"buttonMenu"===n.type?setTimeout((function(){var e=n.innerContent.nativeElement;n.left=0,n.top=0,n.width=e.offsetWidth,n.height=e.offsetHeight,n.state="initialLeft",n.sizeStyle=null,setTimeout((function(){n.state="expanded"}))})):setTimeout((function(){n.sizeStyle=null,i.showMenuInternal(n)})),this.subject.next(n))},e.prototype.showMenuInternal=function(e){var t=e.parent.nativeElement,o=e.innerContent.nativeElement,i=e.menuEl.nativeElement.offsetHeight,n=e.menuEl.nativeElement.style,s=this.getMenuCoordinates(t,o,i,n,!0);e.left=s.left,e.top=s.top,e.width=e.width||s.width,e.height=s.height,e.state=s.state,setTimeout((function(){e.state="expanded"}))},e.prototype.getMenuCoordinates=function(e,t,o,i,n){var s={},r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l="stiJsViewerMainPanel",p="Down",m=n?this.model.options.appearance.rightToLeft?this.helper.findPosX(e,l)-t.offsetWidth+e.offsetWidth-0:this.helper.findPosX(e,l)-0:"Right"===p?this.helper.findPosX(e,l)+e.offsetWidth+2:this.helper.findPosX(e,l)-e.offsetWidth-2;return m+t.offsetWidth>r&&(m=r-t.offsetWidth-15),m<0&&(m=10),s.left=m,"Down"===p&&this.helper.findPosY(e)+e.offsetHeight+t.offsetHeight>a&&this.helper.findPosY(e)-t.offsetHeight>0&&(p="Up"),s.top=n?"Down"===p?this.helper.findPosY(e,l)+e.offsetHeight+2:this.helper.findPosY(e,l)-o:this.helper.findPosY(e,l)+e.offsetHeight+t.offsetHeight>a&&a-t.offsetHeight-10>0?a-t.offsetHeight-10:this.helper.findPosY(e,l),s.width=t.offsetWidth,s.height=t.offsetHeight,s.top+t.offsetHeight>a&&(s.top=a-t.offsetHeight-10),s.top<0&&(s.top=10),s.state="Down"===p?"initialDown":"initialUp",s},Object.defineProperty(e.prototype,"menus",{get:function(){return Object.values(this._menus)},enumerable:!0,configurable:!0}),e.prototype.getVerticalMenu=function(){return this._menus[this.VERTICAL_MENU_NAME]},e.prototype.getMenu=function(e){return this._menus[e]},e.ctorParameters=function(){return[{type:f},{type:g},{type:w}]},e=a([t.Injectable()],e)}(),P=function(){function e(e,t,o,i){var n=this;this.mouseService=e,this.menuService=t,this.helper=o,this.model=i,this.mouseX=0,this.mouseY=0,this.formX=0,this.formY=0,e.getDocumentMouseMove().subscribe((function(e){n.move(e)})),e.getDocumentMouseUp().subscribe((function(e){n.stopMove()}))}return Object.defineProperty(e.prototype,"form",{get:function(){return this.model.form},set:function(e){this.model.form=e},enumerable:!0,configurable:!0}),e.prototype.showForm=function(e,t){this.form={name:e,left:0,top:0,isMooving:!1,formData:t}},e.prototype.closeForm=function(e){var t,o;"notificationForm"===(null===(t=this.form)||void 0===t?void 0:t.name)&&(null===(o=this.model.notificationFormOptions)||void 0===o?void 0:o.action)&&this.model.notificationFormOptions.action(),this.form=null},e.prototype.centerForm=function(e,t){var o=this;null!=this.form&&setTimeout((function(){var i=o.helper.setObjectToCenter(e.element.nativeElement,t);o.form.left=i.left,o.form.top=i.top,o.form.level=e.level}))},e.prototype.startMove=function(e,t,o){var i,n;(t||o&&o.changedTouches.length>0)&&(this.formX=this.form.left,this.formY=this.form.top,this.mouseX=(null===(i=t)||void 0===i?void 0:i.screenX)||o.changedTouches[0].screenX,this.mouseY=(null===(n=t)||void 0===n?void 0:n.screenY)||o.changedTouches[0].screenY,this.form.isMooving=!0)},e.prototype.move=function(e){var t;if(null===(t=this.form)||void 0===t?void 0:t.isMooving){var o=e.screenX||(e.changedTouches.length>0?e.changedTouches[0].screenX:-1),i=e.screenY||(e.changedTouches.length>0?e.changedTouches[0].screenY:-1);this.form.left=this.formX+(o-this.mouseX),this.form.top=this.formY+(i-this.mouseY),this.menuService.closeAllMenus()}},e.prototype.stopMove=function(){var e;(null===(e=this.form)||void 0===e?void 0:e.isMooving)&&(this.form.isMooving=!1)},e.ctorParameters=function(){return[{type:w},{type:S},{type:f},{type:g}]},e=a([t.Injectable()],e)}(),T=function(){function e(e,t){this.model=e,this.pageService=t}return e.prototype.changeFullScreenMode=function(e){this.model.options.appearance.fullScreenMode=e;var t=this.model.controls.viewer.el.nativeElement;e?(this.model.fullScreenOptions={scrollbarsMode:this.model.options.appearance.scrollbarsMode,zIndex:t.style.zIndex,position:t.style.position,width:t.style.width,height:t.style.height,overflow:document.body.style.overflow},this.model.options.appearance.scrollbarsMode=!0,t.style.zIndex="1000000",t.style.position=this.model.options.reportDesignerMode?"absolute":"fixed",t.style.width=null,t.style.height=null,document.body.style.overflow="hidden"):this.model.fullScreenOptions&&(this.model.options.appearance.scrollbarsMode=this.model.fullScreenOptions.scrollbarsMode,t.style.zIndex=this.model.fullScreenOptions.zIndex,t.style.position=this.model.fullScreenOptions.position,t.style.width=this.model.fullScreenOptions.width,t.style.height=this.model.fullScreenOptions.height,document.body.style.overflow=this.model.fullScreenOptions.overflow,this.model.fullScreenOptions=null),this.pageService.calculateLayout()},e.ctorParameters=function(){return[{type:g},{type:x}]},e=a([t.Injectable()],e)}(),C=function(){function e(e,t,o,n,s,r,a,l,p){var m=this;this.httpClient=e,this.model=t,this.stylesService=o,this.pageService=n,this.helper=s,this.formService=r,this.fullScreenService=a,this.menuService=l,this.styleService=p,this.subject=new i.Subject,this.actionSubject=new i.Subject,setInterval((function(){var e,t;m.model.httpError&&((null===(e=m.model.httpError.error)||void 0===e?void 0:e.text)?m.showError(null===(t=m.model.httpError.error)||void 0===t?void 0:t.text):m.model.httpError.message?m.showError(null,m.model.httpError.message):m.model.httpError.error instanceof ErrorEvent&&m.showError(m.model.httpError.error.message),m.model.httpError=null),m.model.navigateNode&&(m.postBookmarkNodeAction(m.model.navigateNode),m.model.navigateNode=null)}),250),this.setupHandlers()}return e.prototype.setupHandlers=function(){var e=this;this.getMessage().subscribe((function(t){switch(t.action){case"GetReport":case"OpenReport":setTimeout((function(){var o,i;e.styleService.addCustomFontStyles(null===(o=t.data)||void 0===o?void 0:o.customFonts),e.model.options.appearance.fullScreenMode&&e.fullScreenService.changeFullScreenMode(!0),(null===(i=t.data)||void 0===i?void 0:i.stimulsoftFontContent)&&!e.model.options.stimulsoftFontContent&&(e.model.options.stimulsoftFontContent=t.data.stimulsoftFontContent,e.styleService.addCustomFontStyles([{contentForCss:t.data.stimulsoftFontContent,originalFontFamily:"Stimulsoft"}]))}))}})),this.model.controls.bookmarksPanel.getVisibility().subscribe((function(t){t&&e.model.options.isMobileDevice&&(e.model.controls.parametersPanel.visible=!1),t?e.hideToolbar():e.showToolbar()})),this.model.controls.parametersPanel.getVisibility().subscribe((function(t){t&&e.model.options.isMobileDevice&&(e.model.controls.bookmarksPanel.visible=!1),t?e.hideToolbar():e.showToolbar()})),this.menuService.getVisibility().subscribe((function(t){e.hideToolbar()}))},e.prototype.hideToolbar=function(){this.model.options.isMobileDevice&&this.model.options.toolbar.autoHide&&(this.model.controls.toolbar.visible=!1,this.model.controls.navigatePanel.visible=!1)},e.prototype.showToolbar=function(){var e=this;this.model.options.isMobileDevice&&this.model.options.toolbar.autoHide&&(this.model.controls.toolbar.visible=!0,this.model.controls.navigatePanel.visible=!0,setTimeout((function(){e.keepToolbar()}),300))},e.prototype.keepToolbar=function(){var e=this;this.model.options.isMobileDevice&&this.model.options.toolbar.autoHide&&(clearTimeout(this.model.toolbarHideTimer),this.model.toolbarHideTimer=setTimeout((function(){e.hideToolbar()}),4e3))},e.prototype.getMessage=function(){return this.subject.asObservable()},e.prototype.getActionMessage=function(){return this.actionSubject.asObservable()},e.prototype.post=function(e,t,o,i,n){var s,r=this;void 0===i&&(i="json"),this.model.controls.navigatePanel.enabled=!1,this.model.controls.toolbar.enabled=!1,s=t?this.model.requestUrl.replace("{action}",t):this.model.requestUrl.replace("{action}","GetReport"===e||"None"===this.model.options.server.cacheMode?this.model.options.actions.getReport:this.model.options.actions.viewerEvent),o?o.action=e:o={action:e},this.httpClient.post(s,this.model.createPostParameters(o),i).subscribe((function(t){var o;if(r.model.showProgress=!1,r.model.controls.navigatePanel.enabled=!0,r.model.controls.toolbar.enabled=!0,"ServerError:The report is not specified."===t&&(null===(o=r.model.options)||void 0===o?void 0:o.isReportRecieved))return r.model.options.isReportRecieved=!1,r.model.reportParams.prevPageNumber=r.model.reportParams.pageNumber,void r.post("GetReport");t&&(r.model.reportParams=t,r.startRefreshReportTimer(t.refreshTime)),r.subject.next({action:e,data:t,subAction:n})}))},e.prototype.loadViewer=function(){var e=this,t=this.model.requestUrl.replace("{action}",this.model.action);this.httpClient.post(t,this.model.createPostParameters({action:"AngularViewerData"},!0,!1),"json").subscribe((function(t){e.model.clear(),e.stylesService.setupStyle(atob(t.styles),"viewer"),e.model.options=t,e.checkTrExp(),e.initAutoUpdateCache(),e.subject.next({action:"viewer_loaded"}),e.getReport()}))},e.prototype.getReport=function(){this.model.options.paramsVariablesStartValues=null,this.post("GetReport")},e.prototype.getPages=function(){this.post("GetPages")},e.prototype.postExport=function(e,t,o,i){void 0===i&&(i=!1);var n={action:i?"ExportDashboard":"ExportReport",exportFormat:e,exportSettings:t,elementName:o},s=t&&t.OpenAfterExport&&"_blank"===this.model.options.appearance.openExportedReportWindow?this.helper.openNewWindow("about:blank","_blank").document:null,r=this.model.requestUrl;this.httpClient.postForm(r.replace("{action}",this.model.options.actions.exportReport),n,s),this.actionSubject.next({action:"ExportReport",data:n})},e.prototype.loadFile=function(e,t){if("string"==typeof t&&""!==t){0!==t.indexOf("<?xml")&&0!==t.indexOf("{")||(t=btoa(t));var o={action:"OpenReport",openingFileName:e||"Report.mdc",base64Data:t.indexOf("base64,")>0?t.substr(t.indexOf("base64,")+7):t};e&&(e.toLowerCase().indexOf(".mdx")>=0||e.toLowerCase().indexOf(".mrx")>=0)?this.formService.showForm("passwordForm",o):this.postOpen(o)}},e.prototype.postOpen=function(e){this.model.clearViewerState(),this.model.reportParams.reportFileName=e.openingFileName,this.post("OpenReport",this.model.options.actions.openReport,e)},e.prototype.action=function(e){var t=this;switch(e.name){case"Find":return void(this.model.controls.findPanel.visible=!this.model.controls.findPanel.visible);case"Bookmarks":return void(this.model.controls.bookmarksPanel.visible=!this.model.controls.bookmarksPanel.visible);case"Parameters":return void(this.model.controls.parametersPanel.visible=!this.model.controls.parametersPanel.visible);case"BookmarkAction":if(this.model.reportParams.pageNumber===e.bookmarkPage||"SinglePage"!==this.model.reportParams.viewMode)return void this.helper.scrollToAnchor(e.bookmarkAnchor,e.componentGuid);this.model.reportParams.pageNumber=e.bookmarkPage,this.model.options.bookmarkAnchor=e.bookmarkAnchor,this.model.options.componentGuid=e.componentGuid;break;case"GoToPage":this.model.reportParams.pageNumber=e.value;break;case"FirstPage":this.model.reportParams.pageNumber=0;break;case"PrevPage":this.model.reportParams.pageNumber=Math.max(0,this.model.reportParams.pageNumber-1);break;case"NextPage":this.model.reportParams.pageNumber=Math.min(this.model.reportParams.pagesCount-1,this.model.reportParams.pageNumber+1);break;case"LastPage":this.model.reportParams.pageNumber=this.model.reportParams.pagesCount-1;break;case"ViewModeSinglePage":this.model.reportParams.viewMode="SinglePage";break;case"ViewModeContinuous":this.model.reportParams.viewMode="Continuous";break;case"ViewModeMultiplePages":this.model.reportParams.viewMode="MultiplePages";break;case"Zoom25":this.model.reportParams.zoom=25;break;case"Zoom50":this.model.reportParams.zoom=50;break;case"Zoom75":this.model.reportParams.zoom=75;break;case"Zoom100":this.model.reportParams.zoom=100;break;case"Zoom150":this.model.reportParams.zoom=150;break;case"Zoom200":this.model.reportParams.zoom=200;break;case"ZoomOnePage":case"ZoomPageWidth":this.model.reportParams.zoom="ZoomPageWidth"===e.name?this.pageService.getZoomByPageWidth():this.pageService.getZoomByPageHeight();break;case"Submit":return this.model.reportParams.editableParameters=null,"Report"===this.model.reportParams.type&&(this.model.reportParams.pageNumber=0),this.model.options.isMobileDevice&&(this.model.controls.parametersPanel.visible=!1),void this.actionSubject.next({action:"Variables"});case"Reset":return this.model.options.paramsVariablesStartValues&&(this.model.options.paramsVariables=this.model.options.paramsVariablesStartValues),void this.actionSubject.next({action:"Reset"});case"Editor":return void this.actionSubject.next({action:"Editor",data:{}});case"Resources":return void(this.model.controls.resourcesPanel.visible=!this.model.controls.resourcesPanel.visible);case"PrintPdf":case"PrintWithPreview":case"PrintWithoutPreview":return void this.actionSubject.next({action:"Print",data:{format:e.name}});case"Print":var o="PrintPdf";switch(this.model.options.toolbar.printDestination){case"Pdf":o="PrintPdf";break;case"Direct":o="PrintWithoutPreview";break;case"WithPreview":o="PrintWithPreview"}return void this.actionSubject.next({action:"Print",data:{format:o}});case"Open":return this.model.openDialogFileMask=null,void setTimeout((function(){t.model.openDialogFileMask=".mdc,.mdz,.mdx,.mrt,.mrz,.mrx"}));case"ResourceView":return void this.postReportResource(e.value.name,"View");case"ResourceSaveFile":return void this.postReportResource(e.value.name,"SaveFile");case"FullScreen":return void this.fullScreenService.changeFullScreenMode(!this.model.options.appearance.fullScreenMode);case"About":return void this.actionSubject.next({action:"About"});case"Pin":return this.model.options.toolbar.autoHide=!this.model.options.toolbar.autoHide,this.pageService.calculateLayout(),void(this.model.options.toolbar.autoHide&&setTimeout((function(){t.hideToolbar()}),200));case"Design":this.actionSubject.next({action:"Design"});break;default:if(0===e.name.indexOf("saveMenu"))return void this.actionSubject.next({action:"Export",data:{format:e.name.substr(8)}});if(0===e.name.indexOf("sendEmailMenu"))return void this.actionSubject.next({action:"SendEmail",data:{format:e.name.substr(13)}})}this.getPages()},e.prototype.showError=function(e,t){var o="Error";return null!=e&&"string"==typeof e&&"ServerError:"===e.substr(0,12)&&(t=e.length<=13?"An unknown error occurred (the server returned an empty value).":e.substr(12)),null!=e&&!1===e.success&&e.type&&e.text&&(o=e.type,t=e.text),this.model.errorMessage={error:"Unknown error",type:o},null!=t&&("The report is not specified."===t&&!this.model.options.appearance.showReportIsNotSpecifiedMessage||(this.model.errorMessage={error:t.replace("\n","<br>"),type:o},this.model.images?this.formService.showForm("errorMessageForm"):alert(t),this.actionSubject.next({action:"Error"}),!0))},e.prototype.postReportResource=function(e,t){var o={action:"ReportResource",reportResourceParams:{resourceName:e,viewType:t}},i="View"===t?this.helper.openNewWindow("about:blank","_blank").document:null,n=this.model.requestUrl;this.httpClient.postForm(n.replace("{action}",this.model.options.actions.viewerEvent),o,i)},e.prototype.postBookmarkNodeAction=function(e){e.selected=!0,this.action({name:"BookmarkAction",bookmarkPage:e.page,bookmarkAnchor:e.url.replace(/\\\'/g,"'").substr(1),componentGuid:e.compunentGuid})},e.prototype.viewerResized=function(){this.menuService.closeAllMenus()},e.prototype.initAutoUpdateCache=function(){var e=this;this.model.options.server.allowAutoUpdateCache&&(this.model.timerAutoUpdateCache&&clearInterval(this.model.timerAutoUpdateCache),this.model.timerAutoUpdateCache=setInterval((function(){return e.post("UpdateCache")}),this.model.options.server.timeoutAutoUpdateCache))},e.prototype.startRefreshReportTimer=function(e){var t=this;null!=this.model.refreshReportTimer&&(clearInterval(this.model.refreshReportTimer),this.model.refreshReportTimer=null),e&&e>0&&(this.model.refreshReportTimer=setInterval((function(){t.model.showProgress||t.post("Refresh")}),1e3*e))},e.prototype.checkTrExp=function(){var e=this;if(!(this.model.options.cloudMode||this.model.options.serverMode||this.model.options.standaloneJsMode||this.model.options.reportDesignerMode||this.model.options.alternateValid)){var t=new Date;try{this.model.options.buildDate&&(t=new Date(this.model.options.buildDate))}catch(e){t=new Date}var o=Math.floor(((new Date).getTime()-t.getTime())/1e3/60/60/24);o>60&&setTimeout((function(){var t,i,n=o>120?e.model.loc("NoticesYourTrialHasExpired"):e.model.loc("NoticesYouUsingTrialVersion"),s=e.model.loc("ButtonOk");o>120&&(i=t=function(){window.location.href="https://www.stimulsoft.com/en/online-store"}),e.model.notificationFormOptions={message:n,image:"Notifications.Warning.png",buttonCaption:s,cancelAction:t,action:i},e.formService.showForm("notificationForm")}),3e3)}},e.ctorParameters=function(){return[{type:b},{type:g},{type:v},{type:x},{type:f},{type:P},{type:T},{type:S},{type:v}]},e=a([t.Injectable()],e)}(),I=function(){function e(e){this.model=e}return e.prototype.getImageTypesItems=function(){var e=[];return this.model.options.exports.showExportToImageBmp&&e.push(new u("Bmp","Bmp",null,"Bmp")),this.model.options.exports.showExportToImageGif&&e.push(new u("Gif","Gif",null,"Gif")),this.model.options.exports.showExportToImageJpeg&&e.push(new u("Jpeg","Jpeg",null,"Jpeg")),this.model.options.exports.showExportToImagePcx&&e.push(new u("Pcx","Pcx",null,"Pcx")),this.model.options.exports.showExportToImagePng&&e.push(new u("Png","Png",null,"Png")),this.model.options.exports.showExportToImageTiff&&e.push(new u("Tiff","Tiff",null,"Tiff")),this.model.options.exports.showExportToImageMetafile&&e.push(new u("Emf","Emf",null,"Emf")),this.model.options.exports.showExportToImageSvg&&e.push(new u("Svg","Svg",null,"Svg")),this.model.options.exports.showExportToImageSvgz&&e.push(new u("Svgz","Svgz",null,"Svgz")),e},e.prototype.getDataTypesItems=function(){var e=[];return this.model.options.exports.showExportToCsv&&e.push(new u("Csv","Csv",null,"Csv")),this.model.options.exports.showExportToDbf&&e.push(new u("Dbf","Dbf",null,"Dbf")),this.model.options.exports.showExportToXml&&e.push(new u("Xml","Xml",null,"Xml")),this.model.options.exports.showExportToDif&&e.push(new u("Dif","Dif",null,"Dif")),this.model.options.exports.showExportToSylk&&e.push(new u("Sylk","Sylk",null,"Sylk")),this.model.options.exports.showExportToJson&&e.push(new u("Json","Json",null,"Json")),e},e.prototype.getExcelTypesItems=function(){var e=[];return this.model.options.exports.showExportToExcel2007&&e.push(new u("Excel2007","Excel",null,"Excel2007")),this.model.options.exports.showExportToExcel&&e.push(new u("ExcelBinary","Excel 97-2003",null,"ExcelBinary")),this.model.options.exports.showExportToExcelXml&&e.push(new u("ExcelXml","Excel Xml 2003",null,"ExcelXml")),e},e.prototype.getHtmlTypesItems=function(){var e=[];return this.model.options.exports.showExportToHtml&&e.push(new u("Html","Html",null,"Html")),this.model.options.exports.showExportToHtml5&&e.push(new u("Html5","Html5",null,"Html5")),this.model.options.exports.showExportToMht&&e.push(new u("Mht","Mht",null,"Mht")),e},e.prototype.getZoomItems=function(){var e=[];return[.25,.5,.75,1,1.25,1.5,2].forEach((function(t,o){return e.push(new u("item"+o,100*t+"%",null,t))})),e},e.prototype.getImageFormatForHtmlItems=function(){var e=[];return e.push(new u("item0","Jpeg",null,"Jpeg")),e.push(new u("item1","Gif",null,"Gif")),e.push(new u("item2","Bmp",null,"Bmp")),e.push(new u("item3","Png",null,"Png")),e},e.prototype.getExportModeItems=function(){var e=[];return e.push(new u("item0","Table",null,"Table")),e.push(new u("item1","Span",null,"Span")),e.push(new u("item2","Div",null,"Div")),e},e.prototype.getImageResolutionItems=function(){var e=[];return["10","25","50","75","100","200","300","400","500"].forEach((function(t,o){return e.push(new u("item"+o,t,null,parseInt(t,10)))})),e},e.prototype.getImageCompressionMethodItems=function(){var e=[];return e.push(new u("item0","Jpeg",null,"Jpeg")),e.push(new u("item1","Flate",null,"Flate")),e},e.prototype.getImageQualityItems=function(){var e=[];return[.25,.5,.75,.85,.9,.95,1].forEach((function(t,o){return e.push(new u("item"+o,(100*t).toString(),null,t))})),e},e.prototype.getBorderTypeItems=function(){var e=[];return e.push(new u("item0",this.model.loc("BorderTypeSimple"),null,"Simple")),e.push(new u("item1",this.model.loc("BorderTypeSingle"),null,"UnicodeSingle")),e.push(new u("item2",this.model.loc("BorderTypeDouble"),null,"UnicodeDouble")),e},e.prototype.getEncodingDataItems=function(){var e=[];return this.model.encodingData.forEach((function(t,o){return e.push(new u("item"+o,t.value,null,t.key))})),e},e.prototype.getImageFormatItems=function(e){void 0===e&&(e=!1);var t=[];return t.push(new u("item0",this.model.loc("ImageFormatColor"),null,"Color")),t.push(new u("item1",this.model.loc("ImageFormatGrayscale"),null,"Grayscale")),e||t.push(new u("item2",this.model.loc("ImageFormatMonochrome"),null,"Monochrome")),t},e.prototype.getMonochromeDitheringTypeItems=function(){var e=[];return e.push(new u("item0","None",null,"None")),e.push(new u("item1","FloydSteinberg",null,"FloydSteinberg")),e.push(new u("item2","Ordered",null,"Ordered")),e},e.prototype.getTiffCompressionSchemeItems=function(){var e=[];return e.push(new u("item0","Default",null,"Default")),e.push(new u("item1","CCITT3",null,"CCITT3")),e.push(new u("item2","CCITT4",null,"CCITT4")),e.push(new u("item3","LZW",null,"LZW")),e.push(new u("item4","None",null,"None")),e.push(new u("item5","Rle",null,"Rle")),e},e.prototype.getEncodingDifFileItems=function(){var e=[];return e.push(new u("item0","437",null,"437")),e.push(new u("item1","850",null,"850")),e.push(new u("item2","852",null,"852")),e.push(new u("item3","857",null,"857")),e.push(new u("item4","860",null,"860")),e.push(new u("item5","861",null,"861")),e.push(new u("item6","862",null,"862")),e.push(new u("item7","863",null,"863")),e.push(new u("item8","865",null,"865")),e.push(new u("item9","866",null,"866")),e.push(new u("item10","869",null,"869")),e},e.prototype.getExportModeRtfItems=function(){var e=[];return e.push(new u("item0",this.model.loc("ExportModeRtfTable"),null,"Table")),e.push(new u("item1",this.model.loc("ExportModeRtfFrame"),null,"Frame")),e},e.prototype.getEncodingDbfFileItems=function(){var e=[];return e.push(new u("item0","Default",null,"Default")),e.push(new u("item1","437 U.S. MS-DOS",null,"USDOS")),e.push(new u("item2","620 Mazovia(Polish) MS-DOS",null,"MazoviaDOS")),e.push(new u("item3","737 Greek MS-DOS(437G)",null,"GreekDOS")),e.push(new u("item4","850 International MS-DOS",null,"InternationalDOS")),e.push(new u("item5","852 Eastern European MS-DOS",null,"EasternEuropeanDOS")),e.push(new u("item6","857 Turkish MS-DOS",null,"TurkishDOS")),e.push(new u("item7","861 Icelandic MS-DOS",null,"IcelandicDOS")),e.push(new u("item8","865 Nordic MS-DOS",null,"NordicDOS")),e.push(new u("item9","866 Russian MS-DOS",null,"RussianDOS")),e.push(new u("item10","895 Kamenicky(Czech) MS-DOS",null,"KamenickyDOS")),e.push(new u("item11","1250 Eastern European Windows",null,"EasternEuropeanWindows")),e.push(new u("item12","1251 Russian Windows",null,"RussianWindows")),e.push(new u("item13","1252 WindowsANSI",null,"WindowsANSI")),e.push(new u("item14","1253 GreekWindows",null,"GreekWindows")),e.push(new u("item15","1254 TurkishWindows",null,"TurkishWindows")),e.push(new u("item16","10000 StandardMacintosh",null,"StandardMacintosh")),e.push(new u("item17","10006 GreekMacintosh",null,"GreekMacintosh")),e.push(new u("item18","10007 RussianMacintosh",null,"RussianMacintosh")),e.push(new u("item19","10029 EasternEuropeanMacintosh",null,"EasternEuropeanMacintosh")),e},e.prototype.getAllowEditableItems=function(){var e=[];return e.push(new u("item0",this.model.loc("NameYes"),null,"Yes")),e.push(new u("item1",this.model.loc("NameNo"),null,"No")),e},e.prototype.getEncryptionKeyLengthItems=function(){var e=[];return e.push(new u("item0","40 bit RC4 (Acrobat 3)",null,"Bit40")),e.push(new u("item1","128 bit RC4 (Acrobat 5)",null,"Bit128")),e.push(new u("item2","128 bit AES (Acrobat 7)",null,"Bit128_r4")),e.push(new u("item3","256 bit AES (Acrobat 9)",null,"Bit256_r5")),e.push(new u("item4","256 bit AES (Acrobat X)",null,"Bit256_r6")),e},e.prototype.getDataExportModeItems=function(){var e=[];return e.push(new u("item0",this.model.loc("BandsFilterDataOnly"),null,"Data")),e.push(new u("item1",this.model.loc("BandsFilterDataAndHeaders"),null,"DataAndHeaders")),e.push(new u("item2",this.model.loc("BandsFilterDataAndHeadersFooters"),null,"DataAndHeadersFooters")),e.push(new u("item3",this.model.loc("BandsFilterAllBands"),null,"AllBands")),e},e.prototype.getFilterConditionItems=function(e){var t=[];switch(e){case"String":t.push(new u("item0",this.model.loc("ConditionEqualTo"),"","EqualTo")),t.push(new u("item1",this.model.loc("ConditionNotEqualTo"),"","NotEqualTo")),t.push("separator1"),t.push(new u("item2",this.model.loc("ConditionContaining"),"","Containing")),t.push(new u("item3",this.model.loc("ConditionNotContaining"),"","NotContaining")),t.push("separator2"),t.push(new u("item4",this.model.loc("ConditionBeginningWith"),"","BeginningWith")),t.push(new u("item5",this.model.loc("ConditionEndingWith"),"","EndingWith")),t.push("separator3"),t.push(new u("item2",this.model.loc("ConditionBetween"),"","Between")),t.push(new u("item3",this.model.loc("ConditionNotBetween"),"","NotBetween")),t.push("separator4"),t.push(new u("item6",this.model.loc("ConditionGreaterThan"),"","GreaterThan")),t.push(new u("item7",this.model.loc("ConditionGreaterThanOrEqualTo"),"","GreaterThanOrEqualTo")),t.push("separator5"),t.push(new u("item8",this.model.loc("ConditionLessThan"),"","LessThan")),t.push(new u("item9",this.model.loc("ConditionLessThanOrEqualTo"),"","LessThanOrEqualTo")),t.push("separator6"),t.push(new u("item10",this.model.loc("ConditionIsNull"),"","IsNull")),t.push(new u("item11",this.model.loc("ConditionIsNotNull"),"","IsNotNull")),t.push("separator7"),t.push(new u("item12",this.model.loc("ConditionIsBlank"),"","IsBlank")),t.push(new u("item13",this.model.loc("ConditionIsNotBlank"),"","IsNotBlank"));break;case"Numeric":case"DateTime":t.push(new u("item0",this.model.loc("ConditionEqualTo"),"","EqualTo")),t.push(new u("item1",this.model.loc("ConditionNotEqualTo"),"","NotEqualTo")),t.push("separator1"),t.push(new u("item2",this.model.loc("ConditionBetween"),"","Between")),t.push(new u("item3",this.model.loc("ConditionNotBetween"),"","NotBetween")),t.push("separator2"),t.push(new u("item4",this.model.loc("ConditionGreaterThan"),"","GreaterThan")),t.push(new u("item5",this.model.loc("ConditionGreaterThanOrEqualTo"),"","GreaterThanOrEqualTo")),t.push("separator3"),t.push(new u("item6",this.model.loc("ConditionLessThan"),"","LessThan")),t.push(new u("item7",this.model.loc("ConditionLessThanOrEqualTo"),"","LessThanOrEqualTo")),t.push("separator4"),t.push(new u("item8",this.model.loc("ConditionIsNull"),"","IsNull")),t.push(new u("item9",this.model.loc("ConditionIsNotNull"),"","IsNotNull"));break;case"Boolean":t.push(new u("item0",this.model.loc("ConditionEqualTo"),"","EqualTo")),t.push(new u("item1",this.model.loc("ConditionNotEqualTo"),"","NotEqualTo"))}return t},e.prototype.getBoolItems=function(){var e=[];return e.push(new u("item0",this.model.loc("NameTrue"),null,"True")),e.push(new u("item1",this.model.loc("NameFalse"),null,"False")),e},e.prototype.getPaperSizesItems=function(){var e=[];return this.model.paperSizes.forEach((function(t,o){return e.push(new u("item"+o,t,null,t))})),e},e.prototype.getOrientationItems=function(){var e=[];return e.push(new u("item0",this.model.loc("Portrait"),null,"Portrait")),e.push(new u("item1",this.model.loc("Landscape"),null,"Landscape")),e},e.prototype.getDashboardImageQualityItems=function(){var e=[];return[50,75,100,150,200,300,500].forEach((function(t,o){return e.push(new u("item"+o,t+"%",null,t.toString()))})),e},e.prototype.getPdfSecurityCertificatesItems=function(){var e=[];if(this.model.pdfSecurityCertificates)for(var t=0;t<this.model.pdfSecurityCertificates.length;t++){var o=this.model.pdfSecurityCertificates[t];e.push(new u("item"+t,"Name: "+o.name+"<br>Issuer: "+o.issuer+"<br>Valid from: "+o.from+" to "+o.to,null,o.thumbprint,null,null,null,"DigitalSignature"))}return e},e.ctorParameters=function(){return[{type:g}]},e=a([t.Injectable()],e)}(),k=function(){function e(e,t,o,n,s){var r=this;this.formService=e,this.helper=t,this.model=o,this.collections=n,this.controller=s,this.exportSettings={},this.sendMail=!1,this.subject=new i.Subject,s.getActionMessage().subscribe((function(e){switch(e.action){case"Export":r.export(e.data.format);break;case"SendEmail":r.export(e.data.format,!1,!0)}}))}return e.prototype.getMessage=function(){return this.subject.asObservable()},e.prototype.export=function(e,t,o){var i=this;void 0===t&&(t=!1),void 0===o&&(o=!1),this.helper.checkCloudAuthorization("export")&&(this.sendMail=o,this.format=e,this.exportSettings=this.getDefaultExportSettings(this.format),this.model.options.exports.showExportDialog&&!o||this.model.options.email.showExportDialog&&o?(this.exportFormSettings=this.getExportSetings(t),t||(this.formService.closeForm("exportForm"),setTimeout((function(){i.formService.showForm("exportForm")})))):this.postExport())},e.prototype.postExport=function(){this.sendMail?this.subject.next("postMail"):this.controller.postExport(this.format,this.exportSettings)},e.prototype.getExportSetings=function(e){var t;switch(this.getDefaultSettings(),this.format){case"Document":t={components:this.getComponents(["SaveReportMdc","SaveReportMdz","SaveReportMdx","SaveReportPassword"])};break;case"Pdf":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ImageResolution","ImageCompressionMethod","AllowEditable","ImageQuality","EmbeddedFonts","ExportRtfTextAsImage","PdfACompliance","UseDigitalSignature","DocumentSecurityButton","DigitalSignatureButton","OpenAfterExport","PasswordInputUser","PasswordInputOwner","PrintDocument","ModifyContents","CopyTextAndGraphics","AddOrModifyTextAnnotations","KeyLength","GetCertificateFromCryptoUI","SubjectNameString"]),openAfterExport:!0};break;case"Xps":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ImageResolution","ImageQuality","OpenAfterExport","ExportRtfTextAsImage"]),openAfterExport:!0};break;case"Ppt2007":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ImageResolution","ImageQuality"])};break;case"Html":t={components:this.getComponents(["HtmlType","Zoom","ImageFormatForHtml","ExportMode","UseEmbeddedImages","AddPageBreaks"]),openAfterExport:!0};break;case"Html5":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","HtmlType","ImageFormatForHtml","ImageResolution","ImageQuality","ContinuousPages","OpenAfterExport"]),openAfterExport:!0};break;case"Mht":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","HtmlType","Zoom","ImageFormatForHtml","ExportMode","AddPageBreaks"])};break;case"Text":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","KillSpaceLines","PutFeedPageCode","DrawBorder","CutLongLines","BorderType","ZoomX","ZoomY","EncodingTextOrCsvFile"])};break;case"Rtf":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ImageResolution","ImageQuality","ExportModeRtf","UsePageHeadersAndFooters","RemoveEmptySpaceAtBottom"])};break;case"Word2007":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ImageResolution","ImageQuality","UsePageHeadersAndFooters","RemoveEmptySpaceAtBottom"])};break;case"Odt":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ImageResolution","ImageQuality","RemoveEmptySpaceAtBottom"])};break;case"Excel":case"ExcelBinary":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ExcelType","ImageResolution","ImageQuality","DataExportMode","ExportObjectFormatting","UseOnePageHeaderAndFooter","ExportEachPageToSheet","ExportPageBreaks"]),openAfterExport:!0};break;case"ExcelXml":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ExcelType"])};break;case"Excel2007":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ExcelType","ImageResolution","ImageQuality","DataExportMode","ExportObjectFormatting","UseOnePageHeaderAndFooter","ExportEachPageToSheet","ExportPageBreaks"])};break;case"Ods":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ImageResolution","ImageQuality"])};break;case"Csv":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","DataType","EncodingTextOrCsvFile","Separator","DataExportMode","SkipColumnHeaders"])};break;case"Dbf":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","DataType","EncodingDbfFile"])};break;case"Dif":case"Sylk":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","DataType","ExportDataOnly","UseDefaultSystemEncoding","EncodingDifFile"])};break;case"Json":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","DataType","DataExportMode"])};break;case"Xml":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","DataType"])};break;case"ImageBmp":case"ImageGif":case"ImageJpeg":case"ImagePcx":case"ImagePng":case"ImageTiff":case"ImageEmf":case"ImageSvg":case"ImageSvgz":t={components:this.getComponents(["PageRangeGroup","PageRangeAll","PageRangeCurrentPage","PageRangePages","PageRangePagesText","SettingsGroup","ImageType","ImageZoom","ImageResolution","ImageFormat","DitheringType","TiffCompressionScheme","CompressToArchive","CutEdges"])}}return t.groups=this.getGroups(this.format),t.update=e,t},e.prototype.getComponents=function(e){var t=this,o=[];return e.forEach((function(e){switch(e){case"ImageType":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("Type"),width:160,tooltip:t.model.loc("TypeTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getImageTypesItems()});break;case"DataType":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("Type"),width:160,tooltip:t.model.loc("TypeTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getDataTypesItems()});break;case"ExcelType":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("Type"),width:160,tooltip:t.model.loc("TypeTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getExcelTypesItems()});break;case"HtmlType":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("Type"),width:160,tooltip:t.model.loc("TypeTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getHtmlTypesItems()});break;case"Zoom":case"ImageZoom":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ZoomHtml"),width:160,tooltip:t.model.loc("ZoomHtmlTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getZoomItems()});break;case"ImageFormatForHtml":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ImageFormatForHtml"),width:160,tooltip:t.model.loc("ImageFormatForHtmlTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getImageFormatForHtmlItems()});break;case"ExportMode":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ExportMode"),width:160,tooltip:t.model.loc("ExportModeTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getExportModeItems()});break;case"CompressToArchive":o.push({name:e,type:"CheckBox",caption:t.model.loc("CompressToArchive"),tooltip:t.model.loc("CompressToArchiveTooltip"),margin:"4px 8px 4px 8px"});break;case"UseEmbeddedImages":o.push({name:e,type:"CheckBox",caption:t.model.loc("EmbeddedImageData"),tooltip:t.model.loc("EmbeddedImageDataTooltip"),margin:"4px 8px 4px 8px"});break;case"AddPageBreaks":o.push({name:e,type:"CheckBox",caption:t.model.loc("AddPageBreaks"),tooltip:t.model.loc("AddPageBreaksTooltip"),margin:"4px 8px 4px 8px"});break;case"ImageResolution":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ImageResolution"),width:160,tooltip:t.model.loc("ImageResolutionTooltip"),margin:"2px 4px 2px 8px",items:t.collections.getImageResolutionItems()});break;case"ImageCompressionMethod":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ImageCompressionMethod"),width:160,tooltip:t.model.loc("ImageCompressionMethodTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getImageCompressionMethodItems()});break;case"AllowEditable":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("AllowEditable"),width:160,tooltip:t.model.loc("AllowEditableTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getAllowEditableItems()});break;case"ImageQuality":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ImageQuality"),width:160,tooltip:t.model.loc("ImageQualityTooltip"),margin:"2px 4px 2px 8px",items:t.collections.getImageQualityItems()});break;case"ContinuousPages":o.push({name:e,type:"CheckBox",caption:t.model.loc("ContinuousPages"),tooltip:t.model.loc("ContinuousPagesTooltip"),margin:"4px 8px 4px 8px"});break;case"StandardPdfFonts":o.push({name:e,type:"CheckBox",caption:t.model.loc("StandardPDFFonts"),tooltip:t.model.loc("StandardPDFFontsTooltip"),margin:"4px 8px 4px 8px"});break;case"EmbeddedFonts":o.push({name:e,type:"CheckBox",caption:t.model.loc("EmbeddedFonts"),tooltip:t.model.loc("EmbeddedFontsTooltip"),margin:"4px 8px 4px 8px"});break;case"UseUnicode":o.push({name:e,type:"CheckBox",caption:t.model.loc("UseUnicode"),tooltip:t.model.loc("UseUnicodeTooltip"),margin:"4px 8px 4px 8px"});break;case"Compressed":o.push({name:e,type:"CheckBox",caption:t.model.loc("Compressed"),tooltip:t.model.loc("CompressedTooltip"),margin:"4px 8px 4px 8px"});break;case"ExportRtfTextAsImage":o.push({name:e,type:"CheckBox",caption:t.model.loc("ExportRtfTextAsImage"),tooltip:t.model.loc("ExportRtfTextAsImageTooltip"),margin:"4px 8px 4px 8px"});break;case"PdfACompliance":o.push({name:e,type:"CheckBox",caption:t.model.loc("PdfACompliance"),tooltip:t.model.loc("PdfAComplianceTooltip"),margin:"4px 8px 4px 8px"});break;case"KillSpaceLines":o.push({name:e,type:"CheckBox",caption:t.model.loc("KillSpaceLines"),tooltip:t.model.loc("KillSpaceLinesTooltip"),margin:"4px 8px 4px 8px"});break;case"PutFeedPageCode":o.push({name:e,type:"CheckBox",caption:t.model.loc("PutFeedPageCode"),tooltip:t.model.loc("PutFeedPageCodeTooltip"),margin:"4px 8px 4px 8px"});break;case"DrawBorder":o.push({name:e,type:"CheckBox",caption:t.model.loc("DrawBorder"),tooltip:t.model.loc("DrawBorderTooltip"),margin:"4px 8px 4px 8px"});break;case"CutLongLines":o.push({name:e,type:"CheckBox",caption:t.model.loc("CutLongLines"),tooltip:t.model.loc("CutLongLinesTooltip"),margin:"4px 8px 4px 8px"});break;case"BorderType":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("BorderType"),width:160,tooltip:t.model.loc("BorderTypeTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getBorderTypeItems()});break;case"ZoomX":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ZoomXY").replace(":","")+" X ",width:160,tooltip:t.model.loc("ZoomXYTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getZoomItems()});break;case"ZoomY":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ZoomXY").replace(":","")+" Y ",width:160,tooltip:t.model.loc("ZoomXYTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getZoomItems()});break;case"EncodingTextOrCsvFile":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("EncodingData"),width:160,tooltip:t.model.loc("EncodingDataTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getEncodingDataItems()});break;case"ImageFormat":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ImageFormat"),width:160,tooltip:t.model.loc("ImageFormatTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getImageFormatItems()});break;case"DitheringType":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("MonochromeDitheringType"),width:160,tooltip:t.model.loc("MonochromeDitheringTypeTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getMonochromeDitheringTypeItems()});break;case"TiffCompressionScheme":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("TiffCompressionScheme"),width:160,tooltip:t.model.loc("TiffCompressionSchemeTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getTiffCompressionSchemeItems()});break;case"CutEdges":o.push({name:e,type:"CheckBox",caption:t.model.loc("CutEdges"),tooltip:t.model.loc("CutEdgesTooltip"),margin:"4px 8px 4px 8px"});break;case"MultipleFiles":o.push({name:e,type:"CheckBox",caption:t.model.loc("MultipleFiles"),tooltip:t.model.loc("MultipleFilesTooltip"),margin:"4px 8px 4px 8px"});break;case"ExportDataOnly":o.push({name:e,type:"CheckBox",caption:t.model.loc("ExportDataOnly"),tooltip:t.model.loc("ExportDataOnlyTooltip"),margin:"4px 8px 4px 8px"});break;case"UseDefaultSystemEncoding":o.push({name:e,type:"CheckBox",caption:t.model.loc("UseDefaultSystemEncoding"),tooltip:t.model.loc("UseDefaultSystemEncodingTooltip"),margin:"4px 8px 4px 8px"});break;case"EncodingDifFile":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("EncodingDifFile"),width:160,tooltip:t.model.loc("EncodingDifFileTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getEncodingDifFileItems()});break;case"ExportModeRtf":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("ExportModeRtf"),width:160,tooltip:t.model.loc("ExportModeRtfTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getExportModeRtfItems()});break;case"UsePageHeadersAndFooters":o.push({name:e,type:"CheckBox",caption:t.model.loc("UsePageHeadersFooters"),tooltip:t.model.loc("UsePageHeadersFootersTooltip"),margin:"4px 8px 4px 8px"});break;case"RemoveEmptySpaceAtBottom":o.push({name:e,type:"CheckBox",caption:t.model.loc("RemoveEmptySpace"),tooltip:t.model.loc("RemoveEmptySpaceTooltip"),margin:"4px 8px 4px 8px"});break;case"Separator":o.push({name:e,type:"TextBox",label:t.model.loc("Separator"),tooltip:t.model.loc("SeparatorTooltip"),width:160,margin:"2px 8px 2px 8px"});break;case"DataExportMode":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("BandsFilter"),width:160,tooltip:t.model.loc("BandsFilterTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getDataExportModeItems()});break;case"SkipColumnHeaders":o.push({name:e,type:"CheckBox",caption:t.model.loc("SkipColumnHeaders"),tooltip:t.model.loc("SkipColumnHeadersTooltip"),margin:"4px 8px 4px 8px"});break;case"ExportObjectFormatting":o.push({name:e,type:"CheckBox",caption:t.model.loc("ExportObjectFormatting"),tooltip:t.model.loc("ExportObjectFormattingTooltip"),margin:"4px 8px 4px 8px"});break;case"UseOnePageHeaderAndFooter":o.push({name:e,type:"CheckBox",caption:t.model.loc("UseOnePageHeaderFooter"),tooltip:t.model.loc("UseOnePageHeaderFooterTooltip"),margin:"4px 8px 4px 8px"});break;case"ExportEachPageToSheet":o.push({name:e,type:"CheckBox",caption:t.model.loc("ExportEachPageToSheet"),tooltip:t.model.loc("ExportEachPageToSheetTooltip"),margin:"4px 8px 4px 8px"});break;case"ExportPageBreaks":o.push({name:e,type:"CheckBox",caption:t.model.loc("ExportPageBreaks"),tooltip:t.model.loc("ExportPageBreaksTooltip"),margin:"4px 8px 4px 8px"});break;case"EncodingDbfFile":o.push({name:e,type:"DropDownListForExportForm",label:t.model.loc("EncodingDbfFile"),width:160,tooltip:t.model.loc("EncodingDbfFileTooltip"),margin:"2px 8px 2px 8px",items:t.collections.getEncodingDbfFileItems()});break;case"DocumentSecurityButton":o.push({name:e,type:"SmallButton",caption:t.model.loc("DocumentSecurityButton"),width:160,margin:"2px 8px 2px 8px",items:t.collections.getEncodingDbfFileItems()});break;case"UseDigitalSignature":o.push({name:e,caption:t.model.loc("DigitalSignatureButton"),type:"DropDownListForExportForm",tooltip:t.model.loc("UseDigitalSignatureTooltip"),width:160,items:t.collections.getPdfSecurityCertificatesItems(),margin:"4px 8px 4px 8px"})}})),o},e.prototype.getGroups=function(e){var t=this.helper.getCookie("StimulsoftWebViewerExportSettingsOpeningGroups"),o=t?JSON.parse(t):null,i=0===e.indexOf("Image")&&"ImageTiff"!==e;return{savingReportGroup:{visible:"Document"===e,opened:!o||o.SavingReportGroup},pageRangeGroup:{visible:"Document"!==e,opened:!o||o.PageRangeGroup,pageRangeAllIsDisabled:i},settingsGroup:{visible:"Document"!==e,opened:!!o&&o.SettingsGroup}}},e.prototype.getDefaultSettings=function(){var e;if(this.model.options.exports.storeExportSettings&&this.helper.getCookie("StimulsoftWebViewerExportSettings"+this.getCommonExportFormat())){var t=this.helper.getCookie("StimulsoftWebViewerExportSettings"+this.getCommonExportFormat()),o=JSON.parse(t),i=o.ImageType||o.DataType||o.ExcelType||o.HtmlType;"ExcelBinary"===i&&(i="Excel"),this.format=i?o.ImageType?"Image"+i:i:this.format;var n=this.getDefaultExportSettings(this.format),s={};Object.keys(n).forEach((function(e){return s[e]=o[e]||n[e]})),Object.keys(o).forEach((function(e){return s[e]=o[e]||n[e]})),!1===this.model.options.exports.showOpenAfterExport?s.OpenAfterExport=!0:"Pdf"!==this.format&&"Xps"!==this.format&&"Html"!==this.format&&"Excel"!==this.format&&"ExcelBinary"!==this.format&&(s.OpenAfterExport=!1),!0!==this.model.options.exports.openAfterExport&&!1!==this.model.options.exports.openAfterExport||(s.OpenAfterExport=this.model.options.exports.openAfterExport),e=s}else e=this.getDefaultExportSettings(this.format);this.updateTypes(e),this.exportSettings=this.helper.copyObject(e)},e.prototype.updateTypes=function(e){var t=this;["ImageType","DataType","ExcelType","HtmlType"].forEach((function(o){if(e[o])switch(o){case"ImageType":t.model.options.exports.showExportToImageBmp||"Bmp"!==e[o]||(e[o]="Gif"),t.model.options.exports.showExportToImageGif||"Gif"!==e[o]||(e[o]="Jpeg"),t.model.options.exports.showExportToImageJpeg||"Jpeg"!==e[o]||(e[o]="Pcx"),t.model.options.exports.showExportToImagePcx||"Pcx"!==e[o]||(e[o]="Png"),t.model.options.exports.showExportToImagePng||"Png"!==e[o]||(e[o]="Tiff"),t.model.options.exports.showExportToImageTiff||"Tiff"!==e[o]||(e[o]="Emf"),t.model.options.exports.showExportToImageMetafile||"Emf"!==e[o]||(e[o]="Svg"),t.model.options.exports.showExportToImageSvg||"Svg"!==e[o]||(e[o]="Svgz"),t.model.options.exports.showExportToImageSvgz||"Svgz"!==e[o]||(e[o]="Bmp");break;case"DataType":t.model.options.exports.showExportToCsv||"Csv"!==e[o]||(e[o]="Dbf"),t.model.options.exports.showExportToDbf||"Dbf"!==e[o]||(e[o]="Xml"),t.model.options.exports.showExportToXml||"Xml"!==e[o]||(e[o]="Dif"),t.model.options.exports.showExportToDif||"Dif"!==e[o]||(e[o]="Sylk"),t.model.options.exports.showExportToSylk||"Sylk"!==e[o]||(e[o]="Csv"),t.model.options.exports.showExportToJson||"Json"!==e[o]||(e[o]="Json");break;case"ExcelType":t.model.options.exports.showExportToExcel2007||"Excel2007"!==e[o]||(e[o]="ExcelBinary"),t.model.options.exports.showExportToExcel||"ExcelBinary"!==e[o]||(e[o]="ExcelXml"),t.model.options.exports.showExportToExcelXml||"ExcelXml"!==e[o]||(e[o]="Excel2007");break;case"HtmlType":t.model.options.exports.showExportToHtml||"Html"!==e[o]||(e[o]="Html5"),t.model.options.exports.showExportToHtml5||"Html5"!==e[o]||(e[o]="Mht"),t.model.options.exports.showExportToMht||"Mht"!==e[o]||(e[o]="Html")}}))},e.prototype.getCommonExportFormat=function(){return"Html"===this.format||"Html5"===this.format||"Mht"===this.format?"Html":"Excel"===this.format||"Excel2007"===this.format||"ExcelXml"===this.format?"Excel":"Csv"===this.format||"Dbf"===this.format||"Xml"===this.format||"Dif"===this.format||"Sylk"===this.format?"Data":"ImageBmp"===this.format||"ImageGif"===this.format||"ImageJpeg"===this.format||"ImagePcx"===this.format||"ImagePng"===this.format||"ImageTiff"===this.format||"ImageEmf"===this.format||"ImageSvg"===this.format||"ImageSvgz"===this.format?"Image":this.format},e.prototype.getDefaultExportSettings=function(e,t){void 0===t&&(t=!1);var o=null;if(t)return this.model.options.exports.defaultSettings["Dashboard"+e];switch(e){case"Document":o={Format:"Mdc"};break;case"Pdf":o=this.model.options.exports.defaultSettings.StiPdfExportSettings;break;case"Xps":o=this.model.options.exports.defaultSettings.StiXpsExportSettings;break;case"Ppt2007":o=this.model.options.exports.defaultSettings.StiPpt2007ExportSettings;break;case"Html":(o=this.model.options.exports.defaultSettings.StiHtmlExportSettings).HtmlType="Html";break;case"Html5":(o=this.model.options.exports.defaultSettings.StiHtmlExportSettings).HtmlType="Html5";break;case"Mht":(o=this.model.options.exports.defaultSettings.StiHtmlExportSettings).HtmlType="Mht";break;case"Text":o=this.model.options.exports.defaultSettings.StiTxtExportSettings;break;case"Rtf":o=this.model.options.exports.defaultSettings.StiRtfExportSettings;break;case"Word2007":o=this.model.options.exports.defaultSettings.StiWord2007ExportSettings;break;case"Odt":o=this.model.options.exports.defaultSettings.StiOdtExportSettings;break;case"Excel":(o=this.model.options.exports.defaultSettings.StiExcelExportSettings).ExcelType="ExcelBinary";break;case"ExcelXml":(o=this.model.options.exports.defaultSettings.StiExcelExportSettings).ExcelType="ExcelXml";break;case"Excel2007":(o=this.model.options.exports.defaultSettings.StiExcelExportSettings).ExcelType="Excel2007";break;case"Ods":o=this.model.options.exports.defaultSettings.StiOdsExportSettings;break;case"ImageBmp":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Bmp";break;case"ImageGif":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Gif";break;case"ImageJpeg":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Jpeg";break;case"ImagePcx":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Pcx";break;case"ImagePng":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Png";break;case"ImageTiff":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Tiff";break;case"ImageSvg":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Svg";break;case"ImageSvgz":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Svgz";break;case"ImageEmf":(o=this.model.options.exports.defaultSettings.StiImageExportSettings).ImageType="Emf";break;case"Xml":(o=this.model.options.exports.defaultSettings.StiDataExportSettings).DataType="Xml";break;case"Csv":(o=this.model.options.exports.defaultSettings.StiDataExportSettings).DataType="Csv";break;case"Dbf":(o=this.model.options.exports.defaultSettings.StiDataExportSettings).DataType="Dbf";break;case"Dif":(o=this.model.options.exports.defaultSettings.StiDataExportSettings).DataType="Dif";break;case"Sylk":(o=this.model.options.exports.defaultSettings.StiDataExportSettings).DataType="Sylk"}return o.OpenAfterExport=!(!1===this.model.options.exports.showOpenAfterExport),"Pdf"!==e&&"Xps"!==e&&"Html"!==e&&"Excel"!==e&&"ExcelBinary"!==e&&(o.OpenAfterExport=!1),o},e.ctorParameters=function(){return[{type:P},{type:f},{type:g},{type:I},{type:C}]},e=a([t.Injectable()],e)}(),E=function(){function e(e,t,o,i){var n=this;this.model=e,this.exportService=t,this.formService=o,this.controller=i,t.getMessage().subscribe((function(e){"postMail"===e&&n.postMail()}))}return e.prototype.postMail=function(){this.fillDefaults(),this.model.options.email.showEmailDialog?this.formService.showForm("sendEmailForm"):this.sendMail()},e.prototype.sendMail=function(){var e={exportFormat:this.exportService.format,exportSettings:this.exportService.exportSettings};this.formService.closeForm("sendEmailForm"),this.controller.post("EmailReport",this.model.options.actions.emailReport,e),this.controller.actionSubject.next({action:"Email",data:e})},e.prototype.fillDefaults=function(){this.exportService.exportSettings.Email=this.model.options.email.defaultEmailAddress,this.exportService.exportSettings.Message=this.model.options.email.defaultEmailMessage,this.exportService.exportSettings.Subject=this.model.options.email.defaultEmailSubject;var e=this.exportService.format.toLowerCase().replace("image","");switch(e){case"excel":e="xls";break;case"excel2007":e="xlsx";break;case"excelxml":e="xls";break;case"html5":e="html";break;case"jpeg":e="jpg";break;case"ppt2007":e="ppt";break;case"text":e="txt";break;case"word2007":e="docx"}this.exportService.exportSettings.Attachment=this.model.reportParams.reportFileName+"."+e},e.ctorParameters=function(){return[{type:g},{type:k},{type:P},{type:C}]},e=a([t.Injectable()],e)}(),D=function(){function e(e,t,o,i,n){this.model=e,this.controller=t,this.exportService=o,this.helper=i,this.mailService=n,this.EXPORT_FORMATS=["Document","Pdf","Xps","Ppt2007","Html","Html5","Mht","Text","Rtf","Word2007","Odt","Excel","ExcelBinary","ExcelXml","Excel2007","Ods","Csv","Dbf","Dif","Sylk","Json","Xml","ImageBmp","ImageGif","ImageJpeg","ImagePcx","ImagePng","ImageTiff","ImageEmf","ImageSvg","ImageSvgz"]}return Object.defineProperty(e.prototype,"currentPage",{get:function(){return this.model.reportParams.pageNumber},set:function(e){e>=0&&e<this.model.reportParams.pagesCount&&(this.model.reportParams.pageNumber=e,this.controller.getPages())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this.model.reportParams.pageNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewMode",{get:function(){return this.model.reportParams.viewMode},set:function(e){"SinglePage"!==e&&"Continuous"!==e&&"MultiplePages"!==e||(this.model.reportParams.viewMode=e,this.controller.getPages())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoom",{get:function(){return this.model.reportParams.zoom},set:function(e){e>=1&&e<=1e3&&(this.model.reportParams.zoom=e,this.controller.getPages())},enumerable:!0,configurable:!0}),e.prototype.zoomPageHeight=function(){this.controller.action({name:"ZoomOnePage"})},e.prototype.zoomPageWidth=function(){this.controller.action({name:"ZoomPageWidth"})},e.prototype.printPdf=function(){this.controller.action({name:"PrintPdf"})},e.prototype.printWithPreview=function(){this.controller.action({name:"PrintWithPreview"})},e.prototype.printWithoutPreview=function(){this.controller.action({name:"PrintWithoutPreview"})},e.prototype.showExportForm=function(e){this.EXPORT_FORMATS.some((function(t){return t===e}))&&this.controller.actionSubject.next({action:"Export",data:{format:e}})},e.prototype.showExportEmailForm=function(e){this.EXPORT_FORMATS.some((function(t){return t===e}))&&this.controller.actionSubject.next({action:"SendEmail",data:{format:e}})},e.prototype.export=function(e,t){if(this.EXPORT_FORMATS.some((function(t){return t===e}))){var o=this.getExportSettings(e,t);this.controller.postExport(e,o)}},e.prototype.exportEmail=function(e,t,o,i,n){this.EXPORT_FORMATS.some((function(t){return t===e}))&&(this.exportService.exportSettings=this.getExportSettings(e,t),this.exportService.format=e,this.mailService.fillDefaults(),o&&(this.exportService.exportSettings.Email=o),n&&(this.exportService.exportSettings.Message=n),i&&(this.exportService.exportSettings.Subject=i),this.mailService.sendMail())},e.prototype.getExportSettings=function(e,t){this.exportService.sendMail=!1,this.exportService.format=e;var o=this.helper.copyObject(this.exportService.getDefaultExportSettings(e));return t&&Object.keys(t).forEach((function(e){return o[e]=t[e]})),o},e.ctorParameters=function(){return[{type:g},{type:C},{type:k},{type:f},{type:E}]},e=a([t.Injectable()],e)}(),M=function(){function e(e,t,o,i,n){var s=this;this.model=e,this.exportService=t,this.helper=o,this.httpClient=i,this.controller=n,n.getActionMessage().subscribe((function(e){"Print"===e.action&&s.postPrint(e.data.format)})),n.getMessage().subscribe((function(e){if("PrintReport"===e.action)switch(e.subAction){case"PrintWithPreview":s.printAsPopup(e.data);break;case"PrintWithoutPreview":s.printAsHtml(e.data)}}))}return e.prototype.postPrint=function(e){if("PrintPdf"===e&&/iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent)&&this.helper.isTouchDevice()){var t=this.exportService.getDefaultExportSettings("Pdf");return t.OpenAfterExport=!0,void this.postExport("Pdf",t)}var o={action:"PrintReport",printAction:e,bookmarksPrint:this.model.options.appearance.bookmarksPrint};switch(e){case"PrintPdf":"Popup"===this.model.options.appearance.printToPdfMode||"Safari"==this.helper.getNavigatorName()||"iPad"==this.helper.getNavigatorName()?this.printAsPdfPopup(o):this.printAsPdf("",o);break;default:this.controller.post("PrintReport",this.model.options.actions.printReport,o,"text",e)}},e.prototype.postExport=function(e,t,o,i){var n={action:i?"ExportDashboard":"ExportReport",exportFormat:e,exportSettings:t,elementName:o},s=t&&t.OpenAfterExport&&"_blank"===this.model.options.appearance.openExportedReportWindow?this.helper.openNewWindow("about:blank","_blank").document:null,r=this.model.requestUrl;this.httpClient.postForm(r.replace("{action}",this.model.options.actions.exportReport),n,s)},e.prototype.printAsPdfPopup=function(e){var t=this.model.requestUrl.replace("{action}",this.model.options.actions.printReport),o=this.helper.openNewWindow("about:blank","_blank");null!=o&&this.httpClient.postForm(t,e,o.document)},e.prototype.printAsPdf=function(e,t){t.responseType="blob";var o=this.model.controls.viewer.el.nativeElement,i=this.model.options.viewerId+"_PdfPrintFrame",n=document.getElementById(i);n&&o.removeChild(n),(n=document.createElement("iframe")).id=i,n.name=i,n.width="0",n.height="0",n.style.position="absolute",n.style.border="none","Mozilla"===this.helper.getNavigatorName()&&(n.width="100px",n.height="100px",n.style.visibility="hidden",n.style.zIndex="-100",n.style.pointerEvents="none"),o.insertBefore(n,o.firstChild),"Mozilla"!==this.helper.getNavigatorName()&&(n.onload=function(){n.contentWindow.focus(),n.contentWindow.print()});var s=document.createElement("FORM");s.setAttribute("id","printForm"),s.setAttribute("method","POST"),s.setAttribute("action",this.model.requestUrl.replace("{action}",this.model.options.actions.printReport)),s.setAttribute("target",this.model.options.viewerId+"_PdfPrintFrame");var r=this.model.createPostParameters(t,!0);Object.keys(r).forEach((function(e){var t=document.createElement("INPUT");t.setAttribute("type","hidden"),t.setAttribute("name",e),t.setAttribute("value",r[e]),s.appendChild(t)})),document.body.appendChild(s),s.submit(),document.body.removeChild(s)},e.prototype.printAsPopup=function(e){var t=this.model.reportParams.pagesWidth||790,o=this.helper.openNewWindow("about:blank","PrintReport","height=900,width="+t+",toolbar=no,menubar=yes,scrollbars=yes,resizable=yes,location=no,directories=no,status=no");null!=o&&(o.document.open(),o.document.write(e),o.document.close())},e.prototype.printAsHtml=function(e){if(!this.controller.showError(e)){var t=this.model.controls.viewer.el.nativeElement,o=this.model.options.viewerId+"_PdfPrintFrame",i=document.getElementById(o);i&&t.removeChild(i),o=this.model.options.viewerId+"_HtmlPrintFrame",(i=document.getElementById(o))&&t.removeChild(i),(i=document.createElement("iframe")).id=o,i.name=o,i.width="0",i.height="0",i.style.position="absolute",i.style.border="none",t.insertBefore(i,t.firstChild),i.contentWindow.document.open(),i.contentWindow.document.write(e),i.contentWindow.document.close(),setTimeout((function(){i.contentWindow.focus(),i.contentWindow.print()}))}},e.ctorParameters=function(){return[{type:g},{type:k},{type:f},{type:b},{type:C}]},e=a([t.Injectable()],e)}(),A=function(){function e(e,t){var o=this;this.controller=e,this.model=t,e.getMessage().subscribe((function(e){"GetReport"!==e.action&&"OpenReport"!==e.action||setTimeout((function(){o.model.reportParams.autoZoom}))}))}return e.ctorParameters=function(){return[{type:C},{type:g}]},e=a([t.Injectable()],e)}(),F=function(){function e(e,t){this.model=e,this.menuService=t,this.state="initial",this.caption="",this.helpLink="",this.top=0,this.left=0,this.innerState="initial"}return e.prototype.show=function(e,t,o,i,n){var s=this;void 0===i&&(i=!0),!this.menuService.isMenuVisible()&&this.model.options.appearance.showTooltips?this.caption!==o||this.helpLink!==n||"initial"===this.state?(this.caption=o,this.helpLink=n,this.state=this.innerState="expanded"!==this.state?"preInitial":"preInitial2",setTimeout((function(){var o=s.model.controls.tooltip.el.nativeElement,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;i||(t-=o.offsetHeight),e+o.offsetWidth>n&&(e=n-o.offsetWidth),s.left=e,s.top=t,"initial"!==s.innerState&&s.showInternal()}))):this.showInternal():this.hideImmediately()},e.prototype.showInternal=function(){this.state="expanded",this.innerState="expanded"},e.prototype.showFromTooltip=function(){"preInitial"!==this.state&&(this.state="expanded",this.innerState="expanded")},e.prototype.hideImmediately=function(){this.innerState="initial",this.state="initial"},e.prototype.hide=function(){var e=this;this.innerState="initial",this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){"initial"===e.innerState&&(e.state="initial"),e.timeout=null}),1e3)},e.ctorParameters=function(){return[{type:g},{type:S}]},e=a([t.Injectable()],e)}(),V=function(){function e(e,t,o){var i=this;this.model=e,this.helper=t,this.animationService=o,this.symbols="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",this.findLabels=[],this.text="",this.lastFindText="",this.matchCase=!1,this.matchWholeWord=!1,this.findMode=!1,e.controls.findPanel.getVisibility().subscribe((function(e){e||(i.hideFindLabels(),i.lastFindText="")}))}return e.prototype.hideFindLabels=function(){this.findLabels.forEach((function(e){var t=e.parentElement;t.removeChild(e),t.oldPositionStyle&&(t.style.position=t.oldPositionStyle)})),this.findLabels=[],this.findMode=!1,this.lastFindText=""},e.prototype.selectFindLabel=function(e){if(0!==this.findLabels.length){for(var t=0,o=this.findLabels,i=0;i<o.length;i++)if(o[i].isSelected){o[i].setSelected(!1),t=i;break}"Next"===e?++t>o.length-1&&(t=0):--t<0&&(t=o.length-1),o[t].setSelected(!0),this.goToFindedElement(o[t])}},e.prototype.showFindLabels=function(){var e=this;this.hideFindLabels(),this.findMode=!0,this.lastFindText=this.text;var t=this.matchCase?this.text:this.text.toLowerCase();this.model.pages.forEach((function(o){var i,n,s=o.page.getElementsByTagName("*");try{for(var r=l(s),a=r.next();!a.done;a=r.next()){var p=a.value,m=p.innerHTML;if(m&&1===p.childNodes.length&&"#text"===p.childNodes[0].nodeName&&(e.matchCase||(m=m.toLowerCase()),m.indexOf(t)>=0)){if(e.matchWholeWord&&!e.isWholeWord(m,t))continue;var c=document.createElement("div");c.ownerElement=p,c.className="stiJsViewerFindLabel",c.style.width=p.offsetWidth-4+"px";var d=p.offsetHeight-4;c.style.height=d+"px",c.style.top="0px",c.style.left="0px",c.ownerElement.oldPositionStyle=c.ownerElement.style.position,"absolute"!==c.ownerElement.style.position&&"fixed"!==c.ownerElement.style.position&&(c.ownerElement.style.position="relative"),p.insertBefore(c,p.childNodes[0]),c.setSelected=function(e){this.isSelected=e,this.style.border="2px solid "+(e?"red":"#8a8a8a")},0===e.findLabels.length&&c.setSelected(!0),e.findLabels.push(c)}}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}})),this.findLabels.length>0&&this.goToFindedElement(this.findLabels[0])},e.prototype.goToFindedElement=function(e){if(e&&e.ownerElement){var t=this.helper.findPosY(e.ownerElement,this.model.options.appearance.scrollbarsMode?"stiJsViewerReportPanel":null,!0)-e.ownerElement.offsetHeight-50,o=(new Date).getTime()+this.model.options.scrollDuration;this.animationService.showAnimationForScroll(this.model.controls.reportPanel.el.nativeElement,t,o,(function(){}))}},e.prototype.isWholeWord=function(e,t){var o=e.indexOf(t),i=e.substring(o-1,o),n=e.substring(o+t.length,o+t.length+1);return!(""!==i&&-1!==this.symbols.indexOf(i)||""!==n&&-1!==this.symbols.indexOf(n))},e.ctorParameters=function(){return[{type:g},{type:f},{type:y}]},e=a([t.Injectable()],e)}(),O=function(){function e(){this.hexcase=0}return e.prototype.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},e.prototype.rstr_hmac_md5=function(e,t){var o=this.rstr2binl(e);o.length>16&&(o=this.binl_md5(o,8*e.length));for(var i=Array(16),n=Array(16),s=0;s<16;s++)i[s]=909522486^o[s],n[s]=1549556828^o[s];var r=this.binl_md5(i.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(n.concat(r),640))},e.prototype.rstr2hex=function(e){try{this.hexcase}catch(e){this.hexcase=0}for(var t,o=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",n=0;n<e.length;n++)t=e.charCodeAt(n),i+=o.charAt(t>>>4&15)+o.charAt(15&t);return i},e.prototype.str2rstr_utf8=function(e){for(var t,o,i="",n=-1;++n<e.length;)t=e.charCodeAt(n),o=n+1<e.length?e.charCodeAt(n+1):0,55296<=t&&t<=56319&&56320<=o&&o<=57343&&(t=65536+((1023&t)<<10)+(1023&o),n++),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i},e.prototype.rstr2binl=function(e){for(var t=Array(e.length>>2),o=0;o<t.length;o++)t[o]=0;for(o=0;o<8*e.length;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<o%32;return t},e.prototype.binl2rstr=function(e){for(var t="",o=0;o<32*e.length;o+=8)t+=String.fromCharCode(e[o>>5]>>>o%32&255);return t},e.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var o=1732584193,i=-271733879,n=-1732584194,s=271733878,r=0;r<e.length;r+=16){var a=o,l=i,p=n,m=s;o=this.md5_ff(o,i,n,s,e[r+0],7,-680876936),s=this.md5_ff(s,o,i,n,e[r+1],12,-389564586),n=this.md5_ff(n,s,o,i,e[r+2],17,606105819),i=this.md5_ff(i,n,s,o,e[r+3],22,-1044525330),o=this.md5_ff(o,i,n,s,e[r+4],7,-176418897),s=this.md5_ff(s,o,i,n,e[r+5],12,1200080426),n=this.md5_ff(n,s,o,i,e[r+6],17,-1473231341),i=this.md5_ff(i,n,s,o,e[r+7],22,-45705983),o=this.md5_ff(o,i,n,s,e[r+8],7,1770035416),s=this.md5_ff(s,o,i,n,e[r+9],12,-1958414417),n=this.md5_ff(n,s,o,i,e[r+10],17,-42063),i=this.md5_ff(i,n,s,o,e[r+11],22,-1990404162),o=this.md5_ff(o,i,n,s,e[r+12],7,1804603682),s=this.md5_ff(s,o,i,n,e[r+13],12,-40341101),n=this.md5_ff(n,s,o,i,e[r+14],17,-1502002290),i=this.md5_ff(i,n,s,o,e[r+15],22,1236535329),o=this.md5_gg(o,i,n,s,e[r+1],5,-165796510),s=this.md5_gg(s,o,i,n,e[r+6],9,-1069501632),n=this.md5_gg(n,s,o,i,e[r+11],14,643717713),i=this.md5_gg(i,n,s,o,e[r+0],20,-373897302),o=this.md5_gg(o,i,n,s,e[r+5],5,-701558691),s=this.md5_gg(s,o,i,n,e[r+10],9,38016083),n=this.md5_gg(n,s,o,i,e[r+15],14,-660478335),i=this.md5_gg(i,n,s,o,e[r+4],20,-405537848),o=this.md5_gg(o,i,n,s,e[r+9],5,568446438),s=this.md5_gg(s,o,i,n,e[r+14],9,-1019803690),n=this.md5_gg(n,s,o,i,e[r+3],14,-187363961),i=this.md5_gg(i,n,s,o,e[r+8],20,1163531501),o=this.md5_gg(o,i,n,s,e[r+13],5,-1444681467),s=this.md5_gg(s,o,i,n,e[r+2],9,-51403784),n=this.md5_gg(n,s,o,i,e[r+7],14,1735328473),i=this.md5_gg(i,n,s,o,e[r+12],20,-1926607734),o=this.md5_hh(o,i,n,s,e[r+5],4,-378558),s=this.md5_hh(s,o,i,n,e[r+8],11,-2022574463),n=this.md5_hh(n,s,o,i,e[r+11],16,1839030562),i=this.md5_hh(i,n,s,o,e[r+14],23,-35309556),o=this.md5_hh(o,i,n,s,e[r+1],4,-1530992060),s=this.md5_hh(s,o,i,n,e[r+4],11,1272893353),n=this.md5_hh(n,s,o,i,e[r+7],16,-155497632),i=this.md5_hh(i,n,s,o,e[r+10],23,-1094730640),o=this.md5_hh(o,i,n,s,e[r+13],4,681279174),s=this.md5_hh(s,o,i,n,e[r+0],11,-358537222),n=this.md5_hh(n,s,o,i,e[r+3],16,-722521979),i=this.md5_hh(i,n,s,o,e[r+6],23,76029189),o=this.md5_hh(o,i,n,s,e[r+9],4,-640364487),s=this.md5_hh(s,o,i,n,e[r+12],11,-421815835),n=this.md5_hh(n,s,o,i,e[r+15],16,530742520),i=this.md5_hh(i,n,s,o,e[r+2],23,-995338651),o=this.md5_ii(o,i,n,s,e[r+0],6,-198630844),s=this.md5_ii(s,o,i,n,e[r+7],10,1126891415),n=this.md5_ii(n,s,o,i,e[r+14],15,-1416354905),i=this.md5_ii(i,n,s,o,e[r+5],21,-57434055),o=this.md5_ii(o,i,n,s,e[r+12],6,1700485571),s=this.md5_ii(s,o,i,n,e[r+3],10,-1894986606),n=this.md5_ii(n,s,o,i,e[r+10],15,-1051523),i=this.md5_ii(i,n,s,o,e[r+1],21,-2054922799),o=this.md5_ii(o,i,n,s,e[r+8],6,1873313359),s=this.md5_ii(s,o,i,n,e[r+15],10,-30611744),n=this.md5_ii(n,s,o,i,e[r+6],15,-1560198380),i=this.md5_ii(i,n,s,o,e[r+13],21,1309151649),o=this.md5_ii(o,i,n,s,e[r+4],6,-145523070),s=this.md5_ii(s,o,i,n,e[r+11],10,-1120210379),n=this.md5_ii(n,s,o,i,e[r+2],15,718787259),i=this.md5_ii(i,n,s,o,e[r+9],21,-343485551),o=this.safe_add(o,a),i=this.safe_add(i,l),n=this.safe_add(n,p),s=this.safe_add(s,m)}return Array(o,i,n,s)},e.prototype.md5_cmn=function(e,t,o,i,n,s){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(i,s)),n),o)},e.prototype.md5_ff=function(e,t,o,i,n,s,r){return this.md5_cmn(t&o|~t&i,e,t,n,s,r)},e.prototype.md5_gg=function(e,t,o,i,n,s,r){return this.md5_cmn(t&i|o&~i,e,t,n,s,r)},e.prototype.md5_hh=function(e,t,o,i,n,s,r){return this.md5_cmn(t^o^i,e,t,n,s,r)},e.prototype.md5_ii=function(e,t,o,i,n,s,r){return this.md5_cmn(o^(t|~i),e,t,n,s,r)},e.prototype.safe_add=function(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e=a([t.Injectable()],e)}(),B=function(){function e(e,t,o){var i=this;this.controller=e,this.model=t,this.helper=o,e.getMessage().subscribe((function(e){if("InitVars"!==e.action&&"viewer_loaded"!==e.action){i.model.options.drillDownInProgress=!1;var t=e.data;if(0===i.model.drillDownButtons.length&&i.addButton(t.reportFileName,{}),"DrillDown"===e.action){0,i.showDrillDownPage(t.reportFileName,t.drillDownGuid,t.drillDownParameters,!1)}}}))}return e.prototype.showDrillDownPage=function(e,t,o,i){var n=this;if(!i){var s=!1;this.model.drillDownButtons.forEach((function(e){e.reportParams.drillDownGuid===t&&(n.model.drillDownButtons.forEach((function(e){return e.selected=!1})),s=e.selected=e.visible=!0)})),s||(this.addButton(e),this.model.reportParams.drillDownParameters=o,this.model.reportParams.pageNumber=0,this.model.reportParams.pagesWidth=0,this.model.reportParams.pagesHeight=0)}},e.prototype.addButton=function(e,t){void 0===t&&(t={}),this.model.drillDownButtons.forEach((function(e){return e.selected=!1})),this.model.drillDownButtons.push({caption:e,selected:!0,reportParams:t,visible:!0}),this.updateVisibility()},e.prototype.updateVisibility=function(){this.model.controls.drillDownPanel.visible=this.model.drillDownButtons.length>1},e.prototype.saveState=function(){var e=this.model.drillDownButtons.find((function(e){return e.selected}));e&&(e.reportParams=this.model.getReportParams())},e.ctorParameters=function(){return[{type:C},{type:g},{type:f}]},e=a([t.Injectable()],e)}(),R=function(){function e(e,t,o,i,n){var s=this;this.model=e,this.md5=t,this.controller=o,this.helper=i,this.drillDownService=n,o.getMessage().subscribe((function(e){"InitVars"===e.action&&s.showParametersPanel(e.data)})),o.getActionMessage().subscribe((function(e){switch(e.action){case"Variables":s.postInteraction({action:"Variables",variables:s.getParametersValues()});break;case"Reset":s.showParametersPanel(s.model.options.paramsVariables)}}))}return e.prototype.postInteraction=function(e){if(this.drillDownService.saveState(),"InitVars"!==e.action&&("DrillDown"===e.action||"DashboardDrillDown"===e.action)){if(this.model.options.drillDownInProgress)return;"DashboardDrillDown"===e.action&&e.drillDownParameters&&(e.drillDownParameters.isDashboardDrillDown=!0);var t=this.model.reportParams.drillDownParameters||[];e.drillDownParameters=e.drillDownParameters?t.concat(e.drillDownParameters):t,"DrillDown"===e.action?e.drillDownGuid=this.md5.hex_md5(JSON.stringify(this.sortPropsInDrillDownParameters(e.drillDownParameters))):e.dashboardDrillDownGuid=this.md5.hex_md5(JSON.stringify(this.sortPropsInDrillDownParameters(e.drillDownParameters))),this.model.options.drillDownInProgress=!0}this.controller.post(e.action,this.model.options.actions.interaction,e)},e.prototype.showParametersPanel=function(e){if(e){this.controller.showError(e)&&(e=null),this.model.options.isParametersReceived=!0,this.model.options.paramsVariables="string"==typeof e?JSON.parse(e):e,this.model.controls.parametersPanel.visible=!this.model.options.isMobileDevice;var t=this.helper.copyObject(this.model.options.paramsVariables),o=this.helper.getCountObjects(t),i=o<=this.model.options.minParametersCountForMultiColumns?1:this.model.options.appearance.parametersPanelColumnsCount,n=Math.trunc(o/i);n*i<o&&n++;for(var s=0;s<o;s++){var r=t[s];r.items&&r.items.forEach((function(e){e.isChecked=!0,e.visible=!0})),r.isNull="DateTime"===r.type&&null===r.value&&"NullableValue"===r.basicType}this.model.interactions={paramsVariables:t,countColumns:new Array(i),countInColumn:new Array(n)}}},e.prototype.sortPropsInDrillDownParameters=function(e){if(!e||!e.length)return e;for(var t=[],o=function(o){var i=[],n=e[o],s={};Object.keys(n).forEach((function(e){n.hasOwnProperty(e)&&i.push(e)})),i.sort(),i.forEach((function(e){return s[e]=n[e]})),t[o]=s},i=0;i<e.length;i++)o(i);return t},e.prototype.getParametersValues=function(){var e=this,t={};return Object.keys(this.model.interactions.paramsVariables).forEach((function(o){var i=e.model.interactions.paramsVariables[o];t[i.name]=e.getVariableValue(i)})),t},e.prototype.getVariableValue=function(e){var t=this;if(e.isNull)return null;switch(e.basicType){case"Value":case"NullableValue":return this.val(e.key,e,e.allowUserValues?e.value:e.key);case"Range":return{from:this.val(e.key,e),to:this.val(e.keyTo,e)};case"List":var o=[];return e.items&&e.items.filter((function(t){return e.allowUserValues||t.isChecked})).forEach((function(i){return o.push(t.val(i.key,e))})),o}},e.prototype.val=function(e,t,o){return"DateTime"===t.type?this.helper.getStringDateTime(e,t.dateTimeType):void 0===o?e:o},e.prototype.initializeInteractions=function(e){var t,o,i=this;if(e){var n=e.querySelectorAll?e.querySelectorAll("td,div,span,rect,path,ellipse"):e.getElementsByTagName("td"),s=[],r=function(e){if(e.getAttribute("interaction")&&(e.getAttribute("pageguid")||e.getAttribute("reportfile")||e.getAttribute("collapsed")||e.getAttribute("databandsort"))){e.style.cursor="pointer";var t=e.getAttribute("sort");t&&a.paintSortingArrow(e,t);var o=e.getAttribute("collapsed");if(o){var n=e.getAttribute("compindex")+"|"+e.getAttribute("interaction");s.indexOf(n)<0&&(a.paintCollapsingIcon(e,"true"===o),s.push(n))}e.onclick=function(t){e.getAttribute("pageguid")||e.getAttribute("reportfile")?i.postInteractionDrillDown(e):e.getAttribute("collapsed")?i.postInteractionCollapsing(e):i.postInteractionSorting(e,t.ctrlKey)},(e.getAttribute("pageguid")||e.getAttribute("reportfile"))&&(e.onmouseover=function(){return e.style.opacity=.75},e.onmouseout=function(){return e.style.opacity=1})}},a=this;try{for(var p=l(n),m=p.next();!m.done;m=p.next()){r(m.value)}}catch(e){t={error:e}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(t)throw t.error}}}},e.prototype.getComponentOffset=function(e){for(var t=0,o=0,i=e;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop)&&(e===i||""===e.style.position||"static"===e.style.position);)t+=e.offsetLeft-e.scrollLeft,o+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:o,left:t}},e.prototype.paintSortingArrow=function(e,t){if(!e.arrowImg){var o=document.createElement("div");o.innerHTML="asc"==t?"<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12'><path d='M1 5l5 4 5-4z' fill='#eeeeee' stroke='#666'/></svg>":"<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12'><path d='M1 9l5-4 5 4z' fill='#eeeeee' stroke='#666'/></svg>";var i=this.model.reportParams.zoom/100*16,n=this.model.reportParams.zoom/100*16;o.style.position="absolute",o.style.width=i+"px",o.style.height=n+"px",e.appendChild(o),e.arrowImg=o;var s=e.style.position,r=e.className;e.style.position="relative",r||(e.className="stiSortingParentElement");var a=this.helper.findPosX(o,e.className),l=this.helper.findPosY(o,e.className);o.style.marginLeft=e.offsetWidth-a-i-this.model.reportParams.zoom/100*3+"px",o.style.marginTop=e.offsetHeight/2-n/2-l+"px",s&&(e.style.position=s),e.className=r}},e.prototype.paintCollapsingIcon=function(e,t){if(!e.collapsImg){var o=document.createElement("img");o.src=t?this.model.img("CollapsingPlus.png"):this.model.img("CollapsingMinus.png"),o.style.position="absolute";var i=this.model.reportParams.zoom/100*10,n=this.model.reportParams.zoom/100*10;o.style.width=i+"px",o.style.height=n+"px",e.appendChild(o),e.collapsImg=o;var s=this.getComponentOffset(e),r=this.getComponentOffset(o);o.style.marginLeft=s.left-r.left+i/3+"px",o.style.marginTop=s.top-r.top+i/3+"px"}},e.prototype.postInteractionSorting=function(e,t){var o={action:"Sorting",sortingParameters:{ComponentName:e.getAttribute("interaction")+";"+t.toString(),DataBand:e.getAttribute("databandsort")}};this.model.options.isParametersReceived&&(o.variables=this.getParametersValues()),this.postInteraction(o)},e.prototype.postInteractionDrillDown=function(e){var t={action:"DrillDown",drillDownParameters:{ComponentIndex:e.getAttribute("compindex"),ElementIndex:e.getAttribute("elementindex"),PageIndex:e.getAttribute("pageindex"),PageGuid:e.getAttribute("pageguid"),ReportFile:e.getAttribute("reportfile")}};this.postInteraction(t)},e.prototype.postInteractionCollapsing=function(e){var t=e.getAttribute("interaction"),o=e.getAttribute("compindex"),i="true"!==e.getAttribute("collapsed");this.model.reportParams.collapsingStates||(this.model.reportParams.collapsingStates={}),this.model.reportParams.collapsingStates[t]||(this.model.reportParams.collapsingStates[t]={}),this.model.reportParams.collapsingStates[t][o]=i;var n={action:"Collapsing",collapsingParameters:{ComponentName:t,CollapsingStates:this.model.reportParams.collapsingStates}};this.model.options.isParametersReceived&&(n.variables=this.getParametersValues()),this.postInteraction(n)},e.prototype.updateAllHyperLinks=function(){var e=this,t=this.model.reportParams.tableOfContentsPointers;(null!=this.model.reportParams.bookmarksContent||t&&t.length>0)&&this.model.pages.forEach((function(o){var i,n,s=o.page.getElementsByTagName("a"),r=function(o){if(o.hrefContent=o.getAttribute("href"),o.hrefContent&&0==o.hrefContent.indexOf("#")){var i=o.hrefContent.substring(1).split("#GUID#");o.anchorName=i[0],o.componentGuid=i.length>1?i[1]:"",o.onclick=function(){var i=o.anchorName,n=o.componentGuid;try{i=decodeURI(o.anchorName)}catch(e){i=o.anchorName}if(t.length>0){for(var s=1,r=0;r<t.length;r++)if(n){if(t[r].componentGuid==n){s=t[r].pageIndex;break}}else if(i){if((0==t[r].anchor.indexOf("#")?t[r].anchor.substring(1):t[r].anchor)==i){s=t[r].pageIndex;break}}var a="";if(i&&(a+=i),n&&(a+="#GUID#"+n),a)return e.controller.action({name:"BookmarkAction",bookmarkPage:Math.max(s-1,0),bookmarkAnchor:a,componentGuid:o.compunentGuid}),!1}if(null!=e.model.reportParams.bookmarksContent){var l=e.model.nodes.find((function(e){return e.name===i}));if(l)e.model.navigateNode=l;else for(var p=0;p<document.anchors.length;p++)if(document.anchors[p].name==i)return void e.helper.scrollToAnchor(i);return e.controller.post("BookmarkAction",null,0),!1}}}};try{for(var a=l(s),p=a.next();!p.done;p=a.next()){r(p.value)}}catch(e){i={error:e}}finally{try{p&&!p.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}}))},e.ctorParameters=function(){return[{type:g},{type:O},{type:C},{type:f},{type:B}]},e=a([t.Injectable()],e)}(),N=function(){function e(){this.groups={}}return e.prototype.addButton=function(e){this.groups[e.groupName]||(this.groups[e.groupName]=[]),this.groups[e.groupName].push(e)},e.prototype.removeButton=function(e){var t,o=this.groups[e.groupName];null===(t=o)||void 0===t||t.splice(o.indexOf(e),1)},e.prototype.check=function(e){var t;null===(t=this.groups[e.groupName])||void 0===t||t.filter((function(t){return t.name!==e.name})).forEach((function(e){return e.uncheck()}))},e=a([t.Injectable()],e)}(),J=function(){function e(e,t,o){var i=this;this.controller=e,this.model=t,this.helper=o,this.visible=!1,this.editableFields=[],e.getActionMessage().subscribe((function(e){switch(e.action){case"Editor":i.visible=!i.visible,i.visible?i.showAllEditableFields():i.hideAllEditableFields()}})),e.getMessage().subscribe((function(e){"GetPages"===e.action&&i.visible?setTimeout((function(){return i.showAllEditableFields()})):i.visible=!1}))}return e.prototype.showAllEditableFields=function(){var e=this;this.editableFields=[],this.model.pages.forEach((function(t,o){var i,n,s=t.page.getElementsByTagName("*");try{for(var r=l(s),a=r.next();!a.done;a=r.next()){var p=a.value,m=p.getAttribute("editable");if(m){var c=m.split(";"),d={};d.compIndex=c[0],d.pageIndex="SinglePage"===e.model.reportParams.viewMode?e.model.reportParams.pageNumber:o.toString(),d.type=c[1],"CheckBox"===d.type?e.showCheckBoxEditableField(p,d,c):"Text"===d.type?e.showTextEditableField(p,d):"RichText"===d.type&&e.showRichTextEditableField(p,d)}}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}))},e.prototype.hideAllEditableFields=function(){this.currentEditableTextArea&&this.currentEditableTextArea.onblur(),this.editableFields.forEach((function(e){e.className=e.className.replace(" stiEditableField stiEditableFieldSelected",""),e.onclick=null,e.style.outline=""}))},e.prototype.showCheckBoxEditableField=function(e,t,o){var i=this;if(!e.sizes){var n=e.getElementsByTagName("IMG");0===n.length&&(n=e.getElementsByTagName("SVG")),0===n.length&&(n=e.getElementsByTagName("svg"));var s=n.length>0?n[0]:null;if(!s)return;s.offsetWidth?e.sizes={inPixels:s.offsetWidth>s.offsetHeight?s.offsetHeight:s.offsetWidth,widthStyle:s.style.width,heightStyle:s.style.height}:e.sizes={inPixels:s.clientWidth>s.clientHeight?s.clientHeight:s.clientWidth,widthStyle:s.clientWidth+"px",heightStyle:s.clientHeight+"px"}}"Google Chrome"!==this.helper.getNavigatorName()&&(e.style.outline="1px solid gray"),e.style.textAlign="center",e.className+=" stiEditableField stiEditableFieldSelected";var r=this.getSvgCheckBox(o[3],o[5],this.helper.strToInt(o[6]),o[7],e.sizes.inPixels),a=this.getSvgCheckBox(o[4],o[5],this.helper.strToInt(o[6]),o[7],e.sizes.inPixels);t.falseImage='<div style="width: '+e.sizes.widthStyle+"; height: "+e.sizes.heightStyle+'; "> '+r+"  </div>",t.trueImage='<div style="width: '+e.sizes.widthStyle+"; height: "+e.sizes.heightStyle+'; "> '+a+" </div>",t.checked="true"===o[2]||"True"===o[2],e.params=t,e.hasChanged||(e.checked=t.checked,e.innerHTML=t.checked?t.trueImage:t.falseImage),e.onclick=function(){e.checked=!e.checked,e.innerHTML=e.checked?t.trueImage:t.falseImage,e.hasChanged=!0,i.addEditableParameters(e)},this.editableFields.push(e)},e.prototype.showTextEditableField=function(e,t){var o=this;e.className+=" stiEditableField stiEditableFieldSelected","Google Chrome"!==this.helper.getNavigatorName()&&(e.style.outline="1px solid gray"),e.params=t,e.jsObject=this,e.onclick=function(){if(!e.editMode){o.currentEditableTextArea&&o.currentEditableTextArea.onblur(),e.editMode=!0;var t=document.createElement("textarea");t.style.width=e.offsetWidth-5+"px",t.style.height=e.offsetHeight-5+"px",t.style.maxWidth=e.offsetWidth-5+"px",t.style.maxHeight=e.offsetHeight-5+"px",t.className=e.className.replace(" stiEditableField stiEditableFieldSelected","")+" stiEditableTextArea",t.style.border="0px";var i=e;i.firstChild&&i.firstChild.nodeName&&"div"===i.firstChild.nodeName.toLowerCase()&&(i=i.childNodes[0]),t.value=i.innerHTML.replace(/<br>/g,"\n"),e.appendChild(t),t.focus(),o.currentEditableTextArea=t,t.onblur=function(){e.editMode=!1;var n=t.value;i.innerHTML=n.replace(/\n/g,"<br>"),o&&t.parentNode&&t.parentNode.removeChild(t),o.currentEditableTextArea=null,o.addEditableParameters(e,n)}}},this.editableFields.push(e)},e.prototype.showRichTextEditableField=function(e,t){},e.prototype.addEditableParameters=function(e,t){this.model.reportParams.editableParameters||(this.model.reportParams.editableParameters={});var o={};o.type=e.params.type,"CheckBox"===o.type&&(o.checked=e.checked),"Text"===o.type&&(o.text=null!=t?t:e.innerHTML),this.model.reportParams.editableParameters[e.params.pageIndex]||(this.model.reportParams.editableParameters[e.params.pageIndex]={}),this.model.reportParams.editableParameters[e.params.pageIndex][e.params.compIndex]=o},e.prototype.getSvgCheckBox=function(e,t,o,i,n){var s='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="'+n+'px" height="'+n+'px">',r='<path stroke="'+t+'" stroke-width="'+o+'" fill="'+i+'" stroke-linecap="round" stroke-linejoin="round" transform="scale('+1/(200/n)+')" d="',a="";switch(e){case"Cross":a="m 62.567796,147.97593 c -0.55,-0.14223 -2.162828,-0.5128 -3.584062,-0.82348 -3.647667,-0.79738 -9.670499,-5.83775 -14.242817,-11.91949 l -3.902341,-5.19058 5.080199,-1.13481 c 7.353071,-1.64253 13.640456,-5.71752 21.826811,-14.14646 l 7.208128,-7.42171 -6.410736,-7.513354 c -11.773129,-13.79803 -14.346726,-23.01954 -8.627769,-30.91434 2.894109,-3.9952 11.818482,-12.369333 13.182086,-12.369333 0.411356,0 1.063049,1.6875 1.448207,3.750003 0.980474,5.25038 6.456187,16.76587 10.936694,23 2.075266,2.8875 3.991125,5.25 4.257464,5.25 0.266339,0 3.775242,-3.4875 7.797566,-7.75 16.397034,-17.37615 29.674184,-19.76481 38.280564,-6.88699 4.15523,6.21753 4.18631,8.07093 0.14012,8.3552 -5.84833,0.41088 -17.16241,8.5342 -25.51465,18.319104 l -4.63153,5.42599 4.87803,4.31529 c 6.55108,5.79533 18.8991,11.89272 25.84076,12.76002 3.0455,0.38051 5.53727,1.10582 5.53727,1.6118 0,2.7809 -9.26611,14.41872 -13.03,16.36511 -7.96116,4.11687 -16.36991,0.71207 -32.764584,-13.26677 l -4.985957,-4.25125 -7.086791,8.97188 c -3.897736,4.93454 -8.82141,10.1198 -10.9415,11.52281 -3.906121,2.58495 -8.86588,4.41339 -10.691162,3.94136 z";break;case"Check":a="M 60.972125,162.49704 C 51.172676,136.72254 43.561975,123.37669 35.370344,117.6027 l -4.45827,-3.14248 2.75159,-2.89559 c 3.875121,-4.07793 10.034743,-7.49924 14.902472,-8.27747 3.859874,-0.61709 4.458306,-0.38024 8.535897,3.37835 2.660692,2.45254 6.265525,7.60856 9.167226,13.11196 2.630218,4.98849 4.910542,9.06999 5.067388,9.06999 0.156846,0 2.31372,-3.0375 4.793052,-6.75 C 96.259164,91.956015 129.68299,58.786374 157.56485,41.281603 l 8.84913,-5.555656 2.2633,2.631238 2.26329,2.631237 -7.76266,6.294183 C 139.859,66.19023 108.01682,105.51363 89.042715,138.83563 c -6.680477,11.73214 -7.172359,12.31296 -15.090788,17.81963 -4.501873,3.13071 -9.044031,6.30443 -10.093684,7.05271 -1.708923,1.21826 -2.010678,1.09165 -2.886118,-1.21093 z";break;case"CrossRectangle":a="m 24.152542,102.04237 0,-72.499996 74.5,0 74.499998,0 0,72.499996 0,72.5 -74.499998,0 -74.5,0 0,-72.5 z m 133.758188,0.25 -0.25819,-57.249996 -58.999998,0 -59,0 -0.259695,55.999996 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 13.207991,1.25 59.517885,1.25 l 59.039573,0 -0.25819,-57.25 z m -90.574091,43.18692 c -1.823747,-0.3912 -4.926397,-1.85716 -6.894778,-3.25768 -3.319254,-2.36169 -12.289319,-12.40741 -12.289319,-13.76302 0,-0.32888 2.417494,-1.13897 5.372209,-1.80021 7.185193,-1.60797 13.747505,-5.93496 21.803114,-14.3763 l 6.675323,-6.99496 -6.379078,-7.31436 C 64.931387,85.71231 61.643682,76.29465 65.471903,68.89169 67.054097,65.83207 78.56175,54.542374 80.098251,54.542374 c 0.45744,0 1.146839,1.6875 1.531997,3.75 0.980474,5.250386 6.456187,16.765876 10.936694,22.999996 2.075266,2.8875 3.991125,5.25 4.257464,5.25 0.266339,0 3.775244,-3.4875 7.797564,-7.75 16.39704,-17.376139 29.67419,-19.764806 38.28057,-6.88698 4.15523,6.21752 4.18631,8.07092 0.14012,8.35519 -5.82996,0.40959 -18.23707,9.34942 -25.91566,18.67328 -3.90068,4.73647 -3.97203,4.95414 -2.2514,6.86861 3.19054,3.54997 13.7039,10.54321 18.97191,12.61967 2.83427,1.11716 7.43737,2.33421 10.22912,2.70455 2.79175,0.37034 5.07591,0.9956 5.07591,1.38947 0,2.11419 -8.37504,13.20895 -11.6517,15.4355 -8.39423,5.70403 -16.63203,2.77 -34.14289,-12.16054 l -4.985955,-4.25125 -7.086791,8.97188 c -9.722344,12.3085 -16.524852,16.55998 -23.948565,14.96754 z";break;case"CheckRectangle":a="m 19.915254,103.5 0,-72.5 71.942245,0 71.942241,0 6.55727,-4.11139 6.55726,-4.11139 1.96722,2.36139 c 1.08197,1.298765 1.98219,2.644166 2.00049,2.98978 0.0183,0.345615 -2.44173,2.53784 -5.46673,4.87161 l -5.5,4.243219 0,69.378391 0,69.37839 -74.999991,0 -75.000005,0 0,-72.5 z m 133.999996,3.87756 c 0,-49.33933 -0.12953,-53.514947 -1.62169,-52.276568 -2.78014,2.307312 -15.68408,17.90053 -24.32871,29.399008 -10.4919,13.955575 -23.47926,33.53736 -29.514025,44.5 -4.457326,8.09707 -5.134776,8.80812 -14.291256,15 -5.28667,3.575 -9.903486,6.62471 -10.259592,6.77712 -0.356107,0.15242 -1.912439,-2.99758 -3.458515,-7 -1.546077,-4.00241 -5.258394,-12.41205 -8.249593,-18.68809 -4.285436,-8.99155 -6.676569,-12.64898 -11.27758,-17.25 C 47.70282,104.62757 44.364254,102 43.495254,102 c -2.798369,0 -1.704872,-1.66044 3.983717,-6.049158 5.593548,-4.31539 13.183139,-7.091307 16.801313,-6.145133 3.559412,0.930807 9.408491,8.154973 13.919775,17.192241 l 4.46286,8.94025 4.54378,-6.83321 C 95.518219,96.605618 108.21371,81.688517 125.80695,63.75 L 143.21531,46 l -53.650021,0 -53.650035,0 0,57.5 0,57.5 59.000005,0 58.999991,0 0,-53.62244 z";break;case"CrossCircle":a="M 83.347458,173.13597 C 61.069754,168.04956 42.193415,152.8724 32.202285,132.01368 23.4014,113.63986 23.679644,89.965903 32.91889,71.042373 41.881579,52.685283 60.867647,37.139882 80.847458,31.799452 c 10.235111,-2.735756 31.264662,-2.427393 40.964762,0.600679 26.18668,8.174684 46.06876,28.926852 51.62012,53.879155 2.43666,10.952327 1.56754,28.058524 -1.98036,38.977594 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 -6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033911,0.23456 -15.484931,-0.10267 -19.500002,-1.01939 z M 112.4138,158.45825 c 17.13137,-3.13002 33.71724,-15.96081 41.41353,-32.03742 14.8975,-31.119027 -1.10807,-67.659584 -34.40232,-78.540141 -6.71328,-2.193899 -9.93541,-2.643501 -19.07755,-2.661999 -9.354252,-0.01893 -12.16228,0.37753 -18.768532,2.649866 -17.155451,5.900919 -29.669426,17.531424 -36.438658,33.866137 -2.152301,5.193678 -2.694658,8.35455 -3.070923,17.89744 -0.518057,13.139047 0.741843,19.201887 6.111644,29.410237 4.106815,7.80733 15.431893,19.09359 23.36818,23.28808 12.061362,6.37467 27.138828,8.6356 40.864629,6.1278 z M 69.097458,133.41654 c -2.8875,-2.75881 -5.25,-5.35869 -5.25,-5.77751 0,-0.41882 5.658529,-6.30954 12.57451,-13.0905 l 12.57451,-12.329 L 76.198053,89.392633 63.399628,76.565738 68.335951,71.554056 c 2.714978,-2.756426 5.304859,-5.011683 5.75529,-5.011683 0.450432,0 6.574351,5.611554 13.608709,12.470121 l 12.78974,12.470119 4.42889,-4.553471 c 2.43588,-2.50441 8.39186,-8.187924 13.23551,-12.630032 l 8.80663,-8.076559 5.34744,5.281006 5.34743,5.281007 -12.96155,12.557899 -12.96154,12.557897 13.13318,13.16027 13.13319,13.16027 -5.18386,4.66074 c -2.85112,2.5634 -5.70472,4.66073 -6.34134,4.66073 -0.63661,0 -6.5434,-5.4 -13.12621,-12 -6.58281,-6.6 -12.3871,-12 -12.89844,-12 -0.511329,0 -6.593363,5.60029 -13.515627,12.44509 l -12.585935,12.44508 -5.25,-5.016 z";break;case"DotCircle":a="M 81.652542,170.5936 C 59.374838,165.50719 40.498499,150.33003 30.507369,129.47131 21.706484,111.09749 21.984728,87.42353 31.223974,68.5 40.186663,50.14291 59.172731,34.597509 79.152542,29.257079 89.387653,26.521323 110.4172,26.829686 120.1173,29.857758 c 26.18668,8.174684 46.06876,28.926852 51.62012,53.879152 2.43666,10.95233 1.56754,28.05853 -1.98036,38.9776 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 -6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033907,0.23456 -15.484927,-0.10267 -19.499998,-1.01939 z m 29.999998,-15.098 c 20.68862,-4.34363 38.01874,-20.45437 44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.0187 0,-30 C 150.08927,65.371023 134.63549,50.297336 114.65254,44.412396 106.5531,42.027127 90.741304,42.026386 82.695253,44.4109 62.460276,50.407701 46.686742,66.039241 41.6053,85.13096 c -1.948821,7.32201 -1.86506,23.11641 0.158766,29.93754 8.730326,29.42481 38.97193,46.91812 69.888474,40.4271 z M 90.004747,122.6703 C 76.550209,117.63801 69.825047,101.82445 75.898143,89.5 c 2.136718,-4.33615 7.147144,-9.356192 11.754399,-11.776953 5.578622,-2.931141 16.413098,-2.927504 22.052908,0.0074 18.03,9.382663 19.07573,32.784373 1.91442,42.841563 -5.57282,3.26589 -15.830952,4.2617 -21.615123,2.09829 z";break;case"DotRectangle":a="m 23.847458,101.19491 0,-72.499995 74.5,0 74.499992,0 0,72.499995 0,72.5 -74.499992,0 -74.5,0 0,-72.5 z m 133.999992,-0.008 0,-57.507925 -59.249992,0.25793 -59.25,0.25793 -0.25819,57.249995 -0.258189,57.25 59.508189,0 59.508182,0 0,-57.50793 z m -94.320573,33.85402 c -0.37368,-0.37368 -0.679419,-15.67942 -0.679419,-34.01275 l 0,-33.333335 35.513302,0 35.51329,0 -0.2633,33.749995 -0.2633,33.75 -34.570573,0.26275 c -19.013819,0.14452 -34.876319,-0.043 -35.25,-0.41666 z";break;case"NoneCircle":a="M 83.5,170.5936 C 61.222296,165.50719 42.345957,150.33003 32.354827,129.47131 23.553942,111.09749 23.832186,87.423523 33.071432,68.5 42.034121,50.14291 61.020189,34.597509 81,29.257079 c 10.235111,-2.735756 31.26466,-2.427393 40.96476,0.600679 26.18668,8.174684 46.06876,28.926852 51.62012,53.879155 2.43666,10.95232 1.56754,28.058527 -1.98036,38.977597 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 -6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033909,0.23456 -15.484929,-0.10267 -19.5,-1.01939 z m 30,-15.098 c 20.68862,-4.34363 38.01874,-20.45437 44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.018707 0,-29.999997 C 151.93673,65.371023 136.48295,50.297336 116.5,44.412396 108.40056,42.027127 92.588762,42.026386 84.542711,44.410896 64.307734,50.407697 48.5342,66.039237 43.452758,85.130959 c -1.948821,7.322 -1.86506,23.116411 0.158766,29.937541 8.730326,29.42481 38.97193,46.91812 69.888476,40.4271 z";break;case"NoneRectangle":a="m 24.152542,102.04237 0,-72.499997 74.5,0 74.500008,0 0,72.499997 0,72.5 -74.500008,0 -74.5,0 0,-72.5 z m 133.758198,0.25 -0.25819,-57.249997 -59.000008,0 -59,0 -0.259695,55.999997 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 13.207991,1.25 59.517885,1.25 l 59.039583,0 -0.25819,-57.25 z"}return s+r+a+'" /></svg>'},e.ctorParameters=function(){return[{type:C},{type:g},{type:f}]},e=a([t.Injectable()],e)}(),L=function(){function e(e,t,o,i,n){var s=this;this.model=e,this.controller=t,this.editableFieldsService=o,this.interactionService=i,this.helper=n,this.comps=[],this.dopComps=[],this.controller.getMessage().subscribe((function(e){"viewer_loaded"!==e.action&&s.updateButtons()}))}return e.prototype.updateButtons=function(){var e=this;this.comps.filter((function(e){return"ViewMode"===e.action})).forEach((function(t){return t.caption=e.model.loc(e.model.reportParams.viewMode)})),this.comps.filter((function(e){return"Zoom"===e.action})).forEach((function(t){t.menuItems.forEach((function(t){return t.selected=t.name==="Zoom"+e.model.reportParams.zoom})),t.caption=e.model.reportParams.zoom?Math.round(e.model.reportParams.zoom)+"%":""})),this.comps.filter((function(e){return"ShowFind"===e.action})).forEach((function(t){t.selected=e.model.controls.findPanel.visible}))},e.prototype.initButtons=function(){var e=[],t=[],o=!1;this.model.options.toolbar.showAboutButton&&t.push({type:"button",action:"About",img:"Help.png"}),this.model.options.toolbar.showAboutButton&&this.model.options.toolbar.showDesignButton&&t.push({type:"separator"}),this.model.options.toolbar.showDesignButton&&t.push({type:"button",action:"Design",caption:this.model.loc("Design"),img:"Design.png"}),this.model.options.toolbar.showPinToolbarButton&&this.model.options.toolbar.showDesignButton&&t.push({type:"separator"}),this.model.options.toolbar.showPinToolbarButton&&t.push({type:"button",action:"Pin",img:"Pin.png"}),this.model.options.toolbar.showPrintButton&&(e.push({type:"button",action:"Print",caption:this.model.loc("Print"),img:"Print.png",tooltip:!0,arrow:"Default"===this.model.options.toolbar.printDestination?"Down":null,menuItems:"Default"===this.model.options.toolbar.printDestination?[{name:"PrintPdf",caption:this.model.loc("PrintPdf"),img:"Save.Small.Pdf.png"},{name:"PrintWithPreview",caption:this.model.loc("PrintWithPreview"),img:"ViewMode.png"},{name:"PrintWithoutPreview",caption:this.model.loc("PrintWithoutPreview"),img:"Print.png"}]:null}),o=!1),this.model.options.toolbar.showOpenButton&&(e.push({type:"button",action:"Open",caption:this.model.loc("Open"),img:"Open.png",tooltip:!0}),o=!1),this.model.options.toolbar.showSaveButton&&(e.push({type:"button",action:"Save",caption:this.model.loc("Save"),img:"Save.png",tooltip:!0,arrow:"Down",menuItems:this.getSaveMenuItems("saveMenu")}),o=!1),this.model.options.toolbar.showSendEmailButton&&(e.push({type:"button",action:"SendEmail",caption:this.model.loc("SendEmail"),img:"SendEmail.png",tooltip:!0,arrow:"Down",menuItems:this.getSaveMenuItems("sendEmailMenu")}),o=!1),(this.model.options.toolbar.showBookmarksButton||this.model.options.toolbar.showParametersButton)&&(o||e.push({type:"separator"}),o=!1),this.model.options.toolbar.showBookmarksButton&&(e.push({type:"button",action:"Bookmarks",caption:"Separated"===this.model.options.toolbar.displayMode?this.model.loc("Bookmarks"):null,img:"Bookmarks.png",tooltip:!0}),o=!1),this.model.options.toolbar.showParametersButton&&(e.push({type:"button",action:"Parameters",caption:"Separated"===this.model.options.toolbar.displayMode?this.model.loc("Parameters"):null,img:"Parameters.png",tooltip:!0}),o=!1),this.model.options.toolbar.showResourcesButton&&(e.push({type:"button",action:"Resources",caption:"Separated"===this.model.options.toolbar.displayMode?this.model.loc("Resources"):null,img:"Resources.png",tooltip:!0}),o=!1),(this.model.options.toolbar.showFindButton||this.model.options.toolbar.showEditorButton)&&(o||e.push({type:"separator"}),o=!1),this.model.options.toolbar.showFindButton&&(e.push({type:"button",action:"Find",img:"Find.png",tooltip:!0}),o=!1),this.model.options.toolbar.showEditorButton&&(e.push({type:"button",action:"Editor",img:"Editor.png",tooltip:!0}),o=!1),"Separated"!==this.model.options.toolbar.displayMode&&((this.model.options.toolbar.showFirstPageButton||this.model.options.toolbar.showPreviousPageButton||this.model.options.toolbar.showNextPageButton||this.model.options.toolbar.showLastPageButton||this.model.options.toolbar.showCurrentPageControl)&&(o||e.push({type:"separator"}),o=!1),this.model.options.toolbar.showFirstPageButton&&(e.push({type:"button",action:"FirstPage",img:this.model.options.appearance.rightToLeft?"LastPage.png":"FirstPage.png",tooltip:!0}),o=!1),this.model.options.toolbar.showPreviousPageButton&&(e.push({type:"button",action:"PrevPage",img:this.model.options.appearance.rightToLeft?"NextPage.png":"PrevPage.png",tooltip:!0}),o=!1),this.model.options.toolbar.showCurrentPageControl&&(e.push({type:"pageControl"}),o=!1),this.model.options.toolbar.showNextPageButton&&(e.push({type:"button",action:"NextPage",img:this.model.options.appearance.rightToLeft?"PrevPage.png":"NextPage.png",tooltip:!0}),o=!1),this.model.options.toolbar.showLastPageButton&&(e.push({type:"button",action:"LastPage",img:this.model.options.appearance.rightToLeft?"FirstPage.png":"LastPage.png",tooltip:!0}),o=!1),(this.model.options.toolbar.showViewModeButton||this.model.options.toolbar.showZoomButton)&&(o||e.push({type:"separator"}),o=!1)),this.model.options.toolbar.showFullScreenButton&&(e.push({type:"button",action:"FullScreen",img:"FullScreen.png",tooltip:!0}),e.push({type:"separator"}),o=!1),this.model.options.toolbar.showZoomButton&&"Separated"!==this.model.options.toolbar.displayMode&&(e.push({type:"button",action:"Zoom",caption:"100%",img:"Zoom.png",tooltip:!0,arrow:"Down",menuItems:this.helper.getZoomMenuItems()}),o=!1),this.model.options.toolbar.showViewModeButton&&(e.push({type:"button",action:"ViewMode",caption:this.model.loc("SinglePage"),img:"SinglePage.png",tooltip:!0,arrow:"Down",menuItems:[{name:"ViewModeSinglePage",caption:this.model.loc("SinglePage"),img:"SinglePage.png"},{name:"ViewModeContinuous",caption:this.model.loc("Continuous"),img:"Continuous.png"},{name:"ViewModeMultiplePages",caption:this.model.loc("MultiplePages"),img:"MultiplePages.png"}]}),o=!1),void 0!==this.model.options.toolbar.multiPageWidthCount&&(this.model.reportParams.multiPageWidthCount=this.model.options.toolbar.multiPageWidthCount),void 0!==this.model.options.toolbar.multiPageHeightCount&&(this.model.reportParams.multiPageHeightCount=this.model.options.toolbar.multiPageHeightCount),!this.model.options.appearance.rightToLeft&&"right"===this.model.options.toolbar.alignment&&(this.model.options.toolbar.showPinToolbarButton||this.model.options.toolbar.showAboutButton||this.model.options.toolbar.showDesignButton)&&e.push({type:"separator6"}),this.comps=this.model.options.appearance.rightToLeft?e.reverse():e,this.dopComps=this.model.options.appearance.rightToLeft?t.reverse():t},e.prototype.disableNaviButtons=function(){return"MultiplePages"===this.model.reportParams.viewMode||"WholeReport"===this.model.reportParams.viewMode||"Continuous"===this.model.reportParams.viewMode&&!this.model.options.appearance.scrollbarsMode&&!this.model.options.appearance.fullScreenMode},e.prototype.getImage=function(e){switch(this.model.options.appearance.saveMenuImageSize){case"Big":return"Save.Big."+e+".png";case"None":return null;default:return"Save.Small."+e+".png"}},e.prototype.getSaveMenuItems=function(e){var t=!0,o=[],i=this.model.options.appearance.saveMenuImageSize;if(this.model.options.exports.showExportToDocument&&"saveMenu"===e&&(o.push({name:e+"Document",caption:this.model.loc("ReportSnapshot"),imageSize:i,img:this.getImage("Document")}),t=!1),("saveMenu"===e&&this.model.options.exports.showExportToPdf||this.model.options.exports.showExportToXps||this.model.options.exports.showExportToPowerPoint)&&(t||o.push({imageSize:i,type:"separator"}),t=!1),this.model.options.exports.showExportToPdf&&o.push({name:e+"Pdf",caption:"Adobe PDF",imageSize:i,img:this.getImage("Pdf")}),this.model.options.exports.showExportToXps&&o.push({name:e+"Xps",caption:"Microsoft XPS",imageSize:i,img:this.getImage("Xps")}),this.model.options.exports.showExportToPowerPoint&&o.push({name:e+"Ppt2007",caption:"Microsoft PowerPoint",imageSize:i,img:this.getImage("Ppt")}),this.model.options.exports.showExportToHtml||this.model.options.exports.showExportToHtml5||this.model.options.exports.showExportToMht){t||o.push({imageSize:i,type:"separator"}),t=!1;var n=this.model.options.exports.defaultSettings.StiHtmlExportSettings.HtmlType;this.model.options.exports["showExportTo"+n]||(this.model.options.exports.showExportToHtml?n="Html":this.model.options.exports.showExportToHtml5?n="Html5":this.model.options.exports.showExportToMht&&(n="Mht")),o.push({name:e+n,caption:"HTML",imageSize:i,img:this.getImage("Html")})}if((this.model.options.exports.showExportToText||this.model.options.exports.showExportToRtf||this.model.options.exports.showExportToWord2007||this.model.options.exports.showExportToOdt)&&(t||o.push({imageSize:i,type:"separator"}),t=!1),this.model.options.exports.showExportToText&&o.push({name:e+"Text",caption:this.model.loc("Text"),imageSize:i,img:this.getImage("Text")}),this.model.options.exports.showExportToRtf&&o.push({name:e+"Rtf",caption:"RTF",imageSize:i,img:this.getImage("Rtf")}),this.model.options.exports.showExportToWord2007&&o.push({name:e+"Word2007",caption:"Microsoft Word",imageSize:i,img:this.getImage("Word")}),this.model.options.exports.showExportToOpenDocumentWriter&&o.push({name:e+"Odt",caption:"OpenDocument Writer",imageSize:i,img:this.getImage("Odt")}),(this.model.options.exports.showExportToExcel||this.model.options.exports.showExportToExcel2007||this.model.options.exports.showExportToExcelXml||this.model.options.exports.showExportToOpenDocumentWriter)&&(t||o.push({imageSize:i,type:"separator"}),t=!1),this.model.options.exports.showExportToExcel||this.model.options.exports.showExportToExcelXml||this.model.options.exports.showExportToExcel2007){var s=this.model.options.exports.defaultSettings.StiExcelExportSettings.ExcelType;"ExcelBinary"===s&&(s="Excel"),this.model.options.exports["showExportTo"+s]||(this.model.options.exports.showExportToExcel?s="Excel":this.model.options.exports.showExportToExcel2007?s="Excel2007":this.model.options.exports.showExportToExcelXml&&(s="ExcelXml")),o.push({name:e+s,caption:"Microsoft Excel",imageSize:i,img:this.getImage("Excel")})}if(this.model.options.exports.showExportToOpenDocumentCalc&&o.push({name:e+"Ods",caption:"OpenDocument Calc",imageSize:i,img:this.getImage("Ods")}),this.model.options.exports.showExportToCsv||this.model.options.exports.showExportToDbf||this.model.options.exports.showExportToXml||this.model.options.exports.showExportToDif||this.model.options.exports.showExportToSylk||this.model.options.exports.showExportToJson){t||o.push({imageSize:i,type:"separator"}),t=!1;var r=this.model.options.exports.defaultSettings.StiDataExportSettings.DataType;this.model.options.exports["showExportTo"+r]||(this.model.options.exports.showExportToCsv?r="Csv":this.model.options.exports.showExportToDbf?r="Dbf":this.model.options.exports.showExportToXml?r="Xml":this.model.options.exports.showExportToDif?r="Dif":this.model.options.exports.showExportToSylk?r="Sylk":this.model.options.exports.showExportToJson&&(r="Json")),o.push({name:e+r,caption:this.model.loc("Data"),imageSize:i,img:this.getImage("Data")})}if(this.model.options.exports.showExportToImageBmp||this.model.options.exports.showExportToImageGif||this.model.options.exports.showExportToImageJpeg||this.model.options.exports.showExportToImagePcx||this.model.options.exports.showExportToImagePng||this.model.options.exports.showExportToImageTiff||this.model.options.exports.showExportToImageMetafile||this.model.options.exports.showExportToImageSvg||this.model.options.exports.showExportToImageSvgz){t||o.push({imageSize:i,type:"separator"}),t=!1;var a=this.model.options.exports.defaultSettings.StiImageExportSettings.ImageType,l="Emf"===a?"Metafile":a;this.model.options.exports["showExportToImage"+l]||(this.model.options.exports.showExportToImageBmp?a="Bmp":this.model.options.exports.showExportToImageGif?a="Gif":this.model.options.exports.showExportToImageJpeg?a="Jpeg":this.model.options.exports.showExportToImagePcx?a="Pcx":this.model.options.exports.showExportToImagePng?a="Png":this.model.options.exports.showExportToImageTiff?a="Tiff":this.model.options.exports.showExportToImageMetafile?a="Emf":this.model.options.exports.showExportToImageSvg?a="Svg":this.model.options.exports.showExportToImageSvgz&&(a="Svgz")),o.push({name:e+"Image"+a,caption:this.model.loc("Image"),imageSize:i,img:this.getImage("Image")})}return o},e.prototype.enabled=function(e){var t,o,i=this.disableNaviButtons();switch(e.action){case"FirstPage":case"PrevPage":return this.model.reportParams.pageNumber>0&&!i;case"NextPage":case"LastPage":return this.model.reportParams.pageNumber<this.model.reportParams.pagesCount-1&&!i;case"Bookmarks":return null!=this.model.reportParams.bookmarksContent;case"Parameters":return null!=(null===(t=this.model.interactions)||void 0===t?void 0:t.paramsVariables);case"Resources":return(null===(o=this.model.reportParams.resources)||void 0===o?void 0:o.length)>0}return!0},e.prototype.selected=function(e){switch(e.action){case"Find":return this.model.controls.findPanel.visible;case"Bookmarks":return this.model.controls.bookmarksPanel.visible;case"Parameters":return this.model.controls.parametersPanel.visible;case"Editor":return this.editableFieldsService.visible;case"Resources":return this.model.controls.resourcesPanel.visible;case"FullScreen":return this.model.options.appearance.fullScreenMode;case"Pin":return!this.model.options.toolbar.autoHide}return!1},e.prototype.display=function(e){switch(e.action){case"Editor":return this.model.reportParams.isEditableReport?"":"none"}return""},e.prototype.getButonWidth=function(e){if("Separated"===this.model.options.toolbar.displayMode){if("Find"===e.action||"Editor"===e.action||"FullScreen"===e.action||"About"===e.action)return"28px";if(this.model.options.isMobileDevice)return"0.4in"}return null},e.prototype.getInnerTableWidth=function(e){return"Separated"!==this.model.options.toolbar.displayMode||!this.model.options.isMobileDevice&&"Find"!==e.action&&"Editor"!==e.action&&"FullScreen"!==e.action&&"About"!==e.action?null:"100%"},e.ctorParameters=function(){return[{type:g},{type:C},{type:J},{type:R},{type:f}]},e=a([t.Injectable()],e)}(),H=function(){function e(e,o,i,n,s,r,a,l){var p=this;this.controller=e,this.menuService=o,this.model=i,this.exportService=n,this.formService=s,this.api=r,this.printService=a,this.dashboardService=l,this.loaded=new t.EventEmitter,this.error=new t.EventEmitter,this.export=new t.EventEmitter,this.email=new t.EventEmitter,this.print=new t.EventEmitter,this.design=new t.EventEmitter,this.backgroundColor="White",this.initialized=!1,this.viewInit=!1,window.onresize=function(){return p.resize()},this.initEvents()}return e.prototype.ngOnChanges=function(e){this.loadViewer()},e.prototype.ngOnInit=function(){var e=this;this.controller.getMessage().subscribe((function(t){switch(t.action){case"viewer_loaded":e.initialized=!0}}))},e.prototype.ngAfterViewInit=function(){this.viewInit=!0,this.loadViewer()},e.prototype.initEvents=function(){var e=this;this.controller.getMessage().subscribe((function(t){switch(t.action){case"GetReport":case"OpenReport":setTimeout((function(){e.loaded.next()}))}})),this.controller.getActionMessage().subscribe((function(t){switch(t.action){case"Error":setTimeout((function(){e.error.next(e.model.errorMessage)}));break;case"ExportReport":setTimeout((function(){e.export.next(t.data)}));break;case"Email":setTimeout((function(){e.email.next(t.data)}));break;case"Print":setTimeout((function(){e.print.next(t.data)}));break;case"Design":setTimeout((function(){e.design.next()}))}}))},e.prototype.loadViewer=function(){this.viewInit&&(this.model.requestUrl=this.requestUrl,this.model.action=this.action,this.model.properties=this.properties,this.controller.loadViewer(),this.resize(),this.model.controls.viewer.el=this.viewerElement)},e.prototype.resize=function(){var e;(null===(e=this.viewerElement)||void 0===e?void 0:e.nativeElement)&&(this.model.viewerSize={width:this.viewerElement.nativeElement.offsetWidth,height:this.viewerElement.nativeElement.offsetHeight},this.controller.viewerResized())},e.ctorParameters=function(){return[{type:C},{type:S},{type:g},{type:k},{type:P},{type:D},{type:M},{type:A}]},a([t.ViewChild("viewer")],e.prototype,"viewerElement",void 0),a([t.Output()],e.prototype,"loaded",void 0),a([t.Output()],e.prototype,"error",void 0),a([t.Output()],e.prototype,"export",void 0),a([t.Output()],e.prototype,"email",void 0),a([t.Output()],e.prototype,"print",void 0),a([t.Output()],e.prototype,"design",void 0),a([t.Input()],e.prototype,"requestUrl",void 0),a([t.Input()],e.prototype,"action",void 0),a([t.Input()],e.prototype,"properties",void 0),a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"height",void 0),a([t.Input()],e.prototype,"backgroundColor",void 0),a([t.Input()],e.prototype,"style",void 0),e=a([t.Component({selector:"stimulsoft-viewer-angular",template:'\n    <span #viewer [style]="style"\n      [style.top.px]="0"\n      [style.right.px]="0"\n      [style.bottom.px]="0"\n      [style.left.px]="0"\n      [style.display]="\'inline-block\'"\n      [style.backgroundColor]="backgroundColor"\n      [style.width]="this.width != null ? this.width : \'100%\'"\n      [style.height]="this.height != null ? this.height : (model.options?.appearance.scrollbarsMode ? \'650px\' : \'100%\')">\n      <div class="stiJsViewerMainPanel">\n        <sti-center-text *ngIf="initialized"></sti-center-text>\n        <sti-toolbar *ngIf="initialized"></sti-toolbar>\n        <div *ngFor="let i of [1,2,3,4,5]" [style.zIndex]="i * 10" [style.display]="formService.form?.level == i ? \'\' : \'none\'" class="stiJsViewerDisabledPanel"></div>\n        <sti-about-panel *ngIf="initialized"></sti-about-panel>\n\n        <sti-dashboards-panel *ngIf="initialized"></sti-dashboards-panel>\n        <sti-report-panel *ngIf="initialized"></sti-report-panel>\n        <sti-progress *ngIf="initialized"></sti-progress>\n        <sti-find-panel *ngIf="initialized"></sti-find-panel>\n        <sti-drill-down-panel *ngIf="initialized"></sti-drill-down-panel>\n        <sti-resources-panel *ngIf="initialized"></sti-resources-panel>\n        <sti-navigate-panel *ngIf="initialized"></sti-navigate-panel>\n\n        <sti-export-form *ngIf="initialized" [exportFormSettings]="exportService.exportFormSettings"></sti-export-form>\n        <sti-send-email-form *ngIf="initialized"></sti-send-email-form>\n        <sti-password-form *ngIf="initialized"></sti-password-form>\n        <sti-error-message-form *ngIf="initialized"></sti-error-message-form>\n        <sti-notification-form *ngIf="initialized"></sti-notification-form>\n\n        <sti-tooltip *ngIf="initialized"></sti-tooltip>\n        <sti-menu *ngFor="let menu of menuService.menus" [menu]="menu"></sti-menu>\n        <sti-bookmarks-panel *ngIf="initialized"></sti-bookmarks-panel>\n        <sti-interactions-panel *ngIf="initialized"></sti-interactions-panel>\n\n        <sti-open-dialog *ngIf="initialized" [fileMask]="model.openDialogFileMask"></sti-open-dialog>\n      </div>\n    </span>\n  ',providers:[g,b,C,v,f,S,w,x,F,V,y,O,R,P,N,k,I,E,J,B,M,T,L,D,A]})],e)}(),W=function(){function e(e,o,i,n,s){this.model=e,this.controller=o,this.menuService=i,this.tooltipService=n,this.helper=s,this.margin="1px",this.height="23px",this.selected=!1,this.imageCellTextAlign="center",this.imageSizesWidth=16,this.imageSizesHeight=16,this.closeButton=!1,this.resourceButton=!1,this.navagationPanelTooltip=!1,this.helpLink="user-manual/index.html?viewer_reports.htm",this.action=new t.EventEmitter,this.closeButtonAction=new t.EventEmitter,this.over=!1,this.showMenu=!1,this.closeButtonPressed=!1,this.resourceButtonPressed=!1,this._enabled=!0,this.canShowTooltip=!0}return e.prototype.ngOnInit=function(){var e=this;this.menuItems&&setTimeout((function(){e.menuObj={type:"buttonMenu",name:e.actionName,items:e.menuItems,parent:e.resourceButton?e.resButtonEl:e.button},e.menuService.addMenu(e.menuObj)}),500)},Object.defineProperty(e.prototype,"styleName",{get:function(){return this._styleName||"stiJsViewerStandartSmallButton"},set:function(e){this._styleName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){e||(this.over=!1),this._enabled=e},enumerable:!0,configurable:!0}),e.prototype.mouseover=function(){var e=this;if(this.enabled)if(this.over=!0,"Hover"===this.model.options.toolbar.showMenuMode&&["Print","Save","SendEmail","Zoom","ViewMode"].some((function(t){return t===e.actionName})))this.tooltipService.hideImmediately(),this.menuService.showMenu(this.actionName);else if(this.tooltip&&!this.menuService.menus.some((function(e){return"expanded"===e.state}))&&this.canShowTooltip){var t=this.navagationPanelTooltip?this.helper.findPosY(this.model.controls.navigatePanel.el.nativeElement,"stiJsViewerMainPanel"):this.model.controls.toolbar.offsetHeight+this.model.controls.dashboardsPanel.offsetHeight,o=!0===this.tooltip?null!=this.model.localization[this.actionName+"ToolTip"]?this.model.loc(this.actionName+"ToolTip"):this.model.loc(this.actionName):this.tooltip;this.tooltipService.show(this.helper.findPosX(this.button.nativeElement,"stiJsViewerMainPanel"),t,o,!this.navagationPanelTooltip,this.helpLink)}},e.prototype.mouseout=function(){var e=this;this.enabled&&(this.over=!1,this.tooltipService.hide(),setTimeout((function(){e.canShowTooltip=!0}),1e3))},e.prototype.click=function(){this.enabled&&!this.closeButtonPressed&&(this.tooltipService.hideImmediately(),null==this.menuItems||this.resourceButton&&!this.resourceButtonPressed?this.action.emit():this.menuService.showMenu(this.actionName)),this.canShowTooltip=!1,this.closeButtonPressed=!1,this.resourceButtonPressed=!1},Object.defineProperty(e.prototype,"className",{get:function(){var e;return this.styleName?this.styleName+" "+(this.enabled?this.styleName+(this.selected||"expanded"===(null===(e=this.menuObj)||void 0===e?void 0:e.state)?"Selected":this.over?"Over":"Default"):this.styleName+"Disabled"):""},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:C},{type:S},{type:F},{type:f}]},a([t.Input()],e.prototype,"caption",void 0),a([t.Input()],e.prototype,"caption2",void 0),a([t.Input()],e.prototype,"captionAlign",void 0),a([t.Input()],e.prototype,"captionPadding",void 0),a([t.Input()],e.prototype,"captionPaddingLeft",void 0),a([t.Input()],e.prototype,"captionWhiteSpace",void 0),a([t.Input()],e.prototype,"captionOverflow",void 0),a([t.Input()],e.prototype,"captionTextOverflow",void 0),a([t.Input()],e.prototype,"captionWidth",void 0),a([t.Input()],e.prototype,"captionMaxWidth",void 0),a([t.Input()],e.prototype,"captionLineHeight",void 0),a([t.Input()],e.prototype,"imageName",void 0),a([t.Input()],e.prototype,"arrow",void 0),a([t.Input()],e.prototype,"arrowMarginTop",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Input()],e.prototype,"height",void 0),a([t.Input()],e.prototype,"selected",void 0),a([t.Input()],e.prototype,"minWidth",void 0),a([t.Input()],e.prototype,"innerTableWidth",void 0),a([t.Input()],e.prototype,"menuItems",void 0),a([t.Input()],e.prototype,"actionName",void 0),a([t.Input()],e.prototype,"tooltip",void 0),a([t.Input()],e.prototype,"imageCellTextAlign",void 0),a([t.Input()],e.prototype,"imageCellWidth",void 0),a([t.Input()],e.prototype,"imageCellPadding",void 0),a([t.Input()],e.prototype,"imageSizesWidth",void 0),a([t.Input()],e.prototype,"imageSizesHeight",void 0),a([t.Input()],e.prototype,"imageMargin",void 0),a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"display",void 0),a([t.Input()],e.prototype,"closeButton",void 0),a([t.Input()],e.prototype,"resourceButton",void 0),a([t.Input()],e.prototype,"styleColors",void 0),a([t.Input()],e.prototype,"boxSizing",void 0),a([t.Input()],e.prototype,"navagationPanelTooltip",void 0),a([t.Input()],e.prototype,"cursor",void 0),a([t.Input()],e.prototype,"fontSize",void 0),a([t.Input()],e.prototype,"helpLink",void 0),a([t.Input()],e.prototype,"borderColor",void 0),a([t.Output()],e.prototype,"action",void 0),a([t.Output()],e.prototype,"closeButtonAction",void 0),a([t.ViewChild("button")],e.prototype,"button",void 0),a([t.ViewChild("resButtonEl")],e.prototype,"resButtonEl",void 0),a([t.Input()],e.prototype,"styleName",null),a([t.Input()],e.prototype,"enabled",null),e=a([t.Component({selector:"sti-button",template:'\n  <div #button\n    [style.fontFamily]="model.options.toolbar.fontFamily"\n    [style.cursor]="cursor"\n    [style.borderColor]="borderColor"\n    [class]="className"\n    [style]="{height: helper.val(height, \'23px\'), boxSizing: helper.val(boxSizing, \'content-box\'), margin: helper.val(margin, \'1px\'), minWidth: minWidth, width: width, display: display }"\n    [style.fontSize]="fontSize"\n    (mouseover)="mouseover()"\n    (mouseout)="mouseout()"\n    (click)="click()" >\n    <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="height: 100%;width:100%" [style.width]="innerTableWidth">\n      <tbody>\n        <tr class="stiJsViewerClearAllStyles">\n          <td *ngIf="imageName != null" [style]="{lineHeight:\'0\', padding:helper.val(imageCellPadding, \'0 3px\'), textAlign: imageCellTextAlign, width: imageCellWidth}" class="stiJsViewerClearAllStyles">\n            <img src="{{model.img(imageName)}}" [style.opacity]="enabled ? \'1\' : \'0.5\'"\n                [style.width.px]="imageSizesWidth"\n                [style.height.px]="imageSizesHeight"\n                [style.margin]="imageMargin">\n          </td>\n          <td *ngIf="caption != null"\n             [style]="{whiteSpace:\'nowrap\', textAlign: captionAlign || \'left\', padding:captionPadding || ((arrow ? \'1px 0\' : \'1px 5px\') + (imageName ? \' 0 0\' : \' 0 5px\')), width: captionWidth}"\n             [style.maxWidth]="captionMaxWidth"\n             [style.lineHeight]="captionLineHeight"\n             [style.paddingLeft]="captionPaddingLeft"\n             [style.whiteSpace]="captionWhiteSpace"\n             [style.overflow]="captionOverflow"\n             [style.textOverflow]="captionTextOverflow"\n             class="stiJsViewerClearAllStyles">\n            {{caption}}\n            <div *ngIf="caption2 != null">\n            {{caption2}}\n            </div>\n          </td>\n          <td *ngIf="arrow" class="stiJsViewerClearAllStyles">\n            <img src="{{arrow == \'Up\' || arrow == \'Down\' ? model.img(\'Arrows.SmallArrow\' + arrow + (arrow == \'Down\' && styleColors && styleColors.isDarkStyle ? \'White.png\' : \'.png\')) : model.img(arrow)}}"\n            [style]="{lineHeight:\'0\', width:\'8px\', height:\'8px\', verticalAlign:\'baseline\', padding:caption ? \'0 5px 0 5px\' : \'0 5px 0 2px\', marginTop: arrowMarginTop}"\n            [style.opacity]="enabled ? \'1\' : \'0.5\'"/>\n          </td>\n\n          <td *ngIf="closeButton" class="stiJsViewerClearAllStyles">\n            <sti-button [imageName]="\'CloseForm.png\'"\n              [imageMargin]="\'1px 0 0 -1px\'"\n              [margin]="\'0 2px 0 0\'"\n              [imageCellPadding]="\'0\'"\n              [width]="model.options.isTouchDevice ? \'22px\' : \'17px\'"\n              [height]="model.options.isTouchDevice ? \'22px\' : \'17px\'"\n              (action)="closeButtonPressed = true; closeButtonAction.emit()">\n            </sti-button>\n          </td>\n\n          <td #resButtonEl *ngIf="resourceButton" style="width: 1px;">\n            <sti-button [imageName]="\'Arrows.SmallArrowDown.png\'"\n              [styleName]="\'stiJsViewerResourceDropDownButton\'"\n              [innerTableWidth]="\'100%\'"\n              [margin]="\'0 7px 0 3px\'"\n              [imageCellTextAlign]="\'center\'"\n              [imageSizesWidth]="8"\n              [imageSizesHeight]="8"\n              [height]="model.options.isTouchDevice ? \'23px\' : \'17px\'"\n              [width]="model.options.isTouchDevice ? \'23px\' : \'17px\'"\n              (action)="resourceButtonPressed = true;">>\n            </sti-button>\n          </td>\n\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  '})],e)}(),z=function(){function e(e,t){this.model=e,this.controller=t,this.touchesLength=0,this.lastTouches=[{x:0,y:0,time:0},{x:0,y:0,time:0}],this.touchAllowPageAction=!1,this.touchAllowScroll=!1}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e,t,o=this.element.nativeElement;if(o.innerHTML=this.pageAttributes.content,this.pageAttributes.page=o,this.pageAttributes.existsWatermark){o.style.position="relative";try{for(var i=l(o.childNodes),n=i.next();!n.done;n=i.next()){var s=n.value;if("stiWatermarkImage"===s.className){s.style.width="auto",s.style.height="auto";break}}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}if("Div"===this.model.options.appearance.reportDisplayMode||"Span"===this.model.options.appearance.reportDisplayMode){var r=o.getElementsByClassName("StiPageContainer");if(r&&r.length>0){var a=r[0];a.style.position="relative","Span"===this.model.options.appearance.reportDisplayMode&&(a.style.margin="0 1px"),o.style.width=o.pageWidth-o.margins[1]-o.margins[3]+"px",o.style.height=o.pageHeight-o.margins[0]-o.margins[2]+"px"}}this.element.nativeElement.pageAttributes=this.pageAttributes},Object.defineProperty(e.prototype,"margins",{get:function(){var e=[0,0,0,0];if(this.pageAttributes.margins)for(var t=this.pageAttributes.margins.split(" "),o=0;o<t.length;o++)e[o]=parseInt(t[o].replace("px",""),10);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageWidth",{get:function(){var e=this.pageAttributes.sizes?this.pageAttributes.sizes.split(";"):null;return e?parseInt(e[0],10):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageHeight",{get:function(){var e=this.pageAttributes.sizes?this.pageAttributes.sizes.split(";"):null;return e?parseInt(e[1],10):0},enumerable:!0,configurable:!0}),e.prototype.eventTouchStart=function(e){var t=this.model.controls.reportPanel.el.nativeElement;this.touchAllowPageAction=0===this.touchesLength&&Math.abs(t.offsetWidth-t.scrollWidth)<=10,this.touchAllowScroll=t.offsetWidth===t.scrollWidth,this.touchesLength++,this.touchAllowPageAction&&(this.touchStartX=parseInt(e.changedTouches[0].clientX,10),this.touchStartScrollY=t.scrollTop)},e.prototype.eventTouchMove=function(e){var t=this.model.controls.reportPanel.el.nativeElement;this.touchAllowPageAction&&(this.lastTouches.shift(),this.lastTouches.push({x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY,time:(new Date).getTime()}),this.touchAllowScroll&&this.touchStartScrollY===t.scrollTop&&(this.touchPosX=Math.trunc(this.lastTouches[1].x-this.touchStartX),0===scrollX&&(this.element.nativeElement.style.transform="translateX("+this.touchPosX+"px)")))},e.prototype.eventTouchEnd=function(e){var t=this.model.controls.reportPanel.el.nativeElement;if(this.touchesLength>0&&this.touchesLength--,this.touchAllowPageAction&&0===this.touchesLength){var o=this.lastTouches[1].x-this.lastTouches[0].x,i=(new Date).getTime()-this.lastTouches[1].time;this.touchStartScrollY!==t.scrollTop||o<=0&&this.model.reportParams.pageNumber>=this.model.reportParams.pagesCount-1||o>=0&&this.model.reportParams.pageNumber<=0?this.translateX(0):o<-5&&i<=14&&this.lastTouches[1].x<this.touchStartX||o<0&&this.touchPosX<-this.pageWidth/3?(this.controller.action({name:"NextPage"}),this.translateX(-this.pageWidth)):o>5&&i<=14&&this.lastTouches[1].x>this.touchStartX||o>0&&this.touchPosX>this.pageWidth/3?(this.controller.action({name:"PrevPage"}),this.translateX(this.pageWidth)):this.translateX(0)}},e.prototype.translateX=function(e){var t=this;this.element.nativeElement.style.transitionDuration="300ms",this.element.nativeElement.style.transform=0===e?"":"translateX("+e+"px)",setTimeout((function(){t.element.nativeElement.style.transitionDuration=""}),300)},e.ctorParameters=function(){return[{type:g},{type:C}]},a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.Input()],e.prototype,"pageAttributes",void 0),a([t.Input()],e.prototype,"reportPanel",void 0),e=a([t.Component({selector:"sti-page",template:"\n    <div #element\n      style=\"overflow: hidden; text-align: left; vertical-align: top; color: #000000; box-sizing: content-box; display:inline-block\"\n      [style.margin]=\"model.reportParams.viewMode === 'Continuous' ? '10px auto 10px auto' : '10px'\"\n      [style.display]=\"this.model.reportParams.viewMode === 'Continuous' ? 'table' : 'inline-block'\"\n      [style.border]=\"'1px solid ' + this.model.options.appearance.pageBorderColor\"\n      [style.background]=\"pageAttributes['background'] == 'Transparent' || pageAttributes.background == 'rgba(255,255,255,0)' ? 'White' : pageAttributes['background']\"\n      [style.padding]=\"pageAttributes['margins']\"\n      [style.width]=\"!pageAttributes['content'] ? pageWidth + 'px' : ''\"\n      [style.height]=\"!pageAttributes['content'] ? pageHeight + 'px' : ''\"\n      [class]=\"model.options.appearance.showPageShadow ? 'stiJsViewerPageShadow' : 'stiJsViewerPage'\"\n      (touchstart)=\"eventTouchStart($event)\"\n      (touchmove)=\"eventTouchMove($event)\"\n      (touchend)=\"eventTouchEnd($event)\">\n      </div>\n  "})],e)}(),_=function(){function e(e,t,o,i){var n=this;this.controller=e,this.model=t,this.stylesService=o,this.interactionService=i,this.touchZoomFirstDistance=0,this.touchZoomSecondDistance=0,this.touchZoomValue=0,this.maxHeights={},e.getMessage().subscribe((function(e){"viewer_loaded"!==e.action&&n.model.reportParams.pagesArray&&(n.model.reportParams.repaintOnlyDashboardContent||n.loadPages()),"GetReport"!==e.action&&"OpenReport"!==e.action||setTimeout((function(){!n.model.options.isParametersReceived&&("Report"===n.model.reportParams.type&&n.model.options.toolbar.showParametersButton||"Dashboard"===n.model.reportParams.type)&&i.postInteraction({action:"InitVars"}),n.model.reportParams.autoZoom&&(n.controller.action({name:-1===n.model.reportParams.autoZoom?"ZoomPageWidth":"ZoomOnePage"}),n.model.reportParams.autoZoom=null)}))}))}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.model.controls.reportPanel.el=this.element},e.prototype.loadPages=function(){var e=this;this.maxHeights={};var t=this.model.reportParams.pagesArray;this.stylesService.setupStyle(t[t.length-2],"page");var o=t[t.length-1];this.model.pages=t.slice(0,t.length-2),setTimeout((function(){e.model.pages.forEach((function(t){return e.interactionService.initializeInteractions(t.page)})),e.interactionService.updateAllHyperLinks(),e.stylesService.addChartScript(o)}))},Object.defineProperty(e.prototype,"position",{get:function(){return"Percentage"!==this.model.options.heightType||this.model.options.appearance.scrollbarsMode?"absolute":"relative"},enumerable:!0,configurable:!0}),e.prototype.scroll=function(){var e=this;this.model.pagesNavigationIsActive()&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){var t=0,o=0;for(o=0;o<e.model.pages.length&&!((t+=e.model.pages[o].page.offsetHeight+10)>e.element.nativeElement.scrollTop);o++);o<e.model.reportParams.pagesCount&&o>=0&&o!==e.model.reportParams.pageNumber&&(e.model.reportParams.pageNumber=o)}),300))},e.prototype.eventTouchStart=function(e){this.touchesLength++,this.touchStartX=parseInt(e.changedTouches[0].clientX,10),this.model.options.appearance.allowTouchZoom&&1===this.touchesLength&&(this.touchZoomFirstDistance=0,this.touchZoomSecondDistance=0,this.touchZoomValue=0)},e.prototype.eventTouchMove=function(e){if(this.model.options.appearance.allowTouchZoom&&e.touches.length>1){"preventDefault"in e&&e.preventDefault(),this.touchZoomSecondDistance=Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2)),0===this.touchZoomFirstDistance&&(this.touchZoomFirstDistance=Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2)));var t=Math.trunc((this.touchZoomSecondDistance-this.touchZoomFirstDistance)/2.5);Math.abs(t)>=5&&(this.touchZoomValue=5*Math.trunc((this.model.reportParams.zoom+t)/5),this.touchZoomValue=Math.min(Math.max(this.touchZoomValue,20),200),this.controller.actionSubject.next({action:"centerText",data:this.touchZoomValue.toString()}))}},e.prototype.eventTouchEnd=function(e){this.touchesLength>0&&this.touchesLength--,this.model.options.isMobileDevice&&this.model.options.toolbar.autoHide&&(0!==Math.trunc(this.touchStartX-e.changedTouches[0].clientX)?this.controller.keepToolbar():this.model.controls.toolbar.visible?this.controller.hideToolbar():this.controller.showToolbar()),this.model.options.appearance.allowTouchZoom&&0!==this.touchZoomValue&&0===this.touchesLength&&(this.controller.actionSubject.next({action:"hideCenterText"}),this.model.reportParams.zoom=this.touchZoomValue,this.controller.post("GetPages"))},e.ctorParameters=function(){return[{type:C},{type:g},{type:v},{type:R}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-report-panel",template:'\n    <div #element\n         [style.textAlign]="model.options.appearance.pageAlignment == \'default\' ? \'center\' : model.options.appearance.pageAlignment"\n         [style.top]="0"\n         [style.bottom]="0"\n         [style.position]="position"\n         [style.height]="model.options.heightType != \'Percentage\' || model.options.appearance.scrollbarsMode ? \'auto\' : \'calc(100% - 35px)\'"\n         [style.overflow] = "model.reportParams.type == \'Report\' && model.options.appearance.scrollbarsMode ? \'auto\' : \'hidden\'"\n         [style.marginTop.px]="model.controls.reportPanel.layout.top"\n         [style.marginLeft.px]="model.controls.reportPanel.layout.left"\n         [style.marginBottom.px]="position == \'absolute\' ? model.controls.reportPanel.layout.bottom : 0"\n         [style.paddingBottom.px]="position == \'relative\' ? model.controls.reportPanel.layout.bottom : 0"\n         [style.transition]="model.options.isMobileDevice ? \'margin 200ms ease\' : null"\n         (scroll)="scroll()"\n         class="stiJsViewerReportPanel"\n         (touchstart)="eventTouchStart($event)"\n         (touchmove)="eventTouchMove($event)"\n         (touchend)="eventTouchEnd($event)">\n      <sti-page *ngFor="let page of model.pages" [pageAttributes]="page" [reportPanel]="this"></sti-page>\n    </div>\n  '})],e)}(),j=function(){function e(e,t,o){this.model=e,this.controller=t,this.toolbarService=o}return e.prototype.ngAfterViewInit=function(){this.model.controls.toolbar.el=this.element},e.prototype.ngOnInit=function(){this.toolbarService.initButtons()},e.ctorParameters=function(){return[{type:g},{type:C},{type:L}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-toolbar",template:"\n    <div #element [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode === 'Separated' ? '  stiJsViewerToolBarSeparated' : '')\" style=\"display: block\"\n         [style.width.px]=\"!model.controls.toolbar.visible ? '0px' : ''\"\n         [style.height.px]=\"!model.controls.toolbar.visible ? '0px' : ''\"\n         [style.display]=\"!model.options.isMobileDevice ? (this.model.controls.toolbar.visible ? '' : 'none') : ''\"\n         [style.transition]=\"model.options.isMobileDevice ? 'margin 300ms ease, opacity 300ms ease' : null\"\n         [style.zIndex]=\"model.options.toolbar.autoHide ? 5 : 2\"\n         [style.position]=\"model.options.toolbar.autoHide ? 'absolute' : 'relative'\"\n         [style.opacity]=\"model.options.isMobileDevice ? (model.controls.toolbar.visible ? (model.options.toolbar.autoHide ? 0.9 : 1) : 0) : 1\"\n         [style.marginTop]=\"model.options.isMobileDevice && !model.controls.toolbar.visible ? '-0.55in' : 0\">\n      <div [style]=\"model.options.toolbar.displayMode === 'Simple' ? 'paddingTop: 2px' : ''\">\n        <table class=\"stiJsViewerToolBarTable\" style=\"margin: 0px; box-sizing: border-box;\"\n               cellpadding=\"0\" cellspacing=\"0\"\n               [style.background]=\"model.options.toolbar.backgroundColor !== '' ? model.options.toolbar.backgroundColor : ''\"\n               [style.border]=\"model.options.toolbar.displayMode === 'Separated' ? '0px' : (model.options.toolbar.borderColor !== '' ?  '1px solid ' + model.options.toolbar.borderColor : '')\"\n               [style.color]=\"model.options.toolbar.fontColor !== '' ? model.options.toolbar.fontColor : ''\"\n               [style.fontFamily]=\"model.options.toolbar.fontFamily\">\n          <tbody>\n            <tr class=\"stiJsViewerClearAllStyles\">\n              <td *ngIf=\"model.options.appearance.rightToLeft\">\n              <sti-toolbar-dop [comps]=\"toolbarService.dopComps\" ></sti-toolbar-dop>\n              </td>\n\n              <td class=\"stiJsViewerClearAllStyles\" style=\"width: 100%\">\n                <sti-toolbar-dop\n                  [align]=\"model.options.appearance.rightToLeft ? 'right' : (model.options.toolbar.alignment === 'default' ? 'left' : model.options.toolbar.alignment)\"\n                  [comps]=\"toolbarService.comps\">\n                </sti-toolbar-dop>\n              </td>\n\n              <td *ngIf=\"!model.options.appearance.rightToLeft\">\n                <sti-toolbar-dop [comps]=\"toolbarService.dopComps\" ></sti-toolbar-dop>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"stiJsViewerDisabledPanel\" [style.display]=\"this.model.controls.toolbar.enabled ? 'none' : 'block'\"></div>\n    </div>\n  "})],e)}(),G=function(){function e(e){this.model=e}return e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g}]},e=a([t.Component({selector:"sti-toolbar-separator",template:"\n    <div style=\"width:1px\" [style.height]=\"model.options.isMobileDevice ? '0.4in' : (model.options.isTouchDevice ? '26px' : '21px')\" class=\"stiJsViewerToolBarSeparator\"></div>\n  "})],e)}(),U=function(){function e(e,t,o){this.model=e,this.controller=t,this.helper=o,this.enabled=!0,this.count="?"}return e.prototype.ngOnInit=function(){},e.prototype.textBoxAction=function(e){this.model.reportParams.pagesCount>0&&this.model.reportParams.pageNumber!==this.getCorrectValue(e.value)-1&&this.controller.action({name:"GoToPage",value:this.getCorrectValue(e.value)-1})},e.prototype.getCorrectValue=function(e){return((e=parseInt(e,10))<1||!e)&&(e=1),e>this.model.reportParams.pagesCount&&(e=this.model.reportParams.pagesCount),e},Object.defineProperty(e.prototype,"textBoxColor",{get:function(){var e=this.model.options.toolbar.fontColor;return this.enabled?e&&"Empty"!==e?e:"#444444":this.model.reportParams&&"SinglePage"!==this.model.reportParams.viewMode?"transparent":e},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:C},{type:f}]},a([t.Input()],e.prototype,"enabled",void 0),a([t.Input()],e.prototype,"count",void 0),a([t.Input()],e.prototype,"textBoxBorder",void 0),a([t.Input()],e.prototype,"margin",void 0),e=a([t.Component({selector:"sti-page-control",template:'\n    <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" [style.margin]="helper.val(margin, \'1px\')">\n      <tbody>\n          <tr class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles" style="padding: \'0 2px 0 2px\' ">\n              {{model.loc(\'Page\')}}\n            </td>\n            <td *ngIf="model.options.isMobileDevice" class="stiJsViewerClearAllStyles" style="padding: \'0 2px 0 2px\' ">\n              <span>{{model.reportParams.pageNumber + 1}}</span>\n            </td>\n            <td *ngIf="!model.options.isMobileDevice" class="stiJsViewerClearAllStyles" style="padding: \'0 2px 0 2px\' ">\n              <sti-text-box [width]="45" [enabled]="enabled" [style.color]="textBoxColor" [style.opacity]="enabled ? 1 : 0.5"\n              (action)="textBoxAction($event)" [value]="model.reportParams.pageNumber + 1" [border]="textBoxBorder"></sti-text-box>\n            </td>\n            <td class="stiJsViewerClearAllStyles" style="padding: \'0 2px 0 2px\' ">\n              {{model.loc(\'PageOf\')}}\n            </td>\n            <td class="stiJsViewerClearAllStyles" style="padding: \'0 2px 0 2px\' ">\n              {{count}}\n            </td>\n          </tr>\n      </tbody>\n    </table>\n  '})],e)}(),X=function(){function e(e){this.model=e,this.enabled=!0,this.focusOnCreate=!1,this.action=new t.EventEmitter,this.onchange=new t.EventEmitter,this.onblur=new t.EventEmitter,this.selected=!1,this.focused=!1,this.over=!1,this._readOnly=!1,this.styleName="stiJsViewerTextBox"}return e.prototype.ngAfterViewInit=function(){var e=this;this.focusOnCreate&&setTimeout((function(){e.element.nativeElement.focus()}))},e.prototype.keypress=function(e){if(!this.enabled)return!1;13===e.keyCode&&this.action.emit(e.target)},e.prototype.onchanged=function(e){this.onchange.emit(e.target)},e.prototype.focus=function(){this.oldValue=this.element.nativeElement.value},Object.defineProperty(e.prototype,"height",{get:function(){return this.model.options.isTouchDevice?"26px":"21px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._readOnly?this.styleName+" "+this.styleName+"Default":this.styleName+" "+this.styleName+(this.selected?"Over":this.enabled?this.over?"Over":"Default":"Disabled")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this._readOnly},set:function(e){var t=this;this._readOnly=e,setTimeout((function(){try{t.element.nativeElement.setAttribute("unselectable",e?"on":"off"),t.element.nativeElement.setAttribute("onselectstart",e?"return false":""),t.element.nativeElement.readOnly=e}catch(e){}}))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g}]},a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"actionLostFocus",void 0),a([t.Input()],e.prototype,"tooltip",void 0),a([t.Input()],e.prototype,"enabled",void 0),a([t.Input()],e.prototype,"value",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Input()],e.prototype,"focusOnCreate",void 0),a([t.Input()],e.prototype,"maxLength",void 0),a([t.Input()],e.prototype,"color",void 0),a([t.Input()],e.prototype,"type",void 0),a([t.Input()],e.prototype,"padding",void 0),a([t.Input()],e.prototype,"border",void 0),a([t.Output()],e.prototype,"action",void 0),a([t.Output()],e.prototype,"onchange",void 0),a([t.Output()],e.prototype,"onblur",void 0),a([t.Input()],e.prototype,"readOnly",null),e=a([t.Component({selector:"sti-text-box",template:'\n    <input #element\n    [style]="{fontFamily:model.options.toolbar.fontFamily, height: height, lineHeight: height, boxSizing:\'content-box\'}"\n    [style.color]="color ? color : (model.options.toolbar.fontColor != \'\' ? model.options.toolbar.fontColor : \'\')"\n    [style.width]="width != null ? width + \'px\' : \'\'"\n    [style.margin]="margin"\n    [style.cursor]="readOnly ? \'default\' : \'\'"\n    [style.padding]="padding"\n    [style.border]="border"\n    [title]="tooltip || \'\'"\n    [class]="className"\n    [value]="value || \'\'"\n    [attr.maxLength]="maxLength"\n    [attr.type]="type"\n    (mouseover)="over=true"\n    (mouseleave)="over=false"\n    (focused)="focused=true; selected=true"\n    (blur)="focused=false; selected=false; onblur.emit($event.target)"\n    (keypress)="keypress($event)"\n    (keyup)="onchanged($event)"\n    (focus)="focus()"/>\n  '})],e)}(),Z=function(){function e(e,t,o,i){this.model=e,this.controller=t,this.helper=o,this.menuService=i,this.style="display: none",this.overflow="hidden"}return e.prototype.ngAfterViewInit=function(){this.menu.menuEl=this.menuEl,this.menu.innerContent=this.innerContent},e.prototype.ngOnInit=function(){},e.prototype.startAnimation=function(e){"expanded"===e.toState&&(this.style="width: 350px; overflow: hidden",this.overflow="hidden")},e.prototype.doneAnimation=function(e){"expanded"===e.toState?(this.style="overflow: visible;",this.overflow=0===this.menu.type.indexOf("parameterMenu")||this.model.options.isMobileDevice?"auto":"hidden"):"initialUp"!==e.toState&&"initialDown"!==e.toState||(this.style="display: none",this.overflow="hidden")},e.prototype.menuClick=function(e){this.menuService.closeAllMenus(),this.controller.action({name:e.name,value:e.value})},e.prototype.mouseup=function(){this.menuService.menuMouseUp=this.menu.type},Object.defineProperty(e.prototype,"zIndex",{get:function(){return"datePickerMenu"===this.menu.type?36:"verticalMenu"===this.menu.type?37:35},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:C},{type:f},{type:S}]},a([t.Input()],e.prototype,"menu",void 0),a([t.ViewChild("menuEl")],e.prototype,"menuEl",void 0),a([t.ViewChild("innerContent")],e.prototype,"innerContent",void 0),e=a([t.Component({selector:"sti-menu",template:'\n      <div #menuEl class="stiJsViewerParentMenu"\n      [style]="menu.sizeStyle || style"\n      [style.top.px]="menu.top"\n      [style.left.px]="menu.left"\n      [style.zIndex]="zIndex"\n      [style.height]="menu.type==\'buttonMenu\' && model.options.isMobileDevice ? \'100%\' : menu.height + \'px\'"\n      [@.disabled]="!model.options.toolbar.menuAnimation"\n      (mouseup)="mouseup()">\n        <div #innerContent [style]="{overflowX: \'hidden\', overflowY: overflow}"\n        [style.color]="model.options.toolbar.fontColor"\n        [style.fontFamily]="model.options.toolbar.fontFamily"\n        [style.maxHeight]="menu.type==\'buttonMenu\' && model.options.isMobileDevice ? \'100%\' : \'450px\'"\n        [style.height]="menu.type==\'buttonMenu\' && model.options.isMobileDevice ? \'100%\' : null"\n        [@expand]="menu.state || \'initialDown\'"\n        (@expand.start)="startAnimation($event)"\n        (@expand.done)="doneAnimation($event)"\n        [class]="helper.val(menu.menuStyleName, \'stiJsViewerMenu\')">\n            <ng-container *ngIf="menu.type==\'buttonMenu\'">\n              <sti-menu-item *ngFor="let item of menu.items" [item]="item" (click)="menuClick(item)"></sti-menu-item>\n            </ng-container>\n\n            <sti-parameter-menu-edit-list *ngIf="menu.type==\'parameterMenuForEditList\'" [menu]="menu">\n            </sti-parameter-menu-edit-list>\n\n            <sti-parameter-menu-not-edit-list *ngIf="menu.type==\'parameterMenuForNotEditList\'" [menu]="menu">\n            </sti-parameter-menu-not-edit-list>\n\n            <sti-parameter-menu-for-value *ngIf="menu.type==\'parameterMenuForValue\'" [menu]="menu">\n            </sti-parameter-menu-for-value>\n\n            <sti-parameter-menu-for-range *ngIf="menu.type==\'parameterMenuForRange\'" [menu]="menu">\n            </sti-parameter-menu-for-range>\n\n            <sti-date-picker-menu *ngIf="menu.type==\'datePickerMenu\'" [menu]="menu">\n            </sti-date-picker-menu>\n\n            <sti-double-date-picker-menu *ngIf="menu.type==\'doubleDatePickerMenu\'" [menu]="menu">\n            </sti-double-date-picker-menu>\n\n            <sti-document-security-menu *ngIf="menu.type==\'documentSecurityMenu\'">\n            </sti-document-security-menu>\n\n            <sti-digital-signature-menu *ngIf="menu.type==\'useDigitalSignatureMenu\'">\n            </sti-digital-signature-menu>\n\n            <sti-vertical-menu *ngIf="menu.type==\'verticalMenu\'" [menu]="menu">\n            </sti-vertical-menu>\n        </div>\n      </div>\n  ',animations:[r.trigger("expand",[r.state("initialDown",r.style({transform:"translateY(-100%)"})),r.state("initialUp",r.style({transform:"translateY(100%)"})),r.state("initialLeft",r.style({transform:"translateX(-100%)"})),r.state("expanded",r.style({transform:"translateY(0) translateX(0)"})),r.transition("initialUp => expanded",[r.animate("150ms ease-in-out")]),r.transition("initialDown => expanded",[r.animate("150ms ease-in-out")]),r.transition("initialLeft => expanded",[r.animate("150ms ease-in-out")]),r.transition("expanded => initialLeft",[r.animate("150ms ease-in-out")])])]})],e)}(),Y=function(){function e(e){this.model=e,this.styleName="stiJsViewerMenuStandartItem",this.selected=!1,this.over=!1,this._enabled=!0}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){e||(this.over=!1),this._enabled=e},enumerable:!0,configurable:!0}),e.prototype.mouseover=function(){this.enabled&&this.enabled&&(this.over=!0)},e.prototype.mouseout=function(){this.enabled&&this.enabled&&(this.over=!1)},Object.defineProperty(e.prototype,"height",{get:function(){return"Big"===this.item.imageSize?"38px":this.model.options.isMobileDevice?"0.4in":this.model.options.isTouchDevice?"30px":"24px"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this.styleName?this.styleName+" "+(this.enabled?this.styleName+(this.selected||this.item.selected?"Selected":this.over?"Over":""):this.styleName+"Disabled"):""},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g}]},a([t.Input()],e.prototype,"item",void 0),a([t.Input()],e.prototype,"styleName",void 0),a([t.Input()],e.prototype,"enabled",null),e=a([t.Component({selector:"sti-menu-item",template:'\n    <div *ngIf="item.type!=\'separator\'" [class]="className" (mouseover)="mouseover()"\n         (mouseout)="mouseout()" [style.height]="height">\n         <table style="height: 100%; width: 100%" class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n            <tr class="stiJsViewerClearAllStyles">\n                <td *ngIf="item.img != null && !model.options.appearance.rightToLeft" class="stiJsViewerClearAllStyles" style="width:22px; min-width:22px; padding: 0; text-align:center; line-height: 0;">\n                  <img *ngIf="item.img != \'\'" [style.height.px]="item.imageSize === \'Big\' ? 32 : 16" [style.width.px]="item.imageSize === \'Big\' ? 32 : 16" src="{{model.img(item.img)}}" />\n                </td>\n\n                <td *ngIf="item.caption != null" class="stiJsViewerClearAllStyles" style="white-space:nowrap"\n                  [style.textAlign]="model.options.appearance.rightToLeft ? \'right\' : \'left\'"\n                  [style.padding]="item.imageSize == \'None\' ? \'0 20px 0 30px\' : \'0 20px 0 7px\'">\n                  {{item.caption}}\n                </td>\n\n                <td *ngIf="item.img != null && model.options.appearance.rightToLeft" class="stiJsViewerClearAllStyles" style="width:22px; min-width:22px; padding: 0; text-align:center; line-height: 0;">\n                  <img *ngIf="item.img != \'\'" [style.height.px]="item.imageSize === \'Big\' ? 32 : 16" [style.width.px]="item.imageSize === \'Big\' ? 32 : 16" src="{{model.img(item.img)}}" />\n                </td>\n            </tr>\n         </table>\n    </div>\n    <div *ngIf="item.type==\'separator\'" class="stiJsViewerVerticalMenuSeparator" [style.margin]="item.imageSize == \'Big\' ? \'1px 2px 1px 2px\' : \'\'">\n    </div>\n  '})],e)}(),$=function(){function e(e,t,o){this.model=e,this.tooltipService=t,this.helper=o}return e.prototype.ngAfterViewInit=function(){this.model.controls.tooltip.el=this.element},e.prototype.ngOnInit=function(){},e.prototype.action=function(){this.helper.showHelpWindow(this.tooltipService.helpLink)},e.ctorParameters=function(){return[{type:g},{type:F},{type:f}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-tooltip",template:'\n      <div #element class=\'stiJsViewerToolTip\' [@expandDown]="tooltipService.state"\n        [style.left.px]=\'tooltipService.left\' [style.top.px]=\'tooltipService.top\'\n        (mouseover)="tooltipService.showFromTooltip()" (mouseout)="tooltipService.hide()">\n        <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="height: 100%;"\n          [style.border]="model.options.appearance.showTooltipsHelp ? \'\' : 0">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerToolTipTextCell">\n                {{tooltipService.caption}}\n              </td>\n            </tr>\n            <tr *ngIf="model.options.appearance.showTooltipsHelp" class="stiJsViewerClearAllStyles">\n              <td  class="stiJsViewerClearAllStyles">\n                <sti-button [caption]="model.loc(\'TellMeMore\')"\n                    [imageName]="\'HelpIcon.png\'"\n                    [margin]="\'4px 8px 4px 8px\'"\n                    (action)=\'action()\'\n                    [styleName]="\'stiJsViewerHyperlinkButton\'">\n                </sti-button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n    </div>\n  ',animations:[r.trigger("expandDown",[r.state("initial",r.style({opacity:0,display:"none"})),r.state("preInitial",r.style({opacity:0,display:"block"})),r.state("preInitial2",r.style({opacity:0,display:"block"})),r.state("expanded",r.style({opacity:1,display:"block"})),r.transition("preInitial => expanded",[r.animate("300ms 300ms ease-in-out",r.keyframes([r.style({display:"block",opacity:0,offset:0}),r.style({display:"block",opacity:1,offset:1})]))])])]})],e)}(),q=function(){function e(e,t,o){var i=this;this.model=e,this.findService=t,this.controller=o,this.changeFind=!1,this.initItems(),o.getMessage().subscribe((function(t){switch(t.action){case"GetReport":case"GetPages":case"OpenReport":case"Variables":e.controls.findPanel.visible&&setTimeout((function(){i.findService.hideFindLabels(),i.find("Next")}))}}))}return e.prototype.ngAfterViewInit=function(){var e=this;this.model.controls.findPanel.el=this.element,this.model.controls.findPanel.getVisibility().subscribe((function(){e.model.controls.findPanel.visible&&(e.findService.text="",setTimeout((function(){e.textBox.element.nativeElement.focus()})))}))},e.prototype.ngOnInit=function(){},e.prototype.selected=function(e){switch(e.action){case"MatchCase":return this.findService.matchCase;case"MatchWholeWord":return this.findService.matchWholeWord}return!1},e.prototype.textBoxAction=function(e){this.findService.text=e.value,this.find("Next")},e.prototype.find=function(e){""!==this.findService.text?this.findService.lastFindText!==this.findService.text||this.changeFind?(this.changeFind=!1,this.findService.showFindLabels()):this.findService.selectFindLabel(e):this.findService.hideFindLabels()},e.prototype.initItems=function(){this.items=[{type:"button",action:"close",img:"CloseForm.png",margin:"2px"},{type:"textBlock",action:"text",caption:this.model.loc("FindWhat").replace(":",""),margin:"2px"},{type:"textBox",action:"findTextBox",margin:"2px"},{type:"button",action:"FindPreviows",caption:this.model.loc("FindPrevious"),img:"Arrows.ArrowUpBlue.png",margin:"2px"},{type:"button",action:"FindNext",caption:this.model.loc("FindNext"),img:"Arrows.ArrowDownBlue.png",margin:"2px"},{type:"button",action:"MatchCase",caption:this.model.loc("MatchCase").replace("&",""),margin:"2px"},{type:"button",action:"MatchWholeWord",caption:this.model.loc("MatchWholeWord").replace("&",""),margin:"2px"}]},e.prototype.action=function(e){switch(e){case"close":this.model.controls.findPanel.visible=!1;break;case"MatchCase":this.findService.matchCase=!this.findService.matchCase,this.changeFind=!0;break;case"MatchWholeWord":this.findService.matchWholeWord=!this.findService.matchWholeWord,this.changeFind=!0;break;case"FindPreviows":this.findService.text=this.textBox.element.nativeElement.value,this.find("Previous");break;case"FindNext":this.findService.text=this.textBox.element.nativeElement.value,this.find("Next")}},e.ctorParameters=function(){return[{type:g},{type:V},{type:C}]},a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.ViewChild("textBox")],e.prototype,"textBox",void 0),e=a([t.Component({selector:"sti-find-panel",template:'\n    <div #element [style.display]="model.controls.findPanel.visible ? \'\' : \'none\'"\n    [class]="\'stiJsViewerToolBar\' + (model.options.toolbar.displayMode == \'Separated\' ? \' stiJsViewerToolBarSeparated\' : \'\')">\n      <div [style.paddingTop]="model.options.toolbar.displayMode == \'Simple\' ? \'2px\' : \'\'">\n        <div class="stiJsViewerToolBarTable" [style.border]="model.options.toolbar.displayMode == \'Separated\' ? \'0px\' : \'\'" style="box-sizing: border-box">\n          <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="margin: 0">\n            <tbody>\n                <tr class="stiJsViewerClearAllStyles">\n                   <td *ngFor="let item of items"  class="stiJsViewerClearAllStyles">\n                      <sti-button *ngIf="item.type==\'button\'"\n                        [actionName]="item.action"\n                        [imageName]="item.img"\n                        [caption]="item.caption"\n                        [margin]="item.margin"\n                        [height]="model.options.toolbar.displayMode == \'Separated\' ? \'28px\' : \'\'"\n                        (action)="action(item.action)"\n                        [selected]="selected(item)"\n                        ></sti-button>\n                      <sti-text-box #textBox *ngIf="item.type==\'textBox\'" [width]="170"\n                        [margin]="item.margin"\n                        [focusOnCreate]="true"\n                        (action)="textBoxAction($event)"\n                        [value]="findService.text"></sti-text-box>\n                      <sti-text-block *ngIf="item.type==\'textBlock\'" [margin]="item.margin" [text]="item.caption"></sti-text-block>\n                  </td>\n                </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  '})],e)}(),Q=function(){function e(e){this.model=e}return e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g}]},a([t.Input()],e.prototype,"text",void 0),a([t.Input()],e.prototype,"margin",void 0),e=a([t.Component({selector:"sti-text-block",template:"\n    <div [style]=\"{fontFamily: model.options.toolbar.fontFamily, fontSize: '12px', paddingTop: '2px', margin: margin}\">\n      {{text || ''}}\n    </div>\n  "})],e)}(),K=function(){function e(e,t,o){var i=this;this.model=e,this.helper=t,this.controller=o,o.getMessage().subscribe((function(e){"GetReport"===e.action||"OpenReport"===e.action?setTimeout((function(){null!=i.model.reportParams.bookmarksContent&&i.create(),i.model.controls.bookmarksPanel.visible=null!==i.model.reportParams.bookmarksContent&&!i.model.options.isMobileDevice})):setTimeout((function(){null!=i.model.options.bookmarkAnchor&&(i.helper.scrollToAnchor(i.model.options.bookmarkAnchor,i.model.options.componentGuid),i.model.options.bookmarkAnchor=null,i.model.options.componentGuid=null)}))})),this.model.controls.bookmarksPanel.getVisibility().subscribe((function(e){e||(i.helper.removeBookmarksLabel(),i.clearSelected())}))}return e.prototype.ngAfterViewInit=function(){this.model.controls.bookmarksPanel.el=this.element},e.prototype.ngOnInit=function(){},e.prototype.getImg1=function(e,t){var o;return 0===(null===(o=e.nodes)||void 0===o?void 0:o.length)?t!==this.model.nodes.length-1?this.model.imagesForBookmark.join:this.model.imagesForBookmark.joinBottom:e.open?t===this.model.nodes.length-1?this.model.imagesForBookmark.minusBottom:this.model.imagesForBookmark.minus:t===this.model.nodes.length-1?this.model.imagesForBookmark.plusBottom:this.model.imagesForBookmark.plus},e.prototype.postAction=function(e){this.clearSelected(),this.controller.postBookmarkNodeAction(e)},e.prototype.clearSelected=function(){var e;null===(e=this.model.nodes)||void 0===e||e.forEach((function(e){e.selected=!1,e.nodes.forEach((function(e){return e.selected=!1}))}))},e.prototype.create=function(){var e=this.model.reportParams.bookmarksContent.split("bookmarks.add("),t=e[1].replace("0,-1,'","");this.rootName=t.substr(0,t.indexOf("'"));var o=[];this.parseNodes(e.splice(2),0,o),this.model.nodes=o},e.prototype.parseNodes=function(e,t,o){var i,n=this;e.forEach((function(e){var t=e.substr(e.indexOf(",")+1),s=parseInt(t.substr(0,t.indexOf(",")),10),r=n.parseNode(t);0===s?(o.push(r),i=r):i.nodes.push(r)}))},e.prototype.parseNode=function(e){e=e.substr(e.indexOf(",")+2);var t=this.unescape(e.substr(0,e.indexOf("',"))),o=(e=e.substr(e.indexOf("',")+3)).substr(0,e.indexOf("',")),i=(e=e.substr(e.indexOf("',")+3)).substr(0,e.indexOf("',")),n=(e=e.substr(e.indexOf("',")+3)).substr(0,e.length-3);return{name:t,url:o,page:parseInt(i.substr(5),10)-1,compunentGuid:n,nodes:[],open:!1,selected:!1}},e.prototype.unescape=function(e){return e.replace(/\\&apos;/g,"'").replace(/\\&quot;/g,'"').replace(/\\&gt;/g,">").replace(/\\&lt;/g,"<").replace(/\\&amp;/g,"&")},Object.defineProperty(e.prototype,"bottom",{get:function(){return this.model.options.isMobileDevice?this.model.options.toolbar.autoHide?"0":"0.5in":"Separated"===this.model.options.toolbar.displayMode&&this.model.options.toolbar.visible?"35px":"0"},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:f},{type:C}]},a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.ViewChild("bookmarksPanel")],e.prototype,"bookmarksPanel",void 0),e=a([t.Component({selector:"sti-bookmarks-panel",template:'\n    <div #element [style]="{fontFamily: model.options.toolbar.fontFamily, fontColor: helper.val(model.options.toolbar.fontColor)}"\n      [class]="\'stiJsViewerBookmarksPanel\' + (model.options.toolbar.displayMode == \'Separated\' ? \' stiJsViewerBookmarksPanelSeparated\' : \'\')"\n      [style.width.px]="model.options.appearance.bookmarksTreeWidth - (model.options.toolbar.displayMode == \'Simple\' ? 0 : 1)"\n      [style.bottom]="bottom"\n      [style.top.px]="model.controls.bookmarksPanel.layout.top"\n      [style.transition]="model.options.isMobileDevice ? \'opacity 300ms ease\' : null"\n      [style.display]="!this.model.options.isMobileDevice ? (model.controls.bookmarksPanel.visible ? \'\' : \'none\') : null"\n      [@visibility]="!this.model.options.isMobileDevice ? null : (model.controls.bookmarksPanel.visible ? \'visible\' : \'hidden\')">\n      <div #bookmarksPanel [class]="\'stiJsViewerBookmarksContainer\' + (model.options.toolbar.displayMode == \'Simple\' ? \' stiJsViewerBookmarksContainerSimple\' : \'\')"\n           [style.background]="helper.val(model.options.toolbar.backgroundColor)"\n           [style.border]="helper.val(model.options.toolbar.borderColor) != \'\' ? \'1px solid \' + helper.val(model.options.toolbar.borderColor): \'\'">\n           <div class="stiTree">\n              <div class="stiTreeNode">\n                <img style="width: 16px; height: 16px;" [src]="model.imagesForBookmark[\'root\']"/>\n                <a class="node">{{rootName}}</a>\n              </div>\n              <div class="clip" style="display:block;">\n                <ng-container *ngFor="let node of model.nodes; index as i">\n                    <div class="stiTreeNode">\n                        <a (click)="node.open = !node.open">\n                            <img style="width: 18px; height: 18px"\n                             [src]="getImg1(node, i)"/>\n                        </a>\n                        <img style="width: 16px; height: 16px;" [src]="node.nodes?.length == 0 ? model.imagesForBookmark[\'node\'] :(node.open ? model.imagesForBookmark[\'folderOpen\'] : model.imagesForBookmark[\'folder\'])"/>\n                        <a [class]="node.selected ? \'nodeSel\' : \'node\'" (click)="postAction(node)">{{node.name}}</a>\n                    </div>\n                    <div class="clip" [style.display]="node.open ? \'block\' : \'none\'">\n                      <div *ngFor="let subNode of node.nodes; index as k" class="stiTreeNode">\n                        <img style="width: 18px; height: 18px;" [src]="i != model.nodes.length - 1 ? model.imagesForBookmark[\'line\'] : model.imagesForBookmark[\'empty\']"/>\n                        <img style="width: 18px; height: 18px;" [src]="k == node.nodes.length - 1 ? model.imagesForBookmark[\'joinBottom\'] : model.imagesForBookmark[\'join\']"/>\n                        <img style="width: 16px; height: 16px;" [src]="model.imagesForBookmark[\'node\']" />\n                        <a [class]="subNode.selected ? \'nodeSel\' : \'node\'" (click)="postAction(subNode)">{{subNode.name}}</a>\n                      </div>\n                    </div>\n                </ng-container>\n              </div>\n          </div>\n      </div>\n    </div>\n  ',animations:[r.trigger("visibility",[r.state("visible",r.style({opacity:1,display:"block"})),r.state("hidden",r.style({opacity:0,display:"none"})),r.transition("hidden => visible",[r.animate("300ms ease-in-out",r.keyframes([r.style({display:"block",opacity:0,offset:0}),r.style({display:"block",opacity:1,offset:1})]))]),r.transition("visible => hidden",[r.animate("300ms ease-in-out",r.keyframes([r.style({display:"block",opacity:1,offset:0}),r.style({display:"none",opacity:0,offset:1})]))])])]})],e)}(),ee=function(){function e(e,t,o,i,n){this.model=e,this.helper=t,this.interactionService=o,this.menuService=i,this.controller=n,this.currentOpeningParameter=null,this.dropDownButtonWasClicked=!1,this.dateTimeButtonWasClicked=!1}return e.prototype.ngAfterViewInit=function(){this.model.controls.parametersPanel.el=this.element},e.prototype.ngOnInit=function(){},e.prototype.getNameAlign=function(e,t){var o=this.index(e,t);return o<this.length()&&"Range"===this.model.interactions.paramsVariables[o].basicType&&"Left"===this.model.options.appearance.parametersPanelPosition?"top":""},e.prototype.getNamePadding=function(e,t){var o=this.index(e,t);return o<this.length()&&"Range"===this.model.interactions.paramsVariables[o].basicType&&"Left"===this.model.options.appearance.parametersPanelPosition?this.model.options.isTouchDevice?"11px":"9px":""},e.prototype.getCaption=function(e,t,o){void 0===o&&(o=!0);var i=this.index(e,t);return o&&this.ifLeftRange(e,t)?"":i<this.length()?this.model.interactions.paramsVariables[i].alias:""},e.prototype.ifLeftRange=function(e,t){var o=this.index(e,t);return"Range"===this.model.interactions.paramsVariables[o].basicType&&"Left"===this.model.options.appearance.parametersPanelPosition},e.prototype.getTitle=function(e,t){var o=this.index(e,t);return o<this.length()?this.model.interactions.paramsVariables[o].description:""},e.prototype.index=function(e,t){return t*this.model.interactions.countInColumn.length+e},e.prototype.length=function(){var e,t;return null!=(null===(e=this.model.interactions)||void 0===e?void 0:e.paramsVariables)?Object.keys(null===(t=this.model.interactions)||void 0===t?void 0:t.paramsVariables).length:0},Object.defineProperty(e.prototype,"className",{get:function(){var e="stiJsViewerParametersPanel";return"Top"===this.model.options.appearance.parametersPanelPosition&&(e+=" stiJsViewerParametersPanelTop","Separated"===this.model.options.toolbar.displayMode&&(e+=" stiJsViewerParametersPanelSeparatedTop")),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){var e=this.model.options.toolbar.visible?this.model.controls.toolbar.offsetHeight:0;return this.model.options.isMobileDevice&&this.model.options.toolbar.autoHide&&(e=0),e+=this.model.controls.drillDownPanel.exists?this.model.controls.drillDownPanel.offsetHeight:0,e+=this.model.controls.findPanel.exists?this.model.controls.findPanel.offsetHeight:0,e+=this.model.controls.resourcesPanel.exists?this.model.controls.resourcesPanel.offsetHeight:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return"Left"===this.model.options.appearance.parametersPanelPosition?this.model.options.isMobileDevice?this.model.options.toolbar.autoHide?"0":"0.5in":"Separated"===this.model.options.toolbar.displayMode&&this.model.options.toolbar.visible?"35px":"0":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerClassName",{get:function(){var e="Simple"===this.model.options.toolbar.displayMode?"stiJsViewerInnerParametersPanelSimple":"";return"Left"===this.model.options.appearance.parametersPanelPosition&&(e+=" stiJsViewerInnerParametersPanelLeft","Separated"===this.model.options.toolbar.displayMode&&(e+=" stiJsViewerInnerParametersPanelSeparatedLeft")),e},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:f},{type:R},{type:S},{type:C}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-interactions-panel",template:'\n    <div #element [class]="className"\n       [style.display]="!this.model.options.isMobileDevice ? (model.controls.parametersPanel.visible ? \'\' : \'none\') : null"\n       [style.fontFamily]="model.options.toolbar.fontFamily"\n       [style.color]="model.options.toolbar.fontColor"\n       [style.top.px]="top"\n       [style.left.px]="model.controls.parametersPanel.layout.left"\n       [style.bottom]="bottom"\n       [style.transition]="model.options.isMobileDevice ? \'opacity 300ms ease\' : null"\n       [@visibility]="!this.model.options.isMobileDevice ? null : (model.controls.parametersPanel.visible ? \'visible\' : \'hidden\')">\n       <div [class]="innerClassName" [style.marginTop]="model.options.toolbar.displayMode == \'Simple\' ? \'2px\' : \'\'" (scroll)="menuService.closeAllMenus()">\n         <div class="stiJsViewerInnerContainerParametersPanel"\n              [style.background]="helper.val(model.options.toolbar.backgroundColor, \'\')"\n              [style.border]="helper.val(model.options.toolbar.backgroundColor, \'\') != \'\' ? \'1px solid \' + helper.val(model.options.toolbar.backgroundColor, \'\') : \'\'"\n              [style.maxHeight]="model.options.appearance.parametersPanelPosition == \'Top\' ? model.options.appearance.parametersPanelMaxHeight + \'px\' : \'\'"\n              (scroll)="menuService.closeAllMenus()">\n            <table *ngIf="model.interactions" class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="border: 0px;">\n              <tbody>\n                <tr *ngFor="let item of model.interactions.countInColumn; let indexRow=index" >\n                  <ng-container *ngFor="let item2 of model.interactions.countColumns; let indexColumn=index">\n                    <ng-container *ngIf="index(indexRow, indexColumn) <= length()">\n                        <td [style.padding]="\'0 10px 0 \' + (indexColumn > 0 ? \'30px\' : \'0\')"\n                            [style.whiteSpace]="\'nowrap\'"\n                            [style.verticalAlign]=\'getNameAlign(indexRow, indexColumn)\'\n                            [style.paddingTop]=\'getNamePadding(indexRow, indexColumn)\'\n                            [attr.title]=\'getTitle(indexRow, indexColumn)\'>\n                            {{getCaption(indexRow, indexColumn)}}\n                              <table *ngIf="ifLeftRange(indexRow, indexColumn)" class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="height: 60px;">\n                                <tbody>\n                                  <tr class="stiJsViewerClearAllStyles">\n                                    <td class="stiJsViewerClearAllStyles" rowspan="2" style="vertical-align: top; padding-top: 9px;">\n                                      {{getCaption(indexRow, indexColumn, false)}}\n                                    </td>\n                                    <td class="stiJsViewerClearAllStyles" style="padding-left: 12px;">\n                                      {{model.loc(\'RangeFrom\')}}\n                                    </td>\n                                  </tr>\n                                  <tr class="stiJsViewerClearAllStyles">\n                                    <td class="stiJsViewerClearAllStyles" style="padding-left: 12px;">\n                                      {{model.loc(\'RangeTo\')}}\n                                    </td>\n                                  </tr>\n                                </tbody>\n                              </table>\n                            </td>\n                        <td [style.padding]="\'0px\'">\n                          <sti-parameter *ngIf="index(indexRow, indexColumn) != length()"  [params]="model.interactions.paramsVariables[index(indexRow, indexColumn)]"></sti-parameter>\n\n                          <table *ngIf="index(indexRow, indexColumn) == length()" class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0"\n                            align="right" style="margin: 5px 2px 10px 0px;">\n                            <tr class="stiJsViewerClearAllStyles">\n                              <td class="stiJsViewerClearAllStyles">\n                                <sti-form-button [caption]="model.loc(\'Reset\')" (action)="controller.action({name: \'Reset\'})"></sti-form-button>\n                              </td>\n                              <td class="stiJsViewerClearAllStyles" style="padding-left: 10px;">\n                                <sti-form-button [caption]="model.loc(\'Submit\')" (action)="controller.action({name: \'Submit\'})"></sti-form-button>\n                              </td>\n                            </tr>\n                          </table>\n                        </td>\n                    </ng-container>\n                  </ng-container>\n                </tr>\n                <tr *ngIf="length() == model.interactions.countInColumn.length * model.interactions.countColumns.length">\n                  <td></td>\n                  <td *ngIf="model.interactions.countColumns.length > 1"></td>\n                  <td *ngIf="model.interactions.countColumns.length > 1"></td>\n                  <td [style.padding]="\'0px\'">\n                      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0"\n                         align="right" style="margin: 5px 2px 10px 0px;">\n                         <tr class="stiJsViewerClearAllStyles">\n                           <td class="stiJsViewerClearAllStyles">\n                             <sti-form-button [caption]="model.loc(\'Reset\')" (action)="controller.action({name: \'Reset\'})"></sti-form-button>\n                           </td>\n                           <td class="stiJsViewerClearAllStyles" style="padding-left: 10px;">\n                              <sti-form-button [caption]="model.loc(\'Submit\')" (action)="controller.action({name: \'Submit\'})"></sti-form-button>\n                           </td>\n                         </tr>\n                       </table>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n      </div>\n    </div>\n  ',animations:[r.trigger("visibility",[r.state("visible",r.style({opacity:1,display:"block"})),r.state("hidden",r.style({opacity:0,display:"none"})),r.transition("hidden => visible",[r.animate("300ms ease-in-out",r.keyframes([r.style({display:"block",opacity:0,offset:0}),r.style({display:"block",opacity:1,offset:1})]))]),r.transition("visible => hidden",[r.animate("300ms ease-in-out",r.keyframes([r.style({display:"block",opacity:1,offset:0}),r.style({display:"none",opacity:0,offset:1})]))])])]})],e)}(),te=function(){function e(){this.captionAlign="center",this.action=new t.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.onaction=function(e){this.action.emit(e)},a([t.Input()],e.prototype,"caption",void 0),a([t.Input()],e.prototype,"actionName",void 0),a([t.Input()],e.prototype,"imageName",void 0),a([t.Input()],e.prototype,"imageCellWidth",void 0),a([t.Input()],e.prototype,"captionPadding",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Input()],e.prototype,"captionAlign",void 0),a([t.Output()],e.prototype,"action",void 0),e=a([t.Component({selector:"sti-form-button",template:'\n      <sti-button [styleName]="\'stiJsViewerFormButton\'"\n                  [caption]="caption"\n                  [actionName]="actionName"\n                  [captionAlign]="captionAlign"\n                  [innerTableWidth]="\'100%\'"\n                  [minWidth]="\'80px\'"\n                  [imageName]="imageName"\n                  [imageCellWidth]="imageCellWidth"\n                  [captionPadding]="captionPadding"\n                  [margin]="margin"\n                  (action)="onaction($event)">\n      </sti-button>\n  '})],e)}(),oe=function(){function e(e,t,o){this.model=e,this.helper=t,this.menuService=o}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"params",{get:function(){return this._params},set:function(e){this._params=e,"Range"===e.basicType&&"DateTime"===e.type&&e.keyTo&&e.keyTo.isNull&&(e.keyTo=this.helper.getDateTimeObject(new Date))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showParameterInTwoRows",{get:function(){return"Range"===this.params.basicType&&"Left"===this.model.options.appearance.parametersPanelPosition},enumerable:!0,configurable:!0}),e.prototype.getReadOnlyCheckbox=function(){return"List"===this.params.basicType||!this.params.allowUserValues},e.prototype.getFirstTextBoxValue=function(){var e=this,t="";return"Value"!==this.params.basicType&&"NullableValue"!==this.params.basicType||("DateTime"===this.params.type&&null===this.params.value&&(this.params.value=new Date,this.params.key=this.helper.getDateTimeObject(this.params.value)),t="DateTime"===this.params.type?this.helper.getStringKey(this.params.key,this.params):this.params.value),"Range"===this.params.basicType&&("DateTime"===this.params.type&&this.params.key&&this.params.key.isNull&&(this.params.key=this.helper.getDateTimeObject(new Date)),t=this.helper.getStringKey(this.params.key,this.params)),"List"===this.params.basicType&&this.params.items&&this.params.items.forEach((function(o){o.isChecked&&(""!==t&&(t+=e.model.options.listSeparator?e.model.options.listSeparator+" ":"; "),e.params.allowUserValues?t+=e.helper.getStringKey(o.key,e.params):t+=""!==o.value?o.value:e.helper.getStringKey(o.key,e.params))})),null!=t?t.toString():t},e.prototype.nullableAction=function(e){this.params.isNull=!this.params.isNull},e.prototype.firstGuidAction=function(){"Range"===this.params.basicType?this.params.key=this.helper.newGuid():this.params.value=this.helper.newGuid()},e.prototype.doubleDateTimeAction=function(e){var t=this;this.menuService.addMenu({type:"doubleDatePickerMenu",name:"doubleDatePickerMenu",items:[],parent:this.rangeFrom,params:this.params}),setTimeout((function(){t.menuService.showMenu("doubleDatePickerMenu")}))},e.prototype.firstDateTimeAction=function(e){var t=this;this.menuService.addMenu({type:"datePickerMenu",name:"datePickerMenu",items:[],parent:this.firstDateTimeButton,params:this.params}),setTimeout((function(){t.menuService.showMenu("datePickerMenu")}))},e.prototype.dropDownButtonAction=function(e){var t=this,o="parameterMenuForValue";switch(this.params.basicType){case"Range":o="parameterMenuForRange";break;case"List":o=this.params.allowUserValues?"parameterMenuForEditList":"parameterMenuForNotEditList"}this.params.items&&this.params.items.forEach((function(e){return e.visible=!0})),this.menuService.addMenu({type:o,name:"parameterMenu",items:[],parent:this.element,params:this.params}),setTimeout((function(){t.menuService.showMenu("parameterMenu")}))},e.ctorParameters=function(){return[{type:g},{type:f},{type:S}]},a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.ViewChild("firstDateTimeButton")],e.prototype,"firstDateTimeButton",void 0),a([t.ViewChild("doubleDateTimeButton")],e.prototype,"doubleDateTimeButton",void 0),a([t.ViewChild("rangeFrom")],e.prototype,"rangeFrom",void 0),a([t.Input()],e.prototype,"params",null),e=a([t.Component({selector:"sti-parameter",template:'\n    <table #element class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" #rangeFrom>\n       <tbody>\n          <tr class="stiJsViewerClearAllStyles" >\n            <td *ngIf="params.type == \'Bool\' && (params.basicType == \'Value\' || params.basicType == \'NullableValue\')"\n                style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n                <sti-parameter-checkbox [params]="params" [isEnabled]="params.allowUserValues && !params.isNull" (action)="params.value = $event">\n                </sti-parameter-checkbox>\n            </td>\n\n            <td *ngIf="params.basicType == \'Range\' && model.options.appearance.parametersPanelPosition === \'Top\'"  style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n                {{model.loc(\'RangeFrom\')}}\n            </td>\n\n            <td *ngIf="params.type != \'Bool\' || params.basicType == \'List\'"\n                style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n                <sti-parameter-text-box [variable]="params"\n                    [readOnly]="getReadOnlyCheckbox()"\n                    [value]="getFirstTextBoxValue()">\n                </sti-parameter-text-box>\n            </td>\n\n            <td *ngIf="params.type == \'DateTime\' && params.allowUserValues && params.basicType != \'List\' && params.basicType != \'Range\'"\n                style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight" #firstDateTimeButton>\n                <sti-parameter-button [buttonType]="\'DateTimeButton\'" [params]="params"  (action)="firstDateTimeAction($event)">\n                </sti-parameter-button>\n            </td>\n\n            <td *ngIf="params.type == \'Guid\' && params.allowUserValues && params.basicType != \'List\'"\n                style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n                <sti-parameter-button  [buttonType]="\'GuidButton\'" [params]="params" (action)="firstGuidAction()">\n                </sti-parameter-button>\n            </td>\n\n            <td *ngIf="!showParameterInTwoRows && params.basicType == \'Range\' && model.options.appearance.parametersPanelPosition === \'Top\'" style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              {{model.loc(\'RangeTo\')}}\n            </td>\n\n            \x3c!-- second --\x3e\n            <td *ngIf="!showParameterInTwoRows && params.basicType == \'Range\'" style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              <sti-parameter-text-box [variable]="params"\n                    [readOnly]="!params.allowUserValues"\n                    [value]="helper.getStringKey(params.keyTo, params)"\n                    [secondTextBox]="true">\n              </sti-parameter-text-box>\n            </td>\n\n            <td *ngIf="!showParameterInTwoRows && params.basicType == \'Range\' && params.type == \'DateTime\' && params.allowUserValues" #doubleDateTimeButton\n              style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              <sti-parameter-button  [buttonType]="\'DateTimeButton\'" [params]="params" (action)="doubleDateTimeAction($event)">\n              </sti-parameter-button>\n            </td>\n\n            <td *ngIf="!showParameterInTwoRows && params.basicType == \'Range\' && params.type == \'Guid\' && params.allowUserValues"\n              style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              <sti-parameter-button  [buttonType]="\'GuidButton\'" [params]="params" (action)="params.keyTo=helper.newGuid()">\n              </sti-parameter-button>\n            </td>\n\n            <td *ngIf="!showParameterInTwoRows && params.items != null || (params.basicType == \'List\' && params.allowUserValues)"\n                style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              <sti-parameter-button [buttonType]="\'DropDownButton\'" [params]="params" (action)="dropDownButtonAction($event)">\n              </sti-parameter-button>\n            </td>\n\n            <td *ngIf="!showParameterInTwoRows && params.basicType == \'NullableValue\' && params.allowUserValues"\n                style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n                <sti-parameter-checkbox [params]="params" [isEnabled]="params.allowUserValues" (action)="nullableAction($event)" [nullable]="true" >\n                </sti-parameter-checkbox>\n            </td>\n\n            <td *ngIf="!showParameterInTwoRows && params.basicType == \'NullableValue\' && params.allowUserValues"\n                style="padding: 0px" [style.height.px]="model.options.parameterRowHeight">\n                {{model.loc(\'Null\')}}\n            </td>\n          </tr>\n\n          \x3c!-- NEW LINE --\x3e\n          <tr *ngIf="showParameterInTwoRows">\n            <td *ngIf="params.basicType == \'Range\' && model.options.appearance.parametersPanelPosition === \'Top\'" style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              {{model.loc(\'RangeTo\')}}\n            </td>\n\n            \x3c!-- second --\x3e\n            <td *ngIf="params.basicType == \'Range\'" style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              <sti-parameter-text-box [variable]="params"\n                    [readOnly]="!params.allowUserValues"\n                    [value]="helper.getStringKey(params.keyTo, params)"\n                    [secondTextBox]="true">\n              </sti-parameter-text-box>\n            </td>\n\n            <td *ngIf="params.basicType == \'Range\' && params.type == \'DateTime\' && params.allowUserValues" #doubleDateTimeButton\n              style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              <sti-parameter-button  [buttonType]="\'DateTimeButton\'" [params]="params" (action)="doubleDateTimeAction($event)">\n              </sti-parameter-button>\n            </td>\n\n            <td *ngIf="params.basicType == \'Range\' && params.type == \'Guid\' && params.allowUserValues"\n              style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              <sti-parameter-button  [buttonType]="\'GuidButton\'" [params]="params" (action)="params.keyTo=helper.newGuid()">\n              </sti-parameter-button>\n            </td>\n\n            <td *ngIf="params.items != null || (params.basicType == \'List\' && params.allowUserValues)"\n                style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n              <sti-parameter-button [buttonType]="\'DropDownButton\'" [params]="params" (action)="dropDownButtonAction($event)">\n              </sti-parameter-button>\n            </td>\n\n            <td *ngIf="params.basicType == \'NullableValue\' && params.allowUserValues"\n                style="padding: 0px 2px;" [style.height.px]="model.options.parameterRowHeight">\n                <sti-parameter-checkbox [params]="params" [isEnabled]="params.allowUserValues" (action)="nullableAction($event)" [nullable]="true" >\n                </sti-parameter-checkbox>\n            </td>\n\n            <td *ngIf="params.basicType == \'NullableValue\' && params.allowUserValues"\n                style="padding: 0px" [style.height.px]="model.options.parameterRowHeight">\n                {{model.loc(\'Null\')}}\n            </td>\n\n          </tr>\n       </tbody>\n    </table>\n  '})],e)}(),ie=function(){function e(e,t){this.helper=e,this.model=t,this.focusOnCreate=!1,this.isMenu=!1,this.value="",this.secondTextBox=!1}return e.prototype.ngOnInit=function(){},e.prototype.onchange=function(e){if(this.element.oldValue!==e.value){var t=this.getValue(e);this.isMenu?this.secondTextBox?this.item.keyTo=t:this.item.key=t:this.secondTextBox?this.variable.keyTo=t:"Range"===this.variable.basicType||"DateTime"===this.variable.type?this.variable.key=t:this.variable.value=t}},e.prototype.getValue=function(e){if("DateTime"!==this.variable.type)return e.value;if(this.element.oldValue!==e.value)try{var t=(new Date).toLocaleTimeString(),o=t.toLowerCase().indexOf("am")>=0||t.toLowerCase().indexOf("pm")>=0,i=o?"MM/dd/yyyy":"dd.MM.yyyy",n=i+(o?" h:mm:ss tt":" hh:mm:ss");"Date"===this.variable.dateTimeType&&(n=i),"Time"===this.variable.dateTimeType&&(n="hh:mm:ss");var s=this.helper.getDateTimeFromString(e.value,this.model.options.appearance.parametersPanelDateFormat||n);return this.helper.getDateTimeObject(s)}catch(e){alert(e)}},Object.defineProperty(e.prototype,"width",{get:function(){var e=210;return"Range"===this.variable.basicType?(e=140,"Guid"!==this.variable.type&&"String"!==this.variable.type||(e=190),"DateTime"===this.variable.type&&(e=235),"Char"===this.variable.type&&(e=60)):e="Guid"===this.variable.type?265:210,e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.variable.isNull?"DateTime"===this.variable.type?"transparent":"#c6c6c6":this.model.options.toolbar.fontColor&&"Empty"!==this.model.options.toolbar.fontColor?this.model.options.toolbar.fontColor:"#444444"},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:f},{type:g}]},a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.Input()],e.prototype,"item",void 0),a([t.Input()],e.prototype,"variable",void 0),a([t.Input()],e.prototype,"readOnly",void 0),a([t.Input()],e.prototype,"focusOnCreate",void 0),a([t.Input()],e.prototype,"isMenu",void 0),a([t.Input()],e.prototype,"value",void 0),a([t.Input()],e.prototype,"secondTextBox",void 0),e=a([t.Component({selector:"sti-parameter-text-box",template:'\n    <sti-text-box #element\n      [maxLength]="variable.type === \'Char\' ? 1 : \'\'"\n      [value]="isMenu ? helper.getStringKey(item.key, variable): value"\n      [width]="width"\n      [readOnly]="readOnly"\n      [focusOnCreate]="focusOnCreate"\n      [enabled]="!variable?.isNull"\n      [color]="color"\n      (onchange)="onchange($event)">\n    </sti-text-box>\n  '})],e)}(),ne=function(){function e(e){this.model=e,this.isEnabled=!0,this.isChecked=!1,this.indeterminate=!1,this.action=new t.EventEmitter,this.over=!1}return e.prototype.ngOnInit=function(){},e.prototype.mouseover=function(){this.over=!0},e.prototype.mouseleave=function(){this.over=!1},e.prototype.click=function(){this.isEnabled&&(this.isChecked=!this.isChecked,this.action.emit(this.isChecked))},e.ctorParameters=function(){return[{type:g}]},a([t.Input()],e.prototype,"isEnabled",void 0),a([t.Input()],e.prototype,"isChecked",void 0),a([t.Input()],e.prototype,"indeterminate",void 0),a([t.Input()],e.prototype,"captionText",void 0),a([t.Input()],e.prototype,"tooltip",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"styleColors",void 0),a([t.Input()],e.prototype,"imageBlockParentWidth",void 0),a([t.Output()],e.prototype,"action",void 0),e=a([t.Component({selector:"sti-check-box",template:'\n    <table cellpadding="0" cellspacing="0"\n      [class]="isEnabled ? \'stiJsViewerCheckBox\' : \'stiJsViewerCheckBoxDisabled\'"\n      [style.fontFamily]="model.options.toolbar.fontFamily"\n      [style.color]="model.options.toolbar.fontColor"\n      [attr.title]="tooltip"\n      [style.margin]="margin"\n      [style.width]="width"\n      style="box-sizing:content-box"\n      (mouseover)="mouseover()"\n      (mouseleave)="mouseleave()"\n      (click)="click()">\n       <tbody>\n          <tr class="stiJsViewerClearAllStyles">\n             <td style="line-height: 0"\n                 [style.padding]="model.options.isTouchDevice ? \'1px 3px 1px 1px\' : \'\'"\n                 [style.width]="imageBlockParentWidth"\n                 class="stiJsViewerClearAllStyles">\n                <div [style.width.px]="model.options.isTouchDevice ? 16 : 13"\n                     [style.height.px]="model.options.isTouchDevice ? 16 : 13"\n                     [class]="isEnabled ? (over ? \'stiJsViewerCheckBoxImageBlockOver\' : \'stiJsViewerCheckBoxImageBlock\') : \'stiJsViewerCheckBoxImageBlockDisabled\'"\n                     style="box-sizing: content-box">\n                     <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%; height: 100%;">\n                        <tbody>\n                          <tr class="stiJsViewerClearAllStyles">\n                            <td [style.textAlign]="model.options.isTouchDevice ? \'center\' : \'right\'"\n                                [style.verticalAlign]="model.options.isTouchDevice ? \'middle\' : \'top\'">\n                                <img [src]="model.img((indeterminate ? \'CheckBoxIndeterminate\' : \'CheckBox\') + (styleColors && styleColors.isDarkStyle ? \'White.png\' : \'.png\'))"\n                                    [style.visibility]="isChecked ? \'visible\' : \'hidden\'"\n                                    [style.width.px]="indeterminate ? 13 : 12"\n                                    [style.height.px]="indeterminate ? 13 : 12"\n                                    [style.opacity]="isEnabled ? 1 : 0.5"\n                                    style="vertical-align: baseline"/>\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                </div>\n             </td>\n             <td *ngIf="captionText != null"\n                 [style.padding]="!model.options.isTouchDevice ? \'1px 0 0 4px\' : \'\'"\n                 style="white-space: nowrap">\n                 {{captionText}}\n             </td>\n          </tr>\n       </tbody>\n    </table>\n  '})],e)}(),se=function(){function e(){this.isEnabled=!0,this.isMenuParameter=!1,this.nullable=!1,this.action=new t.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.onAction=function(e){this.action.emit(e)},Object.defineProperty(e.prototype,"checked",{get:function(){return this.nullable?this.params.isNull:this.isMenuParameter?this.params.isChecked:"boolean"==typeof this.params.value&&this.params.value||"true"===this.params.value||"True"===this.params.value},enumerable:!0,configurable:!0}),a([t.Input()],e.prototype,"params",void 0),a([t.Input()],e.prototype,"captionText",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"imageBlockParentWidth",void 0),a([t.Input()],e.prototype,"isEnabled",void 0),a([t.Input()],e.prototype,"isMenuParameter",void 0),a([t.Input()],e.prototype,"nullable",void 0),a([t.Output()],e.prototype,"action",void 0),e=a([t.Component({selector:"sti-parameter-checkbox",template:'\n    <sti-check-box [isEnabled]="isEnabled"\n                   [isChecked]="checked"\n                   [captionText]="captionText"\n                   [margin]="margin"\n                   [width]="width"\n                   [imageBlockParentWidth]="imageBlockParentWidth"\n                   (action)="onAction($event)">\n    </sti-check-box>\n    '})],e)}(),re=function(){function e(e){this.model=e,this.action=new t.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.onaction=function(){this.action.emit(this.params)},e.ctorParameters=function(){return[{type:g}]},a([t.Input()],e.prototype,"params",void 0),a([t.Input()],e.prototype,"buttonType",void 0),a([t.Output()],e.prototype,"action",void 0),e=a([t.Component({selector:"sti-parameter-button",template:'\n    <sti-button [imageName]="buttonType + \'.png\'"\n        [styleName]="\'stiJsViewerFormButton\'"\n        [height]="model.options.isTouchDevice ? \'26px\' : \'21px\'"\n        [innerTableWidth]="\'100%\'"\n        [enabled]="!params?.isNull"\n        (action)="onaction()">\n    </sti-button>\n  '})],e)}(),ae=function(){function e(e,t,o){this.model=e,this.helper=t,this.menuService=o}return e.prototype.ngOnInit=function(){},e.prototype.newItem=function(e){var t=new d;"DateTime"===this.menu.params.type?(t.key=this.helper.getDateTimeObject(),t.value=this.helper.dateTimeObjectToString(t.key)):"TimeSpan"===this.menu.params.type?(t.key="00:00:00",t.value="00:00:00"):"Bool"===this.menu.params.type?(t.key="False",t.value="False"):(t.key="",t.value=""),t.focusOnCreate=!0,this.menu.params.items||(this.menu.params.items=[]),this.menu.params.items.push(t),setTimeout((function(){t.focusOnCreate=!1}))},e.prototype.dateTimeButtonAction=function(e){var t=this;this.menuService.addMenu({type:"datePickerMenu",name:"datePickerMenu",items:[],parent:this.dateTimeButton,params:e}),setTimeout((function(){t.menuService.showMenu("datePickerMenu")}))},e.prototype.guidButtonAction=function(e){e.key=this.helper.newGuid()},e.prototype.removeButtonAction=function(e){this.menu.params.items.splice(this.menu.params.items.indexOf(e),1)},e.prototype.removeAllAction=function(){this.menu.params.items.splice(0,this.menu.params.items.length)},e.prototype.closeAction=function(){this.menu.state="initialDown"},e.ctorParameters=function(){return[{type:g},{type:f},{type:S}]},a([t.ViewChild("dateTimeButton")],e.prototype,"dateTimeButton",void 0),a([t.Input()],e.prototype,"menu",void 0),e=a([t.Component({selector:"sti-parameter-menu-edit-list",template:'\n        <table class="stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable" cellpadding="0" cellspacing="0"\n        [style.fontFamily]="model.options.toolbar.fontFamily"\n        [style.color]="model.options.toolbar.fontColor"\n        [style.fontSize]="\'12px\'"\n        [style.width]="(menu.parent.nativeElement.offsetWidth - 5) + \'px\'">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles">\n                \x3c!--New Item Button --\x3e\n                <sti-parameter-menu-item (action)="newItem($event)">\n                  {{model.loc(\'NewItem\')}}\n                </sti-parameter-menu-item>\n              </td>\n            </tr>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles">\n                <sti-parameter-menu-item *ngFor="let item of menu.params.items" [active]="false">\n                  <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n                    <tbody>\n                      <tr class="stiJsViewerClearAllStyles">\n                         <td class="stiJsViewerClearAllStyles" style="padding: 0px 1px 0px 0px;">\n                            <sti-parameter-text-box [item]="item" [isMenu]="true"\n                              [variable]="menu.params" [focusOnCreate]="item.focusOnCreate">\n                            </sti-parameter-text-box>\n                         </td>\n\n                         <td *ngIf="menu.params.type == \'DateTime\'" class="stiJsViewerClearAllStyles" style="padding: 0 1px 0 1px;" #dateTimeButton>\n                           <sti-parameter-button [buttonType]="\'DateTimeButton\'" (action)="dateTimeButtonAction(item)">\n                           </sti-parameter-button>\n                         </td>\n\n                         <td *ngIf="menu.params.type == \'Guid\'" class="stiJsViewerClearAllStyles" style="padding: 0 1px 0 1px;">\n                           <sti-parameter-button [buttonType]="\'GuidButton\'" (action)="guidButtonAction(item)">\n                           </sti-parameter-button>\n                         </td>\n\n                         <td class="stiJsViewerClearAllStyles" style="padding: 0 1px 0 1px;">\n                           <sti-parameter-button [buttonType]="\'RemoveItemButton\'" (action)="removeButtonAction(item)" [params]="item">\n                           </sti-parameter-button>\n                         </td>\n                       </tr>\n                     </tbody>\n                  </table>\n                </sti-parameter-menu-item>\n              </td>\n            </tr>\n\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles">\n                  <sti-parameter-menu-item (action)="removeAllAction()">\n                      {{model.loc(\'RemoveAll\')}}\n                  </sti-parameter-menu-item>\n\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\n\n                  <sti-parameter-menu-item (action)="closeAction()">\n                      {{model.loc(\'Close\')}}\n                  </sti-parameter-menu-item>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n  '})],e)}(),le=function(){function e(e){this.model=e,this.action=new t.EventEmitter,this.active=!0,this.padding="0px 5px",this.isOver=!1,this.mouseDown=!1}return e.prototype.ngOnInit=function(){},e.prototype.mouseover=function(){this.isOver=!0},e.prototype.mouseout=function(){this.isOver=!1,this.mouseDown=!1},e.prototype.mousedown=function(){this.mouseDown=!0},e.prototype.mouseup=function(){this.mouseDown=!1,this.action.emit()},Object.defineProperty(e.prototype,"className",{get:function(){return this.active?this.mouseDown?"stiJsViewerParametersMenuItemPressed":this.isOver?"stiJsViewerParametersMenuItemOver":"stiJsViewerParametersMenuItem":"stiJsViewerParametersMenuItem"},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g}]},a([t.Output()],e.prototype,"action",void 0),a([t.Input()],e.prototype,"active",void 0),a([t.Input()],e.prototype,"padding",void 0),e=a([t.Component({selector:"sti-parameter-menu-item",template:'\n      <div [class]="className"\n        [style.height.px]="model.options.isTouchDevice ? 30 : 24"\n        (mouseover)="mouseover()"\n        (mouseout)="mouseout()"\n        (mousedown)="mousedown()"\n        (mouseup)="mouseup()">\n        <table class="stiJsViewerClearAllStyles stiJsViewerParametersMenuItemInnerTable" cellpadding="0" cellspacing="0">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles" [style.padding]="padding">\n                <ng-content>\n                </ng-content>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n      </div>\n  '})],e)}(),pe=function(){function e(){}return e.prototype.ngOnInit=function(){},e=a([t.Component({selector:"sti-parameter-menu-separator",template:'\n        <div class="stiJsViewerParametersMenuSeparator">\n        </div>\n  '})],e)}(),me=function(){function e(e,t){this.model=e,this.helper=t}return e.prototype.ngOnInit=function(){},e.prototype.onchange=function(e){var t=this,o=e.value.toLowerCase();this.variable.items.forEach((function(e){var i=t.helper.val(e.value,t.helper.getStringKey(e.key,t.variable)).toLowerCase();e.visible=i.indexOf(o)>=0}))},e.ctorParameters=function(){return[{type:g},{type:f}]},a([t.Input()],e.prototype,"variable",void 0),e=a([t.Component({selector:"sti-parameter-find",template:'\n      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles" style="padding-left: 8px;">\n                <sti-text-block [text]="model.loc(\'FindWhat\')"></sti-text-block>\n              </td>\n\n              <td class="stiJsViewerClearAllStyles" style="padding-left: 8px;">\n                <sti-text-box [width]="80"\n                  [margin]="\'4px\'"\n                  [focusOnCreate]="true"\n                  (onchange)="onchange($event)">\n                </sti-text-box>\n              </td>\n            </tr>\n          </tbody>\n      </table>\n\n  '})],e)}(),ce=function(){function e(e,t){this.model=e,this.helper=t}return e.prototype.ngOnInit=function(){},e.prototype.selectAll=function(){var e=this.isAllSelected();this.menu.params.items&&this.menu.params.items.forEach((function(t){return t.isChecked=!e}))},e.prototype.isAllSelected=function(){return this.menu.params.items.every((function(e){return e.isChecked}))},e.prototype.check=function(e){e.isChecked=!e.isChecked},e.prototype.closeAction=function(){this.menu.state="initialDown"},e.ctorParameters=function(){return[{type:g},{type:f}]},a([t.Input()],e.prototype,"menu",void 0),e=a([t.Component({selector:"sti-parameter-menu-not-edit-list",template:'\n      <sti-parameter-find *ngIf="menu.params.items.length > 10" [variable]="menu.params"></sti-parameter-find>\n\n      <sti-parameter-menu-separator *ngIf="menu.params.items.length > 10"></sti-parameter-menu-separator>\n\n      <div style="max-height: 400px; overflow: hidden auto;">\n        <table class="stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable" cellpadding="0" cellspacing="0"\n          [style.fontFamily]="model.options.toolbar.fontFamily"\n          [style.color]="model.options.toolbar.fontColor"\n          [style.fontSize]="\'12px\'"\n          [style.width]="(menu.parent.nativeElement.offsetWidth - 5) + \'px\'">\n            <tbody>\n              <tr class="stiJsViewerClearAllStyles">\n                <td class="stiJsViewerClearAllStyles">\n                  <sti-check-box [captionText]="model.loc(\'SelectAll\')"\n                    [margin]="\'8px 7px 8px 7px\'"\n                    [isChecked]="isAllSelected()"\n                    (action)="selectAll()" >\n                  </sti-check-box>\n                </td>\n              </tr>\n\n              <tr class="stiJsViewerClearAllStyles">\n                <td class="stiJsViewerClearAllStyles">\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\n                </td>\n              </tr>\n\n              <tr *ngFor="let item of menu.params.items" class="stiJsViewerClearAllStyles" [style.display]="item.visible ? \'\' : \'none\'">\n                <td class="stiJsViewerClearAllStyles">\n                  <sti-parameter-menu-item>\n                      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%">\n                          <tbody>\n                            <tr class="stiJsViewerClearAllStyles">\n                              <td class="stiJsViewerClearAllStyles">\n                                  <sti-parameter-checkbox [params]="item"\n                                      [captionText]="helper.val(item.value, helper.getStringKey(item.key, menu.params))"\n                                      [margin]="\'0 5px 0 0\'"\n                                      [width]="\'100%\'"\n                                      [imageBlockParentWidth]="\'1px\'"\n                                      [isMenuParameter]="true"\n                                      (action)="check(item)">\n                                  </sti-parameter-checkbox>\n                              </td>\n                            </tr>\n                          </tbody>\n                      </table>\n                  </sti-parameter-menu-item>\n                </td>\n              </tr>\n\n              <tr class="stiJsViewerClearAllStyles">\n                <td class="stiJsViewerClearAllStyles">\n                  <sti-parameter-menu-separator></sti-parameter-menu-separator>\n                </td>\n              </tr>\n\n              <tr class="stiJsViewerClearAllStyles">\n                <td class="stiJsViewerClearAllStyles">\n                    <sti-parameter-menu-item [padding]="\'0px 5px 0px 13px\'" (action)="closeAction()">\n                      {{model.loc(\'Close\')}}\n                    </sti-parameter-menu-item>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n  '})],e)}(),de=function(){function e(e,t,o){this.model=e,this.helper=t,this.intearctionService=o}return e.prototype.ngOnInit=function(){},e.prototype.action=function(e){this.menu.params.value=this.menu.params.key=e.key,this.menu.state="initialDown",this.menu.params.binding&&(this.model.options.paramsVariablesStartValues||(this.model.options.paramsVariablesStartValues=this.helper.copyObject(this.model.options.paramsVariables)),this.intearctionService.postInteraction({action:"InitVars",variables:this.intearctionService.getParametersValues()}))},e.prototype.getValue=function(e){return""!==e.value&&"DateTime"!==this.menu.params.type&&"TimeSpan"!==this.menu.params.type?e.value:this.helper.getStringKey(e.key,this.menu.params)},e.ctorParameters=function(){return[{type:g},{type:f},{type:R}]},a([t.Input()],e.prototype,"menu",void 0),e=a([t.Component({selector:"sti-parameter-menu-for-value",template:'\n      <sti-parameter-find *ngIf="menu.params.items.length > 10" [variable]="menu.params"></sti-parameter-find>\n\n      <sti-parameter-menu-separator *ngIf="menu.params.items.length > 10"></sti-parameter-menu-separator>\n\n      <div style="max-height: 400px" [style.overflow]="menu.params.items.length > 10 ? \'hidden auto\' : \'hidden\'">\n        <table class="stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable" cellpadding="0" cellspacing="0"\n          [style.fontFamily]="model.options.toolbar.fontFamily"\n          [style.color]="model.options.toolbar.fontColor"\n          [style.fontSize]="\'12px\'"\n          [style.width]="(menu.parent.nativeElement.offsetWidth - 5) + \'px\'">\n            <tbody>\n              <tr *ngFor="let item of menu.params.items" class="stiJsViewerClearAllStyles" [style.display]="item.visible ? \'\' : \'none\'">\n                <td class="stiJsViewerClearAllStyles">\n                  <sti-parameter-menu-item>\n                      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%">\n                          <tbody>\n                            <tr class="stiJsViewerClearAllStyles">\n                              <td class="stiJsViewerClearAllStyles">\n                                  <sti-parameter-menu-item (action)="action(item)">\n                                    {{getValue(item)}}\n                                  </sti-parameter-menu-item>\n                              </td>\n                            </tr>\n                          </tbody>\n                      </table>\n                  </sti-parameter-menu-item>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n  '})],e)}(),he=function(){function e(e,t){this.model=e,this.helper=t}return e.prototype.ngOnInit=function(){},e.prototype.action=function(e){this.menu.params.key=e.key,this.menu.params.keyTo=e.keyTo,this.menu.state="initialDown"},e.prototype.getValue=function(e){return e.value+" ["+this.helper.getStringKey(e.key,this.menu.params)+" - "+this.helper.getStringKey(e.keyTo,this.menu.params)+"]"},e.ctorParameters=function(){return[{type:g},{type:f}]},a([t.Input()],e.prototype,"menu",void 0),e=a([t.Component({selector:"sti-parameter-menu-for-range",template:'\n      <sti-parameter-find *ngIf="menu.params.items.length > 10" [variable]="menu.params"></sti-parameter-find>\n\n      <sti-parameter-menu-separator *ngIf="menu.params.items.length > 10"></sti-parameter-menu-separator>\n\n      <div style="max-height: 400px" [style.overflow]="menu.params.items.length > 10 ? \'hidden auto\' : \'hidden\'">\n        <table class="stiJsViewerClearAllStyles stiJsViewerParametersMenuInnerTable" cellpadding="0" cellspacing="0"\n          [style.fontFamily]="model.options.toolbar.fontFamily"\n          [style.color]="model.options.toolbar.fontColor"\n          [style.fontSize]="\'12px\'"\n          [style.width]="(menu.parent.nativeElement.offsetWidth - 5) + \'px\'">\n            <tbody>\n              <tr *ngFor="let item of menu.params.items" class="stiJsViewerClearAllStyles" [style.display]="item.visible ? \'\' : \'none\'">\n                <td class="stiJsViewerClearAllStyles">\n                  <sti-parameter-menu-item>\n                      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%">\n                          <tbody>\n                            <tr class="stiJsViewerClearAllStyles">\n                              <td class="stiJsViewerClearAllStyles">\n                                  <sti-parameter-menu-item (action)="action(item)">\n                                    {{getValue(item)}}\n                                  </sti-parameter-menu-item>\n                              </td>\n                            </tr>\n                          </tbody>\n                      </table>\n                  </sti-parameter-menu-item>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n  '})],e)}(),ue=function(){function e(e,t){var o=this;this.model=e,this.helper=t,this.keyTo=!1,this.closeOnAction=!0,this.monthesForDatePickerItems=[],this.cols=[0,1,2,3,4,5,6],this.rows=[0,1,2,3,4,5],this.model.months.forEach((function(e,t){return o.monthesForDatePickerItems.push({name:"Month"+t,caption:o.model.loc("Month"+e),key:t})}));var i={};this.model.dayOfWeek.forEach((function(e){var t=o.model.loc("Day"+e);i[t.toString().substring(0,1).toUpperCase()]=!0})),this.countLetters=Object.keys(i).length<5?2:1}return e.prototype.ngOnInit=function(){},e.prototype.getButtonSelected=function(e,t){return 7*t+e-this.getFirstDay()+1===this.key.day},e.prototype.getButtonCaption=function(e,t){var o=this.getFirstDay(),i=this.helper.getCountDaysOfMonth(this.key.year,this.key.month-1),n=7*t+e,s=n-o+1;return n>=o&&s<=i?s.toString():""},e.prototype.getTime=function(){return this.helper.formatDate(this.helper.getDate(this.key),"H:mm:ss")},e.prototype.getFirstDay=function(){var e=new Date(this.key.year,this.key.month-1,1).getDay();return 0===e&&(e=7),"Sunday"!==this.model.options.appearance.datePickerFirstDayOfWeek&&e--,e},Object.defineProperty(e.prototype,"showTime",{get:function(){var e,t;return"Date"!==(null===(t=null===(e=this.menu)||void 0===e?void 0:e.params)||void 0===t?void 0:t.dateTimeType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.keyTo?this.menu.params.keyTo:this.menu.params.key},enumerable:!0,configurable:!0}),e.prototype.yearAction=function(e){try{this.key.year=parseInt(e.value,10)}catch(e){}},e.prototype.timeAction=function(e){var t=this.helper.stringToTime(e.value);this.key.seconds=t.seconds,this.key.minutes=t.minutes,this.key.hours=t.hours},e.prototype.getShortDayName=function(e){var t=this.model.loc("Day"+this.model.dayOfWeek[e]);return t?t.toString().substring(0,this.countLetters<=t.length?this.countLetters:1).toUpperCase():""},e.prototype.getShortDayColor=function(e){return e===("Sunday"===this.model.options.appearance.datePickerFirstDayOfWeek?6:5)?"#0000ff":e===("Sunday"===this.model.options.appearance.datePickerFirstDayOfWeek?0:6)?"#ff0000":""},e.prototype.prevMonthButtonAction=function(){var e=this.key.month,t=this.key.year;0===--e&&(e=12,t--);var o=this.helper.getCountDaysOfMonth(t,e-1);o<this.key.day&&(this.key.day=o),this.key.month=e,this.key.year=t},e.prototype.nextMonthButtonAction=function(){var e=this.key.month,t=this.key.year;13===++e&&(e=1,t++);var o=this.helper.getCountDaysOfMonth(t,e-1);o<this.key.day&&(this.key.day=o),this.key.month=e,this.key.year=t},e.ctorParameters=function(){return[{type:g},{type:f}]},a([t.Input()],e.prototype,"menu",void 0),a([t.Input()],e.prototype,"keyTo",void 0),a([t.Input()],e.prototype,"closeOnAction",void 0),e=a([t.Component({selector:"sti-date-picker-menu",template:'\n        <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles">\n                <sti-button [imageName]="\'Arrows.BigArrowLeft.png\'" [margin]="\'1px 2px 0 1px\'" (action)="prevMonthButtonAction()">\n                </sti-button>\n              </td>\n\n              <td class="stiJsViewerClearAllStyles">\n                <sti-drop-down-list\n                  [width]="model.options.isTouchDevice ? 79 : 81"\n                  [readOnly]="true"\n                  [margin]="\'1px 2px 0 0\'"\n                  [items]="monthesForDatePickerItems"\n                  [key]="key.month - 1"\n                  (action)="key.month = $event.key + 1">\n                </sti-drop-down-list>\n              </td>\n\n              <td class="stiJsViewerClearAllStyles">\n                <sti-text-box [width]="40" [margin]="\'1px 2px 0 0\'" [value]="key.year" (action)="yearAction($event)">\n                </sti-text-box>\n              </td>\n\n              <td class="stiJsViewerClearAllStyles">\n                <sti-button [imageName]="\'Arrows.BigArrowRight.png\'" [margin]="\'1px 1px 0 0\'" (action)="nextMonthButtonAction()">\n                </sti-button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div class="stiJsViewerDatePickerSeparator" style="margin: 2px 0px;"></div>\n\n        <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td *ngFor="let item of model.dayOfWeek; let i = index" class="stiJsViewerDatePickerDayOfWeekCell"\n                  [style.fontSize]="countLetters == 2 ? \'11px\' : \'\'"\n                  [style.color]="getShortDayColor(i)">\n                  {{getShortDayName(i)}}\n              </td>\n            </tr>\n            <tr *ngFor="let row of rows" class="stiJsViewerClearAllStyles">\n                <td *ngFor="let col of cols" class="stiJsViewerClearAllStyles">\n                  <sti-date-picker-day-button\n                      [col]="col"\n                      [row]="row"\n                      [date]="key"\n                      [selected]="getButtonSelected(col, row)"\n                      [caption]="getButtonCaption(col, row)"\n                      [enabled]="getButtonCaption(col, row) != \'\'">\n                      [closeOnAction]="closeOnAction"\n                  </sti-date-picker-day-button>\n                </td>\n            </tr>\n          </tbody>\n        </table>\n\n        <div *ngIf="showTime" class="stiJsViewerDatePickerSeparator" style="margin: 2px 0px;"></div>\n        <table *ngIf="showTime" class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width:100%">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles" style="padding: 0 4px 0 4px; white-space: nowrap;">\n                {{this.model.loc(\'Time\') + \':\'}}\n              </td>\n\n              <td class="stiJsViewerClearAllStyles" style="text-align: right;">\n                <sti-text-box [width]="90"\n                    [margin]="\'1px 2px 2px 2px\'"\n                    [value]="getTime()"\n                    (action)="timeAction($event)">\n                </sti-text-box>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n  '})],e)}(),ge=function(){function e(e,o,i){var n=this;this.model=e,this.mouseService=o,this.menuService=i,this.showImage=!1,this.action=new t.EventEmitter,this.over=!1,this._readOnly=!1,this._enabled=!0,this.mouseService.getDocumentMouseUp().subscribe((function(){n.hideListMenu()}))}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"readOnly",{get:function(){return this._readOnly},set:function(e){var t=this;this._readOnly=e,setTimeout((function(){try{t.input.nativeElement.setAttribute("unselectable",e?"on":"off"),t.input.nativeElement.setAttribute("onselectstart",e?"return false":""),t.input.nativeElement.readOnly=e}catch(e){}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){e||(this.over=!1),this._enabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(e){null!=this.items&&this.items.forEach((function(t){return t.selected=t.key===e})),this._key=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputValue",{get:function(){var e,t=this;return null!=this.items&&(null===(e=this.items.find((function(e){return e.key===t._key})))||void 0===e?void 0:e.caption)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){var e,t,o=this.menuService.getVerticalMenu();return"expanded"===(null===(e=o)||void 0===e?void 0:e.state)&&(null===(t=o)||void 0===t?void 0:t.parent)===this.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this.selected?"stiJsViewerDropDownListOver":this.enabled?this.over?"stiJsViewerDropDownListOver":"stiJsViewerDropDownList":"stiJsViewerDropDownListDisabled"},enumerable:!0,configurable:!0}),e.prototype.mouseover=function(){this.enabled&&(this.over=!0)},e.prototype.mouseout=function(){this.enabled&&(this.over=!1)},e.prototype.inputClick=function(){this.readOnly&&this.showListMenu()},e.prototype.showListMenu=function(){var e=this;this.menuService.addMenu({type:this.menuService.VERTICAL_MENU_NAME,name:this.menuService.VERTICAL_MENU_NAME,items:[],parent:this.element,verticalItems:this.items,itemStyleName:"stiJsViewerMenuStandartItem",menuStyleName:"stiJsViewerDropdownMenu",action:this.action,width:this.element.nativeElement.offsetWidth}),setTimeout((function(){e.menuService.showMenu(e.menuService.VERTICAL_MENU_NAME)}))},e.prototype.hideListMenu=function(){this.menuService.getVerticalMenu()&&(this.menuService.getVerticalMenu().state="initialDown")},e.ctorParameters=function(){return[{type:g},{type:w},{type:S}]},a([t.ViewChild("input")],e.prototype,"input",void 0),a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.Input()],e.prototype,"toolTip",void 0),a([t.Input()],e.prototype,"showImage",void 0),a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Input()],e.prototype,"items",void 0),a([t.Input()],e.prototype,"styleDisplay",void 0),a([t.Input()],e.prototype,"verticalAlign",void 0),a([t.Output()],e.prototype,"action",void 0),a([t.Input()],e.prototype,"readOnly",null),a([t.Input()],e.prototype,"enabled",null),a([t.Input()],e.prototype,"key",null),e=a([t.Component({selector:"sti-drop-down-list",template:'\n        <table #element [class]="className" cellpadding="0" cellspacing="0"\n              [style.fontFamily]="model.options.toolbar.fontFamily"\n              [style.color]="model.options.toolbar.fontColor"\n              [style.margin]="margin"\n              [style.verticalAlign]="verticalAlign"\n              [style.display]="styleDisplay"\n              [attr.title]="toolTip"\n              (mouseover)="mouseover()"\n              (mouseout)="mouseout()">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles">\n                <input #input\n                [style.width.px]="width - (model.options.isTouchDevice ? 23 : 15) - (showImage ? 38 : 0)"\n                [style.border]="0"\n                [style.cursor]="readOnly ? \'default\' : \'text\'"\n                [style.fontFamily]="model.options.toolbar.fontFamily"\n                [style.color]="model.options.toolbar.fontColor"\n                [style.height]="model.options.isTouchDevice ? \'23px\' : \'18px\'"\n                [style.lineHeight]="model.options.isTouchDevice ? \'23px\' : \'18px\'"\n                [style.visibility]="enabled ? \'visible\' : \'hidden\'"\n                [value]="inputValue"\n                (click)="inputClick()"\n                class="stiJsViewerDropDownList_TextBox">\n              </td>\n\n              <td class="stiJsViewerClearAllStyles">\n                  <sti-button [imageName]="\'Arrows.\' + (model.options.isTouchDevice ? \'Big\' : \'Small\') + \'ArrowDown.png\'"\n                     [styleName]="\'stiJsViewerDropDownListButton\'"\n                     [imageSizesWidth]="model.options.isTouchDevice ? 16 : 8"\n                     [imageSizesHeight]="model.options.isTouchDevice ? 16 : 8"\n                     [height]="model.options.isTouchDevice ? \'26px\' : \'21px\'"\n                     [enabled]="enabled"\n                     [selected]="selected"\n                     [margin]="\'0\'"\n                     (action)="showListMenu()">\n                  </sti-button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n  '})],e)}(),ye=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.action=function(e){var t,o;null===(o=null===(t=this.menu)||void 0===t?void 0:t.action)||void 0===o||o.emit(e)},a([t.Input()],e.prototype,"menu",void 0),e=a([t.Component({selector:"sti-vertical-menu",template:'\n    <sti-vertical-menu-item *ngFor="let item of menu.verticalItems" [item]="item" [styleName]="menu.itemStyleName" (action)="action(item)">\n    </sti-vertical-menu-item>\n  '})],e)}(),fe=function(){function e(e,o){this.model=e,this.menuService=o,this.styleName="stiJsViewerMenuStandartItem",this.action=new t.EventEmitter,this.over=!1,this._enabled=!0}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){e||(this.over=!1),this._enabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){var e;return this.styleName?this.styleName+" "+(this.enabled?this.styleName+(this.over?"Over":(null===(e=this.item)||void 0===e?void 0:e.selected)?"Selected":"Default"):this.styleName+"Disabled"):""},enumerable:!0,configurable:!0}),e.prototype.mouseover=function(){this.enabled&&(this.over=!0)},e.prototype.mouseout=function(){this.enabled&&(this.over=!1)},e.prototype.click=function(){this._enabled&&this.action.emit(this.item)},Object.defineProperty(e.prototype,"isSmallItem",{get:function(){return this.styleName&&this.styleName.indexOf("MenuStandartItem")>=0},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:S}]},a([t.Input()],e.prototype,"styleName",void 0),a([t.Input()],e.prototype,"item",void 0),a([t.Input()],e.prototype,"imageSizesWidth",void 0),a([t.Input()],e.prototype,"imageSizesHeight",void 0),a([t.Output()],e.prototype,"action",void 0),a([t.Input()],e.prototype,"enabled",null),e=a([t.Component({selector:"sti-vertical-menu-item",template:'\n    <div [style.height]="item?.type == \'DigitalSignature\' ? \'auto\' :(model.options.isMobileDevice ? \'0.4in\' : (model.options.isTouchDevice ? \'30px\' : \'24px\'))"\n         [class]="className"\n         [style.width]="item?.type == \'DigitalSignature\' ? \'100%\' :  menuService.getVerticalMenu().width + \'px\'"\n         [style.lineHeight]="item?.type == \'DigitalSignature\' ? 1.3 : null"\n         (mouseover)="mouseover()"\n         (mouseout)="mouseout()"\n         (click)="click()">\n         <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="height: 100%; width: 100%">\n            <tbody>\n              <tr class="stiJsViewerClearAllStyles">\n                 <td *ngIf="item?.imageName != null && !model.options.appearance.rightToLeft"\n                     style="width:22px; min-width = 22px; padding: 0; textAlign: center; lineHeight: 0"\n                     class="stiJsViewerClearAllStyles">\n                     <img [style.width.px]="(imageSizesWidth ? imageSizesWidth : (isSmallItem ? 16 : 32))"\n                          [style.height.px]="(imageSizesHeight ? imageSizesHeight : (isSmallItem ? 16 : 32))"\n                          [src]="model.img(item?.imageName)"\n                          [style.visible]="model.img(item?.imageName) === \'\' ? \'none\' : \'\'" />\n                </td>\n\n                <td *ngIf="item?.caption != null && !model.options.appearance.rightToLeft && item?.type != \'DigitalSignature\'"\n                     style="padding: 0px 20px 0px 7px; text-align: left; white-space: nowrap;"\n                     [style.fontSize]="model.options.isMobileDevice ? \'0.16in\' : \'\'"\n                     class="stiJsViewerClearAllStyles">\n                     {{item?.caption}}\n                </td>\n\n                <td *ngIf="item?.caption != null && !model.options.appearance.rightToLeft && item?.type == \'DigitalSignature\'"\n                     style="padding: 8px 20px 8px 8px ; text-align: left; white-space: nowrap;"\n                     [style.fontSize]="model.options.isMobileDevice ? \'0.16in\' : \'\'"\n                     class="stiJsViewerClearAllStyles" [innerHtml]="item?.caption">\n                </td>\n\n                \x3c!-- right-to-left --\x3e\n                <td *ngIf="item?.caption != null && model.options.appearance.rightToLeft && item?.type == \'DigitalSignature\'"\n                     style="padding: 8px 20px 8px 8px; text-align: right; white-space: nowrap;"\n                     [style.fontSize]="model.options.isMobileDevice ? \'0.16in\' : \'\'"\n                     class="stiJsViewerClearAllStyles" [innerHtml]="item?.caption">\n                </td>\n\n                <td *ngIf="item?.caption != null && model.options.appearance.rightToLeft && item?.type != \'DigitalSignature\'"\n                     style="padding: 0 7px 0 20px; text-align: right; white-space: nowrap;"\n                     [style.fontSize]="model.options.isMobileDevice ? \'0.16in\' : \'\'"\n                     class="stiJsViewerClearAllStyles">\n                     {{item?.caption}}\n                </td>\n\n                <td *ngIf="item?.imageName != null && model.options.appearance.rightToLeft"\n                     style="width:22px; min-width = 22px; padding: 0; textAlign: center; lineHeight: 0"\n                     class="stiJsViewerClearAllStyles">\n                     <img [style.width.px]="(imageSizesWidth ? imageSizesWidth : (isSmallItem ? 16 : 32))"\n                          [style.height.px]="(imageSizesHeight ? imageSizesHeight : (isSmallItem ? 16 : 32))"\n                          [src]="model.img(item?.imageName)"\n                          [style.visible]="model.img(item?.imageName) === \'\' ? \'none\' : \'\'" />\n                </td>\n              </tr>\n            </tbody>\n          </table>\n    </div>\n  '})],e)}(),be=function(){function e(e,t,o){this.model=e,this.helper=t,this.menuService=o,this.caption="",this.enabled=!1,this.selected=!1,this.closeOnAction=!0}return e.prototype.action=function(){this.date.day=7*this.row+this.col-this.getFirstDay()+1,this.closeOnAction&&null!=this.menuService.getMenu("datePickerMenu")&&(this.menuService.getMenu("datePickerMenu").state="initialUp")},e.prototype.getFirstDay=function(){var e=new Date(this.date.year,this.date.month-1,1).getDay();return 0===e&&(e=7),"Sunday"!==this.model.options.appearance.datePickerFirstDayOfWeek&&e--,e},e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g},{type:f},{type:S}]},a([t.Input()],e.prototype,"col",void 0),a([t.Input()],e.prototype,"row",void 0),a([t.Input()],e.prototype,"caption",void 0),a([t.Input()],e.prototype,"enabled",void 0),a([t.Input()],e.prototype,"selected",void 0),a([t.Input()],e.prototype,"date",void 0),a([t.Input()],e.prototype,"closeOnAction",void 0),e=a([t.Component({selector:"sti-date-picker-day-button",template:'\n    <sti-button [styleName]="\'stiJsViewerDatePickerDayButton\'"\n                [width]="model.options.isTouchDevice ? \'25px\' : \'23px\'"\n                [height]="model.options.isTouchDevice ? \'25px\' : \'23px\'"\n                [captionAlign]="\'center\'"\n                [innerTableWidth]="\'100%\'"\n                [captionPadding]="\'0px\'"\n                [margin]="\'1px\'"\n                [caption]="caption"\n                [enabled]="enabled"\n                [selected]="selected"\n                (action)="action()">\n    </sti-button>\n  '})],e)}(),ve=function(){function e(e,t){this.model=e,this.helper=t}return e.prototype.ngOnInit=function(){},Object.defineProperty(e.prototype,"showTime",{get:function(){var e,t;return"Date"!==(null===(t=null===(e=this.menu)||void 0===e?void 0:e.params)||void 0===t?void 0:t.dateTimeType)},enumerable:!0,configurable:!0}),e.prototype.setTimeInterval=function(e,t){e.setHours(0),e.setMinutes(0),e.setSeconds(0),t.setHours(23),t.setMinutes(59),t.setSeconds(59)},e.prototype.getFirstDayOfWeek=function(){var e=(new Date).toLocaleTimeString();return e.toLowerCase().indexOf("am")>=0||e.toLowerCase().indexOf("pm")>=0?0:1},e.prototype.getWeekInterval=function(e){var t=0===this.getFirstDayOfWeek()?e.getDay():e.getDay()-1;t<0&&(t=6);var o=[new Date(e.valueOf()-864e5*t)];return o.push(new Date(o[0].valueOf()+5184e5)),this.setTimeInterval(o[0],o[1]),o},e.prototype.getValuesByDateRangeName=function(e){var t=new Date,o=[new Date,new Date];switch(e){case"CurrentMonth":o[0].setDate(1),o[1].setDate(this.helper.getCountDaysOfMonth(t.getFullYear(),t.getMonth()));break;case"CurrentQuarter":var i=3*parseInt((t.getMonth()/3).toString(),10);o[0]=new Date(t.getFullYear(),i,1),o[1]=new Date(t.getFullYear(),i+2,this.helper.getCountDaysOfMonth(t.getFullYear(),i+2));break;case"CurrentWeek":o=this.getWeekInterval(t);break;case"CurrentYear":o[0]=new Date(t.getFullYear(),0,1),o[1]=new Date(t.getFullYear(),11,31);break;case"NextMonth":var n=t.getMonth()+1,s=t.getFullYear();n>11&&(n=0,s++),o[0]=new Date(s,n,1),o[1]=new Date(s,n,this.helper.getCountDaysOfMonth(s,n));break;case"NextQuarter":s=t.getFullYear();(i=3*parseInt((t.getMonth()/3).toString(),10)+3)>11&&(i=0,s++),o[0]=new Date(s,i,1),o[1]=new Date(s,i+2,this.helper.getCountDaysOfMonth(s,i+2));break;case"NextWeek":(o=this.getWeekInterval(t))[0]=new Date(o[0].valueOf()+6048e5),o[1]=new Date(o[1].valueOf()+6048e5);break;case"NextYear":o[0]=new Date(t.getFullYear()+1,0,1),o[1]=new Date(t.getFullYear()+1,11,31);break;case"PreviousMonth":n=t.getMonth()-1,s=t.getFullYear();n<0&&(n=11,s--),o[0]=new Date(s,n,1),o[1]=new Date(s,n,this.helper.getCountDaysOfMonth(s,n));break;case"PreviousQuarter":s=t.getFullYear();(i=3*parseInt((t.getMonth()/3).toString(),10)-3)<0&&(i=9,s--),o[0]=new Date(s,i,1),o[1]=new Date(s,i+2,this.helper.getCountDaysOfMonth(s,i+2));break;case"PreviousWeek":(o=this.getWeekInterval(t))[0]=new Date(o[0].valueOf()-6048e5),o[1]=new Date(o[1].valueOf()-6048e5);break;case"PreviousYear":o[0]=new Date(t.getFullYear()-1,0,1),o[1]=new Date(t.getFullYear()-1,11,31);break;case"FirstQuarter":o[0]=new Date(t.getFullYear(),0,1),o[1]=new Date(t.getFullYear(),2,this.helper.getCountDaysOfMonth(t.getFullYear(),2));break;case"SecondQuarter":o[0]=new Date(t.getFullYear(),3,1),o[1]=new Date(t.getFullYear(),5,this.helper.getCountDaysOfMonth(t.getFullYear(),5));break;case"ThirdQuarter":o[0]=new Date(t.getFullYear(),6,1),o[1]=new Date(t.getFullYear(),8,this.helper.getCountDaysOfMonth(t.getFullYear(),8));break;case"FourthQuarter":o[0]=new Date(t.getFullYear(),9,1),o[1]=new Date(t.getFullYear(),11,this.helper.getCountDaysOfMonth(t.getFullYear(),11));break;case"MonthToDate":o[0].setDate(1);break;case"QuarterToDate":i=3*parseInt((t.getMonth()/3).toString(),10);o[0].setDate(1),o[0].setMonth(i);break;case"WeekToDate":var r=this.getWeekInterval(t);o[0]=r[0];break;case"YearToDate":o[0].setDate(1),o[0].setMonth(0);break;case"Today":break;case"Tomorrow":o[0]=new Date(o[0].valueOf()+864e5),o[1]=new Date(o[1].valueOf()+864e5);break;case"Yesterday":o[0]=new Date(o[0].valueOf()-864e5),o[1]=new Date(o[1].valueOf()-864e5);break;case"Last7Days":this.model.options.appearance.datePickerIncludeCurrentDayForRanges?o[0]=new Date(o[0].valueOf()-5184e5):o[0]=new Date(o[0].valueOf()-6048e5);break;case"Last14Days":this.model.options.appearance.datePickerIncludeCurrentDayForRanges?o[0]=new Date(o[0].valueOf()-11232e5):o[0]=new Date(o[0].valueOf()-12096e5);break;case"Last30Days":this.model.options.appearance.datePickerIncludeCurrentDayForRanges?o[0]=new Date(o[0].valueOf()-25056e5):o[0]=new Date(o[0].valueOf()-2592e6)}this.setTimeInterval(o[0],o[1]),this.menu.params.key=this.helper.getDateTimeObject(o[0]),this.menu.params.keyTo=this.helper.getDateTimeObject(o[1])},e.ctorParameters=function(){return[{type:g},{type:f}]},a([t.Input()],e.prototype,"menu",void 0),e=a([t.Component({selector:"sti-double-date-picker-menu",template:'\n      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="margin: 4px; border: 1px dotted rgb(198, 198, 198);">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles" style="vertical-align: top;">\n                  <div style="margin:4px">\n                    <sti-date-picker-menu [menu]="menu" [closeOnAction]="false">\n                    </sti-date-picker-menu>\n                  </div>\n              </td>\n\n              <td class="stiJsViewerClearAllStyles" style="border-left: 1px dotted rgb(198, 198, 198); vertical-align: top;">\n                  <div style="margin:4px">\n                    <sti-date-picker-menu [menu]="menu" [keyTo]="true" [closeOnAction]="false">\n                    </sti-date-picker-menu>\n                  </div>\n              </td>\n\n              <td class="stiJsViewerClearAllStyles" style="border-left: 1px dotted rgb(198, 198, 198); vertical-align: top;">\n                <div style="width: 150px; overflow: auto; margin: 4px;" [style.height.px]="showTime ? 250 : 220">\n                    <ng-container *ngFor="let item of model.dateRanges">\n                        <sti-button [caption]="model.loc(item)" (action)="getValuesByDateRangeName(item)">\n                        </sti-button>\n\n                        <div *ngIf="item==\'Yesterday\' || item==\'PreviousWeek\' || item==\'PreviousMonth\' || item==\'PreviousQuarter\' || item==\'PreviousYear\' || item==\'FourthQuarter\' || item==\'Last30Days\'"\n                            class="stiJsViewerVerticalMenuSeparator" style="margin:2px"></div>\n                    </ng-container>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n      </table>\n  '})],e)}(),xe=function(){function e(e,o,i){this.model=e,this.helper=o,this.formService=i,this.changeVisibility=new t.EventEmitter,this.action=new t.EventEmitter,this.level=1,this.showCancel=!0,this.showButtons=!0,this.showSeparator=!0,this.display="none"}return e.prototype.ngOnInit=function(){},e.prototype.startAnimation=function(e){"visible"===e.toState&&(this.display="",null!=this.defaultTop&&this.formService.centerForm(this,this.defaultTop))},e.prototype.doneAnimation=function(e){"hidden"===e.toState&&(this.display="none"),this.changeVisibility.emit(e.toState)},e.ctorParameters=function(){return[{type:g},{type:f},{type:P}]},a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.Output()],e.prototype,"changeVisibility",void 0),a([t.Output()],e.prototype,"action",void 0),a([t.Input()],e.prototype,"level",void 0),a([t.Input()],e.prototype,"caption",void 0),a([t.Input()],e.prototype,"helpUrl",void 0),a([t.Input()],e.prototype,"fontFamily",void 0),a([t.Input()],e.prototype,"color",void 0),a([t.Input()],e.prototype,"fontSize",void 0),a([t.Input()],e.prototype,"containerPadding",void 0),a([t.Input()],e.prototype,"name",void 0),a([t.Input()],e.prototype,"defaultTop",void 0),a([t.Input()],e.prototype,"showCancel",void 0),a([t.Input()],e.prototype,"showButtons",void 0),a([t.Input()],e.prototype,"showSeparator",void 0),e=a([t.Component({selector:"sti-base-form",template:'\n    <div #element class="stiJsViewerForm"\n      [style.zIndex]="level * 10 + 1"\n      [@.disabled]="!model.options.toolbar.menuAnimation"\n      [style.fontFamily]="fontFamily"\n      [style.color]="color"\n      [style.fontSize]="fontSize"\n      [style.left.px]="formService.form?.left"\n      [style.top.px]="formService.form?.top"\n      [style.display]="display"\n      [@showForm]="formService.form?.name == name ? \'visible\' : \'hidden\'"\n      (@showForm.start)="startAnimation($event)"\n      (@showForm.done)="doneAnimation($event)">\n      <div class="stiJsViewerFormHeader"\n        (mousedown)="formService.startMove(name, $event)"\n        (touchstart)="formService.startMove(name, null, $event)"\n        (touchmove)="formService.move($event)"\n        (touchend)="formService.stopMove()">\n        <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%;">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles" style="text-align: left; padding: 5px 10px 8px 15px;">\n                {{caption}}\n              </td>\n              <td *ngIf="helpUrl != null && model.options.appearance.showDialogsHelp" class="stiJsViewerClearAllStyles" style="width: 20px; text-align: right; padding: 2px 0px 1px 0px; vertical-align: top;">\n                <sti-button [imageMargin]="\'0 2px 0 2px\'" [display]="\'inline-block\'" (action)="helper.showHelpWindow(helpUrl)">\n                </sti-button>\n              </td>\n              <td class="stiJsViewerClearAllStyles" style="vertical-align: top; width: 30px; text-align: right; padding: 2px 1px 1px;">\n                <sti-button [imageMargin]="\'0 2px 0 2px\'" [display]="\'inline-block\'" [imageName]="\'CloseForm.png\'" (action)="formService.closeForm(name)">\n                </sti-button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <div class="stiJsViewerFormContainer" [style.padding]="containerPadding">\n        <ng-content>\n        </ng-content>\n      </div>\n\n      <div *ngIf="showSeparator" class="stiJsViewerFormSeparator"></div>\n\n      <div *ngIf="showButtons" class="stiJsViewerFormButtonsPanel">\n        <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n          <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerClearAllStyles" style="padding: 8px;">\n                <sti-form-button [caption]="model.loc(\'ButtonOk\')" (action)="action.emit()">\n                </sti-form-button>\n              </td>\n              <td *ngIf="showCancel" class="stiJsViewerClearAllStyles" style="padding: 8px 8px 8px 0px;">\n                <sti-form-button [caption]="model.loc(\'ButtonCancel\')" (action)="formService.closeForm(name)">\n                </sti-form-button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n    </div>\n  ',animations:[r.trigger("showForm",[r.state("hidden",r.style({opacity:"0"})),r.state("visible",r.style({opacity:"1"})),r.transition("hidden => visible",[r.animate("200ms ease-in-out")])])]})],e)}(),we=function(){function e(e,t,o,i,n,s,r){this.model=e,this.exportService=t,this.helper=o,this.formService=i,this.menuService=n,this.collections=s,this.controller=r,this.PROPERTY_ALIAS={ImageFormatForHtml:"ImageFormat",EncodingTextOrCsvFile:"Encoding",ExportModeRtf:"ExportMode",EncodingDifFile:"Encoding",EncodingDbfFile:"CodePage"},this.formVisible=!1,this.disabledComponents={}}return e.prototype.ngOnChanges=function(e){var t,o,i=this;this.baseForm&&(null===(o=null===(t=this.formService)||void 0===t?void 0:t.form)||void 0===o?void 0:o.name)===this.baseForm.name&&setTimeout((function(){return i.updateDisabledComponents()}))},e.prototype.ngOnInit=function(){},e.prototype.action=function(){this.formService.closeForm(this.baseForm.name),this.model.options.exports.storeExportSettings&&this.helper.setCookie("StimulsoftWebViewerExportSettings"+this.exportService.getCommonExportFormat(),JSON.stringify(this.exportService.exportSettings)),this.exportService.postExport()},e.prototype.updateDisabledComponents=function(){var e,t=this;if(["StandardPdfFonts","EmbeddedFonts","UseUnicode"].forEach((function(e){return t.disabledComponents[e]=!0===t.exportService.exportSettings.PdfACompliance})),this.disabledComponents.ImageQuality=this.exportService.exportSettings.ImageCompressionMethod&&"Jpeg"!==this.exportService.exportSettings.ImageCompressionMethod,this.disabledComponents.ExportObjectFormatting="AllBands"===this.exportService.exportSettings.DataExportMode,this.disabledComponents.UseOnePageHeaderAndFooter="AllBands"!=this.exportService.exportSettings.DataExportMode,this.disabledComponents.EncodingDifFile=this.exportService.exportSettings.UseDefaultSystemEncoding,this.disabledComponents.TiffCompressionScheme="Tiff"!==this.exportService.exportSettings.ImageType,this.disabledComponents.UseDigitalSignature=!(this.exportService.exportSettings.UseDigitalSignature&&(null===(e=this.model.pdfSecurityCertificates)||void 0===e?void 0:e.length)>0),this.disabledComponents.RemoveEmptySpaceAtBottom=this.exportService.exportSettings.UsePageHeadersAndFooters,null!=this.exportService.exportSettings.ImageType){var o=this.exportService.exportFormSettings.components.find((function(e){return"ImageFormat"===e.name}));null!=o&&(o.items=this.collections.getImageFormatItems("Emf"===this.exportService.exportSettings.ImageType))}this.disabledComponents.DitheringType="Monochrome"!==this.exportService.exportSettings.ImageFormat,this.saveReportMdc&&this.saveReportMdc.click(),this.pagesRangeAll&&!this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled&&this.pagesRangeAll.click(),this.pageRangeCurrentPage&&this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled&&this.pageRangeCurrentPage.click(),!0===this.exportService.exportSettings.CompressToArchive&&(this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled=!1),!1===this.exportService.exportSettings.CompressToArchive&&(this.exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled=!0)},e.prototype.componentAction=function(e,t){var o=this.PROPERTY_ALIAS[e.name]||e.name;switch(o){case"EmbeddedFonts":case"UseUnicode":t&&(this.exportService.exportSettings.StandardPdfFonts=!1);break;case"StandardPdfFonts":t&&(this.exportService.exportSettings.EmbeddedFonts=!1,this.exportService.exportSettings.UseUnicode=!1);break;case"ImageType":this.exportService.export("Image"+t,!0);break;case"DataType":case"HtmlType":this.exportService.export(t,!0);break;case"ExcelType":var i="ExcelBinary"===t?"Excel":t;this.exportService.export(i,!0);break;case"UseDigitalSignature":!0!==t&&!1!==t&&(o="CertificateThumbprint"),!0===t&&0==this.collections.getPdfSecurityCertificatesItems().length&&(t=!1,this.controller.showError("Warning","Certificate Not Found!"));break;case"UsePageHeadersAndFooters":!0===t&&(this.exportService.exportSettings.RemoveEmptySpaceAtBottom=!0)}this.exportService.exportSettings[o]=t,this.updateDisabledComponents()},e.prototype.getValue=function(e,t){var o=this.PROPERTY_ALIAS[e.name]||e.name;switch(o){case"Zoom2":return this.exportService.exportSettings[o].toString();case"UseDigitalSignature":if("dropDownList"==t)return this.exportService.exportSettings.CertificateThumbprint;default:return this.exportService.exportSettings[o]}},e.prototype.changeVisibility=function(e){var t,o;this.formVisible="visible"===e,"hidden"===e&&(null===(o=null===(t=this.exportFormSettings)||void 0===t?void 0:t.groups)||void 0===o?void 0:o.savingReportGroup)&&this.helper.setCookie("StimulsoftWebViewerExportSettingsOpeningGroups",JSON.stringify({SavingReportGroup:this.exportFormSettings.groups.savingReportGroup.opened,PageRangeGroup:this.exportFormSettings.groups.pageRangeGroup.opened,SettingsGroup:this.exportFormSettings.groups.settingsGroup.opened})),"visible"===e&&this.updateDisabledComponents()},e.prototype.showMenu=function(e,t){var o=this,i="documentSecurityMenu";"DocumentSecurityButton"===e.name?this.menuService.addMenu({type:i,name:i,items:[],parent:t.button,itemStyleName:"stiJsViewerMenuStandartItem",menuStyleName:"stiJsViewerDropdownMenu"}):(i=this.menuService.VERTICAL_MENU_NAME,this.menuService.addMenu({type:"buttonMenu",name:i,items:this.collections.getPdfSecurityCertificatesItems(),parent:t.button,itemStyleName:"stiJsViewerMenuStandartItem",menuStyleName:"stiJsViewerDropdownMenu"})),setTimeout((function(){o.menuService.showMenu(i)}))},e.prototype.getTextBoxType=function(e){return"SaveReportPassword"===e||"PasswordInputUser"===e||"PasswordInputOwner"===e?this.formVisible?"password":"":null},e.ctorParameters=function(){return[{type:g},{type:k},{type:f},{type:P},{type:S},{type:I},{type:C}]},a([t.ViewChild("baseForm")],e.prototype,"baseForm",void 0),a([t.ViewChild("saveReportMdc")],e.prototype,"saveReportMdc",void 0),a([t.ViewChild("pagesRangeAll")],e.prototype,"pagesRangeAll",void 0),a([t.ViewChild("pageRangeCurrentPage")],e.prototype,"pageRangeCurrentPage",void 0),a([t.Input()],e.prototype,"exportFormSettings",void 0),e=a([t.Component({selector:"sti-export-form",template:'\n    <sti-base-form #baseForm [fontFamily]="model.options.toolbar.fontFamily"\n    [color]="model.options.toolbar.fontColor"\n    [fontSize]="\'12px\'"\n    [containerPadding]="\'3px\'"\n    [name]="\'exportForm\'"\n    [caption]="model.loc(\'ExportFormTitle\')"\n    [defaultTop]="150"\n    (changeVisibility)="changeVisibility($event)"\n    (action)="action()">\n    <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%;">\n      <tbody>\n          <tr *ngIf="exportFormSettings?.groups.savingReportGroup.visible" class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles" colspan="2">\n              <sti-group-panel [caption]="model.loc(\'SavingReport\')"\n               [width]="390"\n               [margin]="\'4px\'"\n               [innerPadding]="\'4px 0 4px 0\'"\n               [opened]="exportFormSettings.groups.savingReportGroup.opened"\n               (action)="exportFormSettings.groups.savingReportGroup.opened=$event">\n                <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%;">\n                  <tbody>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-radio-button #saveReportMdc\n                           [name]="baseForm.name + \'SaveReportMdc\'"\n                           [groupName]="baseForm.name + \'SavingReportGroup\'"\n                           [caption]="model.loc(\'SaveReportMdc\')"\n                           [margin]="\'6px 8px 3px 8px\'"\n                           [checked]="true"\n                           (action)="exportService.exportSettings.Format = \'Mdc\'">\n                        </sti-radio-button>\n                      </td>\n                    </tr>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-radio-button\n                           [name]="baseForm.name + \'SaveReportMdz\'"\n                           [groupName]="baseForm.name + \'SavingReportGroup\'"\n                           [caption]="model.loc(\'SaveReportMdz\')"\n                           [margin]="\'3px 8px 3px 8px\'"\n                           (action)="exportService.exportSettings.Format = \'Mdz\'">\n                        </sti-radio-button>\n                      </td>\n                    </tr>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-radio-button\n                           [name]="baseForm.name + \'SaveReportMdx\'"\n                           [groupName]="baseForm.name + \'SavingReportGroup\'"\n                           [caption]="model.loc(\'SaveReportMdx\')"\n                           [margin]="\'3px 8px 0px 8px\'"\n                           (action)="exportService.exportSettings.Format = \'Mdx\'">\n                        </sti-radio-button>\n                      </td>\n                    </tr>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" style="padding: 0px 8px; min-width: 150px;" [attr.title]="model.loc(\'PasswordSaveReportTooltip\')">\n                      {{model.loc(\'PasswordSaveReport\')}}\n                      </td>\n                      <td>\n                        <sti-text-box\n                           [width]="140"\n                           [tooltip]="model.loc(\'PasswordSaveReportTooltip\')"\n                           [margin]="\'4px 8px 0px 8px\'"\n                           [type]="getTextBoxType(\'SaveReportPassword\')"\n                           [enabled]="exportService.exportSettings.Format == \'Mdx\'"\n                           (onchange)="exportService.exportSettings.Password = $event.value">\n                        </sti-text-box>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </sti-group-panel>\n            </td>\n          </tr>\n\n          <tr *ngIf="exportFormSettings?.groups.pageRangeGroup.visible" class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles" colspan="2">\n              <sti-group-panel [caption]="model.loc(\'PagesRange\')"\n               [width]="390"\n               [margin]="\'4px\'"\n               [innerPadding]="\'4px 0 4px 0\'"\n               [opened]="exportFormSettings.groups.pageRangeGroup.opened"\n               (action)="exportFormSettings.groups.pageRangeGroup.opened=$event">\n                <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%;">\n                  <tbody>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-radio-button #pagesRangeAll\n                           [name]="baseForm.name + \'PagesRangeAll\'"\n                           [groupName]="baseForm.name + \'PageRangeGroup\'"\n                           [caption]="model.loc(\'PagesRangeAll\')"\n                           [tooltip]="model.loc(\'PagesRangeAllTooltip\')"\n                           [margin]="\'6px 8px 6px 8px\'"\n                           [checked]="!exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled"\n                           [enabled]="!exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled"\n                           (action)="exportService.exportSettings.PageRange = \'All\'">\n                        </sti-radio-button>\n                      </td>\n                    </tr>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-radio-button #pageRangeCurrentPage\n                           [name]="baseForm.name + \'PageRangeCurrentPage\'"\n                           [groupName]="baseForm.name + \'PageRangeGroup\'"\n                           [caption]="model.loc(\'PagesRangeCurrentPage\')"\n                           [tooltip]="model.loc(\'PagesRangeCurrentPageTooltip\')"\n                           [margin]="\'0px 8px 4px 8px\'"\n                           [checked]="exportFormSettings.groups.pageRangeGroup.pageRangeAllIsDisabled"\n                           (action)="exportService.exportSettings.PageRange = (model.reportParams.pageNumber + 1).toString()">\n                        </sti-radio-button>\n                      </td>\n                    </tr>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-radio-button\n                           [name]="baseForm.name + \'PageRangePages\'"\n                           [groupName]="baseForm.name + \'PageRangeGroup\'"\n                           [caption]="model.loc(\'PagesRangePages\')"\n                           [tooltip]="model.loc(\'PagesRangePagesTooltip\')"\n                           [margin]="\'0px 8px 0px 8px\'"\n                           [paddingLeftLastCell]="\'60px\'"\n                           (action)="exportService.exportSettings.PageRange = pagesRange.element.nativeElement.value">\n                              <sti-text-box #pagesRange\n                                [width]="130"\n                                [tooltip]="model.loc(\'PagesRangePagesTooltip\')"\n                                [margin]="\'0px 0px 0px 30px\'"\n                                (onchange)="exportService.exportSettings.PageRange = $event.value"\n                                (onblur)="exportService.exportSettings.PageRange = $event.value">\n                              </sti-text-box>\n                        </sti-radio-button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </sti-group-panel>\n            </td>\n          </tr>\n\n        <tr *ngIf="exportFormSettings?.groups.settingsGroup.visible"class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles" colspan="2">\n              <sti-group-panel [caption]="model.loc(\'SettingsGroup\')"\n                [opened]="exportFormSettings.groups.settingsGroup.opened"\n                [width]="390"\n                [margin]="\'4px\'"\n                [innerPadding]="\'4px 0 4px 0\'"\n                (action)="exportFormSettings.groups.settingsGroup.opened=$event">\n                <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%;">\n                  <tbody>\n                    <tr *ngFor="let comp of exportFormSettings.components">\n                      <td *ngIf="comp.label != null" style="padding: 0px 8px; min-width: 150px;" [attr.title]="comp.tooltip">\n                        {{comp.label}}\n                      </td>\n\n                      <td *ngIf="comp.name == \'UseDigitalSignature\'">\n                        <sti-check-box\n                           [tooltip]="comp.tooltip"\n                           [margin]="comp.margin"\n                           [captionText]="comp.caption"\n                           [isChecked]="getValue(comp)"\n                           (action)="componentAction(comp, $event)">\n                        </sti-check-box>\n                      </td>\n\n                      <td [attr.colSpan]="comp.label != null || comp.name == \'DocumentSecurityButton\' || comp.name == \'UseDigitalSignature\' ? 1 : 2">\n                        <sti-drop-down-list-for-export-form *ngIf="comp.type == \'DropDownListForExportForm\'"\n                           [width]="comp.width"\n                           [items]="comp.items"\n                           [key]="getValue(comp, \'dropDownList\')"\n                           [margin]="comp.margin"\n                           [verticalAlign]="comp.name == \'ImageQuality\' || comp.name == \'ImageResolution\' ? \'middle\' : null"\n                           [styleDisplay]="comp.name == \'ImageQuality\' || comp.name == \'ImageResolution\' ? \'inline-block\' : null"\n                           [enabled]="!disabledComponents[comp.name]"\n                           (action)="componentAction(comp, $event.key)">\n                        </sti-drop-down-list-for-export-form>\n\n                        <div *ngIf="comp.name == \'ImageQuality\' || comp.name == \'ImageResolution\'"\n                           [style.display]="\'inline-block\'">\n                          {{comp.name == \'ImageQuality\' ? \'%\' : \'dpi\'}}\n                        </div>\n\n                        <sti-text-box *ngIf="comp.type == \'TextBox\'"\n                           [width]="comp.width"\n                           [tooltip]="comp.tooltip"\n                           [margin]="comp.margin"\n                           [type]="getTextBoxType(comp.name)"\n                           [enabled]="!comp.disabled"\n                           [value]="getValue(comp)"\n                           [enabled]="!disabledComponents[comp.name]"\n                           (onchange)="componentAction(comp, $event.value)">\n                        </sti-text-box>\n\n                        <sti-check-box *ngIf="comp.type == \'CheckBox\' || comp.type == \'DigitalSignature\'"\n                           [tooltip]="comp.tooltip"\n                           [margin]="comp.margin"\n                           [captionText]="comp.caption"\n                           [isChecked]="getValue(comp)"\n                           [isEnabled]="!disabledComponents[comp.name]"\n                           (action)="componentAction(comp, $event)">\n                        </sti-check-box>\n\n                      </td>\n\n                      <td *ngIf="comp.name == \'DocumentSecurityButton\'">\n                        <sti-button #button\n                           [width]="comp.width"\n                           [arrow]="\'Down\'"\n                           [minWidth]="\'163px\'"\n                           [captionAlign]="\'center\'"\n                           [display]="\'inline-block\'"\n                           [styleName]="\'stiJsViewerFormButton\'"\n                           [margin]="\'2px 8px\'"\n                           [innerTableWidth]="\'100%\'"\n                           [captionWidth]="\'100%\'"\n                           [caption]="comp.name == \'DocumentSecurityButton\' ? comp.caption : \'\'"\n                           [enabled]="!disabledComponents[comp.name + \'Button\']"\n                           (action)="showMenu(comp, button)">\n                        </sti-button>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n\n              </sti-group-panel>\n            </td>\n        </tr>\n\n        <tr *ngIf="model.options.exports.showOpenAfterExport && exportFormSettings?.openAfterExport && !exportService.sendMail" class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles" colspan="2">\n                <sti-check-box [captionText]="model.loc(\'OpenAfterExport\')"\n                  [tooltip]="model.loc(\'OpenAfterExportTooltip\')"\n                  [margin]="\'4px 8px 4px 8px\'"\n                  [isChecked]="exportService.exportSettings.OpenAfterExport"\n                  (action)="exportService.exportSettings.OpenAfterExport = $event">\n                </sti-check-box>\n            </td>\n        </tr>\n      </tbody>\n    </table>\n\n    </sti-base-form>\n  '})],e)}(),Se=function(){function e(e){this.model=e,this.opened=!1,this.action=new t.EventEmitter,this.display="none"}return e.prototype.ngOnInit=function(){},e.prototype.startAnimation=function(e){"opened"===e.toState&&(this.display="")},e.prototype.doneAnimation=function(e){"closed"===e.toState&&(this.display="none")},e.ctorParameters=function(){return[{type:g}]},a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"caption",void 0),a([t.Input()],e.prototype,"innerPadding",void 0),a([t.Input()],e.prototype,"opened",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Output()],e.prototype,"action",void 0),e=a([t.Component({selector:"sti-group-panel",template:'\n  <div #groupPanel [style.fontFamily]="model.options.toolbar.fontFamily"\n       [style.color]="model.options.toolbarFontColor"\n       [style.minWidth.px]="width"\n       [style.margin]="margin"\n       style="overflow: hidden">\n      <sti-form-button [caption]="caption"\n          [imageName]="opened ? \'Arrows.BigArrowDown.png\' : \'Arrows.BigArrowRight.png\'"\n          [imageCellWidth]="\'1px\'"\n          [captionPadding]="\'0 15px 0 5px\'"\n          [margin]="\'0px\'"\n          [captionAlign]="\'left\'"\n          (action)="opened = !opened; action.emit(opened)">\n      </sti-form-button>\n\n      <div class="stiJsViewerGroupPanelContainer"\n           [style.padding]="innerPadding"\n           [style.display]="display"\n           [@state]="opened ? \'opened\' : \'closed\'"\n           (@state.start)="startAnimation($event)"\n           (@state.done)="doneAnimation($event)">\n          <ng-content>\n\n          </ng-content>\n      </div>\n\n\n  </div>\n  ',animations:[r.trigger("state",[r.state("opened",r.style({height:"*"})),r.state("closed",r.style({height:"0px"})),r.transition("* => *",[r.animate("150ms ease-in-out")])])]})],e)}(),Pe=function(){function e(e,o){this.model=e,this.radioService=o,this.action=new t.EventEmitter,this.enabled=!0,this.checked=!1,this.over=!1}return e.prototype.ngAfterViewInit=function(){this.radioService.addButton(this)},e.prototype.ngOnDestroy=function(){this.radioService.removeButton(this)},e.prototype.ngOnInit=function(){},e.prototype.mouseover=function(){this.enabled&&(this.over=!0)},e.prototype.mouseout=function(){this.enabled&&(this.over=!1)},e.prototype.click=function(){this.enabled&&(this.checked=!0,this.radioService.check(this),this.action.emit(!0))},e.prototype.uncheck=function(){this.checked=!1,this.action.emit(!1)},Object.defineProperty(e.prototype,"outClass",{get:function(){return this.enabled?this.over?"stiJsViewerRadioButtonOutCircleOver":"stiJsViewerRadioButtonOutCircle":"stiJsViewerRadioButtonOutCircleDisabled"},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:N}]},a([t.Output()],e.prototype,"action",void 0),a([t.Input()],e.prototype,"groupName",void 0),a([t.Input()],e.prototype,"name",void 0),a([t.Input()],e.prototype,"enabled",void 0),a([t.Input()],e.prototype,"checked",void 0),a([t.Input()],e.prototype,"tooltip",void 0),a([t.Input()],e.prototype,"caption",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Input()],e.prototype,"paddingLeftLastCell",void 0),e=a([t.Component({selector:"sti-radio-button",template:'\n    <table [class]="enabled ? \'stiJsViewerRadioButton\' : \'stiJsViewerRadioButtonDisabled\'" cellpadding="0" cellspacing="0"\n      [style.fontFamily]="model.options.toolbar.fontFamily"\n      [style.margin]="margin"\n      [attr.title]="tooltip"\n      (mouseover)="mouseover()" (mouseout)="mouseout()" (click)="click()">\n      <tbody>\n        <tr class="stiJsViewerClearAllStyles">\n          <td class="stiJsViewerClearAllStyles">\n            <div class="stiJsViewerRadioButtonOutCircle" [class]="outClass">\n              <div class="stiJsViewerRadioButtonInnerCircle"\n                  [style.margin]="model.options.isTouchDevice ? \'4px\' : \'3px\'"\n                  [style.width]="model.options.isTouchDevice ? \'9px\' : \'7px\'"\n                  [style.height]="model.options.isTouchDevice ? \'9px\' : \'7px\'"\n                  [style.visibility]="checked ? \'visible\' : \'hidden\'"\n                  [style.opacity]="enabled ? 1 : 0.5">\n              </div>\n            </div>\n          </td>\n          <td *ngIf="caption != null" class="stiJsViewerClearAllStyles" style="padding-left: 4px; white-space: nowrap;">\n            {{caption}}\n          </td>\n          <td class="stiJsViewerClearAllStyles" [style.paddingLeft]="paddingLeftLastCell">\n            <ng-content></ng-content>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  '})],e)}(),Te=function(){function e(){this.enabled=!0,this.action=new t.EventEmitter}return e.prototype.ngOnInit=function(){},a([t.Input()],e.prototype,"items",void 0),a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"key",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Input()],e.prototype,"enabled",void 0),a([t.Input()],e.prototype,"styleDisplay",void 0),a([t.Input()],e.prototype,"verticalAlign",void 0),a([t.Output()],e.prototype,"action",void 0),e=a([t.Component({selector:"sti-drop-down-list-for-export-form",template:'\n    <sti-drop-down-list [items]="items"\n      [width]="width"\n      [readOnly]="true"\n      [key]="key"\n      [margin]="margin"\n      [enabled]="enabled"\n      [styleDisplay]="styleDisplay"\n      [verticalAlign]="verticalAlign"\n      (action)="key = $event.key; action.emit($event)">\n    </sti-drop-down-list>\n  '})],e)}(),Ce=function(){function e(e,t,o,i){this.model=e,this.formService=t,this.exportService=o,this.collections=i}return e.prototype.ngOnInit=function(){},e.prototype.getTextBoxType=function(){var e;return"exportForm"===(null===(e=this.formService.form)||void 0===e?void 0:e.name)?"password":""},e.prototype.updateUserAccessPrivileges=function(){var e=[];this.allowPrintDocument.isChecked&&e.push("PrintDocument"),this.allowModifyContents.isChecked&&e.push("ModifyContents"),this.allowCopyTextAndGraphics.isChecked&&e.push("CopyTextAndGraphics"),this.allowAddOrModifyTextAnnotations.isChecked&&e.push("AddOrModifyTextAnnotations"),this.exportService.exportSettings.UserAccessPrivileges=e.join(",")},e.prototype.getUserAccessPrivileges=function(e){var t,o,i;return"All"===(null===(t=this.exportService.exportSettings)||void 0===t?void 0:t.UserAccessPrivileges)||(null===(i=null===(o=this.exportService.exportSettings)||void 0===o?void 0:o.UserAccessPrivileges)||void 0===i?void 0:i.indexOf(e))>=0},e.ctorParameters=function(){return[{type:g},{type:P},{type:k},{type:I}]},a([t.ViewChild("AllowPrintDocument")],e.prototype,"allowPrintDocument",void 0),a([t.ViewChild("AllowModifyContents")],e.prototype,"allowModifyContents",void 0),a([t.ViewChild("AllowCopyTextAndGraphics")],e.prototype,"allowCopyTextAndGraphics",void 0),a([t.ViewChild("AllowAddOrModifyTextAnnotations")],e.prototype,"allowAddOrModifyTextAnnotations",void 0),e=a([t.Component({selector:"sti-document-security-menu",template:'\n    <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%;">\n                  <tbody>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td style="padding: 0px 8px; min-width: 150px;" [attr.title]="model.loc(\'UserPasswordTooltip\')">\n                        {{model.loc(\'UserPassword\')}}\n                      </td>\n                      <td class="stiJsViewerClearAllStyles">\n                        <sti-text-box\n                           [width]="160"\n                           [tooltip]="model.loc(\'UserPasswordTooltip\')"\n                           [margin]="\'8px 8px 2px 8px\'"\n                           [type]="getTextBoxType()"\n                           [value]="exportService.exportSettings?.PasswordInputUser"\n                           (onchange)="exportService.exportSettings.PasswordInputUser =  $event.value">\n                        </sti-text-box>\n                      </td>\n                    </tr>\n\n                    <tr class="stiJsViewerClearAllStyles" [attr.title]="model.loc(\'OwnerPasswordTooltip\')">\n                      <td style="padding: 0px 8px; min-width: 150px;">\n                        {{model.loc(\'OwnerPassword\')}}\n                      </td>\n                      <td class="stiJsViewerClearAllStyles">\n                        <sti-text-box\n                           [width]="160"\n                           [tooltip]="model.loc(\'OwnerPasswordTooltip\')"\n                           [margin]="\'2px 8px 2px 8px\'"\n                           [type]="getTextBoxType()"\n                           [value]="exportService.exportSettings?.PasswordInputOwner"\n                           (onchange)="exportService.exportSettings.PasswordInputOwner =  $event.value">\n                        </sti-text-box>\n                      </td>\n                    </tr>\n\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-check-box #AllowPrintDocument\n                           [captionText]="model.loc(\'AllowPrintDocument\')"\n                           [tooltip]="model.loc(\'AllowPrintDocumentTooltip\')"\n                           [margin]="\'4px 8px 4px 8px\'"\n                           [isChecked]="getUserAccessPrivileges(\'PrintDocument\')"\n                           (action)="updateUserAccessPrivileges()">\n                        </sti-check-box>\n                      </td>\n                    </tr>\n\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-check-box #AllowModifyContents\n                           [captionText]="model.loc(\'AllowModifyContents\')"\n                           [tooltip]="model.loc(\'AllowModifyContentsTooltip\')"\n                           [margin]="\'4px 8px 4px 8px\'"\n                           [isChecked]="getUserAccessPrivileges(\'ModifyContents\')"\n                           (action)="updateUserAccessPrivileges()">\n                        </sti-check-box>\n                      </td>\n                    </tr>\n\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-check-box #AllowCopyTextAndGraphics\n                           [captionText]="model.loc(\'AllowCopyTextAndGraphics\')"\n                           [tooltip]="model.loc(\'AllowCopyTextAndGraphicsTooltip\')"\n                           [margin]="\'4px 8px 4px 8px\'"\n                           [isChecked]="getUserAccessPrivileges(\'CopyTextAndGraphics\')"\n                           (action)="updateUserAccessPrivileges()">\n                        </sti-check-box>\n                      </td>\n                    </tr>\n\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" colspan="2">\n                        <sti-check-box #AllowAddOrModifyTextAnnotations\n                           [captionText]="model.loc(\'AllowAddOrModifyTextAnnotations\')"\n                           [tooltip]="model.loc(\'AllowAddOrModifyTextAnnotationsTooltip\')"\n                           [margin]="\'4px 8px 4px 8px\'"\n                           [isChecked]="getUserAccessPrivileges(\'AddOrModifyTextAnnotations\')"\n                           (action)="updateUserAccessPrivileges()">\n                        </sti-check-box>\n                      </td>\n                    </tr>\n                    <tr class="stiJsViewerClearAllStyles">\n                      <td class="stiJsViewerClearAllStyles" style="padding: 0px 8px; min-width: 150px;" [attr.title]="model.loc(\'EncryptionKeyLengthTooltip\')">\n                        {{model.loc(\'EncryptionKeyLength\')}}\n                      </td>\n                      <td>\n                        <sti-drop-down-list-for-export-form\n                           [width]="160"\n                           [items]="collections.getEncryptionKeyLengthItems()"\n                           [key]="exportService.exportSettings?.KeyLength"\n                           [margin]="\'2px 8px 4px 8px\'"\n                           (action)="exportService.exportSettings.KeyLength = $event.key">\n                        </sti-drop-down-list-for-export-form>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n'})],e)}(),Ie=function(){function e(e,t){this.model=e,this.exportService=t}return e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g},{type:k}]},e=a([t.Component({selector:"sti-digital-signature-menu",template:'\n    <div *ngFor="let item of model.pdfSecurityCertificates" class="stiJsViewerMenuStandartItem stiJsViewerMenuStandartItemSelected" style="height: auto; line-height: 1.3;">\n      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="height: 100%; width: 100%;">\n        <tbody>\n          <tr class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles" style="padding: 8px 20px 8px 8px; text-align: left; white-space: nowrap;">\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n'})],e)}(),ke=function(){function e(e,t,o){this.model=e,this.mailService=t,this.exportService=o}return e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g},{type:E},{type:k}]},e=a([t.Component({selector:"sti-send-email-form",template:'\n    <sti-base-form #baseForm [fontFamily]="model.options.toolbar.fontFamily"\n      [color]="model.options.toolbar.fontColor"\n      [fontSize]="\'12px\'"\n      [name]="\'sendEmailForm\'"\n      [caption]="model.loc(\'EmailOptions\')"\n      [level]="1"\n      [defaultTop]="150"\n      (action)="this.mailService.sendMail()">\n      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="width: 100%;">\n        <tbody>\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerCaptionControls" [style.padding]="model.options.isMobileDevice ? \'0 25px 0 4px\' : \'\'">\n                {{model.loc(\'Email\')}}\n              </td>\n              <td *ngIf="!model.options.isMobileDevice">\n                <sti-text-box [margin]="model.options.isMobileDevice ? \'4px 4px 12px 4px\' : \'4px\'"\n                  [value]="exportService.exportSettings.Email"\n                  [width]="model.options.isMobileDevice ? 200 : 280"\n                  (onchange)="exportService.exportSettings.Email = $event.value">\n                </sti-text-box>\n              </td>\n            </tr>\n            <tr class="stiJsViewerClearAllStyles" *ngIf="model.options.isMobileDevice">\n              <td class="stiJsViewerClearAllStyles">\n                <sti-text-box [margin]="model.options.isMobileDevice ? \'4px 4px 12px 4px\' : \'4px\'"\n                  [value]="exportService.exportSettings.Email"\n                  [width]="model.options.isMobileDevice ? 200 : 280"\n                  (onchange)="exportService.exportSettings.Email = $event.value">\n                </sti-text-box>\n              </td>\n            </tr>\n\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerCaptionControls" [style.padding]="model.options.isMobileDevice ? \'0 25px 0 4px\' : \'\'">\n                {{model.loc(\'Subject\')}}\n              </td>\n              <td *ngIf="!model.options.isMobileDevice">\n                <sti-text-box [margin]="model.options.isMobileDevice ? \'4px 4px 12px 4px\' : \'4px\'"\n                  [value]="exportService.exportSettings.Subject"\n                  [width]="model.options.isMobileDevice ? 200 : 280"\n                  (onchange)="exportService.exportSettings.Subject = $event.value">\n                </sti-text-box>\n              </td>\n            </tr>\n            <tr class="stiJsViewerClearAllStyles" *ngIf="model.options.isMobileDevice">\n              <td class="stiJsViewerClearAllStyles">\n                <sti-text-box [margin]="model.options.isMobileDevice ? \'4px 4px 12px 4px\' : \'4px\'"\n                  [value]="exportService.exportSettings.Subject"\n                  [width]="model.options.isMobileDevice ? 200 : 280"\n                  (onchange)="exportService.exportSettings.Subject = $event.value">\n                </sti-text-box>\n              </td>\n            </tr>\n\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerCaptionControls" [style.padding]="model.options.isMobileDevice ? \'0 25px 0 4px\' : \'\'">\n                {{model.loc(\'Message\')}}\n              </td>\n              <td *ngIf="!model.options.isMobileDevice">\n                <sti-text-area [margin]="model.options.isMobileDevice ? \'4px 4px 12px 4px\' : \'4px\'"\n                  [value]="exportService.exportSettings.Message"\n                  [height]="70"\n                  [width]="model.options.isMobileDevice ? 200 : 280"\n                  (onchange)="exportService.exportSettings.Message = $event.value">\n                </sti-text-area>\n              </td>\n            </tr>\n            <tr class="stiJsViewerClearAllStyles" *ngIf="model.options.isMobileDevice">\n              <td class="stiJsViewerClearAllStyles">\n                <sti-text-area [margin]="model.options.isMobileDevice ? \'4px 4px 12px 4px\' : \'4px\'"\n                  [value]="exportService.exportSettings.Message"\n                  [height]="70"\n                  [width]="model.options.isMobileDevice ? 200 : 280"\n                  (onchange)="exportService.exportSettings.Message = $event.value">\n                </sti-text-area>\n              </td>\n            </tr>\n\n            <tr class="stiJsViewerClearAllStyles">\n              <td class="stiJsViewerCaptionControls" [style.padding]="model.options.isMobileDevice ? \'0 25px 0 4px\' : \'\'">\n                {{model.loc(\'Attachment\')}}\n              </td>\n              <td *ngIf="!model.options.isMobileDevice">\n                <div style="margin: 4px">\n                  {{exportService.exportSettings.Attachment}}\n                </div>\n              </td>\n            </tr>\n            <tr class="stiJsViewerClearAllStyles" *ngIf="model.options.isMobileDevice">\n              <td class="stiJsViewerClearAllStyles">\n                <div style="margin: 4px">\n                  {{exportService.exportSettings.Attachment}}\n                </div>\n              </td>\n            </tr>\n        </tbody>\n      </table>\n    </sti-base-form>\n  '})],e)}(),Ee=function(){function e(){this.enabled=!0,this.action=new t.EventEmitter,this.onchange=new t.EventEmitter,this.onblur=new t.EventEmitter,this.selected=!1,this.focused=!1,this.over=!1,this._readOnly=!1,this.styleName="stiJsViewerTextBox"}return e.prototype.ngOnInit=function(){},e.prototype.keypress=function(e){if(!this.enabled)return!1;13===e.keyCode&&this.action.emit(e.target)},e.prototype.onchanged=function(e){this.onchange.emit(e.target)},Object.defineProperty(e.prototype,"className",{get:function(){return this._readOnly?this.styleName+" "+this.styleName+"Default":this.styleName+" "+this.styleName+(this.selected?"Over":this.enabled?this.over?"Over":"Default":"Disabled")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readOnly",{get:function(){return this._readOnly},enumerable:!0,configurable:!0}),a([t.Input()],e.prototype,"width",void 0),a([t.Input()],e.prototype,"height",void 0),a([t.Input()],e.prototype,"enabled",void 0),a([t.Input()],e.prototype,"value",void 0),a([t.Input()],e.prototype,"padding",void 0),a([t.Input()],e.prototype,"margin",void 0),a([t.Output()],e.prototype,"action",void 0),a([t.Output()],e.prototype,"onchange",void 0),a([t.Output()],e.prototype,"onblur",void 0),e=a([t.Component({selector:"sti-text-area",template:'\n    <textarea\n      [style.width.px]="width"\n      [style.minWidth.px]="width"\n      [style.height.px]="height"\n      [style.minHeight.px]="height"\n      [class]="className"\n      [value]="value || \'\'"\n      [style.margin]="margin"\n      [style.cursor]="readOnly ? \'default\' : \'\'"\n      [style.padding]="padding"\n      style="padding-top: 3px, font-family: Arial"\n      (mouseover)="over=true"\n      (mouseleave)="over=false"\n      (focused)="focused=true; selected=true"\n      (blur)="focused=false; selected=false; onblur.emit($event.target)"\n      (keypress)="keypress($event)"\n      (keyup)="onchanged($event)">\n    </textarea>\n  '})],e)}(),De=function(){function e(e,t,o){var i=this;this.model=e,this.drillDownService=t,this.controller=o,o.getMessage().subscribe((function(e){var t;"DrillDown"===(null===(t=e)||void 0===t?void 0:t.action)&&i.element&&(i.element.nativeElement.scrollTop=0)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.model.controls.drillDownPanel.el=this.element},e.prototype.action=function(e){this.drillDownService.saveState(),this.model.drillDownButtons.forEach((function(e){return e.selected=!1})),e.selected=!0,this.model.setReportParams(e.reportParams),this.element.nativeElement.scrollTop=0,this.controller.getPages()},e.prototype.close=function(e){e.visible=!1,e.selected&&this.action(this.model.drillDownButtons[0])},e.ctorParameters=function(){return[{type:g},{type:B},{type:C}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-drill-down-panel",template:'\n  <div #element [class]="\'stiJsViewerToolBar\' + (model.options.toolbar.displayMode == \'Separated\' ? \' stiJsViewerToolBarSeparated\' : \'\')"\n    [style.display]="model.controls.drillDownPanel.visible ? \'\' : \'none\'">\n    <div [style.paddingTop]="model.options.toolbar.displayMode == \'Simple\' ? \'2px\' : \'\'">\n      <table class="stiJsViewerToolBarTable" cellpadding="0" cellspacing="0" style="margin: 0px; box-sizing: border-box;"\n        [style.border]="model.options.toolbar.displayMode == \'Separated\' ? \'0px\' : \'\'"\n        [style.color]="model.options.toolbar.fontColor"\n        [style.fontFamily]="model.options.toolbar.fontFamily">\n        <tbody>\n          <tr class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles">\n              <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n                <tbody>\n                  <tr class="stiJsViewerClearAllStyles">\n                    <td *ngFor="let button of model.drillDownButtons; index as i" class="stiJsViewerClearAllStyles" style="padding: 0px; border: 0px; line-height: 0;">\n                      <sti-button [display]="button.visible ? \'inline-block\': \'none\'"\n                        [margin]="\'2px 1px 2px 2px\'"\n                        [caption]="button.caption"\n                        [height]="model.options.toolbar.displayMode == \'Separated\' ? \'28px\' : null"\n                        [display]="\'inline-block\'"\n                        [selected]="button.selected"\n                        [closeButton]="i > 0"\n                        (action)="action(button)"\n                        (closeButtonAction)="close(button)">\n                      </sti-button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n  '})],e)}(),Me=function(){function e(e,t){this.model=e,this.controller=t}return e.prototype.ngOnChanges=function(e){var t=this;null!=this.fileMask&&null!=this.model.openDialogFileMask&&setTimeout((function(){t.element.nativeElement.focus(),t.element.nativeElement.click()}))},e.prototype.ngOnInit=function(){},e.prototype.onchange=function(e){var t=this,o=e.target.files,i=o[0]?o[0].name:"Report",n=(e.target.value,new FileReader);n.onload=function(e){t.controller.loadFile(i,e.target.result)},this.model.openDialogFileMask=null,n.readAsDataURL(o[0])},e.ctorParameters=function(){return[{type:g},{type:C}]},a([t.ViewChild("element")],e.prototype,"element",void 0),a([t.Input()],e.prototype,"fileMask",void 0),e=a([t.Component({selector:"sti-open-dialog",template:'\n    <input #element *ngIf="model.openDialogFileMask != null"  type="file" name="files[]" multiple="" style="display: none;"\n      [attr.accept]="model.openDialogFileMask"\n      (change)="onchange($event)">\n  '})],e)}(),Ae=function(){function e(e,t,o){this.model=e,this.controller=t,this.formService=o}return e.prototype.ngOnInit=function(){},e.prototype.changeVisibility=function(e){"visible"===e&&(this.password="",this.textBox.element.nativeElement.focus())},e.prototype.action=function(){var e=this.formService.form.formData;e.openingFilePassword=this.password,this.formService.closeForm("passwordForm"),this.controller.postOpen(e)},e.ctorParameters=function(){return[{type:g},{type:C},{type:P}]},a([t.ViewChild("textBox")],e.prototype,"textBox",void 0),e=a([t.Component({selector:"sti-password-form",template:'\n    <sti-base-form [fontFamily]="model.options.toolbar.fontFamily"\n      [color]="model.options.toolbar.fontColor"\n      [name]="\'passwordForm\'"\n      [caption]="model.loc(\'PasswordSaveReport\').replace(\':\', \'\')"\n      [level]="2"\n      [defaultTop]="150"\n      (changeVisibility)="changeVisibility($event)"\n      (action)="action()">\n      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0" style="margin: 5px;">\n        <tbody>\n          <tr class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerCaptionControls">\n              {{model.loc(\'PasswordEnter\')}}\n            </td>\n            <td class="stiJsViewerCaptionControls">\n              <sti-text-box #textBox [type]="\'password\'" [width]="200" [focusOnCreate]="true" [value]="password" (onchange)="password = $event.value">\n              </sti-text-box>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </sti-base-form>\n  '})],e)}(),Fe=function(){function e(e,t){this.model=e,this.formService=t}return e.prototype.ngOnInit=function(){},e.prototype.getImage=function(){var e,t=null===(e=this.model.errorMessage)||void 0===e?void 0:e.type;return"Warning"===t?this.model.img("MsgFormWarning.png"):!0===t||"Info"===t?this.model.img("MsgFormInfo.png"):this.model.img("MsgFormError.png")},e.ctorParameters=function(){return[{type:g},{type:P}]},e=a([t.Component({selector:"sti-error-message-form",template:'\n    <sti-base-form [fontFamily]="model.options.toolbar.fontFamily"\n      [color]="model.options.toolbar.fontColor"\n      [name]="\'errorMessageForm\'"\n      [caption]="model.loc(model.errorMessage?.type == \'Error\' ? \'Error\' : \'FormViewerTitle\')"\n      [level]="4"\n      [defaultTop]="150"\n      [showCancel]="false"\n      (action)="formService.closeForm(\'errorMessageForm\')">\n      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n        <tbody>\n          <tr class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles">\n              <img [attr.src]="getImage()" style="padding: 15px; height: 32px; width: 32px;">\n            </td>\n            <td class="stiJsViewerMessagesFormDescription" style="max-width: 600px;"\n              [style.color]="model.options.toolbar.fontColor" [innerHTML]="model.errorMessage?.error">\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </sti-base-form>\n  '})],e)}(),Ve=function(){function e(e,t,o){var i=this;this.model=e,this.controller=t,this.helper=o,t.getMessage().subscribe((function(e){var t;"GetReport"!==e.action&&"OpenReport"!==e.action||(i.model.controls.resourcesPanel.visible=(null===(t=i.model.reportParams.resources)||void 0===t?void 0:t.length)>0)}))}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.model.controls.resourcesPanel.el=this.element},e.prototype.action=function(e){var t=["Image","Pdf","Txt"].indexOf(e.type)>=0?"View":"SaveFile";this.controller.postReportResource(e.name,this.model.options.jsMode?"SaveFile":t)},e.prototype.getResourceImage=function(e){return""!==this.model.img("BigResource"+e+".png")?"BigResource"+e+".png":"BigResource.png"},e.prototype.getMenuItems=function(e){var t=[];return t.push({name:"ResourceView",caption:this.model.loc("ButtonView"),value:e}),t.push({name:"ResourceSaveFile",caption:this.model.loc("SaveFile"),value:e}),t},e.prototype.getActionName=function(e){return e.id||(e.id=Math.random().toString()),"resource"+e.name+e.id},e.ctorParameters=function(){return[{type:g},{type:C},{type:f}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-resources-panel",template:'\n    <div #element style="z-index: 3"\n      [style.display]="this.model.controls.resourcesPanel.visible ? \'\' : \'none\'"\n      [style.fontFamily]="model.options.toolbar.fontFamily"\n      [style.fontColor]="model.options.toolbar.fontColor"\n      [class]="\'stiJsViewerToolBar\' + (model.options.toolbar.displayMode == \'Separated\' ? \' stiJsViewerToolBarSeparated\' : \'\')">\n      <div [style.paddingTop]="model.options.toolbar.displayMode == \'Simple\' ? \'2px\' : \'\'">\n        <div class="stiJsViewerToolBarTable" style="box-sizing: border-box; display: table;"\n          [style.border]="model.options.toolbar.displayMode == \'Separated\' ? \'0px\' : \'\'">\n          <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n            <tbody>\n              <tr class="stiJsViewerClearAllStyles">\n                <td *ngFor="let resource of model.reportParams.resources" class="stiJsViewerClearAllStyles">\n                  <sti-button [caption]="resource.name"\n                    [caption2]="helper.getHumanFileSize(resource.size, 1)"\n                    [imageName]="getResourceImage(resource.type)"\n                    [styleName]="\'stiJsViewerFormButton\'"\n                    [height]="\'auto\'"\n                    [margin]="\'3px 0 3px 3px\'"\n                    [innerTableWidth]="\'100%\'"\n                    [minWidth]="\'80px\'"\n                    [captionAlign]="\'left\'"\n                    [captionPaddingLeft]="\'3px\'"\n                    [captionMaxWidth]="\'150px\'"\n                    [captionLineHeight]="\'14px\'"\n                    [captionWhiteSpace]="\'nowrap\'"\n                    [captionOverflow]="\'hidden\'"\n                    [captionTextOverflow]="\'ellipsis\'"\n                    [imageCellWidth]="\'1px\'"\n                    [imageCellPadding]="\'4px 8px 4px 4px\'"\n                    [menuItems]="getMenuItems(resource)"\n                    [resourceButton]="true"\n                    [imageSizesWidth]="32"\n                    [imageSizesHeight]="32"\n                    [actionName]="getActionName(resource)"\n                    (action)="action(resource)">\n                  </sti-button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  '})],e)}(),Oe=function(){function e(e){this.model=e}return e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g}]},e=a([t.Component({selector:"sti-progress",template:"\n    <div style=\"position: absolute; z-index: 1000; left: calc(50% - 35px);\"\n        [style.top]=\"model.options.appearance.fullScreenMode ? 'calc(50% - 100px)' : '250px'\"\n        [style.display]=\"model.showProgress ? '' : 'none'\">\n      <div class=\"js_viewer_loader\"></div>\n    </div>\n  "})],e)}(),Be=function(){function e(e,t,o,i){this.model=e,this.controller=t,this.helper=o,this.pageService=i,this.comps=[]}return e.prototype.ngOnInit=function(){var e=this;"Separated"===this.model.options.toolbar.displayMode&&this.initButtons(),this.controller.getMessage().subscribe((function(t){"viewer_loaded"!==t.action&&e.updateButtons()})),this.model.controls.navigatePanel.visible="Separated"===this.model.options.toolbar.displayMode},e.prototype.ngAfterViewInit=function(){this.model.controls.navigatePanel.el=this.element},e.prototype.updateButtons=function(){var e=this;this.comps.filter((function(e){return"ViewMode"===e.action})).forEach((function(t){return t.caption=e.model.loc(e.model.reportParams.viewMode)})),this.comps.filter((function(e){return"Zoom"===e.action})).forEach((function(t){t.menuItems.forEach((function(t){return t.selected=t.name==="Zoom"+e.model.reportParams.zoom})),t.caption=Math.round(e.model.reportParams.zoom)+"%"})),this.comps.filter((function(e){return"ShowFind"===e.action})).forEach((function(t){t.selected=e.model.controls.findPanel.visible}))},e.prototype.initButtons=function(){var e=[];this.model.options.toolbar.showFirstPageButton&&e.push({type:"button",action:"FirstPage",img:"PageFirst20.png",tooltip:!0}),this.model.options.toolbar.showPreviousPageButton&&e.push({type:"button",action:"PrevPage",img:"PagePrevious20.png",tooltip:!0}),this.model.options.toolbar.showCurrentPageControl&&(e.push({type:"separator"}),e.push({type:"pageControl"}),e.push({type:"separator"})),this.model.options.toolbar.showNextPageButton&&e.push({type:"button",action:"NextPage",img:"PageNext20.png",tooltip:!0}),this.model.options.toolbar.showLastPageButton&&e.push({type:"button",action:"LastPage",img:"PageLast20.png",tooltip:!0}),e.push({type:"space"}),e.push({type:"button",action:"ZoomPageWidth",img:"ZoomPageWidth20.png",tooltip:!0}),e.push({type:"button",action:"ZoomOnePage",img:"ZoomOnePage20.png",tooltip:!0}),this.model.options.toolbar.showZoomButton&&(e.push({type:"separator"}),e.push({type:"button",action:"Zoom",caption:"100%",tooltip:!0,arrow:"Arrows.SmallArrowUpWhite.png",menuItems:this.helper.getZoomMenuItems()})),this.comps=e},e.prototype.enabled=function(e){var t=this.disableNaviButtons();switch(e.action){case"FirstPage":case"PrevPage":return this.model.reportParams.pageNumber>0&&!t;case"NextPage":case"LastPage":return this.model.reportParams.pageNumber<this.model.reportParams.pagesCount-1&&!t}return!0},e.prototype.selected=function(e){switch(e.action){case"ZoomPageWidth":return Math.round(this.model.reportParams.zoom)===Math.round(this.pageService.getZoomByPageWidth());case"ZoomOnePage":return Math.round(this.model.reportParams.zoom)===Math.round(this.pageService.getZoomByPageHeight())}return!1},e.prototype.disableNaviButtons=function(){return"MultiplePages"===this.model.reportParams.viewMode||"WholeReport"===this.model.reportParams.viewMode||"Continuous"===this.model.reportParams.viewMode&&!this.model.options.appearance.scrollbarsMode&&!this.model.options.appearance.fullScreenMode},e.ctorParameters=function(){return[{type:g},{type:C},{type:f},{type:x}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-navigate-panel",template:'\n  <div #element class="stiJsViewerNavigatePanel" style="display: block;"\n    [style.display]="!model.options.isMobileDevice ? (this.model.controls.navigatePanel.visible ? \'\' : \'none\') : \'\'"\n    [style.transition]="model.options.isMobileDevice ? \'margin 300ms ease, opacity 300ms ease\' : null"\n    [style.zIndex]="model.options.isMobileDevice ? (model.options.toolbar.autoHide ? 5 : 2) : null"\n    [style.opacity]="model.options.isMobileDevice ? (model.controls.navigatePanel.visible ? (model.options.toolbar.autoHide ? 0.9 : 1) : 0) : 1"\n    [style.marginBottom]="model.options.isMobileDevice && !model.controls.navigatePanel.visible ? \'-0.55in\' : 0">\n    <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n      <tbody>\n        <tr class="stiJsViewerClearAllStyles">\n          <td *ngFor="let comp of comps" class="stiJsViewerClearAllStyles" [style.width]="comp.type == \'space\' ? \'100%\' : null">\n            <sti-button *ngIf="comp.type==\'button\'"\n              [caption]="comp.caption"\n              [imageName]="comp.img"\n              [arrow]="comp.arrow"\n              [menuItems]="comp.menuItems"\n              [actionName]="comp.action"\n              [tooltip]="comp.tooltip"\n              [styleName]="\'stiJsViewerNavigateButton\'"\n              [height]="model.options.isMobileDevice ? \'0.5in\' : \'35px\'"\n              [width]="model.options.isMobileDevice ? \'0.4in\' : \'35px\'"\n              [boxSizing]="\'border-box\'"\n              [arrowMarginTop]="\'1px\'"\n              [enabled]="enabled(comp)"\n              [imageCellTextAlign]="\'center\'"\n              [innerTableWidth]="\'100%\'"\n              [navagationPanelTooltip]="true"\n              [margin]="comp.action == \'FirstPage\' ? \'0 1px 0 3px\' : (comp.action == \'Zoom\' ? \'0 3px 0 1px\' : \'0px 1px 0 1px\')"\n              [selected]="selected(comp)"\n              (action)="controller.action({ name: comp.action })">\n            </sti-button>\n\n            <div *ngIf="comp.type==\'separator\'"\n              [style.height]="model.options.isMobileDevice ? \'0.5in\' : \'35px\'"\n              [style.margin]="\'0px 1px 0 1px\'"\n              class="stiJsViewerNavigatePanelSeparator"></div>\n\n            <sti-page-control *ngIf="comp.type==\'pageControl\'"\n              [enabled]="!(model.reportParams.pagesCount <= 1 || disableNaviButtons())"\n              [count]="model.reportParams.pagesCount"\n              [margin]="\'0px 1px 0 1px\'"\n              [textBoxBorder]="\'0px\'"></sti-page-control>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class="stiJsViewerNavigatePanelDisabledPanel" [style.display]="this.model.controls.navigatePanel.enabled ? \'none\' : \'block\'"></div>\n  </div>\n  '})],e)}(),Re=function(){function e(e,t,o,i){var n=this;this.model=e,this.controller=t,this.helper=o,this.formService=i,this.year=(new Date).getFullYear(),this.top=0,this.left=0,this.opacity=0,t.getActionMessage().subscribe((function(e){"About"===e.action&&(n.formService.form={name:"about",left:0,top:0,isMooving:!1,level:2},n.opacity=0,setTimeout((function(){n.top=n.model.viewerSize.height/2-n.element.nativeElement.offsetHeight/2,n.left=n.model.viewerSize.width/2-n.element.nativeElement.offsetWidth/2,n.opacity=1})))}))}return e.prototype.ngOnInit=function(){},e.prototype.close=function(){this.formService.closeForm("about")},e.prototype.click=function(e){e&&(e.stopPropagation(),e.preventDefault()),this.helper.openNewWindow("https://www.stimulsoft.com")},e.prototype.isLicensed=function(){return!(this.model.options.cloudMode||this.model.options.serverMode||this.model.options.standaloneJsMode||this.model.options.reportDesignerMode||this.model.options.licenseIsValid)},Object.defineProperty(e.prototype,"userLabel",{get:function(){var e=this.model.options.licenseUserName||"";return this.isLicensed()?(e&&(e+=", "),e+this.helper.getBackText(!0)+" Version"):e},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:C},{type:f},{type:P}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-about-panel",template:'\n    <div #element class="stiJsViewerAboutPanel" style="background-size: contain;"\n      [style.display]="formService.form?.name == \'about\' ? \'\' : \'none\'"\n      [style.left.px]="left"\n      [style.top.px]="top"\n      [style.opacity]="opacity"\n      (click)="close()" >\n      <div class="stiJsViewerAboutPanelHeader">\n        Stimulsoft Reports\n      </div>\n      <img src="{{model.img(\'About.png\')}}" style="margin-top: 30px; height: 94px; width: 94px;">\n      <div class="stiJsViewerAboutPanelCopyright">\n        {{\'Copyright 2003-\' + year + \' Stimulsoft\'}}\n      </div>\n      <div class="stiJsViewerAboutPanelVersion">\n        {{model.options.productVersion?.trim()}}, {{model.options?.frameworkType}}, Angular\n      </div>\n      <div class="stiJsViewerAboutPanelVersion">\n        All rights reserved\n      </div>\n      <div class="stiJsViewerAboutPanelVersion" style="margin-top: 20px;font-weight: bold; "\n        [style.color]="isLicensed() ? \'red\' : \'#444444\'"\n        [style.display]="isLicensed() || userLabel ? \'\' : \'none\'">\n        {{userLabel}}\n      </div>\n      <div class="stiJsViewerFormSeparator" style="margin-top: 20px;">\n      </div>\n      <div class="stiJsViewerAboutPanelStiLink" (click)=\'click($event)\'>\n        www.stimulsoft.com\n      </div>\n    </div>\n  '})],e)}(),Ne=function(){function e(e,t,o){this.model=e,this.controller=t,this.toolbarService=o,this.marginLeft="1px",this.viewInit=!1}return e.prototype.ngAfterViewInit=function(){var e=this;this.viewInit=!0,setTimeout((function(){var t,o,i=null===(o=null===(t=e.mainTable)||void 0===t?void 0:t.nativeElement)||void 0===o?void 0:o.offsetWidth;e.marginLeft=e.viewInit&&"Center"===e.model.options.toolbar.alignment&&i?"calc(50% - "+Math.trunc(i/2)+"px)":"1px"}))},e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g},{type:C},{type:L}]},a([t.ViewChild("mainTable")],e.prototype,"mainTable",void 0),a([t.Input()],e.prototype,"comps",void 0),a([t.Input()],e.prototype,"align",void 0),e=a([t.Component({selector:"sti-toolbar-dop",template:'\n    <table #mainTable\n      class="stiJsViewerClearAllStyles"\n      cellpadding="0"\n      cellspacing="0"\n      style="margin: 1px;"\n      [attr.align]="align"\n      [style.marginLeft]="marginLeft">\n      <tbody>\n        <tr class="stiJsViewerClearAllStyles">\n          <td *ngFor="let comp of comps" class="stiJsViewerClearAllStyles">\n            <sti-button *ngIf="comp.type==\'button\'"\n              [caption]="model.options.toolbar.showButtonCaptions ? comp.caption : null"\n              [imageName]="comp.img"\n              [arrow]="!model.options.isMobileDevice ? comp.arrow : null"\n              [menuItems]="comp.menuItems"\n              [actionName]="comp.action"\n              [tooltip]="comp.tooltip"\n              [enabled]="toolbarService.enabled(comp)"\n              [display]="toolbarService.display(comp)"\n              [innerTableWidth]="toolbarService.getInnerTableWidth(comp)"\n              [width]="toolbarService.getButonWidth(comp)"\n              [height]="model.options.toolbar.displayMode == \'Separated\' ? (model.options.isMobileDevice ? \'0.5in\' : \'28px\') : null"\n              (action)="controller.action({ name: comp.action });"\n              [selected]="toolbarService.selected(comp)"></sti-button>\n            <sti-toolbar-separator *ngIf="comp.type==\'separator\'"></sti-toolbar-separator>\n            <sti-page-control *ngIf="comp.type==\'pageControl\'" [enabled]="!(model.reportParams.pagesCount <= 1 || toolbarService.disableNaviButtons())" [count]="model.reportParams.pagesCount" ></sti-page-control>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  '})],e)}(),Je=function(){function e(e,t,o){var i=this;this.model=e,this.controller=t,this.helper=o,this.text="",this.opacity=0,this.display="none",t.getActionMessage().subscribe((function(e){switch(e.action){case"centerText":i.show(e.data);break;case"hideCenterText":i.hide()}}))}return e.prototype.ngOnInit=function(){},e.prototype.show=function(e){var t=this;this.display="",this.opacity=0,this.text=e,setTimeout((function(){t.helper.setObjectToCenter(t.element.nativeElement),t.opacity=1})),this.hideTimer&&clearTimeout(this.hideTimer),this.hideTimer=setTimeout((function(){t.hide()}),2e3)},e.prototype.hide=function(){var e=this;this.opacity=0,this.hideTimer&&clearTimeout(this.hideTimer),this.hideTimer=setTimeout((function(){e.display="none"}),300)},e.ctorParameters=function(){return[{type:g},{type:C},{type:f}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-center-text",template:'\n    <div #element\n      style="position: absolute; z-index: 1000; transition-property: opacity; transition-duration: 300ms; text-shadow: rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px; font-size: 100px;"\n      [style.fontFamily]="model.options.toolbar.fontFamily"\n      [style.color]="model.options.toolbar.fontColor"\n      [style.opacity]="opacity"\n      [style.display]="display">\n      <div>\n        {{text}}\n      </div>\n    </div>\n  '})],e)}(),Le=function(){function e(e,t){this.model=e,this.formService=t}return e.prototype.ngOnInit=function(){},e.prototype.changeVisibility=function(e){var t;"hidden"===e&&(null===(t=this.model.notificationFormOptions)||void 0===t?void 0:t.cancelAction)&&this.model.notificationFormOptions.cancelAction()},e.prototype.action=function(){var e;(null===(e=this.model.notificationFormOptions)||void 0===e?void 0:e.action)?this.model.notificationFormOptions.action():this.formService.closeForm("notificationForm")},e.ctorParameters=function(){return[{type:g},{type:P}]},e=a([t.Component({selector:"sti-notification-form",template:'\n  <sti-base-form [fontFamily]="model.options.toolbar.fontFamily"\n      [color]="model.options.toolbar.fontColor"\n      [name]="\'notificationForm\'"\n      [defaultTop]="150"\n      [caption]="model.loc(\'Viewer\')"\n      [level]="4"\n      [showButtons]="false"\n      [showSeparator]="false"\n      (changeVisibility)="changeVisibility($event)">\n      <table class="stiJsViewerClearAllStyles" cellpadding="0" cellspacing="0">\n        <tbody>\n          <tr *ngIf="model.notificationFormOptions?.image" class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles" style="text-align: center;">\n              <img src="{{model.img(model.notificationFormOptions?.image)}}" style="margin-top: 20px; width: 112px; height: 112px;">\n            </td>\n          </tr>\n          <tr *ngIf="model.notificationFormOptions?.message" class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles">\n              <div class="stiJsViewerNotificationFormMessage">\n                {{model.notificationFormOptions?.message}}\n              </div>\n            </td>\n          </tr>\n          <tr *ngIf="model.notificationFormOptions?.description" class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles">\n              <div class="stiJsViewerNotificationFormDescription">\n                {{model.notificationFormOptions?.description}}\n              </div>\n            </td>\n          </tr>\n          <tr class="stiJsViewerClearAllStyles">\n            <td class="stiJsViewerClearAllStyles" style="text-align: center;">\n              <sti-button\n                [caption]="model.notificationFormOptions?.buttonCaption"\n                [styleName]="\'stiJsViewerLoginButton\'"\n                [innerTableWidth]="\'100%\'"\n                [height]="\'40px\'"\n                [minWidth]="\'80px\'"\n                [captionAlign]="\'center\'"\n                [cursor]="\'pointer\'"\n                [display]="\'inline-block\'"\n                [minWidth]="\'200px\'"\n                [width]="\'auto\'"\n                [margin]="\'20px 30px 30px 30px\'"\n                [fontSize]="\'14px\'"\n                (action)="action()">\n              </sti-button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </sti-base-form>\n    '})],e)}(),He=function(){function e(e,t,o){this.model=e,this.helper=t,this.dashboardService=o,this.imagesPath="Dashboards.Actions.Light."}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.model.controls.navigatePanel.el=this.element},Object.defineProperty(e.prototype,"dbsMode",{get:function(){return this.dashboardsCount>0&&0===this.reportsCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dashboardsCount",{get:function(){var e,t,o=0;return(null===(t=null===(e=this.model)||void 0===e?void 0:e.reportParams)||void 0===t?void 0:t.dashboards)&&this.model.reportParams.dashboards.forEach((function(e){"Dashboard"===e.type&&o++})),o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reportsCount",{get:function(){var e,t;return(null===(t=null===(e=this.model)||void 0===e?void 0:e.reportParams)||void 0===t?void 0:t.dashboards)?this.model.reportParams.dashboards.length-this.dashboardsCount:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewSettings",{get:function(){return this.model.reportParams.previewSettings||{}},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:g},{type:f},{type:A}]},a([t.ViewChild("element")],e.prototype,"element",void 0),e=a([t.Component({selector:"sti-dashboards-panel",template:"\n    <div #element\n      [class]=\"'stiJsViewerToolBar' + (model.options.toolbar.displayMode == 'Separated' ? ' stiJsViewerToolBarSeparated' : '')\"\n      [style.fontFamily]=\"model.options.toolbar.fontFamily\"\n      [style.fontColor]=\"helper.val(model.options.toolbar.fontColor)\"\n      [style.display]=\"model.controls.dashboardsPanel.visible ? '' : 'none'\"\n      [style.background]=\"dbsMode ? 'transparent' : ''\"\n      [style.borderColor]=\"dbsMode ? 'transparent' : ''\">\n      <div [style.paddingTop]=\"model.options.toolbar.displayMode == 'Simple' ? '2px' : ''\">\n        <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin: 0px; box-sizing: border-box;\"\n          [style.border]=\"model.options.toolbar.displayMode == 'Separated' ? '0px' : ''\"\n          [style.background]=\"dbsMode ? 'transparent' : ''\"\n          [style.borderColor]=\"dbsMode ? 'transparent' : ''\">\n          <tbody>\n            <tr class=\"stiJsViewerClearAllStyles\">\n              <td class=\"stiJsViewerClearAllStyles\" style=\"width: 100%;\">\n                <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\"\n                  [style.align]=\"model.options.appearance.rightToLeft ? 'right' : (model.options.toolbar.alignment == 'default' ? 'left' : model.options.toolbar.alignment)\">\n                  <tbody>\n                      <tr>\n                         <td *ngFor=\"let info of model.reportParams.dashboards; let i=index\">\n                            <sti-dashboard-button\n                              [info]=\"info\"\n                              [dbsMode]=\"dbsMode\"\n                              [display]=\"dashboardsCount == 1 && reportsCount == 0 ? 'none': null\">\n                            </sti-dashboard-button>\n                        </td>\n                      </tr>\n                  </tbody>\n                </table>\n              </td>\n\n              \x3c!-- actions table --\x3e\n              <td class=\"stiJsViewerClearAllStyles\">\n                <table class=\"stiJsViewerToolBarTable\" cellpadding=\"0\" cellspacing=\"0\" style=\"margin-right:2px\">\n                  <tbody>\n                      <tr>\n                        <td *ngIf=\"model.options.toolbar.showRefreshButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Refresh.png'\"\n                            [tooltip]=\"model.loc('Refresh')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'Refresh'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardRefreshButton ? '' : 'none'\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showParametersButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Parameters.png'\"\n                            [tooltip]=\"model.loc('Parameters')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'Parameters'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showOpenButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Open.png'\"\n                            [tooltip]=\"model.loc('Open')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'OpenDashboard'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardOpenButton ? '' : 'none'\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showDesignButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Edit.png'\"\n                            [tooltip]=\"model.loc('Edit')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'postDesign'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardEditButton ? '' : 'none'\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showFullScreenButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'CloseFullScreen.png'\"\n                            [caption]=\"model.loc('Close')\"\n                            [tooltip]=\"model.loc('FullScreen')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'postFullScreen'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardFullScreenButton ? '' : 'none'\">\n                          </sti-button>\n                        </td>\n\n                        <td *ngIf=\"model.options.toolbar.showSaveButton && model.options.toolbar.visible\">\n                          <sti-button [imageName]=\"imagesPath + 'Menu.png'\"\n                            [tooltip]=\"model.loc('Save')\"\n                            [helpLink]=\"helper.helpLinks['DashboardToolbar']\"\n                            [margin]=\"'2px 0 2px 2px'\"\n                            [actionName]=\"'ExportDashboard'\"\n                            [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [width]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\"\n                            [innerTableWidth]=\"model.options.toolbar.displayMode == 'Separated' ? '100%': null\"\n                            [imageCellTextAlign]=\"model.options.toolbar.displayMode == 'Separated' ? 'center': null\"\n                            [display]=\"previewSettings.dashboardToolBar && previewSettings.dashboardMenuButton && ((previewSettings.dashboardShowReportSnapshots && !model.options.jsMode) || previewSettings.dashboardShowExports) ? '' :'none'\">\n                          </sti-button>\n                        </td>\n                      </tr>\n                  </tbody>\n                </table>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  "})],e)}(),We=function(){function e(e){this.model=e,this.showCloseButton=!1}return e.prototype.ngOnInit=function(){},e.ctorParameters=function(){return[{type:g}]},a([t.Input()],e.prototype,"showCloseButton",void 0),a([t.Input()],e.prototype,"info",void 0),a([t.Input()],e.prototype,"dbsMode",void 0),a([t.Input()],e.prototype,"display",void 0),e=a([t.Component({selector:"sti-dashboard-button",template:"\n    <sti-button\n      [margin]=\"'2px 1px 2px 2px'\"\n      [display]=\"display\"\n      [borderColor]=\"!dbsMode ? 'transparent' : ''\"\n      [height]=\"model.options.toolbar.displayMode == 'Separated' ? (dbsMode ? (model.options.isTouchDevice ? '28px' : '23px') : '28px') : null\">\n    </sti-button>\n  "})],e)}(),ze=function(){function e(){}return e=a([t.NgModule({declarations:[H,j,W,z,_,G,U,X,Z,Y,$,q,Q,K,ee,te,oe,ie,ne,se,re,ae,le,pe,me,ce,de,he,ue,ge,ye,fe,be,ve,xe,we,Se,Pe,Te,Ce,Ie,ke,Ee,De,Me,Ae,Fe,Ve,Oe,Be,Re,Ne,Je,Le,He,We],imports:[s.CommonModule],providers:[],exports:[H]})],e)}();e.StimulsoftViewerComponent=H,e.StimulsoftViewerModule=ze,e.a=g,e.b=b,e.ba=W,e.bb=z,e.bc=_,e.bd=G,e.be=U,e.bf=X,e.bg=Z,e.bh=Y,e.bi=$,e.bj=q,e.bk=Q,e.bl=K,e.bm=ee,e.bn=te,e.bo=oe,e.bp=ie,e.bq=ne,e.br=se,e.bs=re,e.bt=ae,e.bu=le,e.bv=pe,e.bw=me,e.bx=ce,e.by=de,e.bz=he,e.c=f,e.ca=ue,e.cb=ge,e.cc=ye,e.cd=fe,e.ce=be,e.cf=ve,e.cg=xe,e.ch=we,e.ci=Se,e.cj=Pe,e.ck=Te,e.cl=Ce,e.cm=Ie,e.cn=ke,e.co=Ee,e.cp=De,e.cq=Me,e.cr=Ae,e.cs=Fe,e.ct=Ve,e.cu=Oe,e.cv=Be,e.cw=Re,e.cx=Ne,e.cy=Je,e.cz=Le,e.d=y,e.da=He,e.db=We,e.e=C,e.f=v,e.g=x,e.h=P,e.i=w,e.j=S,e.k=T,e.l=F,e.m=V,e.n=O,e.o=R,e.p=B,e.q=N,e.r=k,e.s=I,e.t=E,e.u=J,e.v=M,e.w=L,e.x=D,e.y=A,e.z=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=stimulsoft-viewer-angular.umd.min.js.map