import { __decorate } from "tslib";
import { Injectable } from '@angular/core';
import { ControllerService } from './controller.service';
import { ModelService } from './model.service';
import { HelperService } from './helper.service';
let EditableFieldsService = class EditableFieldsService {
    constructor(controller, model, helper) {
        this.controller = controller;
        this.model = model;
        this.helper = helper;
        this.visible = false;
        this.editableFields = [];
        controller.getActionMessage().subscribe((message) => {
            switch (message.action) {
                case 'Editor':
                    this.visible = !this.visible;
                    if (this.visible) {
                        this.showAllEditableFields();
                    }
                    else {
                        this.hideAllEditableFields();
                    }
                    break;
            }
        });
        controller.getMessage().subscribe((message) => {
            if (message.action === 'GetPages' && this.visible) {
                setTimeout(() => this.showAllEditableFields());
            }
            else {
                this.visible = false;
            }
        });
    }
    showAllEditableFields() {
        this.editableFields = [];
        this.model.pages.forEach((page, pageIndex) => {
            const pageElements = page.page.getElementsByTagName('*');
            for (const pageElement of pageElements) {
                const editableStrAttr = pageElement.getAttribute('editable');
                if (editableStrAttr) {
                    const attrArray = editableStrAttr.split(';');
                    const params = {};
                    params.compIndex = attrArray[0];
                    params.pageIndex = this.model.reportParams.viewMode === 'SinglePage' ? this.model.reportParams.pageNumber : pageIndex.toString();
                    params.type = attrArray[1];
                    if (params.type === 'CheckBox') {
                        this.showCheckBoxEditableField(pageElement, params, attrArray);
                    }
                    else if (params.type === 'Text') {
                        this.showTextEditableField(pageElement, params);
                    }
                    else if (params.type === 'RichText') {
                        this.showRichTextEditableField(pageElement, params);
                    }
                }
            }
        });
    }
    hideAllEditableFields() {
        if (this.currentEditableTextArea) {
            this.currentEditableTextArea.onblur();
        }
        this.editableFields.forEach((eField) => {
            eField.className = eField.className.replace(' stiEditableField stiEditableFieldSelected', '');
            eField.onclick = null;
            eField.style.outline = '';
        });
    }
    showCheckBoxEditableField(editableCell, params, attrArray) {
        if (!editableCell.sizes) {
            let imgElements = editableCell.getElementsByTagName('IMG');
            if (imgElements.length === 0) {
                imgElements = editableCell.getElementsByTagName('SVG');
            }
            if (imgElements.length === 0) {
                imgElements = editableCell.getElementsByTagName('svg');
            }
            const imgElement = (imgElements.length > 0) ? imgElements[0] : null;
            if (!imgElement) {
                return;
            }
            if (imgElement.offsetWidth) {
                editableCell.sizes = {
                    inPixels: imgElement.offsetWidth > imgElement.offsetHeight ? imgElement.offsetHeight : imgElement.offsetWidth,
                    widthStyle: imgElement.style.width,
                    heightStyle: imgElement.style.height
                };
            }
            else {
                editableCell.sizes = {
                    inPixels: imgElement.clientWidth > imgElement.clientHeight ? imgElement.clientHeight : imgElement.clientWidth,
                    widthStyle: imgElement.clientWidth + 'px',
                    heightStyle: imgElement.clientHeight + 'px'
                };
            }
        }
        if (this.helper.getNavigatorName() !== 'Google Chrome') {
            editableCell.style.outline = '1px solid gray';
        }
        editableCell.style.textAlign = 'center';
        editableCell.className += ' stiEditableField stiEditableFieldSelected';
        const trueSvgImage = this.getSvgCheckBox(attrArray[3], attrArray[5], this.helper.strToInt(attrArray[6]), attrArray[7], editableCell.sizes.inPixels);
        const falseSvgImage = this.getSvgCheckBox(attrArray[4], attrArray[5], this.helper.strToInt(attrArray[6]), attrArray[7], editableCell.sizes.inPixels);
        params.falseImage = `<div style="width: ${editableCell.sizes.widthStyle}; height: ${editableCell.sizes.heightStyle}; "> ${trueSvgImage}  </div>`;
        params.trueImage = `<div style="width: ${editableCell.sizes.widthStyle}; height: ${editableCell.sizes.heightStyle}; "> ${falseSvgImage} </div>`;
        params.checked = attrArray[2] === 'true' || attrArray[2] === 'True';
        editableCell.params = params;
        if (!editableCell.hasChanged) {
            editableCell.checked = params.checked;
            editableCell.innerHTML = params.checked ? params.trueImage : params.falseImage;
        }
        editableCell.onclick = () => {
            editableCell.checked = !editableCell.checked;
            editableCell.innerHTML = editableCell.checked ? params.trueImage : params.falseImage;
            editableCell.hasChanged = true;
            this.addEditableParameters(editableCell);
        };
        this.editableFields.push(editableCell);
    }
    showTextEditableField(editableCell, params) {
        editableCell.className += ' stiEditableField stiEditableFieldSelected';
        if (this.helper.getNavigatorName() !== 'Google Chrome') {
            editableCell.style.outline = '1px solid gray';
        }
        editableCell.params = params;
        editableCell.jsObject = this;
        editableCell.onclick = () => {
            if (editableCell.editMode) {
                return;
            }
            if (this.currentEditableTextArea) {
                this.currentEditableTextArea.onblur();
            }
            editableCell.editMode = true;
            const textArea = document.createElement('textarea');
            textArea.style.width = (editableCell.offsetWidth - 5) + 'px';
            textArea.style.height = (editableCell.offsetHeight - 5) + 'px';
            textArea.style.maxWidth = (editableCell.offsetWidth - 5) + 'px';
            textArea.style.maxHeight = (editableCell.offsetHeight - 5) + 'px';
            textArea.className = editableCell.className.replace(' stiEditableField stiEditableFieldSelected', '') + ' stiEditableTextArea';
            textArea.style.border = '0px';
            let textContainer = editableCell;
            if (textContainer.firstChild && textContainer.firstChild.nodeName && textContainer.firstChild.nodeName.toLowerCase() === 'div') {
                textContainer = textContainer.childNodes[0];
            }
            textArea.value = textContainer.innerHTML.replace(/<br>/g, '\n');
            editableCell.appendChild(textArea);
            textArea.focus();
            this.currentEditableTextArea = textArea;
            textArea.onblur = () => {
                editableCell.editMode = false;
                const newText = textArea.value;
                textContainer.innerHTML = newText.replace(/\n/g, '<br>');
                if (this && textArea.parentNode) {
                    textArea.parentNode.removeChild(textArea);
                }
                this.currentEditableTextArea = null;
                this.addEditableParameters(editableCell, newText);
            };
        };
        this.editableFields.push(editableCell);
    }
    showRichTextEditableField(editableCell, params) {
    }
    addEditableParameters(editableCell, newText) {
        if (!this.model.reportParams.editableParameters) {
            this.model.reportParams.editableParameters = {};
        }
        const params = {};
        params.type = editableCell.params.type;
        if (params.type === 'CheckBox') {
            params.checked = editableCell.checked;
        }
        if (params.type === 'Text') {
            params.text = newText != null ? newText : editableCell.innerHTML;
        }
        if (!this.model.reportParams.editableParameters[editableCell.params.pageIndex]) {
            this.model.reportParams.editableParameters[editableCell.params.pageIndex] = {};
        }
        this.model.reportParams.editableParameters[editableCell.params.pageIndex][editableCell.params.compIndex] = params;
    }
    getSvgCheckBox(style, contourColor, size, backColor, width) {
        const head = `<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="${width}px" height="${width}px">`;
        const path = `<path stroke="${contourColor}" stroke-width="${size}" fill="${backColor}" stroke-linecap="round" stroke-linejoin="round" transform="scale(${(1 / (200 / width))})" d="`;
        let shape = '';
        switch (style) {
            case 'Cross':
                shape = 'm 62.567796,147.97593 c -0.55,-0.14223 -2.162828,-0.5128 -3.584062,-0.82348 -3.647667,-0.79738 -9.670499,-5.83775 -14.242817,-11.91949 l ' +
                    '-3.902341,-5.19058 5.080199,-1.13481 c 7.353071,-1.64253 13.640456,-5.71752 21.826811,-14.14646 l 7.208128,-7.42171 ' +
                    '-6.410736,-7.513354 c -11.773129,-13.79803 -14.346726,-23.01954 -8.627769,-30.91434 2.894109,-3.9952 11.818482,-12.369333 ' +
                    '13.182086,-12.369333 0.411356,0 1.063049,1.6875 1.448207,3.750003 0.980474,5.25038 6.456187,16.76587 10.936694,23 2.075266,2.8875 ' +
                    '3.991125,5.25 4.257464,5.25 0.266339,0 3.775242,-3.4875 7.797566,-7.75 16.397034,-17.37615 29.674184,-19.76481 38.280564,-6.88699 ' +
                    '4.15523,6.21753 4.18631,8.07093 0.14012,8.3552 -5.84833,0.41088 -17.16241,8.5342 -25.51465,18.319104 l -4.63153,5.42599 ' +
                    '4.87803,4.31529 c 6.55108,5.79533 18.8991,11.89272 25.84076,12.76002 3.0455,0.38051 5.53727,1.10582 5.53727,1.6118 0,2.7809 ' +
                    '-9.26611,14.41872 -13.03,16.36511 -7.96116,4.11687 -16.36991,0.71207 -32.764584,-13.26677 l -4.985957,-4.25125 -7.086791,8.97188 c ' +
                    '-3.897736,4.93454 -8.82141,10.1198 -10.9415,11.52281 -3.906121,2.58495 -8.86588,4.41339 -10.691162,3.94136 z';
                break;
            case 'Check':
                shape = 'M 60.972125,162.49704 C 51.172676,136.72254 43.561975,123.37669 35.370344,117.6027 l -4.45827,-3.14248 2.75159,-2.89559 c 3.875121,-4.07793 ' +
                    '10.034743,-7.49924 14.902472,-8.27747 3.859874,-0.61709 4.458306,-0.38024 8.535897,3.37835 2.660692,2.45254 6.265525,7.60856 9.167226,13.11196 ' +
                    '2.630218,4.98849 4.910542,9.06999 5.067388,9.06999 0.156846,0 2.31372,-3.0375 4.793052,-6.75 C 96.259164,91.956015 129.68299,58.786374 157.56485,41.281603 l ' +
                    '8.84913,-5.555656 2.2633,2.631238 2.26329,2.631237 -7.76266,6.294183 C 139.859,66.19023 108.01682,105.51363 89.042715,138.83563 c -6.680477,11.73214 ' +
                    '-7.172359,12.31296 -15.090788,17.81963 -4.501873,3.13071 -9.044031,6.30443 -10.093684,7.05271 -1.708923,1.21826 -2.010678,1.09165 -2.886118,-1.21093 z';
                break;
            case 'CrossRectangle':
                shape = 'm 24.152542,102.04237 0,-72.499996 74.5,0 74.499998,0 0,72.499996 0,72.5 -74.499998,0 -74.5,0 0,-72.5 z m 133.758188,0.25 -0.25819,-57.249996 ' +
                    '-58.999998,0 -59,0 -0.259695,55.999996 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 13.207991,1.25 59.517885,1.25 l ' +
                    '59.039573,0 -0.25819,-57.25 z m -90.574091,43.18692 c -1.823747,-0.3912 -4.926397,-1.85716 -6.894778,-3.25768 -3.319254,-2.36169 -12.289319,-12.40741 ' +
                    '-12.289319,-13.76302 0,-0.32888 2.417494,-1.13897 5.372209,-1.80021 7.185193,-1.60797 13.747505,-5.93496 21.803114,-14.3763 l 6.675323,-6.99496 ' +
                    '-6.379078,-7.31436 C 64.931387,85.71231 61.643682,76.29465 65.471903,68.89169 67.054097,65.83207 78.56175,54.542374 80.098251,54.542374 c 0.45744,0 ' +
                    '1.146839,1.6875 1.531997,3.75 0.980474,5.250386 6.456187,16.765876 10.936694,22.999996 2.075266,2.8875 3.991125,5.25 4.257464,5.25 0.266339,0 ' +
                    '3.775244,-3.4875 7.797564,-7.75 16.39704,-17.376139 29.67419,-19.764806 38.28057,-6.88698 4.15523,6.21752 4.18631,8.07092 0.14012,8.35519 -5.82996,0.40959 ' +
                    '-18.23707,9.34942 -25.91566,18.67328 -3.90068,4.73647 -3.97203,4.95414 -2.2514,6.86861 3.19054,3.54997 13.7039,10.54321 18.97191,12.61967 2.83427,1.11716 ' +
                    '7.43737,2.33421 10.22912,2.70455 2.79175,0.37034 5.07591,0.9956 5.07591,1.38947 0,2.11419 -8.37504,13.20895 -11.6517,15.4355 -8.39423,5.70403 ' +
                    '-16.63203,2.77 -34.14289,-12.16054 l -4.985955,-4.25125 -7.086791,8.97188 c -9.722344,12.3085 -16.524852,16.55998 -23.948565,14.96754 z';
                break;
            case 'CheckRectangle':
                shape = 'm 19.915254,103.5 0,-72.5 71.942245,0 71.942241,0 6.55727,-4.11139 6.55726,-4.11139 1.96722,2.36139 c 1.08197,1.298765 1.98219,2.644166 2.00049,2.98978 ' +
                    '0.0183,0.345615 -2.44173,2.53784 -5.46673,4.87161 l -5.5,4.243219 0,69.378391 0,69.37839 -74.999991,0 -75.000005,0 0,-72.5 z m 133.999996,3.87756 c ' +
                    '0,-49.33933 -0.12953,-53.514947 -1.62169,-52.276568 -2.78014,2.307312 -15.68408,17.90053 -24.32871,29.399008 -10.4919,13.955575 -23.47926,33.53736 ' +
                    '-29.514025,44.5 -4.457326,8.09707 -5.134776,8.80812 -14.291256,15 -5.28667,3.575 -9.903486,6.62471 -10.259592,6.77712 -0.356107,0.15242 -1.912439,-2.99758 ' +
                    '-3.458515,-7 -1.546077,-4.00241 -5.258394,-12.41205 -8.249593,-18.68809 -4.285436,-8.99155 -6.676569,-12.64898 -11.27758,-17.25 C 47.70282,104.62757 ' +
                    '44.364254,102 43.495254,102 c -2.798369,0 -1.704872,-1.66044 3.983717,-6.049158 5.593548,-4.31539 13.183139,-7.091307 16.801313,-6.145133 3.559412,0.930807 ' +
                    '9.408491,8.154973 13.919775,17.192241 l 4.46286,8.94025 4.54378,-6.83321 C 95.518219,96.605618 108.21371,81.688517 125.80695,63.75 L 143.21531,46 l ' +
                    '-53.650021,0 -53.650035,0 0,57.5 0,57.5 59.000005,0 58.999991,0 0,-53.62244 z';
                break;
            case 'CrossCircle':
                shape = 'M 83.347458,173.13597 C 61.069754,168.04956 42.193415,152.8724 32.202285,132.01368 23.4014,113.63986 23.679644,89.965903 32.91889,71.042373 ' +
                    '41.881579,52.685283 60.867647,37.139882 80.847458,31.799452 c 10.235111,-2.735756 31.264662,-2.427393 40.964762,0.600679 26.18668,8.174684 ' +
                    '46.06876,28.926852 51.62012,53.879155 2.43666,10.952327 1.56754,28.058524 -1.98036,38.977594 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 ' +
                    '-6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033911,0.23456 -15.484931,-0.10267 -19.500002,-1.01939 z M 112.4138,158.45825 c 17.13137,-3.13002 ' +
                    '33.71724,-15.96081 41.41353,-32.03742 14.8975,-31.119027 -1.10807,-67.659584 -34.40232,-78.540141 -6.71328,-2.193899 -9.93541,-2.643501 ' +
                    '-19.07755,-2.661999 -9.354252,-0.01893 -12.16228,0.37753 -18.768532,2.649866 -17.155451,5.900919 -29.669426,17.531424 -36.438658,33.866137 ' +
                    '-2.152301,5.193678 -2.694658,8.35455 -3.070923,17.89744 -0.518057,13.139047 0.741843,19.201887 6.111644,29.410237 4.106815,7.80733 15.431893,19.09359 ' +
                    '23.36818,23.28808 12.061362,6.37467 27.138828,8.6356 40.864629,6.1278 z M 69.097458,133.41654 c -2.8875,-2.75881 -5.25,-5.35869 -5.25,-5.77751 ' +
                    '0,-0.41882 5.658529,-6.30954 12.57451,-13.0905 l 12.57451,-12.329 L 76.198053,89.392633 63.399628,76.565738 68.335951,71.554056 c 2.714978,-2.756426 ' +
                    '5.304859,-5.011683 5.75529,-5.011683 0.450432,0 6.574351,5.611554 13.608709,12.470121 l 12.78974,12.470119 4.42889,-4.553471 c 2.43588,-2.50441 ' +
                    '8.39186,-8.187924 13.23551,-12.630032 l 8.80663,-8.076559 5.34744,5.281006 5.34743,5.281007 -12.96155,12.557899 -12.96154,12.557897 13.13318,13.16027 ' +
                    '13.13319,13.16027 -5.18386,4.66074 c -2.85112,2.5634 -5.70472,4.66073 -6.34134,4.66073 -0.63661,0 -6.5434,-5.4 -13.12621,-12 -6.58281,-6.6 -12.3871,-12 ' +
                    '-12.89844,-12 -0.511329,0 -6.593363,5.60029 -13.515627,12.44509 l -12.585935,12.44508 -5.25,-5.016 z';
                break;
            case 'DotCircle':
                shape = 'M 81.652542,170.5936 C 59.374838,165.50719 40.498499,150.33003 30.507369,129.47131 21.706484,111.09749 21.984728,87.42353 31.223974,68.5 ' +
                    '40.186663,50.14291 59.172731,34.597509 79.152542,29.257079 89.387653,26.521323 110.4172,26.829686 120.1173,29.857758 c 26.18668,8.174684 ' +
                    '46.06876,28.926852 51.62012,53.879152 2.43666,10.95233 1.56754,28.05853 -1.98036,38.9776 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 ' +
                    '-6.3909,2.08202 -10.18566,2.59644 -21.27805,2.88446 -9.033907,0.23456 -15.484927,-0.10267 -19.499998,-1.01939 z m 29.999998,-15.098 c 20.68862,-4.34363 ' +
                    '38.01874,-20.45437 44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.0187 0,-30 C 150.08927,65.371023 134.63549,50.297336 114.65254,44.412396 ' +
                    '106.5531,42.027127 90.741304,42.026386 82.695253,44.4109 62.460276,50.407701 46.686742,66.039241 41.6053,85.13096 c -1.948821,7.32201 -1.86506,23.11641 ' +
                    '0.158766,29.93754 8.730326,29.42481 38.97193,46.91812 69.888474,40.4271 z M 90.004747,122.6703 C 76.550209,117.63801 69.825047,101.82445 ' +
                    '75.898143,89.5 c 2.136718,-4.33615 7.147144,-9.356192 11.754399,-11.776953 5.578622,-2.931141 16.413098,-2.927504 22.052908,0.0074 18.03,9.382663 ' +
                    '19.07573,32.784373 1.91442,42.841563 -5.57282,3.26589 -15.830952,4.2617 -21.615123,2.09829 z';
                break;
            case 'DotRectangle':
                shape = 'm 23.847458,101.19491 0,-72.499995 74.5,0 74.499992,0 0,72.499995 0,72.5 -74.499992,0 -74.5,0 0,-72.5 z m 133.999992,-0.008 0,-57.507925 ' +
                    '-59.249992,0.25793 -59.25,0.25793 -0.25819,57.249995 -0.258189,57.25 59.508189,0 59.508182,0 0,-57.50793 z m -94.320573,33.85402 c -0.37368,-0.37368 ' +
                    '-0.679419,-15.67942 -0.679419,-34.01275 l 0,-33.333335 35.513302,0 35.51329,0 -0.2633,33.749995 -0.2633,33.75 -34.570573,0.26275 c -19.013819,0.14452 ' +
                    '-34.876319,-0.043 -35.25,-0.41666 z';
                break;
            case 'NoneCircle':
                shape = 'M 83.5,170.5936 C 61.222296,165.50719 42.345957,150.33003 32.354827,129.47131 23.553942,111.09749 23.832186,87.423523 33.071432,68.5 ' +
                    '42.034121,50.14291 61.020189,34.597509 81,29.257079 c 10.235111,-2.735756 31.26466,-2.427393 40.96476,0.600679 26.18668,8.174684 46.06876,28.926852 ' +
                    '51.62012,53.879155 2.43666,10.95232 1.56754,28.058527 -1.98036,38.977597 -6.65679,20.48707 -25.64801,38.95163 -47.32647,46.01402 -6.3909,2.08202 ' +
                    '-10.18566,2.59644 -21.27805,2.88446 -9.033909,0.23456 -15.484929,-0.10267 -19.5,-1.01939 z m 30,-15.098 c 20.68862,-4.34363 38.01874,-20.45437 ' +
                    '44.09844,-40.9956 2.36228,-7.9813 2.36228,-22.018707 0,-29.999997 C 151.93673,65.371023 136.48295,50.297336 116.5,44.412396 108.40056,42.027127 ' +
                    '92.588762,42.026386 84.542711,44.410896 64.307734,50.407697 48.5342,66.039237 43.452758,85.130959 c -1.948821,7.322 -1.86506,23.116411 ' +
                    '0.158766,29.937541 8.730326,29.42481 38.97193,46.91812 69.888476,40.4271 z';
                break;
            case 'NoneRectangle':
                shape = 'm 24.152542,102.04237 0,-72.499997 74.5,0 74.500008,0 0,72.499997 0,72.5 -74.500008,0 -74.5,0 0,-72.5 z m 133.758198,0.25 ' +
                    '-0.25819,-57.249997 -59.000008,0 -59,0 -0.259695,55.999997 c -0.142833,30.8 -0.04446,56.5625 0.218615,57.25 0.375181,0.98048 ' +
                    '13.207991,1.25 59.517885,1.25 l 59.039583,0 -0.25819,-57.25 z';
                break;
        }
        return head + path + shape + '" /></svg>';
    }
};
EditableFieldsService.ctorParameters = () => [
    { type: ControllerService },
    { type: ModelService },
    { type: HelperService }
];
EditableFieldsService = __decorate([
    Injectable()
], EditableFieldsService);
export { EditableFieldsService };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdGFibGUtZmllbGRzLnNlcnZpY2UuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9zdGltdWxzb2Z0LXZpZXdlci1hbmd1bGFyLyIsInNvdXJjZXMiOlsibGliL3NlcnZpY2VzL2VkaXRhYmxlLWZpZWxkcy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRXpELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFHakQsSUFBYSxxQkFBcUIsR0FBbEMsTUFBYSxxQkFBcUI7SUFNaEMsWUFBb0IsVUFBNkIsRUFBVSxLQUFtQixFQUFVLE1BQXFCO1FBQXpGLGVBQVUsR0FBVixVQUFVLENBQW1CO1FBQVUsVUFBSyxHQUFMLEtBQUssQ0FBYztRQUFVLFdBQU0sR0FBTixNQUFNLENBQWU7UUFKdEcsWUFBTyxHQUFHLEtBQUssQ0FBQztRQUNoQixtQkFBYyxHQUFHLEVBQUUsQ0FBQztRQUt6QixVQUFVLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxPQUFnQixFQUFFLEVBQUU7WUFDM0QsUUFBUSxPQUFPLENBQUMsTUFBTSxFQUFFO2dCQUN0QixLQUFLLFFBQVE7b0JBQ1gsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7b0JBQzdCLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTt3QkFDaEIsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7cUJBQzlCO3lCQUFNO3dCQUNMLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO3FCQUM5QjtvQkFDRCxNQUFNO2FBQ1Q7UUFDSCxDQUFDLENBQUMsQ0FBQztRQUVILFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxT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OEYsQ0FBQztnQkFDakcsTUFBTTtZQUVSLEtBQUssY0FBYztnQkFDakIsS0FBSyxHQUFHLDJJQUEySTtvQkFDakosdUpBQXVKO29CQUN2Six3SkFBd0o7b0JBQ3hKLHFDQUFxQyxDQUFDO2dCQUN4QyxNQUFNO1lBRVIsS0FBSyxZQUFZO2dCQUNmLEtBQUssR0FBRyx1SUFBdUk7b0JBQzdJLHNKQUFzSjtvQkFDdEosbUpBQW1KO29CQUNuSixpSkFBaUo7b0JBQ2pKLGtKQUFrSjtvQkFDbEoseUlBQXlJO29CQUN6SSw0RUFBNEUsQ0FBQztnQkFDL0UsTUFBTTtZQUVSLEtBQUssZUFBZTtnQkFDbEIsS0FBSyxHQUFHLDRIQUE0SDtvQkFDbEksK0hBQStIO29CQUMvSCwrREFBK0QsQ0FBQztnQkFDbEUsTUFBTTtTQUNUO1FBRUQsT0FBTyxJQUFJLEdBQUcsSUFBSSxHQUFHLEtBQUssR0FBRyxZQUFZLENBQUM7SUFDNUMsQ0FBQztDQUNGLENBQUE7O1lBbFJpQyxpQkFBaUI7WUFBaUIsWUFBWTtZQUFrQixhQUFhOztBQU5sRyxxQkFBcUI7SUFEakMsVUFBVSxFQUFFO0dBQ0EscUJBQXFCLENBd1JqQztTQXhSWSxxQkFBcUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbnRyb2xsZXJTZXJ2aWNlIH0gZnJvbSAnLi9jb250cm9sbGVyLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnLi9vYmplY3RzJztcclxuaW1wb3J0IHsgTW9kZWxTZXJ2aWNlIH0gZnJvbSAnLi9tb2RlbC5zZXJ2aWNlJztcclxuaW1wb3J0IHsgSGVscGVyU2VydmljZSB9IGZyb20gJy4vaGVscGVyLnNlcnZpY2UnO1xyXG5cclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgRWRpdGFibGVGaWVsZHNTZXJ2aWNlIHtcclxuXHJcbiAgcHVibGljIHZpc2libGUgPSBmYWxzZTtcclxuICBwdWJsaWMgZWRpdGFibGVGaWVsZHMgPSBbXTtcclxuICBwdWJsaWMgY3VycmVudEVkaXRhYmxlVGV4dEFyZWE6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjb250cm9sbGVyOiBDb250cm9sbGVyU2VydmljZSwgcHJpdmF0ZSBtb2RlbDogTW9kZWxTZXJ2aWNlLCBwcml2YXRlIGhlbHBlcjogSGVscGVyU2VydmljZSkge1xyXG5cclxuICAgIGNvbnRyb2xsZXIuZ2V0QWN0aW9uTWVzc2FnZSgpLnN1YnNjcmliZSgobWVzc2FnZTogTWVzc2FnZSkgPT4ge1xyXG4gICAgICBzd2l0Y2ggKG1lc3NhZ2UuYWN0aW9uKSB7XHJcbiAgICAgICAgY2FzZSAnRWRpdG9yJzpcclxuICAgICAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7XHJcbiAgICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0FsbEVkaXRhYmxlRmllbGRzKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVBbGxFZGl0YWJsZUZpZWxkcygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnRyb2xsZXIuZ2V0TWVzc2FnZSgpLnN1YnNjcmliZSgobWVzc2FnZSkgPT4ge1xyXG4gICAgICBpZiAobWVzc2FnZS5hY3Rpb24gPT09ICdHZXRQYWdlcycgJiYgdGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnNob3dBbGxFZGl0YWJsZUZpZWxkcygpKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHNob3dBbGxFZGl0YWJsZUZpZWxkcygpIHtcclxuICAgIHRoaXMuZWRpdGFibGVGaWVsZHMgPSBbXTtcclxuXHJcbiAgICB0aGlzLm1vZGVsLnBhZ2VzLmZvckVhY2goKHBhZ2UsIHBhZ2VJbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBwYWdlRWxlbWVudHMgPSBwYWdlLnBhZ2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKTtcclxuICAgICAgZm9yIChjb25zdCBwYWdlRWxlbWVudCBvZiBwYWdlRWxlbWVudHMpIHtcclxuICAgICAgICBjb25zdCBlZGl0YWJsZVN0ckF0dHIgPSBwYWdlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2VkaXRhYmxlJyk7XHJcbiAgICAgICAgaWYgKGVkaXRhYmxlU3RyQXR0cikge1xyXG4gICAgICAgICAgY29uc3QgYXR0ckFycmF5ID0gZWRpdGFibGVTdHJBdHRyLnNwbGl0KCc7Jyk7XHJcbiAgICAgICAgICBjb25zdCBwYXJhbXM6IGFueSA9IHt9O1xyXG4gICAgICAgICAgcGFyYW1zLmNvbXBJbmRleCA9IGF0dHJBcnJheVswXTtcclxuICAgICAgICAgIHBhcmFtcy5wYWdlSW5kZXggPSB0aGlzLm1vZGVsLnJlcG9ydFBhcmFtcy52aWV3TW9kZSA9PT0gJ1NpbmdsZVBhZ2UnID8gdGhpcy5tb2RlbC5yZXBvcnRQYXJhbXMucGFnZU51bWJlciA6IHBhZ2VJbmRleC50b1N0cmluZygpO1xyXG4gICAgICAgICAgcGFyYW1zLnR5cGUgPSBhdHRyQXJyYXlbMV07XHJcblxyXG4gICAgICAgICAgaWYgKHBhcmFtcy50eXBlID09PSAnQ2hlY2tCb3gnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd0NoZWNrQm94RWRpdGFibGVGaWVsZChwYWdlRWxlbWVudCwgcGFyYW1zLCBhdHRyQXJyYXkpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMudHlwZSA9PT0gJ1RleHQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1RleHRFZGl0YWJsZUZpZWxkKHBhZ2VFbGVtZW50LCBwYXJhbXMpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMudHlwZSA9PT0gJ1JpY2hUZXh0Jykge1xyXG4gICAgICAgICAgICB0aGlzLnNob3dSaWNoVGV4dEVkaXRhYmxlRmllbGQocGFnZUVsZW1lbnQsIHBhcmFtcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhpZGVBbGxFZGl0YWJsZUZpZWxkcygpIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRFZGl0YWJsZVRleHRBcmVhKSB7IHRoaXMuY3VycmVudEVkaXRhYmxlVGV4dEFyZWEub25ibHVyKCk7IH1cclxuXHJcbiAgICB0aGlzLmVkaXRhYmxlRmllbGRzLmZvckVhY2goKGVGaWVsZCkgPT4ge1xyXG4gICAgICBlRmllbGQuY2xhc3NOYW1lID0gZUZpZWxkLmNsYXNzTmFtZS5yZXBsYWNlKCcgc3RpRWRpdGFibGVGaWVsZCBzdGlFZGl0YWJsZUZpZWxkU2VsZWN0ZWQnLCAnJyk7XHJcbiAgICAgIGVGaWVsZC5vbmNsaWNrID0gbnVsbDtcclxuICAgICAgZUZpZWxkLnN0eWxlLm91dGxpbmUgPSAnJztcclxuICAgIH0pO1xyXG5cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2hvd0NoZWNrQm94RWRpdGFibGVGaWVsZChlZGl0YWJsZUNlbGw6IGFueSwgcGFyYW1zOiBhbnksIGF0dHJBcnJheTogYW55W10pIHtcclxuICAgIGlmICghZWRpdGFibGVDZWxsLnNpemVzKSB7XHJcbiAgICAgIGxldCBpbWdFbGVtZW50cyA9IGVkaXRhYmxlQ2VsbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnSU1HJyk7XHJcbiAgICAgIGlmIChpbWdFbGVtZW50cy5sZW5ndGggPT09IDApIHsgaW1nRWxlbWVudHMgPSBlZGl0YWJsZUNlbGwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1NWRycpOyB9XHJcbiAgICAgIGlmIChpbWdFbGVtZW50cy5sZW5ndGggPT09IDApIHsgaW1nRWxlbWVudHMgPSBlZGl0YWJsZUNlbGwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N2ZycpOyB9XHJcbiAgICAgIGNvbnN0IGltZ0VsZW1lbnQgPSAoaW1nRWxlbWVudHMubGVuZ3RoID4gMCkgPyBpbWdFbGVtZW50c1swXSA6IG51bGw7XHJcbiAgICAgIGlmICghaW1nRWxlbWVudCkgeyByZXR1cm47IH1cclxuICAgICAgaWYgKGltZ0VsZW1lbnQub2Zmc2V0V2lkdGgpIHtcclxuICAgICAgICBlZGl0YWJsZUNlbGwuc2l6ZXMgPSB7XHJcbiAgICAgICAgICBpblBpeGVsczogaW1nRWxlbWVudC5vZmZzZXRXaWR0aCA+IGltZ0VsZW1lbnQub2Zmc2V0SGVpZ2h0ID8gaW1nRWxlbWVudC5vZmZzZXRIZWlnaHQgOiBpbWdFbGVtZW50Lm9mZnNldFdpZHRoLFxyXG4gICAgICAgICAgd2lkdGhTdHlsZTogaW1nRWxlbWVudC5zdHlsZS53aWR0aCxcclxuICAgICAgICAgIGhlaWdodFN0eWxlOiBpbWdFbGVtZW50LnN0eWxlLmhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWRpdGFibGVDZWxsLnNpemVzID0ge1xyXG4gICAgICAgICAgaW5QaXhlbHM6IGltZ0VsZW1lbnQuY2xpZW50V2lkdGggPiBpbWdFbGVtZW50LmNsaWVudEhlaWdodCA/IGltZ0VsZW1lbnQuY2xpZW50SGVpZ2h0IDogaW1nRWxlbWVudC5jbGllbnRXaWR0aCxcclxuICAgICAgICAgIHdpZHRoU3R5bGU6IGltZ0VsZW1lbnQuY2xpZW50V2lkdGggKyAncHgnLFxyXG4gICAgICAgICAgaGVpZ2h0U3R5bGU6IGltZ0VsZW1lbnQuY2xpZW50SGVpZ2h0ICsgJ3B4J1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5oZWxwZXIuZ2V0TmF2aWdhdG9yTmFtZSgpICE9PSAnR29vZ2xlIENocm9tZScpIHsgZWRpdGFibGVDZWxsLnN0eWxlLm91dGxpbmUgPSAnMXB4IHNvbGlkIGdyYXknOyB9XHJcbiAgICBlZGl0YWJsZUNlbGwuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICBlZGl0YWJsZUNlbGwuY2xhc3NOYW1lICs9ICcgc3RpRWRpdGFibGVGaWVsZCBzdGlFZGl0YWJsZUZpZWxkU2VsZWN0ZWQnO1xyXG5cclxuICAgIGNvbnN0IHRydWVTdmdJbWFnZSA9IHRoaXMuZ2V0U3ZnQ2hlY2tCb3goYXR0ckFycmF5WzNdLCBhdHRyQXJyYXlbNV0sIHRoaXMuaGVscGVyLnN0clRvSW50KGF0dHJBcnJheVs2XSksIGF0dHJBcnJheVs3XSwgZWRpdGFibGVDZWxsLnNpemVzLmluUGl4ZWxzKTtcclxuICAgIGNvbnN0IGZhbHNlU3ZnSW1hZ2UgPSB0aGlzLmdldFN2Z0NoZWNrQm94KGF0dHJBcnJheVs0XSwgYXR0ckFycmF5WzVdLCB0aGlzLmhlbHBlci5zdHJUb0ludChhdHRyQXJyYXlbNl0pLCBhdHRyQXJyYXlbN10sIGVkaXRhYmxlQ2VsbC5zaXplcy5pblBpeGVscyk7XHJcbiAgICBwYXJhbXMuZmFsc2VJbWFnZSA9IGA8ZGl2IHN0eWxlPVwid2lkdGg6ICR7ZWRpdGFibGVDZWxsLnNpemVzLndpZHRoU3R5bGV9OyBoZWlnaHQ6ICR7ZWRpdGFibGVDZWxsLnNpemVzLmhlaWdodFN0eWxlfTsgXCI+ICR7dHJ1ZVN2Z0ltYWdlfSAgPC9kaXY+YDtcclxuICAgIHBhcmFtcy50cnVlSW1hZ2UgPSBgPGRpdiBzdHlsZT1cIndpZHRoOiAke2VkaXRhYmxlQ2VsbC5zaXplcy53aWR0aFN0eWxlfTsgaGVpZ2h0OiAke2VkaXRhYmxlQ2VsbC5zaXplcy5oZWlnaHRTdHlsZX07IFwiPiAke2ZhbHNlU3ZnSW1hZ2V9IDwvZGl2PmA7XHJcbiAgICBwYXJhbXMuY2hlY2tlZCA9IGF0dHJBcnJheVsyXSA9PT0gJ3RydWUnIHx8IGF0dHJBcnJheVsyXSA9PT0gJ1RydWUnO1xyXG4gICAgZWRpdGFibGVDZWxsLnBhcmFtcyA9IHBhcmFtcztcclxuXHJcbiAgICBpZiAoIWVkaXRhYmxlQ2VsbC5oYXNDaGFuZ2VkKSB7XHJcbiAgICAgIGVkaXRhYmxlQ2VsbC5jaGVja2VkID0gcGFyYW1zLmNoZWNrZWQ7XHJcbiAgICAgIGVkaXRhYmxlQ2VsbC5pbm5lckhUTUwgPSBwYXJhbXMuY2hlY2tlZCA/IHBhcmFtcy50cnVlSW1hZ2UgOiBwYXJhbXMuZmFsc2VJbWFnZTtcclxuICAgIH1cclxuXHJcbiAgICBlZGl0YWJsZUNlbGwub25jbGljayA9ICgpID0+IHtcclxuICAgICAgZWRpdGFibGVDZWxsLmNoZWNrZWQgPSAhZWRpdGFibGVDZWxsLmNoZWNrZWQ7XHJcbiAgICAgIGVkaXRhYmxlQ2VsbC5pbm5lckhUTUwgPSBlZGl0YWJsZUNlbGwuY2hlY2tlZCA/IHBhcmFtcy50cnVlSW1hZ2UgOiBwYXJhbXMuZmFsc2VJbWFnZTtcclxuICAgICAgZWRpdGFibGVDZWxsLmhhc0NoYW5nZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLmFkZEVkaXRhYmxlUGFyYW1ldGVycyhlZGl0YWJsZUNlbGwpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVkaXRhYmxlRmllbGRzLnB1c2goZWRpdGFibGVDZWxsKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2hvd1RleHRFZGl0YWJsZUZpZWxkKGVkaXRhYmxlQ2VsbDogYW55LCBwYXJhbXM6IGFueSkge1xyXG5cclxuICAgIGVkaXRhYmxlQ2VsbC5jbGFzc05hbWUgKz0gJyBzdGlFZGl0YWJsZUZpZWxkIHN0aUVkaXRhYmxlRmllbGRTZWxlY3RlZCc7XHJcbiAgICBpZiAodGhpcy5oZWxwZXIuZ2V0TmF2aWdhdG9yTmFtZSgpICE9PSAnR29vZ2xlIENocm9tZScpIHsgZWRpdGFibGVDZWxsLnN0eWxlLm91dGxpbmUgPSAnMXB4IHNvbGlkIGdyYXknOyB9XHJcbiAgICBlZGl0YWJsZUNlbGwucGFyYW1zID0gcGFyYW1zO1xyXG4gICAgZWRpdGFibGVDZWxsLmpzT2JqZWN0ID0gdGhpcztcclxuXHJcbiAgICBlZGl0YWJsZUNlbGwub25jbGljayA9ICgpID0+IHtcclxuICAgICAgaWYgKGVkaXRhYmxlQ2VsbC5lZGl0TW9kZSkgeyByZXR1cm47IH1cclxuICAgICAgaWYgKHRoaXMuY3VycmVudEVkaXRhYmxlVGV4dEFyZWEpIHsgdGhpcy5jdXJyZW50RWRpdGFibGVUZXh0QXJlYS5vbmJsdXIoKTsgfVxyXG4gICAgICBlZGl0YWJsZUNlbGwuZWRpdE1vZGUgPSB0cnVlO1xyXG5cclxuICAgICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG4gICAgICB0ZXh0QXJlYS5zdHlsZS53aWR0aCA9IChlZGl0YWJsZUNlbGwub2Zmc2V0V2lkdGggLSA1KSArICdweCc7XHJcbiAgICAgIHRleHRBcmVhLnN0eWxlLmhlaWdodCA9IChlZGl0YWJsZUNlbGwub2Zmc2V0SGVpZ2h0IC0gNSkgKyAncHgnO1xyXG4gICAgICB0ZXh0QXJlYS5zdHlsZS5tYXhXaWR0aCA9IChlZGl0YWJsZUNlbGwub2Zmc2V0V2lkdGggLSA1KSArICdweCc7XHJcbiAgICAgIHRleHRBcmVhLnN0eWxlLm1heEhlaWdodCA9IChlZGl0YWJsZUNlbGwub2Zmc2V0SGVpZ2h0IC0gNSkgKyAncHgnO1xyXG4gICAgICB0ZXh0QXJlYS5jbGFzc05hbWUgPSBlZGl0YWJsZUNlbGwuY2xhc3NOYW1lLnJlcGxhY2UoJyBzdGlFZGl0YWJsZUZpZWxkIHN0aUVkaXRhYmxlRmllbGRTZWxlY3RlZCcsICcnKSArICcgc3RpRWRpdGFibGVUZXh0QXJlYSc7XHJcbiAgICAgIHRleHRBcmVhLnN0eWxlLmJvcmRlciA9ICcwcHgnO1xyXG5cclxuICAgICAgbGV0IHRleHRDb250YWluZXIgPSBlZGl0YWJsZUNlbGw7XHJcbiAgICAgIGlmICh0ZXh0Q29udGFpbmVyLmZpcnN0Q2hpbGQgJiYgdGV4dENvbnRhaW5lci5maXJzdENoaWxkLm5vZGVOYW1lICYmIHRleHRDb250YWluZXIuZmlyc3RDaGlsZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZGl2Jykge1xyXG4gICAgICAgIHRleHRDb250YWluZXIgPSB0ZXh0Q29udGFpbmVyLmNoaWxkTm9kZXNbMF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRleHRBcmVhLnZhbHVlID0gdGV4dENvbnRhaW5lci5pbm5lckhUTUwucmVwbGFjZSgvPGJyPi9nLCAnXFxuJyk7XHJcbiAgICAgIGVkaXRhYmxlQ2VsbC5hcHBlbmRDaGlsZCh0ZXh0QXJlYSk7XHJcbiAgICAgIHRleHRBcmVhLmZvY3VzKCk7XHJcbiAgICAgIHRoaXMuY3VycmVudEVkaXRhYmxlVGV4dEFyZWEgPSB0ZXh0QXJlYTtcclxuXHJcbiAgICAgIHRleHRBcmVhLm9uYmx1ciA9ICgpID0+IHtcclxuICAgICAgICBlZGl0YWJsZUNlbGwuZWRpdE1vZGUgPSBmYWxzZTtcclxuICAgICAgICBjb25zdCBuZXdUZXh0ID0gdGV4dEFyZWEudmFsdWU7XHJcbiAgICAgICAgdGV4dENvbnRhaW5lci5pbm5lckhUTUwgPSBuZXdUZXh0LnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpO1xyXG4gICAgICAgIGlmICh0aGlzICYmIHRleHRBcmVhLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgIHRleHRBcmVhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRFZGl0YWJsZVRleHRBcmVhID0gbnVsbDtcclxuICAgICAgICB0aGlzLmFkZEVkaXRhYmxlUGFyYW1ldGVycyhlZGl0YWJsZUNlbGwsIG5ld1RleHQpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmVkaXRhYmxlRmllbGRzLnB1c2goZWRpdGFibGVDZWxsKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgc2hvd1JpY2hUZXh0RWRpdGFibGVGaWVsZChlZGl0YWJsZUNlbGw6IGFueSwgcGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZEVkaXRhYmxlUGFyYW1ldGVycyhlZGl0YWJsZUNlbGw6IGFueSwgbmV3VGV4dD86IGFueSkge1xyXG4gICAgaWYgKCF0aGlzLm1vZGVsLnJlcG9ydFBhcmFtcy5lZGl0YWJsZVBhcmFtZXRlcnMpIHsgdGhpcy5tb2RlbC5yZXBvcnRQYXJhbXMuZWRpdGFibGVQYXJhbWV0ZXJzID0ge307IH1cclxuICAgIGNvbnN0IHBhcmFtczogYW55ID0ge307XHJcbiAgICBwYXJhbXMudHlwZSA9IGVkaXRhYmxlQ2VsbC5wYXJhbXMudHlwZTtcclxuICAgIGlmIChwYXJhbXMudHlwZSA9PT0gJ0NoZWNrQm94JykgeyBwYXJhbXMuY2hlY2tlZCA9IGVkaXRhYmxlQ2VsbC5jaGVja2VkOyB9XHJcbiAgICBpZiAocGFyYW1zLnR5cGUgPT09ICdUZXh0JykgeyBwYXJhbXMudGV4dCA9IG5ld1RleHQgIT0gbnVsbCA/IG5ld1RleHQgOiBlZGl0YWJsZUNlbGwuaW5uZXJIVE1MOyB9XHJcblxyXG4gICAgaWYgKCF0aGlzLm1vZGVsLnJlcG9ydFBhcmFtcy5lZGl0YWJsZVBhcmFtZXRlcnNbZWRpdGFibGVDZWxsLnBhcmFtcy5wYWdlSW5kZXhdKSB7IHRoaXMubW9kZWwucmVwb3J0UGFyYW1zLmVkaXRhYmxlUGFyYW1ldGVyc1tlZGl0YWJsZUNlbGwucGFyYW1zLnBhZ2VJbmRleF0gPSB7fTsgfVxyXG4gICAgdGhpcy5tb2RlbC5yZXBvcnRQYXJhbXMuZWRpdGFibGVQYXJhbWV0ZXJzW2VkaXRhYmxlQ2VsbC5wYXJhbXMucGFnZUluZGV4XVtlZGl0YWJsZUNlbGwucGFyYW1zLmNvbXBJbmRleF0gPSBwYXJhbXM7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFN2Z0NoZWNrQm94KHN0eWxlOiBzdHJpbmcsIGNvbnRvdXJDb2xvcjogc3RyaW5nLCBzaXplOiBudW1iZXIsIGJhY2tDb2xvcjogc3RyaW5nLCB3aWR0aDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBoZWFkID0gYDxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMFwiIHk9XCIwXCIgd2lkdGg9XCIke3dpZHRofXB4XCIgaGVpZ2h0PVwiJHt3aWR0aH1weFwiPmA7XHJcbiAgICBjb25zdCBwYXRoID0gYDxwYXRoIHN0cm9rZT1cIiR7Y29udG91ckNvbG9yfVwiIHN0cm9rZS13aWR0aD1cIiR7c2l6ZX1cIiBmaWxsPVwiJHtiYWNrQ29sb3J9XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgdHJhbnNmb3JtPVwic2NhbGUoJHsoMSAvICgyMDAgLyB3aWR0aCkpfSlcIiBkPVwiYDtcclxuXHJcbiAgICBsZXQgc2hhcGUgPSAnJztcclxuICAgIHN3aXRjaCAoc3R5bGUpIHtcclxuICAgICAgY2FzZSAnQ3Jvc3MnOlxyXG4gICAgICAgIHNoYXBlID0gJ20gNjIuNTY3Nzk2LDE0Ny45NzU5MyBjIC0wLjU1LC0wLjE0MjIzIC0yLjE2MjgyOCwtMC41MTI4IC0zLjU4NDA2MiwtMC44MjM0OCAtMy42NDc2NjcsLTAuNzk3MzggLTkuNjcwNDk5LC01LjgzNzc1IC0xNC4yNDI4MTcsLTExLjkxOTQ5IGwgJyArXHJcbiAgICAgICAgICAnLTMuOTAyMzQxLC01LjE5MDU4IDUuMDgwMTk5LC0xLjEzNDgxIGMgNy4zNTMwNzEsLTEuNjQyNTMgMTMuNjQwNDU2LC01LjcxNzUyIDIxLjgyNjgxMSwtMTQuMTQ2NDYgbCA3LjIwODEyOCwtNy40MjE3MSAnICtcclxuICAgICAgICAgICctNi40MTA3MzYsLTcuNTEzMzU0IGMgLTExLjc3MzEyOSwtMTMuNzk4MDMgLTE0LjM0NjcyNiwtMjMuMDE5NTQgLTguNjI3NzY5LC0zMC45MTQzNCAyLjg5NDEwOSwtMy45OTUyIDExLjgxODQ4MiwtMTIuMzY5MzMzICcgK1xyXG4gICAgICAgICAgJzEzLjE4MjA4NiwtMTIuMzY5MzMzIDAuNDExMzU2LDAgMS4wNjMwNDksMS42ODc1IDEuNDQ4MjA3LDMuNzUwMDAzIDAuOTgwNDc0LDUuMjUwMzggNi40NTYxODcsMTYuNzY1ODcgMTAuOTM2Njk0LDIzIDIuMDc1MjY2LDIuODg3NSAnICtcclxuICAgICAgICAgICczLjk5MTEyNSw1LjI1IDQuMjU3NDY0LDUuMjUgMC4yNjYzMzksMCAzLjc3NTI0MiwtMy40ODc1IDcuNzk3NTY2LC03Ljc1IDE2LjM5NzAzNCwtMTcuMzc2MTUgMjkuNjc0MTg0LC0xOS43NjQ4MSAzOC4yODA1NjQsLTYuODg2OTkgJyArXHJcbiAgICAgICAgICAnNC4xNTUyMyw2LjIxNzUzIDQuMTg2MzEsOC4wNzA5MyAwLjE0MDEyLDguMzU1MiAtNS44NDgzMywwLjQxMDg4IC0xNy4xNjI0MSw4LjUzNDIgLTI1LjUxNDY1LDE4LjMxOTEwNCBsIC00LjYzMTUzLDUuNDI1OTkgJyArXHJcbiAgICAgICAgICAnNC44NzgwMyw0LjMxNTI5IGMgNi41NTEwOCw1Ljc5NTMzIDE4Ljg5OTEsMTEuODkyNzIgMjUuODQwNzYsMTIuNzYwMDIgMy4wNDU1LDAuMzgwNTEgNS41MzcyNywxLjEwNTgyIDUuNTM3MjcsMS42MTE4IDAsMi43ODA5ICcgK1xyXG4gICAgICAgICAgJy05LjI2NjExLDE0LjQxODcyIC0xMy4wMywxNi4zNjUxMSAtNy45NjExNiw0LjExNjg3IC0xNi4zNjk5MSwwLjcxMjA3IC0zMi43NjQ1ODQsLTEzLjI2Njc3IGwgLTQuOTg1OTU3LC00LjI1MTI1IC03LjA4Njc5MSw4Ljk3MTg4IGMgJyArXHJcbiAgICAgICAgICAnLTMuODk3NzM2LDQuOTM0NTQgLTguODIxNDEsMTAuMTE5OCAtMTAuOTQxNSwxMS41MjI4MSAtMy45MDYxMjEsMi41ODQ5NSAtOC44NjU4OCw0LjQxMzM5IC0xMC42OTExNjIsMy45NDEzNiB6JztcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ0NoZWNrJzpcclxuICAgICAgICBzaGFwZSA9ICdNIDYwLjk3MjEyNSwxNjIuNDk3MDQgQyA1MS4xNzI2NzYsMTM2LjcyMjU0IDQzLjU2MTk3NSwxMjMuMzc2NjkgMzUuMzcwMzQ0LDExNy42MDI3IGwgLTQuNDU4MjcsLTMuMTQyNDggMi43NTE1OSwtMi44OTU1OSBjIDMuODc1MTIxLC00LjA3NzkzICcgK1xyXG4gICAgICAgICAgJzEwLjAzNDc0MywtNy40OTkyNCAxNC45MDI0NzIsLTguMjc3NDcgMy44NTk4NzQsLTAuNjE3MDkgNC40NTgzMDYsLTAuMzgwMjQgOC41MzU4OTcsMy4zNzgzNSAyLjY2MDY5MiwyLjQ1MjU0IDYuMjY1NTI1LDcuNjA4NTYgOS4xNjcyMjYsMTMuMTExOTYgJyArXHJcbiAgICAgICAgICAnMi42MzAyMTgsNC45ODg0OSA0LjkxMDU0Miw5LjA2OTk5IDUuMDY3Mzg4LDkuMDY5OTkgMC4xNTY4NDYsMCAyLjMxMzcyLC0zLjAzNzUgNC43OTMwNTIsLTYuNzUgQyA5Ni4yNTkxNjQsOTEuOTU2MDE1IDEyOS42ODI5OSw1OC43ODYzNzQgMTU3LjU2NDg1LDQxLjI4MTYwMyBsICcgK1xyXG4gICAgICAgICAgJzguODQ5MTMsLTUuNTU1NjU2IDIuMjYzMywyLjYzMTIzOCAyLjI2MzI5LDIuNjMxMjM3IC03Ljc2MjY2LDYuMjk0MTgzIEMgMTM5Ljg1OSw2Ni4xOTAyMyAxMDguMDE2ODIsMTA1LjUxMzYzIDg5LjA0MjcxNSwxMzguODM1NjMgYyAtNi42ODA0NzcsMTEuNzMyMTQgJyArXHJcbiAgICAgICAgICAnLTcuMTcyMzU5LDEyLjMxMjk2IC0xNS4wOTA3ODgsMTcuODE5NjMgLTQuNTAxODczLDMuMTMwNzEgLTkuMDQ0MDMxLDYuMzA0NDMgLTEwLjA5MzY4NCw3LjA1MjcxIC0xLjcwODkyMywxLjIxODI2IC0yLjAxMDY3OCwxLjA5MTY1IC0yLjg4NjExOCwtMS4yMTA5MyB6JztcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ0Nyb3NzUmVjdGFuZ2xlJzpcclxuICAgICAgICBzaGFwZSA9ICdtIDI0LjE1MjU0MiwxMDIuMDQyMzcgMCwtNzIuNDk5OTk2IDc0LjUsMCA3NC40OTk5OTgsMCAwLDcyLjQ5OTk5NiAwLDcyLjUgLTc0LjQ5OTk5OCwwIC03NC41LDAgMCwtNzIuNSB6IG0gMTMzLjc1ODE4OCwwLjI1IC0wLjI1ODE5LC01Ny4yNDk5OTYgJyArXHJcbiAgICAgICAgICAnLTU4Ljk5OTk5OCwwIC01OSwwIC0wLjI1OTY5NSw1NS45OTk5OTYgYyAtMC4xNDI4MzMsMzAuOCAtMC4wNDQ0Niw1Ni41NjI1IDAuMjE4NjE1LDU3LjI1IDAuMzc1MTgxLDAuOTgwNDggMTMuMjA3OTkxLDEuMjUgNTkuNTE3ODg1LDEuMjUgbCAnICtcclxuICAgICAgICAgICc1OS4wMzk1NzMsMCAtMC4yNTgxOSwtNTcuMjUgeiBtIC05MC41NzQwOTEsNDMuMTg2OTIgYyAtMS44MjM3NDcsLTAuMzkxMiAtNC45MjYzOTcsLTEuODU3MTYgLTYuODk0Nzc4LC0zLjI1NzY4IC0zLjMxOTI1NCwtMi4zNjE2OSAtMTIuMjg5MzE5LC0xMi40MDc0MSAnICtcclxuICAgICAgICAgICctMTIuMjg5MzE5LC0xMy43NjMwMiAwLC0wLjMyODg4IDIuNDE3NDk0LC0xLjEzODk3IDUuMzcyMjA5LC0xLjgwMDIxIDcuMTg1MTkzLC0xLjYwNzk3IDEzLjc0NzUwNSwtNS45MzQ5NiAyMS44MDMxMTQsLTE0LjM3NjMgbCA2LjY3NTMyMywtNi45OTQ5NiAnICtcclxuICAgICAgICAgICctNi4zNzkwNzgsLTcuMzE0MzYgQyA2NC45MzEzODcsODUuNzEyMzEgNjEuNjQzNjgyLDc2LjI5NDY1IDY1LjQ3MTkwMyw2OC44OTE2OSA2Ny4wNTQwOTcsNjUuODMyMDcgNzguNTYxNzUsNTQuNTQyMzc0IDgwLjA5ODI1MSw1NC41NDIzNzQgYyAwLjQ1NzQ0LDAgJyArXHJcbiAgICAgICAgICAnMS4xNDY4MzksMS42ODc1IDEuNTMxOTk3LDMuNzUgMC45ODA0NzQsNS4yNTAzODYgNi40NTYxODcsMTYuNzY1ODc2IDEwLjkzNjY5NCwyMi45OTk5OTYgMi4wNzUyNjYsMi44ODc1IDMuOTkxMTI1LDUuMjUgNC4yNTc0NjQsNS4yNSAwLjI2NjMzOSwwICcgK1xyXG4gICAgICAgICAgJzMuNzc1MjQ0LC0zLjQ4NzUgNy43OTc1NjQsLTcuNzUgMTYuMzk3MDQsLTE3LjM3NjEzOSAyOS42NzQxOSwtMTkuNzY0ODA2IDM4LjI4MDU3LC02Ljg4Njk4IDQuMTU1MjMsNi4yMTc1MiA0LjE4NjMxLDguMDcwOTIgMC4xNDAxMiw4LjM1NTE5IC01LjgyOTk2LDAuNDA5NTkgJyArXHJcbiAgICAgICAgICAnLTE4LjIzNzA3LDkuMzQ5NDIgLTI1LjkxNTY2LDE4LjY3MzI4IC0zLjkwMDY4LDQuNzM2NDcgLTMuOTcyMDMsNC45NTQxNCAtMi4yNTE0LDYuODY4NjEgMy4xOTA1NCwzLjU0OTk3IDEzLjcwMzksMTAuNTQzMjEgMTguOTcxOTEsMTIuNjE5NjcgMi44MzQyNywxLjExNzE2ICcgK1xyXG4gICAgICAgICAgJzcuNDM3MzcsMi4zMzQyMSAxMC4yMjkxMiwyLjcwNDU1IDIuNzkxNzUsMC4zNzAzNCA1LjA3NTkxLDAuOTk1NiA1LjA3NTkxLDEuMzg5NDcgMCwyLjExNDE5IC04LjM3NTA0LDEzLjIwODk1IC0xMS42NTE3LDE1LjQzNTUgLTguMzk0MjMsNS43MDQwMyAnICtcclxuICAgICAgICAgICctMTYuNjMyMDMsMi43NyAtMzQuMTQyODksLTEyLjE2MDU0IGwgLTQuOTg1OTU1LC00LjI1MTI1IC03LjA4Njc5MSw4Ljk3MTg4IGMgLTkuNzIyMzQ0LDEyLjMwODUgLTE2LjUyNDg1MiwxNi41NTk5OCAtMjMuOTQ4NTY1LDE0Ljk2NzU0IHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnQ2hlY2tSZWN0YW5nbGUnOlxyXG4gICAgICAgIHNoYXBlID0gJ20gMTkuOTE1MjU0LDEwMy41IDAsLTcyLjUgNzEuOTQyMjQ1LDAgNzEuOTQyMjQxLDAgNi41NTcyNywtNC4xMTEzOSA2LjU1NzI2LC00LjExMTM5IDEuOTY3MjIsMi4zNjEzOSBjIDEuMDgxOTcsMS4yOTg3NjUgMS45ODIxOSwyLjY0NDE2NiAyLjAwMDQ5LDIuOTg5NzggJyArXHJcbiAgICAgICAgICAnMC4wMTgzLDAuMzQ1NjE1IC0yLjQ0MTczLDIuNTM3ODQgLTUuNDY2NzMsNC44NzE2MSBsIC01LjUsNC4yNDMyMTkgMCw2OS4zNzgzOTEgMCw2OS4zNzgzOSAtNzQuOTk5OTkxLDAgLTc1LjAwMDAwNSwwIDAsLTcyLjUgeiBtIDEzMy45OTk5OTYsMy44Nzc1NiBjICcgK1xyXG4gICAgICAgICAgJzAsLTQ5LjMzOTMzIC0wLjEyOTUzLC01My41MTQ5NDcgLTEuNjIxNjksLTUyLjI3NjU2OCAtMi43ODAxNCwyLjMwNzMxMiAtMTUuNjg0MDgsMTcuOTAwNTMgLTI0LjMyODcxLDI5LjM5OTAwOCAtMTAuNDkxOSwxMy45NTU1NzUgLTIzLjQ3OTI2LDMzLjUzNzM2ICcgK1xyXG4gICAgICAgICAgJy0yOS41MTQwMjUsNDQuNSAtNC40NTczMjYsOC4wOTcwNyAtNS4xMzQ3NzYsOC44MDgxMiAtMTQuMjkxMjU2LDE1IC01LjI4NjY3LDMuNTc1IC05LjkwMzQ4Niw2LjYyNDcxIC0xMC4yNTk1OTIsNi43NzcxMiAtMC4zNTYxMDcsMC4xNTI0MiAtMS45MTI0MzksLTIuOTk3NTggJyArXHJcbiAgICAgICAgICAnLTMuNDU4NTE1LC03IC0xLjU0NjA3NywtNC4wMDI0MSAtNS4yNTgzOTQsLTEyLjQxMjA1IC04LjI0OTU5MywtMTguNjg4MDkgLTQuMjg1NDM2LC04Ljk5MTU1IC02LjY3NjU2OSwtMTIuNjQ4OTggLTExLjI3NzU4LC0xNy4yNSBDIDQ3LjcwMjgyLDEwNC42Mjc1NyAnICtcclxuICAgICAgICAgICc0NC4zNjQyNTQsMTAyIDQzLjQ5NTI1NCwxMDIgYyAtMi43OTgzNjksMCAtMS43MDQ4NzIsLTEuNjYwNDQgMy45ODM3MTcsLTYuMDQ5MTU4IDUuNTkzNTQ4LC00LjMxNTM5IDEzLjE4MzEzOSwtNy4wOTEzMDcgMTYuODAxMzEzLC02LjE0NTEzMyAzLjU1OTQxMiwwLjkzMDgwNyAnICtcclxuICAgICAgICAgICc5LjQwODQ5MSw4LjE1NDk3MyAxMy45MTk3NzUsMTcuMTkyMjQxIGwgNC40NjI4Niw4Ljk0MDI1IDQuNTQzNzgsLTYuODMzMjEgQyA5NS41MTgyMTksOTYuNjA1NjE4IDEwOC4yMTM3MSw4MS42ODg1MTcgMTI1LjgwNjk1LDYzLjc1IEwgMTQzLjIxNTMxLDQ2IGwgJyArXHJcbiAgICAgICAgICAnLTUzLjY1MDAyMSwwIC01My42NTAwMzUsMCAwLDU3LjUgMCw1Ny41IDU5LjAwMDAwNSwwIDU4Ljk5OTk5MSwwIDAsLTUzLjYyMjQ0IHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnQ3Jvc3NDaXJjbGUnOlxyXG4gICAgICAgIHNoYXBlID0gJ00gODMuMzQ3NDU4LDE3My4xMzU5NyBDIDYxLjA2OTc1NCwxNjguMDQ5NTYgNDIuMTkzNDE1LDE1Mi44NzI0IDMyLjIwMjI4NSwxMzIuMDEzNjggMjMuNDAxNCwxMTMuNjM5ODYgMjMuNjc5NjQ0LDg5Ljk2NTkwMyAzMi45MTg4OSw3MS4wNDIzNzMgJyArXHJcbiAgICAgICAgICAnNDEuODgxNTc5LDUyLjY4NTI4MyA2MC44Njc2NDcsMzcuMTM5ODgyIDgwLjg0NzQ1OCwzMS43OTk0NTIgYyAxMC4yMzUxMTEsLTIuNzM1NzU2IDMxLjI2NDY2MiwtMi40MjczOTMgNDAuOTY0NzYyLDAuNjAwNjc5IDI2LjE4NjY4LDguMTc0Njg0ICcgK1xyXG4gICAgICAgICAgJzQ2LjA2ODc2LDI4LjkyNjg1MiA1MS42MjAxMiw1My44NzkxNTUgMi40MzY2NiwxMC45NTIzMjcgMS41Njc1NCwyOC4wNTg1MjQgLTEuOTgwMzYsMzguOTc3NTk0IC02LjY1Njc5LDIwLjQ4NzA3IC0yNS42NDgwMSwzOC45NTE2MyAtNDcuMzI2NDcsNDYuMDE0MDIgJyArXHJcbiAgICAgICAgICAnLTYuMzkwOSwyLjA4MjAyIC0xMC4xODU2NiwyLjU5NjQ0IC0yMS4yNzgwNSwyLjg4NDQ2IC05LjAzMzkxMSwwLjIzNDU2IC0xNS40ODQ5MzEsLTAuMTAyNjcgLTE5LjUwMDAwMiwtMS4wMTkzOSB6IE0gMTEyLjQxMzgsMTU4LjQ1ODI1IGMgMTcuMTMxMzcsLTMuMTMwMDIgJyArXHJcbiAgICAgICAgICAnMzMuNzE3MjQsLTE1Ljk2MDgxIDQxLjQxMzUzLC0zMi4wMzc0MiAxNC44OTc1LC0zMS4xMTkwMjcgLTEuMTA4MDcsLTY3LjY1OTU4NCAtMzQuNDAyMzIsLTc4LjU0MDE0MSAtNi43MTMyOCwtMi4xOTM4OTkgLTkuOTM1NDEsLTIuNjQzNTAxICcgK1xyXG4gICAgICAgICAgJy0xOS4wNzc1NSwtMi42NjE5OTkgLTkuMzU0MjUyLC0wLjAxODkzIC0xMi4xNjIyOCwwLjM3NzUzIC0xOC43Njg1MzIsMi42NDk4NjYgLTE3LjE1NTQ1MSw1LjkwMDkxOSAtMjkuNjY5NDI2LDE3LjUzMTQyNCAtMzYuNDM4NjU4LDMzLjg2NjEzNyAnICtcclxuICAgICAgICAgICctMi4xNTIzMDEsNS4xOTM2NzggLTIuNjk0NjU4LDguMzU0NTUgLTMuMDcwOTIzLDE3Ljg5NzQ0IC0wLjUxODA1NywxMy4xMzkwNDcgMC43NDE4NDMsMTkuMjAxODg3IDYuMTExNjQ0LDI5LjQxMDIzNyA0LjEwNjgxNSw3LjgwNzMzIDE1LjQzMTg5MywxOS4wOTM1OSAnICtcclxuICAgICAgICAgICcyMy4zNjgxOCwyMy4yODgwOCAxMi4wNjEzNjIsNi4zNzQ2NyAyNy4xMzg4MjgsOC42MzU2IDQwLjg2NDYyOSw2LjEyNzggeiBNIDY5LjA5NzQ1OCwxMzMuNDE2NTQgYyAtMi44ODc1LC0yLjc1ODgxIC01LjI1LC01LjM1ODY5IC01LjI1LC01Ljc3NzUxICcgK1xyXG4gICAgICAgICAgJzAsLTAuNDE4ODIgNS42NTg1MjksLTYuMzA5NTQgMTIuNTc0NTEsLTEzLjA5MDUgbCAxMi41NzQ1MSwtMTIuMzI5IEwgNzYuMTk4MDUzLDg5LjM5MjYzMyA2My4zOTk2MjgsNzYuNTY1NzM4IDY4LjMzNTk1MSw3MS41NTQwNTYgYyAyLjcxNDk3OCwtMi43NTY0MjYgJyArXHJcbiAgICAgICAgICAnNS4zMDQ4NTksLTUuMDExNjgzIDUuNzU1MjksLTUuMDExNjgzIDAuNDUwNDMyLDAgNi41NzQzNTEsNS42MTE1NTQgMTMuNjA4NzA5LDEyLjQ3MDEyMSBsIDEyLjc4OTc0LDEyLjQ3MDExOSA0LjQyODg5LC00LjU1MzQ3MSBjIDIuNDM1ODgsLTIuNTA0NDEgJyArXHJcbiAgICAgICAgICAnOC4zOTE4NiwtOC4xODc5MjQgMTMuMjM1NTEsLTEyLjYzMDAzMiBsIDguODA2NjMsLTguMDc2NTU5IDUuMzQ3NDQsNS4yODEwMDYgNS4zNDc0Myw1LjI4MTAwNyAtMTIuOTYxNTUsMTIuNTU3ODk5IC0xMi45NjE1NCwxMi41NTc4OTcgMTMuMTMzMTgsMTMuMTYwMjcgJyArXHJcbiAgICAgICAgICAnMTMuMTMzMTksMTMuMTYwMjcgLTUuMTgzODYsNC42NjA3NCBjIC0yLjg1MTEyLDIuNTYzNCAtNS43MDQ3Miw0LjY2MDczIC02LjM0MTM0LDQuNjYwNzMgLTAuNjM2NjEsMCAtNi41NDM0LC01LjQgLTEzLjEyNjIxLC0xMiAtNi41ODI4MSwtNi42IC0xMi4zODcxLC0xMiAnICtcclxuICAgICAgICAgICctMTIuODk4NDQsLTEyIC0wLjUxMTMyOSwwIC02LjU5MzM2Myw1LjYwMDI5IC0xMy41MTU2MjcsMTIuNDQ1MDkgbCAtMTIuNTg1OTM1LDEyLjQ0NTA4IC01LjI1LC01LjAxNiB6JztcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ0RvdENpcmNsZSc6XHJcbiAgICAgICAgc2hhcGUgPSAnTSA4MS42NTI1NDIsMTcwLjU5MzYgQyA1OS4zNzQ4MzgsMTY1LjUwNzE5IDQwLjQ5ODQ5OSwxNTAuMzMwMDMgMzAuNTA3MzY5LDEyOS40NzEzMSAyMS43MDY0ODQsMTExLjA5NzQ5IDIxLjk4NDcyOCw4Ny40MjM1MyAzMS4yMjM5NzQsNjguNSAnICtcclxuICAgICAgICAgICc0MC4xODY2NjMsNTAuMTQyOTEgNTkuMTcyNzMxLDM0LjU5NzUwOSA3OS4xNTI1NDIsMjkuMjU3MDc5IDg5LjM4NzY1MywyNi41MjEzMjMgMTEwLjQxNzIsMjYuODI5Njg2IDEyMC4xMTczLDI5Ljg1Nzc1OCBjIDI2LjE4NjY4LDguMTc0Njg0ICcgK1xyXG4gICAgICAgICAgJzQ2LjA2ODc2LDI4LjkyNjg1MiA1MS42MjAxMiw1My44NzkxNTIgMi40MzY2NiwxMC45NTIzMyAxLjU2NzU0LDI4LjA1ODUzIC0xLjk4MDM2LDM4Ljk3NzYgLTYuNjU2NzksMjAuNDg3MDcgLTI1LjY0ODAxLDM4Ljk1MTYzIC00Ny4zMjY0Nyw0Ni4wMTQwMiAnICtcclxuICAgICAgICAgICctNi4zOTA5LDIuMDgyMDIgLTEwLjE4NTY2LDIuNTk2NDQgLTIxLjI3ODA1LDIuODg0NDYgLTkuMDMzOTA3LDAuMjM0NTYgLTE1LjQ4NDkyNywtMC4xMDI2NyAtMTkuNDk5OTk4LC0xLjAxOTM5IHogbSAyOS45OTk5OTgsLTE1LjA5OCBjIDIwLjY4ODYyLC00LjM0MzYzICcgK1xyXG4gICAgICAgICAgJzM4LjAxODc0LC0yMC40NTQzNyA0NC4wOTg0NCwtNDAuOTk1NiAyLjM2MjI4LC03Ljk4MTMgMi4zNjIyOCwtMjIuMDE4NyAwLC0zMCBDIDE1MC4wODkyNyw2NS4zNzEwMjMgMTM0LjYzNTQ5LDUwLjI5NzMzNiAxMTQuNjUyNTQsNDQuNDEyMzk2ICcgK1xyXG4gICAgICAgICAgJzEwNi41NTMxLDQyLjAyNzEyNyA5MC43NDEzMDQsNDIuMDI2Mzg2IDgyLjY5NTI1Myw0NC40MTA5IDYyLjQ2MDI3Niw1MC40MDc3MDEgNDYuNjg2NzQyLDY2LjAzOTI0MSA0MS42MDUzLDg1LjEzMDk2IGMgLTEuOTQ4ODIxLDcuMzIyMDEgLTEuODY1MDYsMjMuMTE2NDEgJyArXHJcbiAgICAgICAgICAnMC4xNTg3NjYsMjkuOTM3NTQgOC43MzAzMjYsMjkuNDI0ODEgMzguOTcxOTMsNDYuOTE4MTIgNjkuODg4NDc0LDQwLjQyNzEgeiBNIDkwLjAwNDc0NywxMjIuNjcwMyBDIDc2LjU1MDIwOSwxMTcuNjM4MDEgNjkuODI1MDQ3LDEwMS44MjQ0NSAnICtcclxuICAgICAgICAgICc3NS44OTgxNDMsODkuNSBjIDIuMTM2NzE4LC00LjMzNjE1IDcuMTQ3MTQ0LC05LjM1NjE5MiAxMS43NTQzOTksLTExLjc3Njk1MyA1LjU3ODYyMiwtMi45MzExNDEgMTYuNDEzMDk4LC0yLjkyNzUwNCAyMi4wNTI5MDgsMC4wMDc0IDE4LjAzLDkuMzgyNjYzICcgK1xyXG4gICAgICAgICAgJzE5LjA3NTczLDMyLjc4NDM3MyAxLjkxNDQyLDQyLjg0MTU2MyAtNS41NzI4MiwzLjI2NTg5IC0xNS44MzA5NTIsNC4yNjE3IC0yMS42MTUxMjMsMi4wOTgyOSB6JztcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ0RvdFJlY3RhbmdsZSc6XHJcbiAgICAgICAgc2hhcGUgPSAnbSAyMy44NDc0NTgsMTAxLjE5NDkxIDAsLTcyLjQ5OTk5NSA3NC41LDAgNzQuNDk5OTkyLDAgMCw3Mi40OTk5OTUgMCw3Mi41IC03NC40OTk5OTIsMCAtNzQuNSwwIDAsLTcyLjUgeiBtIDEzMy45OTk5OTIsLTAuMDA4IDAsLTU3LjUwNzkyNSAnICtcclxuICAgICAgICAgICctNTkuMjQ5OTkyLDAuMjU3OTMgLTU5LjI1LDAuMjU3OTMgLTAuMjU4MTksNTcuMjQ5OTk1IC0wLjI1ODE4OSw1Ny4yNSA1OS41MDgxODksMCA1OS41MDgxODIsMCAwLC01Ny41MDc5MyB6IG0gLTk0LjMyMDU3MywzMy44NTQwMiBjIC0wLjM3MzY4LC0wLjM3MzY4ICcgK1xyXG4gICAgICAgICAgJy0wLjY3OTQxOSwtMTUuNjc5NDIgLTAuNjc5NDE5LC0zNC4wMTI3NSBsIDAsLTMzLjMzMzMzNSAzNS41MTMzMDIsMCAzNS41MTMyOSwwIC0wLjI2MzMsMzMuNzQ5OTk1IC0wLjI2MzMsMzMuNzUgLTM0LjU3MDU3MywwLjI2Mjc1IGMgLTE5LjAxMzgxOSwwLjE0NDUyICcgK1xyXG4gICAgICAgICAgJy0zNC44NzYzMTksLTAuMDQzIC0zNS4yNSwtMC40MTY2NiB6JztcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ05vbmVDaXJjbGUnOlxyXG4gICAgICAgIHNoYXBlID0gJ00gODMuNSwxNzAuNTkzNiBDIDYxLjIyMjI5NiwxNjUuNTA3MTkgNDIuMzQ1OTU3LDE1MC4zMzAwMyAzMi4zNTQ4MjcsMTI5LjQ3MTMxIDIzLjU1Mzk0MiwxMTEuMDk3NDkgMjMuODMyMTg2LDg3LjQyMzUyMyAzMy4wNzE0MzIsNjguNSAnICtcclxuICAgICAgICAgICc0Mi4wMzQxMjEsNTAuMTQyOTEgNjEuMDIwMTg5LDM0LjU5NzUwOSA4MSwyOS4yNTcwNzkgYyAxMC4yMzUxMTEsLTIuNzM1NzU2IDMxLjI2NDY2LC0yLjQyNzM5MyA0MC45NjQ3NiwwLjYwMDY3OSAyNi4xODY2OCw4LjE3NDY4NCA0Ni4wNjg3NiwyOC45MjY4NTIgJyArXHJcbiAgICAgICAgICAnNTEuNjIwMTIsNTMuODc5MTU1IDIuNDM2NjYsMTAuOTUyMzIgMS41Njc1NCwyOC4wNTg1MjcgLTEuOTgwMzYsMzguOTc3NTk3IC02LjY1Njc5LDIwLjQ4NzA3IC0yNS42NDgwMSwzOC45NTE2MyAtNDcuMzI2NDcsNDYuMDE0MDIgLTYuMzkwOSwyLjA4MjAyICcgK1xyXG4gICAgICAgICAgJy0xMC4xODU2NiwyLjU5NjQ0IC0yMS4yNzgwNSwyLjg4NDQ2IC05LjAzMzkwOSwwLjIzNDU2IC0xNS40ODQ5MjksLTAuMTAyNjcgLTE5LjUsLTEuMDE5MzkgeiBtIDMwLC0xNS4wOTggYyAyMC42ODg2MiwtNC4zNDM2MyAzOC4wMTg3NCwtMjAuNDU0MzcgJyArXHJcbiAgICAgICAgICAnNDQuMDk4NDQsLTQwLjk5NTYgMi4zNjIyOCwtNy45ODEzIDIuMzYyMjgsLTIyLjAxODcwNyAwLC0yOS45OTk5OTcgQyAxNTEuOTM2NzMsNjUuMzcxMDIzIDEzNi40ODI5NSw1MC4yOTczMzYgMTE2LjUsNDQuNDEyMzk2IDEwOC40MDA1Niw0Mi4wMjcxMjcgJyArXHJcbiAgICAgICAgICAnOTIuNTg4NzYyLDQyLjAyNjM4NiA4NC41NDI3MTEsNDQuNDEwODk2IDY0LjMwNzczNCw1MC40MDc2OTcgNDguNTM0Miw2Ni4wMzkyMzcgNDMuNDUyNzU4LDg1LjEzMDk1OSBjIC0xLjk0ODgyMSw3LjMyMiAtMS44NjUwNiwyMy4xMTY0MTEgJyArXHJcbiAgICAgICAgICAnMC4xNTg3NjYsMjkuOTM3NTQxIDguNzMwMzI2LDI5LjQyNDgxIDM4Ljk3MTkzLDQ2LjkxODEyIDY5Ljg4ODQ3Niw0MC40MjcxIHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnTm9uZVJlY3RhbmdsZSc6XHJcbiAgICAgICAgc2hhcGUgPSAnbSAyNC4xNTI1NDIsMTAyLjA0MjM3IDAsLTcyLjQ5OTk5NyA3NC41LDAgNzQuNTAwMDA4LDAgMCw3Mi40OTk5OTcgMCw3Mi41IC03NC41MDAwMDgsMCAtNzQuNSwwIDAsLTcyLjUgeiBtIDEzMy43NTgxOTgsMC4yNSAnICtcclxuICAgICAgICAgICctMC4yNTgxOSwtNTcuMjQ5OTk3IC01OS4wMDAwMDgsMCAtNTksMCAtMC4yNTk2OTUsNTUuOTk5OTk3IGMgLTAuMTQyODMzLDMwLjggLTAuMDQ0NDYsNTYuNTYyNSAwLjIxODYxNSw1Ny4yNSAwLjM3NTE4MSwwLjk4MDQ4ICcgK1xyXG4gICAgICAgICAgJzEzLjIwNzk5MSwxLjI1IDU5LjUxNzg4NSwxLjI1IGwgNTkuMDM5NTgzLDAgLTAuMjU4MTksLTU3LjI1IHonO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBoZWFkICsgcGF0aCArIHNoYXBlICsgJ1wiIC8+PC9zdmc+JztcclxuICB9XHJcbn1cclxuIl19