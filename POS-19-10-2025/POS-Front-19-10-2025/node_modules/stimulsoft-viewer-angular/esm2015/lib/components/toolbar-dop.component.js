import { __decorate } from "tslib";
import { Component, Input, ViewChild } from '@angular/core';
import { ModelService } from '../services/model.service';
import { ToolbarService } from '../services/toolbar.service';
import { ControllerService } from '../services/controller.service';
let ToolbarDopComponent = class ToolbarDopComponent {
    constructor(model, controller, toolbarService) {
        this.model = model;
        this.controller = controller;
        this.toolbarService = toolbarService;
        this.marginLeft = '1px';
        this.viewInit = false;
    }
    ngAfterViewInit() {
        this.viewInit = true;
        setTimeout(() => {
            var _a, _b;
            const width = (_b = (_a = this.mainTable) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.offsetWidth;
            this.marginLeft = this.viewInit && this.model.options.toolbar.alignment === 'Center' && width ? `calc(50% - ${Math.trunc(width / 2)}px)` : '1px';
        });
    }
    ngOnInit() { }
};
ToolbarDopComponent.ctorParameters = () => [
    { type: ModelService },
    { type: ControllerService },
    { type: ToolbarService }
];
__decorate([
    ViewChild('mainTable')
], ToolbarDopComponent.prototype, "mainTable", void 0);
__decorate([
    Input()
], ToolbarDopComponent.prototype, "comps", void 0);
__decorate([
    Input()
], ToolbarDopComponent.prototype, "align", void 0);
ToolbarDopComponent = __decorate([
    Component({
        selector: 'sti-toolbar-dop',
        template: `
    <table #mainTable
      class="stiJsViewerClearAllStyles"
      cellpadding="0"
      cellspacing="0"
      style="margin: 1px;"
      [attr.align]="align"
      [style.marginLeft]="marginLeft">
      <tbody>
        <tr class="stiJsViewerClearAllStyles">
          <td *ngFor="let comp of comps" class="stiJsViewerClearAllStyles">
            <sti-button *ngIf="comp.type=='button'"
              [caption]="model.options.toolbar.showButtonCaptions ? comp.caption : null"
              [imageName]="comp.img"
              [arrow]="!model.options.isMobileDevice ? comp.arrow : null"
              [menuItems]="comp.menuItems"
              [actionName]="comp.action"
              [tooltip]="comp.tooltip"
              [enabled]="toolbarService.enabled(comp)"
              [display]="toolbarService.display(comp)"
              [innerTableWidth]="toolbarService.getInnerTableWidth(comp)"
              [width]="toolbarService.getButonWidth(comp)"
              [height]="model.options.toolbar.displayMode == 'Separated' ? (model.options.isMobileDevice ? '0.5in' : '28px') : null"
              (action)="controller.action({ name: comp.action });"
              [selected]="toolbarService.selected(comp)"></sti-button>
            <sti-toolbar-separator *ngIf="comp.type=='separator'"></sti-toolbar-separator>
            <sti-page-control *ngIf="comp.type=='pageControl'" [enabled]="!(model.reportParams.pagesCount <= 1 || toolbarService.disableNaviButtons())" [count]="model.reportParams.pagesCount" ></sti-page-control>
        </td>
      </tr>
    </tbody>
  </table>
  `
    })
], ToolbarDopComponent);
export { ToolbarDopComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9vbGJhci1kb3AuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vc3RpbXVsc29mdC12aWV3ZXItYW5ndWxhci8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL3Rvb2xiYXItZG9wLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxLQUFLLEVBQWMsU0FBUyxFQUFpQixNQUFNLGVBQWUsQ0FBQztBQUMvRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDekQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQzdELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBdUNuRSxJQUFhLG1CQUFtQixHQUFoQyxNQUFhLG1CQUFtQjtJQVc5QixZQUFtQixLQUFtQixFQUFTLFVBQTZCLEVBQVMsY0FBOEI7UUFBaEcsVUFBSyxHQUFMLEtBQUssQ0FBYztRQUFTLGVBQVUsR0FBVixVQUFVLENBQW1CO1FBQVMsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBSjVHLGVBQVUsR0FBRyxLQUFLLENBQUM7UUFFMUIsYUFBUSxHQUFHLEtBQUssQ0FBQztJQUVzRyxDQUFDO0lBRXhILGVBQWU7UUFDYixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUVyQixVQUFVLENBQUMsR0FBRyxFQUFFOztZQUNkLE1BQU0sS0FBSyxlQUFHLElBQUksQ0FBQyxTQUFTLDBDQUFFLGFBQWEsMENBQUUsV0FBVyxDQUFDO1lBQ3pELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxLQUFLLFFBQVEsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLGNBQWMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ25KLENBQUMsQ0FBQyxDQUFDO0lBRUwsQ0FBQztJQUVELFFBQVEsS0FBSyxDQUFDO0NBRWYsQ0FBQTs7WUFkMkIsWUFBWTtZQUFxQixpQkFBaUI7WUFBeUIsY0FBYzs7QUFUM0Y7SUFBdkIsU0FBUyxDQUFDLFdBQVcsQ0FBQztzREFBdUI7QUFFckM7SUFBUixLQUFLLEVBQUU7a0RBQStCO0FBQzlCO0lBQVIsS0FBSyxFQUFFO2tEQUFlO0FBTFosbUJBQW1CO0lBcEMvQixTQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsaUJBQWlCO1FBQzNCLFFBQVEsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQStCVDtLQUNGLENBQUM7R0FFVyxtQkFBbUIsQ0F5Qi9CO1NBekJZLG1CQUFtQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgRWxlbWVudFJlZiwgVmlld0NoaWxkLCBBZnRlclZpZXdJbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE1vZGVsU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL21vZGVsLnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBUb29sYmFyU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3Rvb2xiYXIuc2VydmljZSc7XHJcbmltcG9ydCB7IENvbnRyb2xsZXJTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29udHJvbGxlci5zZXJ2aWNlJztcclxuaW1wb3J0IHsgQ29tcG9uZW50RGVzY3JpcHRpb24gfSBmcm9tICcuLi9zZXJ2aWNlcy9vYmplY3RzJztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAnc3RpLXRvb2xiYXItZG9wJyxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPHRhYmxlICNtYWluVGFibGVcclxuICAgICAgY2xhc3M9XCJzdGlKc1ZpZXdlckNsZWFyQWxsU3R5bGVzXCJcclxuICAgICAgY2VsbHBhZGRpbmc9XCIwXCJcclxuICAgICAgY2VsbHNwYWNpbmc9XCIwXCJcclxuICAgICAgc3R5bGU9XCJtYXJnaW46IDFweDtcIlxyXG4gICAgICBbYXR0ci5hbGlnbl09XCJhbGlnblwiXHJcbiAgICAgIFtzdHlsZS5tYXJnaW5MZWZ0XT1cIm1hcmdpbkxlZnRcIj5cclxuICAgICAgPHRib2R5PlxyXG4gICAgICAgIDx0ciBjbGFzcz1cInN0aUpzVmlld2VyQ2xlYXJBbGxTdHlsZXNcIj5cclxuICAgICAgICAgIDx0ZCAqbmdGb3I9XCJsZXQgY29tcCBvZiBjb21wc1wiIGNsYXNzPVwic3RpSnNWaWV3ZXJDbGVhckFsbFN0eWxlc1wiPlxyXG4gICAgICAgICAgICA8c3RpLWJ1dHRvbiAqbmdJZj1cImNvbXAudHlwZT09J2J1dHRvbidcIlxyXG4gICAgICAgICAgICAgIFtjYXB0aW9uXT1cIm1vZGVsLm9wdGlvbnMudG9vbGJhci5zaG93QnV0dG9uQ2FwdGlvbnMgPyBjb21wLmNhcHRpb24gOiBudWxsXCJcclxuICAgICAgICAgICAgICBbaW1hZ2VOYW1lXT1cImNvbXAuaW1nXCJcclxuICAgICAgICAgICAgICBbYXJyb3ddPVwiIW1vZGVsLm9wdGlvbnMuaXNNb2JpbGVEZXZpY2UgPyBjb21wLmFycm93IDogbnVsbFwiXHJcbiAgICAgICAgICAgICAgW21lbnVJdGVtc109XCJjb21wLm1lbnVJdGVtc1wiXHJcbiAgICAgICAgICAgICAgW2FjdGlvbk5hbWVdPVwiY29tcC5hY3Rpb25cIlxyXG4gICAgICAgICAgICAgIFt0b29sdGlwXT1cImNvbXAudG9vbHRpcFwiXHJcbiAgICAgICAgICAgICAgW2VuYWJsZWRdPVwidG9vbGJhclNlcnZpY2UuZW5hYmxlZChjb21wKVwiXHJcbiAgICAgICAgICAgICAgW2Rpc3BsYXldPVwidG9vbGJhclNlcnZpY2UuZGlzcGxheShjb21wKVwiXHJcbiAgICAgICAgICAgICAgW2lubmVyVGFibGVXaWR0aF09XCJ0b29sYmFyU2VydmljZS5nZXRJbm5lclRhYmxlV2lkdGgoY29tcClcIlxyXG4gICAgICAgICAgICAgIFt3aWR0aF09XCJ0b29sYmFyU2VydmljZS5nZXRCdXRvbldpZHRoKGNvbXApXCJcclxuICAgICAgICAgICAgICBbaGVpZ2h0XT1cIm1vZGVsLm9wdGlvbnMudG9vbGJhci5kaXNwbGF5TW9kZSA9PSAnU2VwYXJhdGVkJyA/IChtb2RlbC5vcHRpb25zLmlzTW9iaWxlRGV2aWNlID8gJzAuNWluJyA6ICcyOHB4JykgOiBudWxsXCJcclxuICAgICAgICAgICAgICAoYWN0aW9uKT1cImNvbnRyb2xsZXIuYWN0aW9uKHsgbmFtZTogY29tcC5hY3Rpb24gfSk7XCJcclxuICAgICAgICAgICAgICBbc2VsZWN0ZWRdPVwidG9vbGJhclNlcnZpY2Uuc2VsZWN0ZWQoY29tcClcIj48L3N0aS1idXR0b24+XHJcbiAgICAgICAgICAgIDxzdGktdG9vbGJhci1zZXBhcmF0b3IgKm5nSWY9XCJjb21wLnR5cGU9PSdzZXBhcmF0b3InXCI+PC9zdGktdG9vbGJhci1zZXBhcmF0b3I+XHJcbiAgICAgICAgICAgIDxzdGktcGFnZS1jb250cm9sICpuZ0lmPVwiY29tcC50eXBlPT0ncGFnZUNvbnRyb2wnXCIgW2VuYWJsZWRdPVwiIShtb2RlbC5yZXBvcnRQYXJhbXMucGFnZXNDb3VudCA8PSAxIHx8IHRvb2xiYXJTZXJ2aWNlLmRpc2FibGVOYXZpQnV0dG9ucygpKVwiIFtjb3VudF09XCJtb2RlbC5yZXBvcnRQYXJhbXMucGFnZXNDb3VudFwiID48L3N0aS1wYWdlLWNvbnRyb2w+XHJcbiAgICAgICAgPC90ZD5cclxuICAgICAgPC90cj5cclxuICAgIDwvdGJvZHk+XHJcbiAgPC90YWJsZT5cclxuICBgXHJcbn0pXHJcblxyXG5leHBvcnQgY2xhc3MgVG9vbGJhckRvcENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCB7XHJcblxyXG4gIEBWaWV3Q2hpbGQoJ21haW5UYWJsZScpIG1haW5UYWJsZTogRWxlbWVudFJlZjtcclxuXHJcbiAgQElucHV0KCkgY29tcHM6IENvbXBvbmVudERlc2NyaXB0aW9uW107XHJcbiAgQElucHV0KCkgYWxpZ246IHN0cmluZztcclxuXHJcbiAgcHVibGljIG1hcmdpbkxlZnQgPSAnMXB4JztcclxuXHJcbiAgdmlld0luaXQgPSBmYWxzZTtcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIG1vZGVsOiBNb2RlbFNlcnZpY2UsIHB1YmxpYyBjb250cm9sbGVyOiBDb250cm9sbGVyU2VydmljZSwgcHVibGljIHRvb2xiYXJTZXJ2aWNlOiBUb29sYmFyU2VydmljZSkgeyB9XHJcblxyXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMudmlld0luaXQgPSB0cnVlO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zdCB3aWR0aCA9IHRoaXMubWFpblRhYmxlPy5uYXRpdmVFbGVtZW50Py5vZmZzZXRXaWR0aDtcclxuICAgICAgdGhpcy5tYXJnaW5MZWZ0ID0gdGhpcy52aWV3SW5pdCAmJiB0aGlzLm1vZGVsLm9wdGlvbnMudG9vbGJhci5hbGlnbm1lbnQgPT09ICdDZW50ZXInICYmIHdpZHRoID8gYGNhbGMoNTAlIC0gJHtNYXRoLnRydW5jKHdpZHRoIC8gMil9cHgpYCA6ICcxcHgnO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7IH1cclxuXHJcbn1cclxuIl19