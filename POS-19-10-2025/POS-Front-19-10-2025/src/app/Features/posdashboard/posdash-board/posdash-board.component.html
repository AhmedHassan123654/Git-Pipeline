<app-breadcrumbs></app-breadcrumbs>
<form #frmRef="ngForm" (ngSubmit)="firstOpenDashBoard(frmRef.value)">
  <section class="mt-3 dashboard-saleOfPoints">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <div class="input-group editInputGroup">
            <div class="input-group-addon">
              <i class="fas fa-user" aria-hidden="true"></i>
            </div>
            <div class="input-group">
              <ejs-multiselect name="UsersList" class="form-control borderRadius" [(ngModel)]="userList"
                [dataSource]="usersList" [fields]="userFlds" placeholder="Users" id="users_list"></ejs-multiselect>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="input-group editInputGroup">
            <div class="input-group-addon">
              <img src="assets/images/calendar.gif" alt="" srcset="">
            </div>
            <div class="input-group">
              <ejs-datepicker class="form-control" placeholder="From" format="dd/MM/yyyy" name="FromDate"
                [(ngModel)]="responseObj.FromDate"></ejs-datepicker>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="input-group editInputGroup">
            <div class="input-group-addon">
              <img src="assets/images/calendar.gif" alt="" srcset="">
            </div>
            <div class="input-group">
              <ejs-datepicker class="form-control" placeholder="To" format="dd/MM/yyyy" name="ToDate"
                [(ngModel)]="responseObj.ToDate"></ejs-datepicker>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="btn-filter d-flex justify-content-end">
            <button type="submit" class="btn btn-primary btn-filter">
              <i class="fas fa-filter"></i>
              <span class="px-2">{{ "Shared.filter" | translate }}</span>
            </button>
          </div>
        </div>
        <div class="mt-3 col-xl-6 col-lg-6 col-md-6 col-xs-12 col-sm-12 col-12">
          <div class="container-fluid">
            <div class="row">
              <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="">
                  <div class="row">
                    <div class="col-lg-12 mb-2">
                      <h4>{{ "Shared.statistics" | translate }}</h4>
                    </div>
                    <div class="col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12 col-12 mb-3"
                      *ngIf="!data.SubTotalFromRangeTo">
                      <div class="card">
                        <div class="card-body d-flex justify-content-column justify-content-around">
                          <div class="card-icon">
                            <i class="fa fa-cogs"></i>
                          </div>
                          <div class="card-text">
                            <p>{{ "Shared.today-sales" | translate }}</p>
                            <p>
                              {{ data.CurrentDaySubTotal | currency : " " : "symbol" : fraction }}
                              <!-- <span>
                                                              <i class="fa fa-dollar-sign"></i>
                                                          </span> -->
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12 col-12 mb-3"
                      *ngIf="!data.SubTotalFromRangeTo">
                      <div class="card">
                        <div class="card-body d-flex justify-content-column justify-content-around">
                          <div class="card-icon">
                            <i class="fa fa-line-chart" aria-hidden="true"></i>
                          </div>
                          <div class="card-text">
                            <p>{{ "Shared.weekly-sales" | translate }}</p>
                            <p>
                              {{ data.CurrentWeekSubTotal | currency : " " : "symbol" : fraction }}
                              <!-- <span>
                                                              <i class="fa fa-dollar-sign"></i>
                                                          </span> -->
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12 col-12 mb-3"
                      *ngIf="!data.SubTotalFromRangeTo">
                      <div class="card">
                        <div class="card-body d-flex justify-content-column justify-content-around">
                          <div class="card-icon">
                            <i class="fa fa-line-chart" aria-hidden="true"></i>
                          </div>
                          <div class="card-text">
                            <p>{{ "Shared.monthly-sales" | translate }}</p>
                            <p>
                              {{ data.CurrentMonthSubTotal | currency : " " : "symbol" : fraction }}
                              <!-- <span>
                                                              <i class="fa fa-dollar-sign"></i>
                                                          </span> -->
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12 col-12 mb-3"
                      *ngIf="!data.SubTotalFromRangeTo">
                      <div class="card">
                        <div class="card-body d-flex justify-content-column justify-content-around">
                          <div class="card-icon">
                            <i class="fa fa-line-chart"></i>
                          </div>
                          <div class="card-text">
                            <p>{{ "Shared.yearly-sales" | translate }}</p>
                            <p>
                              {{ data.YearSubTotal | currency : " " : "symbol" : fraction }}
                              <!-- <span>
                                                              <i class="fa fa-dollar-sign"></i>
                                                          </span> -->
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-6 col-xl-6 col-md-6 col-sm-12 col-xs-12 col-12 mb-3"
                      *ngIf="data.SubTotalFromRangeTo>0">
                      <div class="card">
                        <div class="card-body d-flex justify-content-column justify-content-around">
                          <div class="card-icon">
                            <i class="fa fa-cogs"></i>
                          </div>
                          <div class="card-text">

                            <p>{{ "Reports.Fromdate" | translate }}</p><span>{{ responseObj.FromDate | date :
                              "yyyy/MM/dd"}}</span>
                            <p>{{ "Reports.Todate" | translate }}</p><span>{{ responseObj.ToDate | date :
                              "yyyy/MM/dd"}}</span>
                            <p>{{ "Reports.TotalSales" | translate }}</p><span>{{ data.SubTotalFromRangeTo | currency :
                              " " : "symbol" : fraction }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="mt-3 col-xl-6 col-lg-6 col-md-6 col-xs-12 col-sm-12 col-12">
          <div class="container-fluid">
            <div class="col-xl-12 col-lg-12 mb-3">
              <h4>{{ "Shared.bestselling-meals" | translate }}</h4>
            </div>
            <div class="col-xl-12 col-lg-12">
              <div class="card">
                <div class="card-body">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-lg-6" *ngFor="let product of data.MostProductSales; index as i">
                        <div class="card-content d-flex justify-content-between">
                          <div class="meal-details d-flex justify-content-column">
                            <img [src]="imgURL + product.PicturePath | defaultImg : defaultIm" alt="" />

                            <div class="meal-name">
                              <span class="fs-14 fw-700 name">{{ product.ProductName }}</span>
                              <span class="fs-14">
                                <span class="amount">{{ "ExtraExpenses.Amount" | translate }}:</span>
                                <span class="quantity"> {{ product.productCount }}</span>
                              </span>
                            </div>
                          </div>
                          <div class="meal-price">
                            <span>{{ product.ProductSubTotal | currency : " " : "symbol" : fraction }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="card">
                      <div class="card-body"> -->
          <!--    <div class="title-card d-flex justify-content-between mb-3">
                              <h5 class="mb-2">{{'Shared.bestselling-meals' | translate}}</h5>
                              <span>
                                  <ejs-dropdownlist id='ddlelement'></ejs-dropdownlist>
                              </span>
                          </div> -->
          <!--                         
                          <div class="container-fluid">
                              <div class="row">
                                  
                              </div>
                          </div> -->
          <!-- </div>
                  </div> -->
        </div>
        <div class="col-xl-12 col-lg-12 col-md-12 col-xs-12 col-sm-12 col-12 mt-3">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-12">
                <ejs-chart id="chart-container" [primaryXAxis]="primaryXAxis" [primaryYAxis]="primaryYAxis"
                  [legendSettings]="legendSettings" [tooltip]="tooltip" [title]="title">
                  <e-series-collection>
                    <e-series [dataSource]="ChartList" type="Line" xName="Day" yName="SubTotal" name="Sales"
                      [marker]="marker"></e-series>
                  </e-series-collection>
                </ejs-chart>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</form>

<div *ngIf="requestStarted" id="preloader-wrap">
  <div class="col-md-9 d-flex justify-content-center align-items-center">
    <!-- <div class="spinner spinner-7 text-center p-0 m-0 w-100">
      <img src="assets/images/logo2.png" class="logo2 img-fluid" alt="" srcset="" />
      <br />
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div> -->
    <div class="new-spinner">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</div>