<!--reload-->
<div *ngIf="requestStarted" id="preloader-wrap">
  <div class="col-md-9 d-flex justify-content-center align-items-center">
    <div class="new-spinner">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</div>
<!--  My Popup AllOrders With All Details -->
<div class="ms-panel-popup" *ngIf="!controlpopup">
  <div class="ms-panel">
    <div class="ms-panel-header">
      <h6>{{ "kds.orders" | translate }}</h6>
      <!--  <button class="btn" id="close-popup" (click)="ClosePopup()">
        <i class="fas fa-times"></i>
      </button> -->
    </div>
    <div class="ms-panel-body">
      <!-- Select Cashier -->
      <div class="d-flex justify-content-between align-items-center">
        <div class="col-md-4 d-flex flex-column mb-1">
          <label for="validationCustom19">
            {{ "Shared.Cashier" | translate }}
          </label>
          <div class="input-group editInputGroup">
            <div class="input-group-addon">
              <i class="fa fa-calendar" aria-hidden="true"></i>
            </div>
            <div class="input-group">
              <ejs-combobox
                name="OrderCaShierId"
                #OrderCaShierId="ngModel"
                [(ngModel)]="filtterOrder.AppUserID"
                [allowFiltering]="true"
                [autofill]="true"
                [dataSource]="CashierList"
                [fields]="cashierFlds"
                class="form-control borderRadius"
                id="OrderCaShierId_id"></ejs-combobox>
            </div>
          </div>
        </div>

        <div class="col-md-4 mb-1 d-flex flex-column">
          <label for="validationCustom19">
            {{ "Shared.fromdata" | translate }}
          </label>
          <div class="input-group">
            <ejs-datepicker
              class="pAsolute absolutePosition"
              [format]="dateOnlyFormat"
              name="date"
              #date="ngModel"
              [(ngModel)]="filtterOrder.FromDate"
              class="form-control borderRadius Prelative"
              id="date"
              [placeholder]="dateOnlyFormat"></ejs-datepicker>
          </div>
        </div>
        <div class="col-md-4 mb-1 d-flex flex-column">
          <label for="validationCustom19">
            {{ "Shared.todata" | translate }}
          </label>
          <div class="input-group">
            <ejs-datepicker
              class="pAsolute absolutePosition"
              [format]="dateOnlyFormat"
              name="date"
              #date="ngModel"
              [(ngModel)]="filtterOrder.ToDate"
              class="form-control borderRadius Prelative"
              id="date"
              [placeholder]="dateOnlyFormat"></ejs-datepicker>
          </div>
        </div>
        <!--filter Customers-->

        
      </div>
      <div class="d-flex justify-content-between align-items-center">

        <div class="col-md-4 d-flex flex-column mb-1">
          <label for="validationCustom19">
            {{ "manageorder.Customer" | translate }}
          </label>
          <div class="input-group editInputGroup">
            <div class="input-group-addon">
              <i class="fa fa-calendar" aria-hidden="true"></i>
            </div>
            <div class="input-group">
              <ejs-combobox
                name="CustomerDocumentId"
                #CustomerDocumentId="ngModel"
                [(ngModel)]="filtterOrder.CustomerDocumentId"
                (filtering)='filterCustomers($event)'
                [allowFiltering]="true"
                [autofill]="true"
                [dataSource]="customers"
                [fields]="customerFlds"
                class="form-control borderRadius"
                [placeholder]="'Shared.searchByPhoneorNumber' | translate"
                id="CustomerDocumentId_id"></ejs-combobox>
            </div>
          </div>
        </div>
        <div class="col-md-2 d-flex flex-column mb-1">
          <label for="validationCustom19">
            {{ "delivery.orderNumber" | translate }}
          </label>
          <div class="input-group editInputGroup">
            <div class="input-group">
              <input [(ngModel)]="filtterOrder.OrderNumber" type="number" class="form-control borderRadius"
                [placeholder]="'delivery.orderNumber' | translate" >
            </div>
          </div>
        </div>

        <div class="col-md-2">
          <button class="btn btn-primary btn-filter d-flex" id="close-popup" (click)="FilterOrders()">
            <i class="fas fa-filter"></i>
            <span class="px-2">{{ "Shared.filter" | translate }}</span>
          </button>
        </div>
      <!--IsMultiOrders-->
        <div class="col-md-5 pt-3">
          <div class="row d-flex pr-xs-0">
            <div class="col-md-6 d-flex justify-content-start align-items-center label1">
              <label>{{ "ReturnOrder.IsMultiOrders" | translate }}:</label>
            </div>
            <div class="col-md-5 paddingLeftz">
              <div class="input-group">
                <input type="checkbox" name="IsMultiOrders" #IsMultiOrders="ngModel"
                  [(ngModel)]="responseobj.IsMultiOrders" class="form-control borderRadius"/>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="control-section">
        <div class="e-mastertext"></div>

        <!-- (rowSelected)="onRowSelected($event)" -->
        <ejs-grid
          #mastergrid
          id="mastergrid"
          [dataSource]="Orders"
          [allowPaging]="true"
          [pageSettings]="pageSettings"
          >
          <e-columns>
            <e-column field="DocumentId" headerText="DocumentId" [visible]="false"></e-column>

            <e-column field="IsView" headerText="{{ 'Shared.view' | translate }}" editType="booleanedit"
              type="boolean" [allowFiltering]="false" [allowSorting]="false">
              <ng-template #template let-data>
                <div>
                  <ejs-checkbox #checkbox [checked]="data.IsView" (change)="checkboxChangemastergrid($event)"></ejs-checkbox>
                </div>
              </ng-template>
            </e-column>
            <e-column field="OrderNumber" headerText="{{ 'delivery.orderNumber' | translate }}"></e-column>
            <e-column field="OrderTypeName" headerText="{{ 'Shared.ordertype' | translate }}"></e-column>
            <e-column field="CashierName" headerText="{{ 'Shared.Cashier' | translate }}"></e-column>

            <e-column headerText="{{ 'delivery.Actions' | translate }}" width="300" textAlign="center">
              <ng-template #template let-data>
                  <button  type="button" (click)="PrintOrder(data.DocumentId)" class="btn btn-info btnEdit m-0">
                    {{ "Shared.Show" | translate }}
                  </button>
              </ng-template>
            </e-column>

          </e-columns>
        </ejs-grid>

        <!-- <br /><br /><br />

        <ejs-grid #detailgrid id="detailgrid" [dataSource]="OrderDetails" [allowSelection]="false">
          <e-columns>
            <e-column field="ProductName" headerText="{{ 'Shared.productName' | translate }}"></e-column>
            <e-column field="RealPrice" headerText="{{ 'Shared.ProductPrice' | translate }}"></e-column>
            <e-column field="ProductQuantity" headerText="{{ 'Shared.ProductQuantity' | translate }}"></e-column>
          </e-columns>
        </ejs-grid> -->
      </div>
    </div>
    <div class="ms-panel-footer d-flex justify-content-around">
      <button class="btn btn-close" id="close-popup" (click)="ClosePopup()">
        <i class="fas fa-ban">{{ "Shared.Close" | translate }}</i>
      </button>
      <span>&nbsp;</span>
      <button class="btn btn-view" id="close-popup" (click)="GetthisOrderData()">
        {{ "pagetransactions.View" | translate }}
      </button>
    </div>
  </div>
</div>
<app-breadcrumbs></app-breadcrumbs>
<form name="ÙŒReturnOrderform" class="" #frmRef="ngForm" (ngSubmit)="(frmRef.form.valid)" novalidate>
  <app-pagetransactions
    [form]="frmRef"
    [service]="service"
    [formobj]="responseobj"
    [request]="request"
    [breakSave]="breakSave"
    [actionFromParnt]="actionFromParnt"
    [_print]="Print"
    (afterPag)="afterPag($event)"
    (quickEvents)="quickEvents($event)"
    [pageNumber]="pageNumber">
  </app-pagetransactions>
  <div class="col-md-12">
    <div class="ms-panel-fh">
      <div class="cont">
        <div class="ms-panel rounded">
          <div class="ms-panel-body clearfix">
            <div class="tab-content">
              <div class="row">
                <div class="col-md-4">
                  <div class="container-fluid">
                    <div class="row">
                      <div class="col-12">
                        <div class="row cashier-order__info">
                          <div *ngIf="!responseobj.IsMultiOrders" class="col-md-4 mb-1 d-flex flex-column text-center">
                            <div class="cashier-info__card">
                              <span>{{ "delivery.orderNumber" | translate }}</span>
                              <div>
                                <span  class="cashier-info__item">{{ myOrder.OrderNumber }}</span>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4 mb-1 d-flex flex-column text-center">
                            <div class="cashier-info__card">
                              <span>{{ "ReturnOrder.ReturnNumber" | translate }}</span>
                              <div>
                                <span class="cashier-info__item">{{ responseobj.ReturnOrderNumber }}</span>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4 mb-1 d-flex flex-column text-center">
                            <div class="cashier-info__card">
                              <span>{{ "delivery.CustomerName" | translate }}</span>
                              <div>
                                <span class="cashier-info__item">{{ myOrder.CustomerName }}</span>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="d-flex flex-column">
                              <label for="validationCustom19" class="form-label">
                                {{ "ReturnOrder.ReturnOrderDate" | translate }}
                              </label>
                              <ejs-datepicker
                                class="pAsolute absolutePosition"
                                format="MM/dd/yyyy"
                                name="date"
                                #date="ngModel"
                                [(ngModel)]="responseobj.ReturnDate"
                                [ngClass]="{
                                  'is-invalid': frmRef.submitted && date.invalid
                                }"
                                class="form-control borderRadius Prelative"
                                id="date"
                                placeholder="mm/dd/yyyy"
                                required
                                [enabled]="false"
                                readonly="true"></ejs-datepicker>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div *ngIf="!responseobj.IsMultiOrders"  class="d-flex flex-column">
                              <label class="form-label"> {{ "delivery.orderDate" | translate }}</label>
                              <ejs-datepicker
                                readonly="true"
                                format="MM/dd/yyyy"
                                name="date2"
                                #date2="ngModel"
                                [(ngModel)]="myOrder.Date"
                                class="form-control borderRadius Prelative"
                                id="date2"
                                placeholder="mm/dd/yyyy"></ejs-datepicker>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="d-flex flex-column">
                              <label class="form-label"> {{ "ReturnOrder.ReturnCashierName" | translate }}</label>
                              <img
                                src="assets/images/order-cashier.png"
                                alt=""
                                srcset=""
                                class="cashier-img" />
                              <ejs-combobox
                                name="CashierId"
                                #CashierId="ngModel"
                                [(ngModel)]="responseobj.CashierId"
                                [allowFiltering]="true"
                                [autofill]="true"
                                [dataSource]="CashierList"
                                [fields]="cashierFlds"
                                class="form-control borderRadius"
                                id="CashierId_id"
                                [enabled]="false"
                                [readonly]="settings.PreventChangeCashierInReturnOrder"></ejs-combobox>
                              <div
                                class=""
                                *ngIf="
                                  (frmRef.submitted && CashierId.invalid) || (CashierId.invalid && CashierId.touched)
                                ">
                                <div class="alert alert-danger editAlertCash" *ngIf="CashierId.errors.required">
                                  {{ "ReturnOrder.CashierNamerequired" | translate }}
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div *ngIf="!responseobj.IsMultiOrders"  class="d-flex flex-column">
                              <label class="form-label"> {{ "ReturnOrder.OrderCashierName" | translate }}</label>
                              <img
                                src="assets/images/order-cashier.png"
                                alt=""
                                srcset=""
                                class="cashier-img" />
                              <ejs-combobox
                                name="ClosingUserId"
                                #ClosingUserId="ngModel"
                                [(ngModel)]="myOrder.ClosingUserId"
                                [allowFiltering]="true"
                                [autofill]="true"
                                [dataSource]="CashierList"
                                [fields]="cashierFlds"
                                class="form-control borderRadius"
                                id="ClosingUser_Id"
                                readonly></ejs-combobox>
                            </div>
                          </div>

                          <div class="col-md-12" *ngFor="let detail of responseobj.POSReturnOrderPayments; index as i">
                            <div class="row">
                              <div class="col-md-6">
                                <label class="form-label"> {{ "manageorder.payName" | translate }}</label>
                                  <select
                                        [(ngModel)]="detail.PayTypeDocumentId"
                                        id="PaymentTypeId_Id"
                                        name="PaymentTypeId"
                                        #PaymentTypeId="ngModel"
                                        class="form-control borderRadius w-80"
                                        (change)="ShowCustomers($event)"
                                        [required]="isRequired"
                                        [disabled]="disableflage"
                                        >
                                        <option
                                          *ngFor="let paymentType of paymentTypeList"
                                          [ngValue]="paymentType.DocumentId"
                                          [disabled]="disableflage">
                                          {{ paymentType.Name }}
                                        </option>
                                      </select>
                                <!-- <div
                                  class=""
                                  *ngIf="
                                    (frmRef.submitted && PaymentTypeId.invalid) ||
                                    (PaymentTypeId.invalid && PaymentTypeId.touched)
                                  ">
                                  <div class="alert alert-danger editAlertCash" *ngIf="PaymentTypeId.errors.required">
                                    {{ "ReturnOrder.PayTypeRequired" | translate }}
                                  </div>
                                </div> -->
                              </div>
                              <div class="col-md-6">
                                <div *ngIf="!responseobj.IsMultiOrders" class="text-center cashier-info__payment">
                                  <div class="form-label">{{ "manageorder.Pay Amount" | translate }}</div>
                                  <div class="text-center pt-2 payment-price">
                                    <span>{{ detail.PayAmount | currency : " " : "symbol" : fraction}} <i class="fas fa-dollar-sign px-2"></i></span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-12 mt-2" *ngIf="selectedInvoiceOrderType ==2 && !responseobj.IsMultiOrders" >
                            <div class="d-flex delivery-section">
                              <div class="delivery-icon">
                                <img src="assets/images/payment-type.png" alt="" srcset="" />
                              </div>
                              <label class="form-label">{{ "Shared.returnDeliveryPrice" | translate }}</label>
                              <div class="toggle-btn">
                                <label class="switch">
                                  <input
                                    type="checkbox"
                                    (change)="ReturnDeliveryPrice()"
                                    [(ngModel)]="checkReturnDelivery"
                                    name="checkReturnDelivery"
                                    [disabled]="disableflage" />
                                  <span class="slider round"></span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-12 mt-2" *ngIf="responseobj && responseobj.Order && responseobj.Order.ServiceChargeValue && !responseobj.IsMultiOrders">
                            <div class="d-flex delivery-section">
                              <div class="delivery-icon">
                                <img src="assets/images/payment-type.png" alt="" srcset="" />
                              </div>
                              <label class="form-label">{{ "Shared.returnServiceCharge" | translate }}</label>
                              <div class="toggle-btn">
                                <label class="switch">
                                  <input
                                    type="checkbox"
                                    [checked]="responseobj.isServiceChargeReturned"
                                    (change)="returnServiceCharge()"
                                    name="isServiceChargeReturned"
                                    [disabled]="disableflage" />
                                  <span class="slider round"></span>
                                </label>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-12 mt-2" *ngIf="responseobj && responseobj.Order && responseobj.Order.MinimumChargeValue && !responseobj.IsMultiOrders">
                            <div class="d-flex delivery-section">
                              <div class="delivery-icon">
                                <img src="assets/images/payment-type.png" alt="" srcset="" />
                              </div>
                              <label class="form-label">{{ "Shared.returnMinCharge" | translate }}</label>
                              <div class="toggle-btn">
                                <label class="switch">
                                  <input
                                    type="checkbox"
                                    [checked]="responseobj.isMinChargeReturned"
                                    (change)="returnMinCharge()"
                                    name="isMinChargeReturned"
                                    [disabled]="disableflage" />
                                  <span class="slider round"></span>
                                </label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12 mt-3">
                        <table class="table table-bordered mb-0">
                          <thead class="bg-tabel text-center">
                            <tr>
                              <th scope="col">
                                {{ "Shared.invoicesummary" | translate }}
                              </th>
                              <th scope="col">{{ "Shared.Price" | translate }}</th>
                            </tr>
                          </thead>
                          <tbody
                            class="text-center editTd"
                            *ngFor="let x of invoiceSummaryArr; let i = index"
                            data-dismiss="modal">
                            <tr>
                              <th scope="row">
                                {{ "ReturnOrder.NetTotal" | translate }}
                              </th>
                              <td>{{ x.NetTotal | currency : " " : "symbol" : fraction }}</td>
                            </tr>
                            <tr>
                              <th scope="row">
                                {{ "Shared.ServiceChargeValue" | translate }}
                              </th>
                              <td>{{ x.ServiceChargeValue | currency : " " : "symbol" : fraction }}</td>
                            </tr>
                            <tr>
                              <th scope="row">
                                {{ "Order.Total Discount" | translate }}
                              </th>
                              <td>
                                {{ x.TotalDiscountAmount | currency : " " : "symbol" : fraction }}
                              </td>
                            </tr>
                            <tr>
                              <th scope="row">{{ "Order.Total Tax" | translate }}</th>
                              <td>
                                {{ x.TotalTaxAmount | currency : " " : "symbol" : fraction }}
                              </td>
                            </tr>
                            <tr>
                              <th scope="row">{{ "Shared.DeliveryPrice" | translate }}</th>
                              <td>
                                {{ x.DeliveryPrice | currency : " " : "symbol" : fraction }}
                              </td>
                              <!-- <td *ngIf="!checkReturnDelivery">0.00</td> -->
                            </tr>
                            <tr *ngIf="responseobj.isMinChargeReturned">
                              <th scope="row">{{ "kds.Minimumchargedifferance" | translate }}</th>
                              <td>
                                {{ x.MinimumChargeDifferance | currency : " " : "symbol" : fraction }}
                              </td>
                            </tr>
                           <!--<tr>
                              <th scope="row">{{ "Shared.ServiceChargeAndDeliveryTaxes" | translate }}</th>
                              <td>
                                {{ x.OrderMasterTaxesTotal | currency : " " : "symbol" : fraction }}
                              </td>
                            </tr>-->
                            <tr>
                              <th scope="row">{{ "ReturnOrder.SubTotal" | translate }}</th>
                              <td>{{ x.SubTotal | currency : " " : "symbol" : fraction }}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- return order info table -->
                <div class="col-md-8">
                  <div class="row">
                    <div class="col-12 d-flex align-items-center" *ngIf="showHideReturnOrderList">
                      <div class="select-all__return-items">
                        <input
                          type="checkbox"
                          (change)="SelectAllReturnOrder()"
                          [(ngModel)]="selectAllIsCheckedUnChecked"
                          name="selectAllIschecked" />
                        <span class="label">{{ "Shared.SelectAll" | translate }}</span>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div class="return-product__card" *ngIf="showHideReturnOrderList">
                        <div class="container-fluid">
                          <div class="row">
                            <div
                              class="col-xl-2 col-md-2"
                              *ngFor="let returnItem of responseobj.POSReturnOrderDetails; let i = index">
                              <button
                                class="return-item__name d-flex flex-column"
                                (click)="SetReturnQty(returnItem)"
                                data-toggle="modal"
                                [ngClass]="returnItem.RemaindQuantity == 0 || returnItem.StartTime ? 'disabled' : ''"
                                [disabled]="disableflage || returnItem.StartTime">
                                <div class="d-flex justify-content-between return-item__Qty w-100">
                                  <span class="label"> {{ "Shared.ProductQuantity" | translate }}</span>
                                  <div>
                                    <span class="value">{{ returnItem.ProductQuantity }}</span>
                                  </div>
                                </div>
                                <div class="d-flex flex-column justify-content-center w-100">
                                  <span class="fw-600 name">{{ returnItem.ProductName }}</span>
                                  <span *ngIf="!responseobj.IsMultiOrders" class="py-1">{{ returnItem.RealPrice }}
                                    <i class="fas fa-dollar-sign text-success"></i>
                                  </span>
                                  <span *ngIf="responseobj.IsMultiOrders" class="py-1"># {{ returnItem.OrderNumber }}
                                  </span>
                                </div>
                                <div class="d-flex justify-content-between return-item__Qty w-100">
                                  <span class="label"> {{ "Shared.RemaindQuantity" | translate }}</span>
                                  <div>
                                    <span class="value">{{ returnItem.RemaindQuantity }}</span>
                                  </div>
                                </div>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="return-product__card" *ngIf="!showHideReturnOrderList">
                        <span class="no-list__case">{{ "Shared.return-list" | translate }}</span>
                      </div>
                    </div>
                    <!-- table of return order items -->
                    <div class="col-md-12 mt-3">
                      <div class="return-order-info__table">
                        <table class="table">
                          <thead>
                            <tr>
                              <th scope="col" class="">
                                <input
                                  type="checkbox"
                                  (change)="selectAllReturnOrder()"
                                  [(ngModel)]="selectAllIsCheckedUnChecked"
                                  name="selectAllIschecked" />
                              </th>
                              <th scope="col">#</th>
                              <th scope="col">
                                {{ "Shared.productName" | translate }}
                              </th>
                              <th  *ngIf="responseobj.IsMultiOrders"  scope="col">
                                {{ "ReturnOrder.OrderNumber" | translate }}
                              </th>
                              <th scope="col">
                                {{ "Shared.ReturnedQuantity" | translate }}
                              </th>
                              <th scope="col">
                                {{ "Shared.RemaindQuantity" | translate }}
                              </th>
                              <th scope="col">
                                {{ "Shared.ProductQuantity" | translate }}
                              </th>
                              <th scope="col">
                                {{ "Shared.DiscountAmount" | translate }}
                              </th>
                              <th scope="col">
                                {{ "Shared.TaxAmount" | translate }}
                              </th>
                              <th scope="col">
                                {{ "Shared.RealPrice" | translate }}
                              </th>
                              <th scope="col">
                                {{ "Order.Total Payable" | translate }}
                              </th>
                              <th scope="col">
                                {{ "Reports.CancellationReason" | translate }}
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let p of returnOrderList; let i = index" data-dismiss="modal">
                              <td>
                                <input
                                  type="checkbox"
                                  name="Ischecked{{ i }}"
                                  [(ngModel)]="p.Ischecked"
                                  (change)="checkboxChangegrid(p, i)"
                                  [disabled]="disableflage" />
                              </td>
                              <td>{{ i + 1 }}</td>
                              <td>{{ p.ProductName }}</td>
                              <td  *ngIf="responseobj.IsMultiOrders" >{{ p.OrderNumber }}</td>
                              <td class="td__input">
                                {{ p.ReturnedQuantity }}
                                <!-- <input
                                  type="text"
                                  [numbersOnly]="p.ReturnedQuantity"
                                  [allowDecimals]="p.UseWeights"
                                  #ReturnedQuantity
                                  name="ReturnedQuantity{{ i }}"
                                  [(ngModel)]="p.ReturnedQuantity"
                                  (keyup)="CalculateReturnOrderTotal()"
                                  disabled
                                  [readonly]="!p.Ischecked" /> -->
                              </td>
                              <td>{{ p.RemaindQuantity }}</td>
                              <td>{{ p.ProductQuantity }}</td>
                              <td>{{ p.DiscountAmount | currency : " " : "symbol" : fraction}}</td>
                              <td>{{ p.TaxAmount | currency : " " : "symbol" : fraction }}</td>
                              <td>{{ p.RealPrice | currency : " " : "symbol" : fraction}}</td>
                              <td>
                                {{ p.ReturnOrderTotal | currency : " " : "symbol" : fraction }}
                              </td>
                              <td class="d-flex justify-content-around">
                                <a
                                  (click)="DeleteReturnOrderItem(i)"
                                  class="delete-icon"
                                  title="{{ 'Shared.delete' | translate }}">
                                  <i class="fas fa-trash-alt"></i>
                                </a>
                                <a
                                  data-toggle="modal"
                                  data-target="#returnReasonItemModal"
                                  class="edit-icon"
                                  title="{{ 'Shared.edit' | translate }}">
                                  <i class="fas fa-edit"></i>
                                </a>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>

<!-- Report modal -->
<div class="modal fade" id="modal-5" tabindex="-1" role="dialog" aria-labelledby="modal-1">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <svg
            width="28px"
            height="27px"
            version="1.1"
            id="Layer_1"
            x="0px"
            y="0px"
            viewBox="0 0 512 512"
            style="enable-background: new 0 0 512 512"
            xml:space="preserve">
            <g>
              <g>
                <path
                  d="M324.267,366.933H187.733c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533h136.533
      c5.12,0,8.533-3.413,8.533-8.533S329.387,366.933,324.267,366.933z" />
              </g>
            </g>
            <g>
              <g>
                <path
                  d="M349.867,409.6H162.133c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533h187.733c5.12,0,8.533-3.413,8.533-8.533
      S354.987,409.6,349.867,409.6z" />
              </g>
            </g>
            <g>
              <g>
                <path
                  d="M375.467,452.267H136.533c-5.12,0-8.533,3.413-8.533,8.533c0,5.12,3.413,8.533,8.533,8.533h238.933
      c5.12,0,8.533-3.413,8.533-8.533C384,455.68,380.587,452.267,375.467,452.267z" />
              </g>
            </g>
            <g>
              <g>
                <path
                  d="M0,307.2v93.867c0,14.507,11.093,25.6,25.6,25.6h58.027l-12.8,64.853c-0.853,5.12,0,10.24,3.413,14.507
      S81.92,512,87.04,512h337.92c5.12,0,10.24-2.56,12.8-5.973c3.413-4.267,4.267-9.387,3.413-14.507l-12.8-64.853H486.4
      c14.507,0,25.6-11.093,25.6-25.6V307.2H0z M87.04,494.933l15.36-75.093l15.36-78.507h276.48l15.36,78.507l15.36,75.093H87.04z" />
              </g>
            </g>
            <g>
              <g>
                <path
                  d="M486.4,85.333h-59.733v102.4c0,23.893-18.773,42.667-42.667,42.667H128c-23.893,0-42.667-18.773-42.667-42.667v-102.4
      H25.6c-14.507,0-25.6,11.093-25.6,25.6v179.2h512v-179.2C512,96.427,500.907,85.333,486.4,85.333z" />
              </g>
            </g>
            <g>
              <g>
                <rect x="290.133px" y="145.067px" width="85.333px" height="34.133px" />
              </g>
            </g>
            <g>
              <g>
                <path
                  d="M401.067,85.333V17.067C401.067,7.68,393.387,0,384,0H128c-9.387,0-17.067,7.68-17.067,17.067v68.267H102.4v102.4
      c0,14.507,11.093,25.6,25.6,25.6h256c14.507,0,25.6-11.093,25.6-25.6v-102.4H401.067z M128,17.067h256v68.267H128V17.067z
        M392.533,187.733c0,5.12-3.413,8.533-8.533,8.533H281.6c-5.12,0-8.533-3.413-8.533-8.533v-51.2c0-5.12,3.413-8.533,8.533-8.533
      H384c5.12,0,8.533,3.413,8.533,8.533V187.733z" />
              </g>
            </g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
            <g></g>
          </svg>
          <span class="px-2"> Printer Setting</span>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <form>
          <div class="row d-flex justify-content-center align-items-center">
            <div class="col-md-10 py-2">
              <div class="row justify-content-center align-items-center">
                <div class="col-md-3 d-flex justify-content-start align-items-center label1"></div>
              </div>
            </div>
          </div>
        </form>
        <div id="myviewer"></div>

        <div></div>
      </div>
    </div>
  </div>
</div>

<!-- reason of return item modal -->
<!-- Modal -->
<div
  class="modal fade remind-modal"
  id="returnReasonItemModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{ selectedReturnProduct?.ProductName }}</h5>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-12 mb-3">
            <span> {{ "Shared.RemaindQuantity" | translate }}</span>
            <span
              class="px-2 remind-value"
              [ngClass]="selectedReturnProduct?.RemaindQuantity === 0 ? 'bg-red' : 'bg-green'"
              >{{ selectedReturnProduct?.RemaindQuantity }}</span
            >
          </div>
          <div class="col-12 mt-3">
            <div class="d-flex justify-content-center">
              <div class="plus-muins__product d-flex">
                <a class="plus" (click)="PlusProductRemindedQty(selectedReturnProduct)">
                  <i class="fas fa-plus"></i>
                </a>
                <input class="return-value__input" 
                [disabled]="!selectedReturnProduct?.UseWeights"
                [value]="selectedReturnProduct?.ReturnedQuantity"
                (input)="changeProductRemindedQty(selectedReturnProduct , $event.target.value)" />
                <a class="minus" (click)="MinusProductRemindedQty(selectedReturnProduct)">
                  <i class="fas fa-minus"></i>
                </a>
              </div>
            </div>
            <div class="col-12">
              <label class="form-label">
                {{ "ReturnOrder.Return Reason" | translate }}
              </label>
              <textarea
                class="form-control"
                [(ngModel)]="responseobj.ReturnReason"
                name="ReturnReason"
                [disabled]="disableflage"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer d-flex justify-content-between">
        <button type="button" class="btn btn-close" data-dismiss="modal">
          <i class="fas fa-ban">{{ "Shared.Close" | translate }}
          </i>
        </button>
        <button
          type="button"
          class="btn btn-view"
          data-dismiss="modal"
          data-bs-dismiss="modal"
          aria-label="Close"
          (click)="SubmitReturnOrderItems(selectedReturnProduct, selectedReturnProduct?.DocumentId)">
          {{ "Shared.Save" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
