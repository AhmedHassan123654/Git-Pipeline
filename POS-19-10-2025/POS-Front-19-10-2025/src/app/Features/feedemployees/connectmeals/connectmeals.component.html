<app-breadcrumbs></app-breadcrumbs>
<div class="col-md-12">
  <div class="pb-1 d-flex justify-content-start align-items-center">
    <button
      type="submit"
      class="btn btn-outline-info btnNav"
      (click)="SaveProducts()"
      *ngIf="request.showEdit; else false">
      <i class="far fa-save pr-1"></i>{{ "Shared.Save" | translate }}
    </button>
  </div>
</div>

<div class="col-md-12">
  <div class="ms-panel">
    <div class="ms-panel-body">
      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="row d-flex pr-xs-0">
            <div class="col-md-4 d-flex justify-content-start align-items-center label1">
              <label for="validationCustom19">{{ "Shared.Name" | translate }} </label>
            </div>
            <div class="col-md-8 paddingLeftz">
              <div class="input-group editInputGroup">
                <div class="input-group-addon">
                  <i class="fas fa-user" aria-hidden="true"></i>
                </div>
                <div class="input-group">
                  <input
                    type="text"
                    placeholder="Name"
                    [(ngModel)]="request.Name"
                    name="Name"
                    #Name="ngModel"
                    id="Name_id"
                    class="form-control borderRadius"
                    readonly />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="col-md-12">
  <accordion>
    <accordion-group
      heading="{{ 'Shared.products' | translate }}"
      class="EditingCustomClass"
      [panelClass]="customClass"
      [isOpen]="true">
      <div class="row">
        <div class="col-md-12">
          <div class="row mb-3">
            <div class="col-md-6">
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text"><i class="fas fa-search"></i></span>
                </div>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="searchTerm"
                  (input)="onSearchChange()"
                  placeholder="{{ 'kds.SearchProduct' | translate }}"
                  aria-label="Search products">
              </div>
            </div>
            <div class="col-md-6 text-md-right">
              <div class="btn-group justify-content-end align-items-center d-flex">
                <p class="m-0 px-1">{{ "Shared.ItemsPerPage" | translate }}</p>
                <select
                  (change)="onChangeSelection($event.target.value)"
                  style="width: 5rem"
                  name="NumberItems"
                  id="aantal"
                  class="form-control"
                  [(ngModel)]="NumberItems">
                  <option *ngFor="let option of options" [value]="option">
                    {{ option }}
                  </option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 p-0">
          <div class="table-responsive">
            <table class="table table-bordered text-center BottomTableReturnOrder border-radius-5">
              <thead>
                <tr>
                  <th class="d-flex justify-content-center" scope="col">
                    {{ "Shared.products" | translate }}
                  </th>
                  <th scope="col">{{ "Shared.Select" | translate }}</th>
                </tr>
              </thead>

              <tbody>
                <tr class="p-1" *ngFor="let product of pagedProductList; let i = index" data-dismiss="modal">
                  <td>{{ product.ProductName }}</td>
                  <td class="d-flex justify-content-center">
                    <input
                      type="checkbox"
                      name="IsSelected{{ i }}"
                      #IsSelected="ngModel"
                      [(ngModel)]="product.IsSelected"
                      class="form-control borderRadius"
                      (change)="selectedProduct(product)" />
                  </td>
                </tr>
              </tbody>
            </table>

            <div class="d-flex justify-content-between row align-items-center mt-3">
              <div class="col-md-6 col-sm-12">
                <p class="mb-0">
                  Showing {{ (currentPage - 1) * NumberItems + 1 }} 
                  To {{ Math.min(currentPage * NumberItems, filteredProductList?.length) }} 
                  Of {{ filteredProductList?.length }} Items
                </p>
              </div>
              <div class="col-sm-12 col-md-6">
                <div class="d-flex justify-content-end">
                  <nav aria-label="Page navigation">
                    <ul class="pagination pagination-sm mb-0">
                      <li class="page-item" [ngClass]="{'disabled': currentPage === 1}">
                        <a class="page-link" href="javascript:void(0)" (click)="setPage(1)" aria-label="First">
                          <span aria-hidden="true">&laquo;&laquo;</span>
                        </a>
                      </li>
                      <li class="page-item" [ngClass]="{'disabled': currentPage === 1}">
                        <a class="page-link" href="javascript:void(0)" (click)="setPage(currentPage - 1)" aria-label="Previous">
                          <span aria-hidden="true">&laquo;</span>
                        </a>
                      </li>
                      <li class="page-item" *ngFor="let page of getPages()" [ngClass]="{'active': page === currentPage}">
                        <a class="page-link" href="javascript:void(0)" (click)="setPage(page)">{{ page }}</a>
                      </li>
                      <li class="page-item" [ngClass]="{'disabled': currentPage === smallnumPages}">
                        <a class="page-link" href="javascript:void(0)" (click)="setPage(currentPage + 1)" aria-label="Next">
                          <span aria-hidden="true">&raquo;</span>
                        </a>
                      </li>
                      <li class="page-item" [ngClass]="{'disabled': currentPage === smallnumPages}">
                        <a class="page-link" href="javascript:void(0)" (click)="setPage(smallnumPages)" aria-label="Last">
                          <span aria-hidden="true">&raquo;&raquo;</span>
                        </a>
                      </li>
                    </ul>
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </accordion-group>
  </accordion>
</div>
