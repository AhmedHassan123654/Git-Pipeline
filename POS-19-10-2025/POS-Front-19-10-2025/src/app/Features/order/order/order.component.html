<!-- reload -->
<div *ngIf="requestStarted" id="preloader-wrap">
  <div class="col-md-9 d-flex justify-content-center align-items-center">
    <!-- <div class="spinner spinner-7 text-center p-0 m-0 w-100">
      <img src="assets/images/new-logo-nobg.png"   class="" alt="spinner img" srcset="" width="150px" height="100px" />      <br />
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div> -->
    <div class="new-spinner">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</div>

<div>
  <div [ngClass]="{ hideKeyboard: !LockedScreen }" id="pinContent">
    <div id="pinContentContent" class="form-group">
      <div style="background-color: #efefef" class="modal-body">
        <div *ngIf="LockedScreen" class="row justify-content-center">
          <div class="col-md-12 col-sm-12 pt-4 ml-5 pb-2">
            <div class="form-group row">
              <input id="PinPassword" (keyup.enter)="unLockScreen()" type="password" [(ngModel)]="orderobj.Pin"
                class="form-control col-md-9" placeholder="Pin or password" />
              <i (click)="ClearKeyboardLock()" style="border-style: double" class="fas fa-backspace m-2"></i>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="numberKeyboardLock"></div>
          </div>
        </div>

        <button type="button" (click)="unLockScreen()" class="btn btn-primary my-1 col-md-12">
          {{ "Shared.Ok" | translate }}
        </button>
      </div>
    </div>
  </div>

  <div id="OverLayPin" [ngClass]="{ OverLayPin: LockedScreen }">
    <div class="container-fluid containerAllM body-content px-0">
      <div *ngIf="ProductShowing" class="row py-2 px-3">
        <div (click)="callkeyboard()" class="btn p-1 fiixed" style="top: 90%">
          <i class="far fa-keyboard"
            style="font-size: 2rem !important; color: #fff !important; line-height: 2.5rem"></i>
        </div>

        <!--
  <div class="wrapper" style="position:fixed; z-index:999 ;top: -5px; left: -5px;">
      <div (click)="openNav()"  class="icon instagram">
          <div class="tooltip" >
          {{'Order.openmenu'|translate}}
          </div>
          <span><i class="fa fa-bars  faa-tada animated"></i></span>

      </div>
  </div> -->

        <div *ngIf="checkCanCancellOrder()" (click)="openCancelOrder()" class="btn btn-danger p-1 fiixedCancel">
          <i class="fas fa-ban"></i>
          <p style="font-size: 10px" class="p-0 m-0">Cancel</p>
        </div>
        <!-- Menu -->
        <div *ngIf="checkCol8" [ngStyle]="{'width': settingobj.ProductCartWidth + '%'}" class="coll8All mt-1 mb-0">
          <!---->
          <!--
      <div class="row">
        <div class="col-md-12 pr-3">
          <ul
            class="nav nav-tabs navTabO  nav-tabs-Order d-flex nav-justified mb-2 navAdmin"
            role="tablist"
          > -->
          <!-- *ngIf="validationList['CanViewCachierOperations']"  -->
          <!-- <li
            (click)="cahierOperation()"
              role="presentation"
              data-toggle="tooltip"
              data-placement="top"
              title="{{'Order.Cashier Operations'|translate}}">
              <div class="dropdown" style="height: 100%;">
                <a style="display: block;
                padding: 3px 8px !important;
                text-align: center;"
                class="m-0 dropdown-toggle cahierOperation action" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-clone" style="font-size: 1.5rem;"></i>
                </a>
                <div class="dropdown-menu editCahierDrop" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" href="#">Return Order</a>
                  <a class="dropdown-item" href="#">Return Insurance</a>
                  <a class="dropdown-item" href="#">Cash Receipts</a>
                  <a class="dropdown-item" href="#">End Of Day</a>
                </div>
              </div>
            </li> -->

          <!-- <li *ngIf="validationList['CanViewSales']"
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"  (click)="getAllSalesCount()"
              title="{{'Order.Sales Amount'|translate}}"
            >
              <a href="#" role="tab" data-toggle="tab">
                <span href="#" data-toggle="modal" data-target="#modal-77">
                  <i class="fas " style="font-size: 1.5rem;">
                  </i>
                </span>
              </a>
            </li> -->
          <!--modal of Sales Amount-->
          <div *ngIf="salesCount" class="modal fade" id="modal-77" tabindex="-1" role="dialog"
            aria-labelledby="modal-77">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h6 class="modal-title has-icon ms-icon-round h6Title">
                    <i class="fas fa-sort-amount-up bg-primary text-white"
                      style="font-size: 1.2rem; padding-top: 13px"></i>
                    {{ "Order.Sales Amount" | translate }}
                  </h6>
                  <button type="button" class="close" (click)="closeGroupMealModal()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                <div class="modal-body">
                  <!-- جدول الإحصائيات -->
                  <table class="table table-sm mb-3">
                    <tbody>
                        <tr>
                        <th>{{ "Order.TotalUnClosedOrders" | translate }}</th>
                        <td class="text-end fw-bold">{{ salesCount.NotPaidCount }}</td>

                        <th>{{ "Order.UnClosedOrdersCount" | translate }}</th>
                        <td class="text-end">{{ salesCount.OrderNotPaidCount }}</td>
                      </tr>
                      <tr>
                        <th>{{ "Order.TotalClosedOrders" | translate }}</th>
                        <td class="text-end">{{ salesCount.SalesCount }}</td>

                        <th>{{ "Order.ClosedOrdersCount" | translate }}</th>
                        <td class="text-end">{{ salesCount.OrderPaidCount }}</td>
                      </tr>
                      <tr>
                        <th class="py-3"></th>
                        <td class="text-end"></td>

                        <th></th>
                        <td class="text-end"></td>
                      </tr>
                      <tr>
                        <th>{{ "Order.CashReceipt" | translate }}</th>
                        <td class="text-end">{{ salesCount.CashReceipt }}</td>

                        <th>{{ "Order.ExtraExpenses" | translate }}</th>
                        <td class="text-end">{{ salesCount.ExtraExpenses }}</td>
                      </tr>
                    </tbody>
                  </table>
                  <div>
                    <h4 class="text-center fw-bold" >
                      {{ "Order.TotalByPaymentType" | translate }}
                    </h4>
                  </div>

                  <!-- جدول طرق الدفع -->
                  <table class="table table-striped table-sm">
                    <thead>
                      <tr>
                        <th *ngFor="let pay of salesCount.FinalAmount" class="text-center">
                          {{ pay.PayTypeName }}
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td *ngFor="let pay of salesCount.FinalAmount" class="text-center">
                            {{ +(pay.TotalAmount).toFixed(2) }}
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <div class="modal-footer p-1">
                  <button type="button" class="btn btn-primary my-1" data-dismiss="modal">
                    {{ "Shared.Close" | translate }}
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!--end modal of sales Amount-->

          <!-- Group Meal Combos popup -->
          <div *ngIf="groupMealParent" class="modal fade" id="modal-GroupMealCombos" tabindex="-1" role="dialog"
            aria-labelledby="modal-GroupMealCombos" data-backdrop="static"  data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">{{ getNameForProduct(groupMealParent) }}</h5>
                  <button type="button" class="close" (click)="closeGroupMealModal()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <ng-container [ngTemplateOutlet]="productsTemplate" [ngTemplateOutletContext]="{ list: getProductsForGroupMeal(groupMealParent) ,fromAria:'GroupMealPopup'}"></ng-container>

                </div>
                <div class="modal-footer p-1">
                  <button type="button" class="btn btn-primary my-1" (click)="closeGroupMealModal()">
                    {{ 'Shared.Close' | translate }}
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!-- end Group Meal Combos popup -->

          <!-- <li
              role="presentation" (click)="GetAllUnClosedOrders()"
              data-toggle="tooltip"
              data-placement="bottom"
              title="{{'Order.Search Order'|translate}}"
            >
              <a href="#" role="tab" data-toggle="tab">
                <span href="#" data-toggle="modal"
                  ><i class="fas fa-search" style="font-size: 1.5rem;"></i>
                </span>
              </a>
            </li> -->
          <!--modal of Search-->
          <div class="modal fade" id="modal-78" tabindex="-1" role="dialog" aria-labelledby="modal-78"
            data-backdrop="static">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content" *ngIf="returnedArray?.length">
                <div class="modal-header">
                  <!--
                    <div class="input-group editInputGroup">
                      <div class="input-group-addon">
                        <i  class="fas fa-search" aria-hidden="true"></i>
                      </div>
                      <div class="input-group">
                          <input autocomplete="off" [(ngModel)]="searchOrders" (input)="searchInOrders(searchOrders)" placeholder="Search ..." class="form-control borderRadius p-2" id="name" name="Name"  />
                      </div>
                    </div>  -->
                  <form *ngIf="checkUseCard()" class="form-group mr-2" id="formSearch">
                    <input class="form-control" type="search" id="CardNumber" name="CardNumber" autocomplete="off"
                      [(ngModel)]="CardNumber" (keyup.enter)="getOrderForCardNumber(CardNumber)"
                      placeholder="{{ 'Order.EnterCardNumber' | translate }}" />
                    <button (click)="getOrderForCardNumber(CardNumber)">
                      {{ "ReturnOrder.Search" | translate }}
                    </button>
                  </form>
                  <form class="form-group m-0 ml-2" id="formSearch2">
                    <input class="form-control" type="search" id="search" name="Name" autocomplete="off"
                      #searchOrders1="ngModel" [(ngModel)]="searchOrders" (input)="searchInOrders(searchOrders)"
                      (click)="setKeyBoardInput(searchOrders1)"
                      placeholder="{{ 'Dashboard.SearchHere' | translate }}" />
                  </form>
                  <button type="button" class="close" (click)="closeAllUnClosedOrdersPopup()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                <div class="modal-body">
                  <!-- <pre class="card card-block card-header">{{radioModel || 'null'}}</pre> -->
                  <div class="btn-group mb-2 toggleSelect">
                    <label [ngClass]="radioModel == 0 ? 'active' : ''" (click)="AllTypes()"
                      class="btn btnEdit btn-primary m-0 mr-1" [(ngModel)]="radioModel" btnRadio="0" role="button">{{
                      "ReturnOrder.All" | translate }}</label>
                    <label [ngClass]="radioModel == item.DocumentId ? 'active' : ''" (click)="loadType(item.DocumentId)"
                      *ngFor="let item of ordertypelistfilterd" class="btn btnEdit btn-primary m-0 mr-1"
                      [(ngModel)]="radioModel" btnRadio="{{ item.DocumentId }}" role="button">{{ item.Name }}</label>
                    <!-- <label  (click)="AllTypes()" class="btn btnEdit btn-primary  m-0" [(ngModel)]="true"
                             btnRadio="All" tabindex="0" role="button">All Type</label>
                      <label *ngFor="let item of ordertypelist" (click)="loadType(item.DocumentId)" class="btn btnEdit btn-primary m-0" [(ngModel)]="{{item.Name}}"
                             btnRadio="{{item.Name}}" tabindex="0" role="button">{{item.Name}}</label> -->
                    <!-- <label (click)="loadType(2)" class="btn btn-primary" [(ngModel)]="radioModel"
                             btnRadio="Delivery" tabindex="0" role="button">Delivery</label>
                      <label (click)="loadType(1)" class="btn btn-primary" [(ngModel)]="radioModel"
                             btnRadio="TakeAway" tabindex="0" role="button">TakeAway</label> -->
                    <!-- <label for="" *ngFor="let item of ordertypelist">{{item.Name}} {{item.Id}}</label> -->
                  </div>
                  <div class="table-responsive">
                    <table class="table table-bordered thead-primary text-center mb-0">
                      <thead>
                        <tr>
                          <th scope="col">
                            {{ "delivery.orderNumber" | translate }}
                          </th>
                          <th scope="col">{{ "Order.Table" | translate }}</th>
                          <th scope="col">
                            {{ "Printer.OrderType" | translate }}
                          </th>
                          <th scope="col">
                            {{ "delivery.Subtotal" | translate }}
                          </th>
                          <th scope="col">{{ "Reports.Date" | translate }}</th>
                          <th scope="col">
                            {{ "Reports.Customer" | translate }}
                          </th>
                          <th scope="col">{{ "Order.Address" | translate }}</th>
                          <th scope="col">
                            {{ "manageorder.WaiterOrCaptain" | translate }}
                          </th>
                          <th scope="col" *ngIf="settingobj && settingobj.UseKioskMemberId">
                            {{ "Shared.MemberId" | translate }}
                          </th>
                          <th scope="col">
                            {{ "delivery.Actions" | translate }}
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let order of returnedArray; let i = index">
                          <th scope="row">{{ order.OrderNumber }}</th>
                          <td>{{ order.TableName }}</td>
                          <td>
                            {{ getTypeName(order.OrderType) }}
                            <span *ngIf="order.IsPreparationTimeFinished" class="badge badge-danger ml-1">{{"Order.Late" | translate}}</span>
                          </td>
                          <td>
                            {{ order.SubTotal | currency : " " : "symbol" : fraction : priceLang }}
                          </td>
                          <td>{{ order.Time }}</td>
                          <td>{{ order.CustomerName }}</td>
                          <td>{{ order.AddressDescription }}</td>
                          <td >
                              <span *ngIf="order.CaptainName && order.WaiterName"> {{ "manageorder.Waiter" | translate }}:</span>
                              <span *ngIf="order.WaiterName"> {{ order.WaiterName }} </span>

                              <span *ngIf="order.CaptainName && order.WaiterName"> <br> {{ "manageorder.Captain" | translate }}:</span>
                              <span *ngIf="order.CaptainName"> {{ order.CaptainName }} </span>

                          </td>
                          <td *ngIf="settingobj && settingobj.UseKioskMemberId">{{ order.MemberId }}</td>

                          <td class="d-flex justify-content-around align-items-center">
                            <button [disabled]="disablePrint(order)"
                              (click)="printOrder(order); $('#modal-78').modal('hide')"
                              class="btn btn-primary btn-table__actions m-0">
                              <i class="fas fa-print"></i>
                              {{ "stock.Print" | translate }}
                            </button>
                            <button style="width: fit-content" (click)="selectOrder(order.DocumentId)"
                              class="btn btn-primary btn-table__actions m-0">
                              {{ "Shared.Select" | translate }}
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <pagination class="my-1 d-flex justify-content-center" [totalItems]="getLenghtOfFilterData()"
                    (pageChanged)="pageChangedSearch($event)">
                  </pagination>
                </div>
                <div class="modal-footer py-1 pr-3">
                  <button type="button" class="btn btn-primary my-1" (click)="closeAllUnClosedOrdersPopup()">
                    {{ "Shared.Close" | translate }}
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!--end modal of search-->

          <!--modal of CustomerOrders-->
          <div class="modal fade" id="modal-ReservationOrders" tabindex="-1" role="dialog"
            aria-labelledby="modal-ReservationOrders" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content" *ngIf="returnedArray2?.length">
                <div class="modal-header">
                  <form class="form-group m-0" id="formSearch3">
                    <input class="form-control" type="search" id="search" id="name" name="Name" autocomplete="off"
                      [(ngModel)]="searchOrders" (input)="searchInReservationOrders(searchOrders)"
                      placeholder="Search here ... " />
                    <button>{{ "ReturnOrder.Search" | translate }}</button>
                  </form>
                  <button type="button" class="close" (click)="closingReservationOrdersPopup()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                <div class="modal-body">
                  <div class="table-responsive">
                    <table class="table table-bordered thead-primary text-center mb-0">
                      <thead>
                        <tr>
                          <!-- <th scope="col">{{'delivery.orderNumber'|translate}}</th> -->
                          <!-- <th scope="col">{{'Order.Table'|translate}}</th> -->
                          <!-- <th scope="col">{{'Printer.OrderType'|translate}}</th> -->
                          <th scope="col">
                            {{ "delivery.Subtotal" | translate }}
                          </th>
                          <th scope="col">
                            {{ "CustomerOrder.ReceivedDate" | translate }}
                          </th>
                          <th scope="col">
                            {{ "CustomerOrder.ReceivedTime" | translate }}
                          </th>
                          <th scope="col">
                            {{ "Reports.Customer" | translate }}
                          </th>
                          <th scope="col">
                            {{ "Reports.ReceiverName" | translate }}
                          </th>
                          <th scope="col">
                            {{ "UserProfile.PhoneNumber" | translate }}
                          </th>
                          <th scope="col">
                            {{ "manageorder.Pay Amount" | translate }}
                          </th>
                          <th scope="col">
                            {{ "Order.Table" | translate }}
                          </th>
                          <th scope="col">
                            {{ "delivery.Actions" | translate }}
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let order of returnedArray2; let i = index">
                          <!-- <th scope="row">{{order.OrderNumber}}</th> -->
                          <!-- <td>{{order.TableName}}</td> -->
                          <!-- <td>{{order.OrderTypeName}}</td> -->
                          <td>
                            {{ order.SubTotal | currency : " " : "symbol" : fraction : priceLang }}
                          </td>
                          <td>{{ order.Date }}</td>
                          <td>{{ order.Time }}</td>
                          <td>{{ order.CustomerName }}</td>
                          <td>{{ order.ReceiverName }}</td>
                          <td>
                            {{ order.ReceiverPhone ? order.ReceiverPhone : order.CustomerPhone }}
                          </td>
                          <td>
                            {{ order.PayedAmountReservation | currency : " " : "symbol" : fraction : priceLang }}
                          </td>
                          <td>{{ order.TableName }}</td>

                          <td class="d-flex justify-content-around align-items-center">
                            <!-- <button  [disabled]="!validationList['CanPrint']" (click)="printOrder(order);$('#modal-78').modal('hide');" class="btn btn-primary btnEdit m-0">
                <i  class="fas fa-print"></i> {{'stock.Print'|translate}}
              </button> -->
                            <button style="width: fit-content" (click)="selectAnyOrder(order)"
                              class="btn btn-primary btnEdit m-0">
                              {{ "Shared.Select" | translate }}
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <pagination class="my-1" [totalItems]="getLenghtOfFilterReservationOrders()"
                    (pageChanged)="ReservedpageChangedSearch($event)"></pagination>
                </div>

                <div class="modal-footer py-1 pr-3">
                  <button type="button" class="btn btn-primary my-1" (click)="closingReservationOrdersPopup()">
                    {{ "Shared.Close" | translate }}
                  </button>
                </div>
              </div>
            </div>
          </div>
          <!--end modal of search-->
          <!-- <li
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"
            >
              <a href="#" role="tab" data-toggle="tab" class="DestoryTooltip">
                <span (click)="paymentClicked()">
                  <i class="fas fa-coins" style="font-size: 1.2rem;"></i>
                </span>
              </a>
            </li> -->
          <!-- <li>
              <a
                href="#"
                role="tab"
                data-toggle="tab"
                role="presentation"
                data-toggle="tooltip"
                data-placement="bottom"
                title="{{'Order.Order'|translate}}"
                ><i class="fas fa-file" style="font-size: 1.2rem;"></i>
              </a>
            </li> -->
          <!-- <li
              role="tab"
              data-toggle="tab"
              [routerLink]="['/home']"
              routerLinkActive="router-link-active"
            >
              <a
                id="elementS"
                class="DestoryTooltip"
                role="presentation"
                (click)="destoryTooltip()"
                data-toggle="tooltip"
                data-placement="bottom"
                title="{{'Order.Home'|translate}}"
                href=""
                ><i class="fas fa-home" style="font-size: 1.2rem;"></i>
              </a>
            </li> -->
          <!-- <li
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"
              title=""
            >
              <a
                href="#"
                role="tab"
                data-toggle="tab"
                (click)="openFullscreen()"
                ><i class="fas fa-compress" style="font-size: 1.2rem;"></i>
              </a>
            </li> -->
          <!-- </ul>
        </div>
      </div> -->
          <!--menu-->
          <div class="menuOrder">
            <div class="sidebar">
              <nav class="main-nav">
                <ul class="main-menu">
                  <li routerLinkActive="router-link-active" class="menu-item" style="cursor: pointer">
                    <a [routerLink]="['/home']" class="menu-a">
                      <div class="menu-txt-hld">
                        <i class="fas fa-home menu-icon"></i>
                        <span class="menu-txt"> {{ "Order.Home" | translate }}</span>
                      </div>
                    </a>
                  </li>
                  <li *ngIf="allYemekOrders && allYemekOrders.length > 0" class="menu-item" style="cursor: pointer">
                    <a (click)="showIntegrationOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <span class="bellDockerF">
                          <i class="fas fa-bell bellDocker menu-icon">
                            <div *ngIf="allYemekOrders?.length" class="container__docker">
                              {{ allYemekOrders?.length }}
                            </div>
                          </i>
                        </span>
                        <span class="menu-txt"> {{ "Shared.Notification" | translate }}</span>
                      </div>
                    </a>
                  </li>
                  <li *ngIf="validationList['CanViewSales']" class="menu-item" style="cursor: pointer">
                    <a (click)="getAllSalesCount()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-sort-amount-up menu-icon"></i>
                        <span class="menu-txt">{{ "Order.Sales Amount" | translate }}</span>
                      </div>
                    </a>
                  </li>
                  <li class="menu-item" style="cursor: pointer">
                    <a class="menu-a dropdown" target="_blank">
                      <div class="menu-txt-hld dropdown-toggle" role="button" id="dropdownMenuLink"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fas fa-user-circle menu-icon"></i>
                        <span class="menu-txt">{{ "Order.Cashier Operations" | translate }}</span>
                      </div>
                      <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        <div class="container__arrow container__arrow--tl"></div>
                        <a (click)="routToReturnOrder()"
                          class="dropdown-item">{{ "Shared.returnorder" | translate }}</a>
                        <a class="dropdown-item" [routerLink]="['/FollowOrder']" 
                        *ngIf="hasSecreenPermission('FollowOrders')">{{"Shared.followorders" | translate }}</a>
                      </div>
                    </a>
                  </li>
                  <li class="menu-item" style="cursor: pointer">
                    <a (click)="GetAllUnClosedOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-search menu-icon position-relative">
                          <i *ngIf="hasLateOrders" class="fas fa-exclamation text-danger position-absolute" style="left: -9px; top: 0"></i>
                          <div *ngIf="unClosedOrdersCount" class="container__docker">
                            {{ unClosedOrdersCount }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Order.openmenu" | translate }}</span>
                      </div>
                    </a>
                  </li>
                  <li class="menu-item fullScren">
                    <a (click)="openFullscreen()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-compress menu-icon"></i>
                        <span class="menu-txt">{{ "Order.fullScreen" | translate }}</span>
                      </div>
                    </a>
                  </li>
                  <li class="menu-item" style="cursor: pointer">
                    <a (click)="GetMobileOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-mobile menu-icon">
                          <div *ngIf="mobileOrdersCount || tableStatusesCount" class="container__docker">
                            {{ mobileOrdersCount || tableStatusesCount }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Order.openmenu" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li *ngIf="ReservationsCount && ReservationsCount > 0" class="menu-item" style="cursor: pointer">
                    <a (click)="GetAllCustomerOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fa fa-clock-o menu-icon">
                          <div class="container__docker">
                            {{ ReservationsCount }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Shared.customerorderlist" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li class="menu-item" style="cursor: pointer"
                    *ngIf="pointOfSale && pointOfSale.ReceiveCallCenter && !pointOfSale.LinkWithOnlineOrder">
                    <a (click)="GetBranchCallCenterOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-phone-volume menu-icon">
                          <div *ngIf="callCenterOrdersCount" style="margin-right: -9px" class="container__docker">
                            {{ callCenterOrdersCount }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Order.CallCenterOrders" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li class="menu-item" style="cursor: pointer"
                    *ngIf="pointOfSale && pointOfSale.ReceiveCallCenter && pointOfSale.LinkWithOnlineOrder">
                    <a (click)="GetBranchCallCenterOrdersFromOnlineOrderCallCenter()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-phone-volume menu-icon">
                          <div *ngIf="callCenterOrdersCount" style="margin-right: -9px" class="container__docker">
                            {{ callCenterOrdersCount }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Order.CallCenterOrders" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li class="menu-item" style="cursor: pointer" *ngIf="pointOfSale && pointOfSale.IsCallCenter">
                    <a (click)="GetAllCallCenterOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-phone-volume menu-icon">
                          <div *ngIf="callCenterOrdersCount" style="margin-right: -9px" class="container__docker">
                            {{ callCenterOrdersCount }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Order.CallCenterOrders" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li class="menu-item" style="cursor: pointer" *ngIf="notPrintedOrdersCount > 1">
                    <a (click)="openNotPrintedOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-print menu-icon">!
                          <div class="container__docker">
                            {{ notPrintedOrdersCount }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Order.NotPrintedOrders" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li class="menu-item" style="cursor: pointer">
                    <a (click)="openLastOrder()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-info menu-icon">
                          <div *ngIf="notPrintedKotCount" class="container__docker">
                            {{ notPrintedKotCount }}
                          </div>  
                        </i>
                        <span class="menu-txt">{{ "Order.LastOrder" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li *ngIf="pointOfSale && pointOfSale.UsingDrawer" class="menu-item" style="cursor: pointer">
                    <a (click)="openDrawer()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <img src="assets/images/Drawer.jpeg" style="margin-left: -8px; width: 50px; height: 35px"
                          class="img-fluid" />
                        <span class="menu-txt">{{ "Order.OpenDrawer" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li class="menu-item" style="cursor: pointer">
                    <a (click)="LockScreen()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-lock menu-icon"> </i>
                        <span class="menu-txt">{{ "Order.LockScreen" | translate }}</span>
                      </div>
                    </a>
                  </li>
                  <li class="menu-item" style="cursor: pointer" *ngIf="validationList['CanChangeProductProperties']">
                    <a (click)="openProductCardStyle()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fa fa-pencil-square-o menu-icon"> </i>
                        <span class="menu-txt">{{ "Order.ProductStyle" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li class="menu-item" style="cursor: pointer" *ngIf="holdedOrders?.length">
                    <a (click)="openHoldedOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-pause menu-icon">
                          <div class="container__docker">
                            {{ holdedOrders?.length }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Order.HoldedOrders" | translate }}</span>
                      </div>
                    </a>
                  </li>

                  <li class="menu-item" style="cursor: pointer" *ngIf="pendingOrdersCount > 0">
                    <a (click)="openPendingOrders()" class="menu-a" target="_blank">
                      <div class="menu-txt-hld">
                        <i class="fas fa-clock menu-icon">
                          <div class="container__docker">
                            {{ pendingOrdersCount }}
                          </div>
                        </i>
                        <span class="menu-txt">{{ "Order.PendingOrders" | translate }}</span>
                      </div>
                    </a>
                  </li>

                </ul>
              </nav>
            </div>
          </div>
          <!--menu-->
          <!---->
          <div class="row">
            <!-- Main Menu -->

            <div class="col-md-12">
              <div style="overflow: hidden !important; margin-left: 30px !important"
                class="ms-panel ms-panel-fh colMain">
                <div style="background-color: #cce0f6" class="ms-panel-header py-2">
                  <div  *ngIf="!orderobj.FoodPlanProductFilterd" style="position: relative" class="row align-items-center flex-nowrap justify-content-start">
                    <perfect-scrollbar [ngStyle]="{
                        height: (!settingobj.AutoHeight && productTypeList.length > 10) ? '5.2rem ' : (settingobj && settingobj.AutoHeight) ? '' :'2.5rem'
                      }" >
                      <!-- }" class="col-sm-12 col-xs-12"> -->
                      <ul class="nav nav-tabs d-flex flex-wrap has-gap nav-justified nav-tabs-editM align-items-center"
                        [ngStyle]="{
                          maxWidth: !settingobj.AutoHeight  ? '' : '80%'
                        }" 
                        role="tablist">
                        <li class="m-0" role="presentation" *ngFor="let PT of productTypeList; let i = index">
                          <a class="m-1 rounded" *ngIf="hasProductsInProductType(PT)" [class.active]="i == 0" (click)="loadProductGroupsDetails(PT)"
                            aria-controls="tab4" role="tab" data-toggle="tab">{{ getTypeName(PT) }}</a>
                        </li>
                      </ul>
                    </perfect-scrollbar>

                    <div style="position: absolute; bottom: -16px; right: -5px" class="editSearch">
                      <div class="row py-2" [style.z-index]="Showingkeyboard ? 1 : 999"
                        [style.opacity]="Showingkeyboard ? 0 : 1">
                        <div
                          class="form-group Prelative has-search m-0 d-flex flex-column justify-content-center align-items-center">
                          <button (click)="OkSearch()" type="button"
                            class="btnSearchEdit pAbsolute ms-btn-icon btn-pill btn-success">
                            <i class="flaticon-search faa-tada animated"></i>
                          </button>

                          <button [ngClass]="{ 'd-none': !okSearch }" (click)="clickedClear()" type="button"
                            class="btnClearEdit pAbsolute ms-btn-icon btn-pill">
                            <i class="fas fa-times"></i>
                          </button>
                          <input id="searchOrder" [ngClass]="{ active: okSearch }" name="ctrl" #ctrl="ngModel" ngModel
                            type="text" [(ngModel)]="searchTerm" (click)="setKeyBoardInput(ctrl)"
                            class="form-control FControlSearch fa fa-search py-1" placeholder="Search By Name ..." />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!--selected group-->
                <div class="ms-panel-body pt-1 pb-2">
                  <!-- Dishes row -->
                  <div class="row position-relative">
                    <div *ngIf="this.productgrouplist && this.productgrouplist.length > 1"
                      class="col-md-12 product-grouplist-container">
                      <div class="tab-content">
                        <!-- selected group  -->
                        <div *ngIf="!orderobj.FoodPlanProductFilterd" role="tabpanel" class="tab-pane active show fade in" id="tab4">
                          <div class="row">
                            <div class="col-md-12">
                              <div class="ms-panel-fh">
                                <div class="ms-panel-body px-2 py-0">
                                  <div class="row justify-content-start flex-nowrap align-items-start">
                                    <div class="col-sm-12 col-xs-12 grouplist-section d-flex" [ngStyle]="{
                                        height: !settingobj.AutoHeight ? '9vh' : '100%'
                                      }">
                                      <ul
                                        class="nav nav-tabs d-flex has-gap nav-justified nav-tabs-editM groupsUl align-items-center"
                                        role="tablist">
                                        <li class="GroupItem m-0" [style.z-index]="Showingkeyboard ? 9 : 999"
                                          role="presentation" *ngFor="let PG of productgrouplist; let i = index">
                                          <a class="rounded m-1" (click)="loadProductDetails(PG)"
                                            [ngClass]="selectedProdGroupList && selectedProdGroupList.DocumentId == PG.DocumentId ? 'active' : ''"
                                            aria-controls="tab100" role="tab" data-toggle="tab">{{ getName(PG) }}</a>
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <button [ngStyle]="dynamicStyles" class="btn-grouplist position-absolute" data-toggle="modal"
                      data-target="#productGroupList">
                      <img src="assets/images/more.png" />
                      <!-- <i class="fas fa-angle-double-right"></i> -->
                    </button>

                    <!--Dishes-->

                    <div class="col-md-12">
                      <div *ngIf="productgroupclasslist.length" style="background-color: #fff5f1" class="row">
                        <div class="col-md-12">
                          <div class="row justify-content-center flex-nowrap align-items-start">
                            <div class="col-sm-1 text-center d-xs-none">
                              <svg class="px-1" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512"
                                style="enable-background: new 0 0 512 512" xml:space="preserve" width="35px"
                                height="35px" class="">
                                <g>
                                  <g>
                                    <g>
                                      <rect x="181px" y="36.75px" width="30px" height="85px" data-original="#000000"
                                        class="active-path" data-old_color="#000000" fill="#5B4B92" />
                                    </g>
                                  </g>
                                  <g>
                                    <g>
                                      <rect x="301px" y="36.75px" width="30" height="85" data-original="#000000"
                                        class="active-path" data-old_color="#000000" fill="#5B4B92" />
                                    </g>
                                  </g>
                                  <g>
                                    <g>
                                      <rect x="241px" y="0.099px" width="30px" height="90px" data-original="#000000"
                                        class="active-path" data-old_color="#000000" fill="#5B4B92" />
                                    </g>
                                  </g>
                                  <g>
                                    <g>
                                      <path
                                        d="M472.039,428.035c-3.548-52.197-25.563-100.783-62.91-138.13c-37.347-37.346-85.933-59.361-138.129-62.909v-35.519h-30    v35.519c-52.196,3.548-100.783,25.563-138.13,62.91c-37.346,37.347-59.361,85.933-62.909,138.129H0v83.866h512v-83.866H472.039z     M124.083,311.118c35.237-35.236,82.086-54.642,131.917-54.642s96.68,19.406,131.917,54.642    c31.677,31.677,50.549,72.74,54.041,116.917H70.042C73.534,383.858,92.407,342.795,124.083,311.118z M482,481.901H30v-23.866h452    V481.901z"
                                        data-original="#000000" class="active-path" data-old_color="#000000"
                                        fill="#5B4B92" />
                                    </g>
                                  </g>
                                </g>
                              </svg>

                              <p class="restaurantName3">
                                {{ "Order.Dishes" | translate }}
                              </p>
                            </div>
                            <div class="col-sm-11 col-xs-12">
                              <div class="d-flex paddx-2 justify-content-between align-items-center grouplist-section">
                                <ul
                                  class="nav nav-tabs pt-3 d-flex tab-pills has-gap nav-justified nav-tabs-editMeals pb-3 productgroup__list"
                                  role="tablist">
                                  <li role="presentation">
                                    <a (click)="loadAllProducts()" aria-controls="tab4" class="active" role="tab"
                                      data-toggle="tab">All</a>
                                  </li>
                                  <li role="presentation" *ngFor="let PGC of productgroupclasslist; let i = index">
                                    <a (click)="loadClassedProducts(PGC)" aria-controls="tab5" role="tab"
                                      data-toggle="tab">{{ PGC.ClassName }}
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="d-flex justify-content-center flex-nowrap"
                        [ngClass]="{'pF': settingobj.DontUsePageinationInOrderScreen == true || settingobj.AutoHeight == true}">
                        <div style="height: 75% !important; overflow: auto !important"
                          class="products-parent col-md-12">
                          <ng-container *ngIf="productlisFilterd && productlisFilterd.length > 0">
                            <!-- <div class="row justify-content-center align-items-center">
                              <perfect-scrollbar [ngStyle]="{
                                paddingBottom: !settingobj.AutoHeight ? '0px' : '100px',
                                height: Fullscreen ? '35rem' : '75vh'
                              }" class="pS d-flex justify-content-center align-items-center">
                              <div class="d-flex flex-wrap ">
                                <div  *ngFor="let pro of productlisFilterd" (click)="addToOrderDetailList(pro)"
                                class="liSearch col-lg-2 p-1 beforeIMG col-md-3 col-sm-4">
                                <div class="MealAll" [ngStyle]="{
                                  backgroundImage: pro.PicturePath
                                    ? ' url(' + imgURL + pro?.PicturePath + ');'
                                    : pro?.ProductProperties?.ImgPath?.length > 1
                                    ? 'url(' + imgURL + pro?.ProductProperties?.ImgPath + ');'
                                    : pro?.Color
                                    ? 'none'
                                    : !settingobj.ProductBGColor || settingobj.ProductBGColor === ''
                                    ? 'url(assets/images/v10.jpg);'
                                    : 'none',
                                  backgroundColor: pro?.Color ? pro?.Color : settingobj.ProductBGColor
                                }" style="cursor: pointer">
                                  <div class="img-info">
                                    <div class="meal-info align-items-center w-100">
                                      <p class="meal-name" [ngStyle]="{
                                          backgroundColor: !pro?.Color && !settingobj.ProductBGColor ? '#fff' : 'transparent'
                                        }">
                                        {{ getName(pro) | slice : 0 : 30 }}
                                      </p>
                                      <div class="meal-price">
                                        <span class="price" >
                                          {{ pro.Price | currency : " " : "symbol" : fraction : priceLang }}
                                        </span>
                                        <span *ngIf="
                                            pro.Promos &&
                                            pro.Promos.length > 0 &&
                                            pro.Promos[0].ValueType == 3 &&
                                            checkOrderTypeWithPromo(pro, orderobj)
                                          " class="">
                                          <i class="fas fa-gift mb-1 text-white"></i>
                                        </span>
                                      </div>

                                      <div *ngIf="pro.ShowDiscount" class="wrap wrapOrder">
                                        <span *ngIf="pro.DiscountValue" class="ribbon6" style="top: -3px; right: -75px"> {{ pro.DiscountValue }}%</span>
                                        <span *ngIf="!pro.DiscountValue" class="ribbon6" style="top: -3px; right: -75px"> Offer</span>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                </div>
                              </div>
                              </perfect-scrollbar>
                              
                            </div> -->
                            
                            <ng-container [ngTemplateOutlet]="productsTemplate" [ngTemplateOutletContext]="{ list: productlisFilterd }"></ng-container>
                          </ng-container>
                          <ng-container *ngIf="!productlisFilterd || productlisFilterd.length == 0">
                            
                            <ng-container [ngTemplateOutlet]="productsTemplate" [ngTemplateOutletContext]="{ list: finalProductList }"></ng-container>
                          </ng-container>

                        </div>
                        <ng-container *ngIf="!productStyle; else ProductStyleOpened">
                          <div *ngIf="!orderobj.FoodPlanProductFilterd" style="display: flex; flex-flow: column; z-index: 5; align-items: center">
                            <button *ngIf="!ctrl?.value && validationList['CanChangeProductProperties']"
                              [style.z-index]="Showingkeyboard ? 1 : 999" (click)="EditProducts()" type="button"
                              class="ms-btn-icon btn-pill btn-info">
                              <i class="flaticon-pencil text-white faa-wrench animated faa-slow"></i>
                            </button>

                            <button style="min-width: 50px" type="button" *ngIf="productlisFilterd?.length"
                              class="btn btn-square btn-danger has-icon m-0 far fa-trash-alt"
                              (click)="clickedBtnCheck('')"></button>
                            
                            <!-- [style.height]="Fullscreen ? '35rem' : '25rem'" -->
                            <perfect-scrollbar [style.z-index]="Showingkeyboard ? 1 : 999"
                              *ngIf="okSearch || ctrl?.value" [style.height]="Fullscreen ? '70vh' : '63vh'"
                              class="pS d-flex justify-content-center align-items-center">
                              <ul class="d-flex flex-column justify-content-center">
                                <li *ngFor="let char of getFirstchar(); let i = index" class="m-1">
                                  <button *ngIf="char" style="min-width: 50px; font-size: 20px; font-weight: 600"
                                    type="button" class="btn btn-square btn-success has-icon m-0"
                                    (click)="clickedBtnCheck(char)">
                                    {{ char }}
                                  </button>
                                </li>
                                <!-- <li class="m-1">
                                  <button style="min-width: 50px" type="button"
                                    class="btn btn-square btn-success has-icon m-0 far fa-trash-alt"
                                    (click)="clickedBtnCheck('')"></button>
                                </li> -->
                              </ul>
                            </perfect-scrollbar>
                          </div>
                        </ng-container>
                        <!-- top: 1%; -->
                        <!-- padding: 3.5px; -->
                        <ng-template #ProductStyleOpened>
                          <div class="bg-white d-flex flex-column align-items-center p-1" style="
                              position: absolute;
                              z-index: 999;
                              top:-20px;
                              right: 0;
                              height: auto;
                              border-radius: 5px;
                            ">
                            <div
                              class="input-group border border-top-0 border-right-0 border-left-0 border-bottom-1 d-flex flex-column">
                              <div class="mb-3">
                                <div class="text-center pb-1"><label for="ScrollPermission">Use Scroll</label></div>
                                <div class="d-flex align-items-center justify-content-center">
                                  <input type="checkbox" [(ngModel)]="settingobj.DontUsePageinationInOrderScreen"
                                    (ngModelChange)="sortProducts()" name="DontUsePageinationInOrderScreen"
                                    class="form-check-input m-0" />
                                </div>
                              </div>
                            </div>
                            <div
                              class="input-group border border-top-0 border-right-0 border-left-0 border-bottom-1 d-flex flex-column">
                              <div class="mb-3">
                                <div class="text-center pb-1"><label for="AutoHeight">AutoHeight</label></div>
                                <div class="d-flex align-items-center justify-content-center">
                                  <input type="checkbox" [(ngModel)]="settingobj.AutoHeight" name="AutoHeight"
                                    class="form-check-input m-0" />
                                </div>
                              </div>
                            </div>

                            <div
                              class="input-group border border-top-0 border-right-0 border-left-0 border-bottom-1 d-flex flex-column">
                              <div class="text-center"><label for="Height">Height</label></div>
                              <div class="d-flex align-items-center justify-content-center">
                                <i style="cursor: pointer"
                                  (click)="height === 7 ? null : changeProductCardDimensions('-', 'Height')"
                                  class="fa fa-search-minus px-1 text-dark"></i>
                                <span
                                  class="px-1 border border-top-0 border-right-0 border-left-0 border-light border-bottom-1">{{
                                  height }}</span>
                                <i style="cursor: pointer" (click)="changeProductCardDimensions('+', 'Height')"
                                  class="fa fa-search-plus px-1 text-dark"></i>
                              </div>
                            </div>
                            <div
                              class="input-group border border-top-0 border-right-0 border-left-0 border-bottom-1 d-flex flex-column">
                              <div class="text-center"><label for="Width">Width</label></div>
                              <div class="d-flex align-items-center justify-content-center">
                                <i style="cursor: pointer"
                                  (click)="width === 7 ? null : changeProductCardDimensions('-', 'Width')"
                                  class="fa fa-search-minus px-1 text-dark"></i>
                                <span
                                  class="px-1 border border-top-0 border-right-0 border-left-0 border-light border-bottom-1">{{
                                  width }}</span>
                                <i style="cursor: pointer" (click)="changeProductCardDimensions('+', 'Width')"
                                  class="fa fa-search-plus px-1 text-dark"></i>
                              </div>
                            </div>
                            <div
                              class="input-group border border-top-0 border-right-0 border-left-0 border-bottom-1 d-flex flex-column">
                              <div class="text-center"><label >cart width</label></div>
                              <div class="d-flex align-items-center justify-content-center">
                                <i style="cursor: pointer" (click)="updateCartItemsWidth('-')" class="fa fa-search-minus px-1 text-dark"></i>
                                <span class="px-1 border border-top-0 border-right-0 border-left-0 border-light border-bottom-1">{{ settingobj.DetailCartWidth }}</span>
                                <i style="cursor: pointer" (click)="updateCartItemsWidth('+')" class="fa fa-search-plus px-1 text-dark"></i>
                              </div>
                            </div>
                            <div
                              class="input-group border border-top-0 border-right-0 border-left-0 border-bottom-1 d-flex flex-column">
                              <div class="text-center">
                                <label for="Color">Color</label>
                                <i (click)="resetBGColor()" class="bi bi-x-circle text-danger px-1"></i>
                              </div>
                              <div class="d-flex align-items-center justify-content-center">
                                <input type="color" class="form-control" name="ProductBGColor"
                                  [(ngModel)]="settingobj.ProductBGColor" />
                              </div>
                            </div>
                            <div
                              class="input-group border border-top-0 border-right-0 border-left-0 border-bottom-1 d-flex flex-column">
                              <div class="text-center"><label for="Font Size">Font Size</label></div>
                              <div class="d-flex align-items-center justify-content-center">
                                <i style="cursor: pointer" (click)="updateProductNameFontSize('-')"
                                  class="fa fa-search-minus px-1 text-dark"></i>
                                <span
                                  class="px-1 border border-top-0 border-right-0 border-left-0 border-light border-bottom-1">{{
                                  settingobj.ProductNameFontSize }}</span>
                                <i style="cursor: pointer" (click)="updateProductNameFontSize('+')"
                                  class="fa fa-search-plus px-1 text-dark"></i>
                              </div>
                            </div>
                            <div class="d-flex align-items-center justify-content-center">
                              <button (click)="saveWidthAndHeight()" class="btn save-button btn-success">
                                {{ "Save" | translate }}
                              </button>
                              <button (click)="resetWidthAndHeight()" class="btn save-button btn-warning ml-1">
                                {{ "Reset" | translate }}
                              </button>
                            </div>
                          </div>
                        </ng-template>
                      </div>
                    </div>

                    <!--order type-->
                  </div>
                </div>
              </div>

              <!-- Pagination -->
              <ng-container *ngIf="!settingobj.DontUsePageinationInOrderScreen">
                <div class="row" style="position: absolute; right: 20px; bottom: 2.6rem; z-index: 1">
                  <div class="col-md-6" style="align-self: flex-end; justify-items: flex-end">

                    <pagination style="justify-content: flex-end" [maxSize]="6" (pageChanged)="pageChanged($event)"
                      [boundaryLinks]="true" [itemsPerPage]="NumberItems" [totalItems]="productlist.length"
                      previousText="{{ 'Shared.Previous' | translate }}" nextText="{{ 'Shared.Next' | translate }}"
                      firstText="{{ 'Shared.First' | translate }}" lastText="{{ 'Shared.Last' | translate }}">
                    </pagination>
                  </div>
                </div>
              </ng-container>
              <header class="header">
                <ul class="centerAll nav nav-tabs navTabO d-flex" role="tablist" id="myTab">
                  <!--order type-->
                  <li class="nav-item" role="presentation" (click)="showOrderTypeModal()">
                    <a class="nav-link active" id="ordertype-tab" data-toggle="tab" role="tab" aria-controls="ordertype"
                      aria-selected="true">
                      <i class="fas fa-utensils"></i>
                      <div class="d-xs-none">
                        {{ orderobj.OrderType ? getTypeName(orderobj.OrderType) : ("Order.OrderType" | translate) }}
                      </div>
                      <div class="d-xs-block d-lg-none d-md-none d-sm-none">
                        {{ "Order.orderTp" | translate }}
                      </div>
                    </a>
                  </li>
                  <li class="nav-item" role="presentation" *ngIf="orderobj.TableName && orderobj.TableName != ''">
                    <button class="row" style="background: #fafafa !important">
                      <div class="col-md-9">
                        <svg xmlns="http://www.w3.org/2000/svg" id="Solid" width="28px" height="29px"
                          viewBox="0 0 512 512">
                          <g>
                            <path d="M304,234v14h40V32H264V216h22A18.02,18.02,0,0,1,304,234Z" />
                            <path d="M208,234a18.02,18.02,0,0,1,18-18h22V32H168V248h40Z" />
                            <path d="M302,464H210a2.002,2.002,0,0,0-2,2v14h96V466A2.002,2.002,0,0,0,302,464Z" />
                            <path
                              d="M364.0308,281.0542a8.0007,8.0007,0,0,1,7.1206-.4072l28.1215,12.0522A12.0005,12.0005,0,0,0,416,281.6694V266a2.002,2.002,0,0,0-2-2H98a2.002,2.002,0,0,0-2,2v15.6694a12.0005,12.0005,0,0,0,16.7271,11.03l28.1215-12.0522a7.9974,7.9974,0,0,1,7.1206.4072l26.2315,14.99a52.2081,52.2081,0,0,0,51.5986,0l26.2315-14.99a7.9994,7.9994,0,0,1,7.9384,0l26.2315,14.99a52.2081,52.2081,0,0,0,51.5986,0Z" />
                            <polygon points="256 297.214 248 301.785 248 448 264 448 264 301.785 256 297.214" />
                            <path d="M226,232a2.002,2.002,0,0,0-2,2v14h64V234a2.002,2.002,0,0,0-2-2Z" />
                            <path
                              d="M488,200H476a28.0314,28.0314,0,0,0-28,28v40a28.0314,28.0314,0,0,0,28,28h4v13.7842L459.4707,344H346a18.02,18.02,0,0,0-18,18v22a8,8,0,0,0,8,8h59.4967l-40.6154,88H336v16h24a8,8,0,0,0,7.2637-4.6475L413.1187,392h28.517l22.5694,97.7988A8,8,0,0,0,472,496h24V480H478.3643L456,383.09V362a18.0988,18.0988,0,0,0-.1107-2H464a8,8,0,0,0,6.86-3.8843l24-40A7.9982,7.9982,0,0,0,496,312V208A8,8,0,0,0,488,200Z" />
                            <path
                              d="M166,344H52.5293L32,309.7842V296h4a28.0314,28.0314,0,0,0,28-28V228a28.0314,28.0314,0,0,0-28-28H24a8,8,0,0,0-8,8V312a7.9982,7.9982,0,0,0,1.14,4.1157l24,40A8,8,0,0,0,48,360h8.1107A18.0988,18.0988,0,0,0,56,362v21.09L33.6357,480H16v16H40a8,8,0,0,0,7.7949-6.2012L70.3643,392h28.517l45.855,99.3525A8,8,0,0,0,152,496h24V480H157.1187l-40.6154-88H176a8,8,0,0,0,8-8V362A18.02,18.02,0,0,0,166,344Z" />
                          </g>
                        </svg>
                        <span class="px-1 m-0 text-total"> {{ "Order.Table" | translate }} : </span>

                        <span class="m-0 text-total">
                          {{ orderobj.TableName }}
                        </span>
                      </div>

                      <img class="pull-right img-thumbnail" style="cursor: pointer; width: 40px; height: 30px"
                        (click)="openPersonsPopUp()" src="assets/images/group.png" alt="" srcset="" />
                    </button>
                  </li>

                  <li class="nav-item" role="presentation" *ngIf="orderobj.CustomerName && !orderobj.TableName">
                    <button class="row" style="background: #fafafa !important">
                      <div class="col-md-9">
                        <span class="px-1 m-0 text-total"> {{ "Reports.Customer" | translate }} : </span>
                        <span class="m-0 text-total">
                          {{ orderobj.CustomerName }}
                        </span>
                      </div>
                    </button>
                  </li>

                  <!--suspend-->
                  <!-- <li class="nav-item" role="presentation">
                <button
                [disabled]="!validationList['CanSuspendOrder']"
                  id="suspend-tab"
                  data-toggle="tab"
                  role="tab"
                  aria-controls="suspend"
                  aria-selected="false"
                  class="nav-link btn m-0"
                  href=""
                >
                  <i class="fas fa-spinner"></i>

                  <div class="d-xs-none"> {{'Order.Suspend'|translate}}</div>
                  <div class="d-xs-block d-lg-none d-md-none d-sm-none">
                    {{'Order.Suspd'|translate}}
                  </div>
                </button>
              </li> -->
                  <!--send-->
                  <!-- <li  class="nav-item" role="presentation">
                <button [disabled] = "orderobj.OrderType?.Value ==1"
                  class="nav-link btn m-0"
                  id="ct-tab"
                  data-toggle="tab"
                  href="#ct"
                  role="tab"
                  aria-controls="contact"
                  aria-selected="false"
                  (click)="sendClicked()"
                >
                  <i class="fas fa-paper-plane"></i>


                  <div class="d-xs-none"> {{'Order.Send'|translate}}</div>
                  <div class="d-xs-block d-lg-none d-md-none d-sm-none">
                    {{'Order.sd'|translate}}
                  </div>
                </button>
              </li> -->
                  <!--payment-->
                  <!-- <li
                class="nav-item"
                (click)="destoryTooltip()"
                role="presentation"
              >
                <button [disabled]="!validationList['CanViewPayment']"
                  class="nav-link btn m-0"
                  id="coact-tab"
                  data-toggle="tab"
                  role="tab"
                  aria-controls="contact"
                  aria-selected="false"
                  (click)="paymentClicked()"
                >
                 <i class="fas fa-coins"></i>
                 <div class="d-xs-none"> {{'Order.Payment'|translate}}</div>
                 <div class="d-xs-block d-lg-none d-md-none d-sm-none">
                   {{'Order.Pay'|translate}}
                 </div>
                </button>
              </li> -->
                  <!--new order-->
                  <li class="nav-item" role="presentation">
                    <button class="nav-link" id="c-tab" data-toggle="tab" href="" role="tab" aria-controls="contact"
                      aria-selected="false" (click)="newOrder()">
                      <i class="fas fa-plus"></i>
                      <div class="d-xs-none">
                        {{ "Order.NewOrder" | translate }}
                      </div>
                      <div class="d-xs-block d-lg-none d-md-none d-sm-none">
                        {{ "Order.New" | translate }}
                      </div>
                    </button>
                  </li>
                </ul>
              </header>
            </div>
          </div>
        </div>

        <!-- order -->

        <div [ngStyle]="{'width': settingobj.DetailCartWidth + '%'}" class="pl-0">
          <div class="row">
            <div class="col-md-12">
              <!-- Tabs options -->

              <!-- <ul
            class="nav nav-tabs navTabO  nav-tabs-Order d-flex nav-justified mb-2"
            role="tablist"
          >
            <li
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"
              title="{{'Order.Order'|translate}}"
            >
              <a
                href="#tab70"
                aria-controls="tab70"
                class="active"
                role="tab"
                data-toggle="tab"
                ><i class="fa fa-file" style="font-size: 1.3rem;"></i>
              </a>
            </li>
            <li
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"
              title="{{'Order.Product details'|translate}}"
            >
              <a href="" aria-controls="tab71" role="tab" data-toggle="tab"
                ><i
                  class="fas fa-exclamation-circle"
                  style="font-size: 1.3rem;"
                ></i>
              </a>
            </li>
            <li
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"
              title="{{'Order.Payment'|translate}}"
              class="DestoryTooltip"
              role="presentation"
              (click)="destoryTooltip()"
            >
              <a
                href="#tab72"
                class="DestoryTooltip"
                aria-controls="tab72"
                role="tab"
                data-toggle="tab"
                ><i class="fas fa-dollar-sign" style="font-size: 1.2rem;"></i>
              </a>
            </li>
            <li
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"
              title="{{'Order.Waiters'|translate}}"
            >
              <a
                href="#tab73"
                aria-controls="tab73"
                role="tab"
                data-toggle="tab"
                ><i class="fas fa-user" style="font-size: 1.2rem;"></i>
              </a>
            </li>
            <li
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"
              title="{{'Order.Drivers'|translate}}"
            >
              <a
                href="#tab74"
                aria-controls="tab74"
                role="tab"
                data-toggle="tab"
                ><i class="fas fa-motorcycle" style="font-size: 1.2rem;"></i>
              </a>
            </li>
            <li
              role="presentation"
              data-toggle="tooltip"
              data-placement="bottom"
              title="{{'Order.Edit'|translate}}"
            >
              <a
                href="#tab75"
                aria-controls="tab75"
                role="tab"
                data-toggle="tab"
                ><i class="fas fa-edit"></i>
              </a>
            </li>
          </ul> -->

              <div class="ms-panel ms-panel-fh2 ms-panel-order Prelative">
                <div *ngIf="settingobj.CalculateTaxBeforeDiscount" class="alert p-2 alert-warning pAbsolute editAlert"
                  role="alert">
                  <strong px-1> <i class="flaticon-alert m-0 px-1"></i> Note!</strong>
                  Tax will be calculated Before Discount.
                </div>
                <div class="ms-panel-body px-2 pt-2 clearfix">
                  <div class="tab-content">
                    <ol class="d-flex justify-content-center orderCodeR m-0 px-0 breadcrumb-arrow-sepp mb-1">

                      <li *ngIf="settingobj?.UseFirePrint && orderobj.OrderDetails?.length && orderobj?.OrderType?.Value == 4" class="borderGreen breadcrumb-item d-flex">
                          <input type="checkbox" [checked]="allFirePrintChecked" (change)="checkAllFirePrintRows($event)" />
                      </li>
                      
                      <li class="input-group borderGreen breadcrumb-item d-flex">
                        <div class="input-group-prepend">
                          <div class="input-group-text">
                            <i class="fas fa-barcode textVat" style="font-size: 1rem"></i>
                          </div>
                        </div>
                        <input numbersOnly [disabled]="orderobj.FoodPlanProductFilterd" id="CodeBarcodeId" onfocus="this.value=''" (focus)="onQtyFocus('true')"
                          (keyup)="onKeyUpCodeBar($event)" (keyup.enter)="focusOnQTY()" type="text"
                          [ngModel]="groupRef.value" #groupRef class="form-control widthEditCode p-1"
                          autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
                          placeholder="{{ 'Order.CodeBarcode' | translate }}" />
                      </li>

                      <li class="input-group borderGreen breadcrumb-item d-flex">
                        <div class="input-group-prepend">
                          <div class="input-group-text">
                            <i class="fas fa-sort-amount-up textVat" style="font-size: 1rem"></i>
                          </div>
                        </div>
                        <input onfocus="this.value=''" (focus)="onQtyFocus('true')"
                          (keyup.enter)="addOrUpdateToOrderDetailListFromSearch(codebarproduct)" type="number" id="codbrqty"
                          class="form-control widthEditCode p-1" placeholder="{{ 'Order.Qnty' | translate }}"
                          autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
                          name="codbarqty" #codbarqty />
                      </li>
                    </ol>
                    <ol *ngIf="checkcodebarexists"
                      class="d-flex justify-content-center orderCodeR my-1 mx-0 px-0 breadcrumb-arrow-sepp">
                      <li class="first borderGreen breadcrumb-item align-items-center d-flex">
                        <p class="maingreen mb-0">{{ "Order.Name" | translate }} :</p>
                        <p class="mb-0 px-1 digram">
                          {{ codebarproduct.Name }}
                        </p>
                      </li>

                      <li class="second borderGreen breadcrumb-item align-items-center d-flex">
                        <p class="maingreen mb-0">{{ "Order.Price" | translate }} :</p>
                        <p class="mb-0 px-1 digram">
                          {{ codebarproduct.Price }}
                        </p>
                      </li>
                      <li class="m-auto third borderGreen breadcrumb-item d-flex">
                        <button class="btn btn-primary w-edit m-0 py-1 px-2"
                          (click)="addOrUpdateToOrderDetailListFromSearch(codebarproduct)">
                          +
                        </button>
                      </li>
                    </ol>
                    <hr class="my-0" />
                    <!--order-->
                    <div role="tabpanel" class="tab-pane active show fade editHeight in" id="tab70">
                      <div class="row pr-2">
                        <!--  order tab -->
                        <div class="pAbsolute absoluteKeyboard" [style.z-index]="Showingkeyboard ? 999 : -1"
                          [style.opacity]="Showingkeyboard ? 1 : 0">
                          <div class="numberKeyboard"></div>
                        </div>

                        <perfect-scrollbar [ngClass]="Fullscreen ? 'heightEditingOrder' : 'UNheightEditingOrder'"
                          class="col-md-12 Prelative pr-0" #perfectScroll [scrollIndicators]="true">
                          <ul class="ulEditingProduct" id="ScrollingUl" style="height: 98%;">
                            <!--1-->
                            <ng-container *ngFor="let OD of orderobj.OrderDetails; let i = index">
                              <li *ngIf="!OD.IsCancelled && !OD.IsTransferd" (click)="selectedOrder(OD, i)" (dblclick)="showUpdateNotesModal(DropDownItem)" [ngStyle]="
                                  OD.Selected || OD.EditingSelected
                                    ? {
                                        background: '#cce0f6',
                                        'box-shadow': '0 15px 8px -9px rgb(0 0 0 / 25%)'
                                      }
                                    : {}
                                " class="pt-2 px-1 LiOrderS Prelative" id="liDetails{{ i }}">
                                <!--start-->

                                <div class="rowOrder3 d-flex justify-content-between">
                                  <div >
                                    <div class="d-flex editNAMESize">
                                      <h6 style="font-size: 16px !important" class="d-flex textVat">
                                        <i (click)="DeleteOrderDetail(i)" class="far fa-trash-alt text-crosss"
                                          style="font-size: 1.7rem"></i>
                                        {{ getName(OD.Product) }}
                                      </h6>
                                      <p *ngIf="OD.ProductVolumName && !settingobj?.ShowVolumeAsProduct" class="text-lightdark px-2">
                                        /
                                        {{ OD.ProductVolumName }}
                                      </p>
                                    </div>

                                    <p style="font-size: 13px !important"
                                      *ngIf="OD.TaxPercentage > 0 || OD.TaxAmount > 0"
                                      class="text-lightdark pl-3 m-1 d-flex">
                                      <span> {{ OD.TaxName }}= </span>
                                      <!-- <span> {{ OD.TaxName }}({{ OD.TaxPercentage }}%)= </span> -->
                                      <span class="textVat">{{ OD.TaxAmount * OD.ProductQuantity | currency : " " :
                                        "symbol" : fraction : priceLang }}
                                      </span>
                                    </p>
                                    <p style="font-size: 13px !important"
                                      *ngIf="OD.DiscountPercentage && OD.DiscountPercentage > 0"
                                      class="text-lightdark pl-3 m-1 d-flex">
                                      <span>
                                        - Discount({{ OD.DiscountPercentage | currency : " " : "symbol" : fraction :
                                        priceLang }}%)=
                                      </span>

                                      <span class="textVat">{{
                                        OD.DiscountAmount * OD.ProductQuantity | currency : " " : "symbol" : fraction :
                                        priceLang
                                        }}</span>
                                    </p>
                                    <p style="font-size: 13px !important"
                                      *ngIf="OD.SideDishNetPrice && OD.SideDishNetPrice > 0"
                                      class="text-lightdark pl-3 m-1 d-flex">
                                      <span> + SideDishes= </span>

                                      <span class="textVat">{{
                                        OD.SideDishNetPrice | currency : " " : "symbol" : fraction : priceLang
                                        }}</span>
                                    </p>

                                    <span *ngIf="OD.OrderDetailSubItems?.length" style="width: 450px; font-size: 0.8rem"
                                      class="text-lightdark pl-3 d-flex">
                                      <img src="assets/images/sideDishes2.svg" alt="" />
                                      &nbsp;
                                      <!-- {{ OD.ProductSubItemName }} -->
                                      {{ getSubItemsName(OD.OrderDetailSubItems) }}
                                    </span>
                                    <span *ngIf="OD.OrderDetailNotes?.length" class="text-lightdark pl-3 d-flex"
                                      style="width: 450px; font-size: 0.8rem"><img src="assets/images/note2.svg"
                                        alt="" />
                                      &nbsp;
                                      {{ getNotesName(OD.OrderDetailNotes) }}
                                    </span>

                                    <img *ngIf="OD.ShowEditIconPrice" src="assets/images/moneyEE.svg" />

                                    <!-- <span  class="d-flex"> -->
                                    <!-- <img  src="assets/images/volume2.svg" alt="">
                             -->

                                    <!-- </span> -->
                                    <!--droop-->
                                  </div>

                                  <div (dblclick)="showUpdateNotesModal(DropDownItem)" *ngIf="!OD.IsPromo"
                                    class="d-flex col justify-content-start mt-2 p-0">
                                    <!-- Changed to increase the space between Price and Counter on the Order screen -->
                                    {{'Reports.Price' | translate}}:
                                    <strong class="textVat">{{
                                      OD.ProductPrice | currency : " " : "symbol" : fraction : priceLang
                                      }}</strong>

                                    <!-- <img *ngIf="OD.Product && (OD.Product.Description || (OD.Product.ProductItems && OD.Product.ProductItems.length))"
                              src="assets/images/v1.jpg" class="d-flex align-items-center"
                              alt="" style="position: absolute;top: 2.9rem; width: 25px ;height: 25px;" (click)="showProductItems(OD.Product)" /> -->

                                    <i *ngIf="
                                        OD.Product &&
                                        (OD.Product.Description ||
                                          (OD.Product.ProductItems && OD.Product.ProductItems.length))
                                      " (click)="showProductItems(OD.Product)"
                                      class="fa fa-cutlery digram mx-2 cursorPointer">
                                    </i>
                                  </div>

                                  <div *ngIf="OD.IsPromo" style="height: 20%; cursor: pointer"
                                    class="digram px-2 pt-2 d-flex align-items-center">
                                    <i class="fas fa-gift"></i>
                                  </div>

                                  <div style="height: 20%" class="centerAllCol">
                                    <div class="editCountRow">
                                      <!--minus-->
                                      <i *ngIf="!OD.StartTime" (click)="OD.ProductQuantity <= 1 || OD.IsParentPromo ? return : clickedMinus(OD)"
                                        class="fas fa-minus-circle text-yellow" style="font-size: 1.5rem"></i>
                                      <div class="editmarg">
                                        <input *ngIf="!OD.StartTime" pattern="^[0-9.]*$" autocomplete="off"
                                          style="padding-left: 1px !important; padding-right: 1px !important"
                                          id="qty{{ i }}" [disabled]="OD.IsPromo || OD.IsParentPromo" name="qty"
                                          (keyup)="onKeyUpQuantity($event, OD)"
                                          class="btn btn-count btn-pill Prelative text-darkgray btnGrayHover mx-1"
                                          (focus)="onInputFocusNum($event, i)" (input)="onInputChangeNum($event)"
                                          [(ngModel)]="OD.ProductQuantity" (focusout)="checkQuantity(OD)" #qty="ngModel"
                                          min="0" (focusout)="closekeyboardNum()" />

                                          <input *ngIf="OD.StartTime" [value]="OD.TotalTime"
                                            style="padding-left: 1px !important; padding-right: 1px !important; max-width: 7rem !important"
                                            class="btn btn-count btn-pill Prelative text-darkgray btnGrayHover mx-1"/>
                                          
                                      </div>
                                      <!--plus-->
                                      <i *ngIf="!OD.StartTime" (click)="OD.IsParentPromo ? return : clickedPlus(OD)"
                                        class="fas fa-plus-circle maingreen" style="font-size: 1.5rem"></i>
                                    </div>

                                    <p class="my-1 digram d-flex text-center">
                                      <span class="flex-order-1">{{'Reports.Total' | translate}}:</span>
                                      <strong (click)="enterTotalProductPrice(i)" [ngStyle]="{
                                        'text-decoration': OD.Product && OD.Product.UseWeights ? 'underline' : 'none',
                                        'cursor': OD.Product && OD.Product.UseWeights ? 'pointer' : 'default'
                                        }" class="textVat flex-order-2">{{
                                        OD.Total | currency : " " : "symbol" :'.2-2': priceLang
                                        }}</strong>
                                    </p>
                                  </div>
                                </div>
                                <div *ngIf="(orderSer.settings?.UsePendingOrders && orderobj.OrderType?.Value == 1) ||
                                 (OD.DocumentId && OD.DocumentId.trim() && !OD.IsCancelled && !OD.IsTransferd)"
                                  class="OverlayPrinted"></div>

                                <label class="row d-flex"
                                  *ngIf="settingobj?.UseFirePrint && orderobj?.OrderType?.Value == 4"
                                  style="z-index:1000; width: 40%; position: relative;">
                                  <input type="checkbox" #FirePrint name="FirePrint" class="col-4" id="FirePrint{{ i }}"
                                    [(ngModel)]="OD.FirePrint" [disabled]="OD?.Printed" />
                                  <span class="col-8 text-align-start p-0" style="font-size: 15px;">{{(OD?.Printed ?
                                    'Shared.printed' : 'Shared.printImmediate') | translate}}</span>
                                </label>

                                <!--end-->
                                <!-- total -->
                              </li>
                            </ng-container>

                            <!--END NGfor-->
                          </ul>
                        </perfect-scrollbar>
                      </div>
                      <!--dropdown List-->
                      <div style="border: 3px solid #07be6e; padding: 0.1rem; border-radius: 0.5rem; margin: -0.2rem 0;margin-top: 5px;"
                        *ngIf="orderobj.OrderDetails && orderobj.OrderDetails.length > 0"
                        class="d-flex justify-content-between align-items-center">
                        <!--Amount-->
                        <button style="min-width: unset" class="dropDownBtn btn btn-success p-1 m-0"
                          (click)="showUpdateVolumModal(DropDownItem)" [disabled]="isChangeVolumeDisabled(DropDownItem)">
                          <a>
                            <img src="assets/images/volume2.svg" alt="" />

                            <!-- {{'products.Volume'|translate}} -->
                          </a>
                        </button>
                        <!--side dishes-->
                        <button style="min-width: unset" class="dropDownBtn btn btn-success p-1 m-0"
                          (click)="openNewSideDish(DropDownItem.Product, false)"
                          [disabled]="checkCanChangeSideDish(DropDownItem)">
                          <a>
                            <img src="assets/images/sideDishes2.svg" alt="" srcset="" />
                            <!-- {{'products.SideDishes'|translate}} -->
                          </a>
                        </button>
                        <!--Notes-->
                        <button style="min-width: unset" class="dropDownBtn btn btn-success p-1 m-0"
                          (click)="showUpdateNotesModal(DropDownItem)"
                          [disabled]="!DropDownItem">
                          <a>
                            <img src="assets/images/note2.svg" alt="" srcset="" />
                            <!-- Notes -->
                          </a>
                        </button>
                        <!--DetailDiscount-->
                        <button style="min-width: unset" class="dropDownBtn btn btn-success p-1 m-0"
                          (click)="openAddDiscountForDetailPopUp()" [disabled]="
                            !DropDownItem  ||
                            DropDownItem?.Product?.DiscountValue ||
                            orderSer.isCouponAccepted.getValue() === true ||
                            orderobj.MinimumChargeValue 
                            ">
                          <!-- DropDownItem.Total == 0 || -->
                          <!-- DropDownItem?.DocumentId ||-->
                          <a>
                            <img src="assets/images/discount.png" alt="" srcset="" />
                          </a>
                        </button>
                        <!-- DetailDiscount -->

                        <!--Insurance-->
                        <button style="min-width: unset" class="dropDownBtn btn btn-success p-1 m-0"
                          (click)="showInsurancesModal()" [disabled]="!DropDownItem">
                          <!-- [disabled]="!DropDownItem || DropDownItem?.DocumentId"> -->
                          <a>
                            <img src="assets/images/investment-insurance.png" alt="" srcset="" />
                            <!-- Notes -->
                          </a>
                        </button>
                        <!--Insurance-->
                        <!-- <button
                          class="dropdown-item w-25"
                          data-toggle="tooltip"
                          data-placement="top"
                          title="Insurance"
                          (click)="showUpdateInsurancesModal(DropDownItem)" >
                          <a >
                            Insurance
                          </a>
                        </button> -->
                        <!--editPrice-->
                        <button (click)="EditingPrice(DropDownItem)" style="min-width: unset" [disabled]="isEditingPriceDisabled(DropDownItem)"
                           class="dropDownBtn btn btn-success p-1 m-0">
                          <a>
                            <img src="assets/images/coins.png" />
                            <!-- Price -->
                          </a>
                        </button>
                      </div>
                      <!--ul-->
                      <ul class="col-md-12 pAbsolute mb-0 editPositionUl py-2">
                        <hr class="m-0" />
                        <div class="row py-1">
                          <li
                            class="d-flex justify-content-between align-items-center text-total pt-1 col-xs-6 col-md-6">
                            <h5 class="m-0">{{ "Order.Net Total" | translate }} :</h5>
                            <h5 class="lightGray m-0">
                              {{
                              (orderobj.NetTotal == undefined ? 0 : orderobj.NetTotal)
                              | currency : " " : "symbol" : fraction : priceLang
                              }}
                            </h5>
                          </li>
                          <li
                            class="d-flex justify-content-between align-items-center text-total pt-1 col-xs-6 col-md-6">
                            <h5 class="m-0">{{ "Order.Total Tax" | translate }} :</h5>
                            <h5 class="lightGray m-0">
                              {{
                              (orderobj.TotalTaxAmount == undefined ? 0 : orderobj.TotalTaxAmount)
                              | currency : " " : "symbol" : fraction : priceLang
                              }}
                            </h5>
                          </li>
                          <li
                            class="d-flex justify-content-between align-items-center text-total pt-1 col-xs-10 col-md-10">
                            <h5 class="m-0">{{ "Order.Total Discount" | translate }} :</h5>
                            <h5 class="lightGray m-0">
                              {{
                              (orderobj.DetailsDiscount == undefined ? 0 : orderobj.DetailsDiscount)
                              | currency : " " : "symbol" : fraction : priceLang
                              }}
                            </h5>
                            ||
                            <h5 class="lightGray m-0">
                              {{
                              (orderobj.DiscountAmount == undefined ? 0 : orderobj.DiscountAmount)
                              | currency : " " : "symbol" : fraction : priceLang
                              }}
                            </h5>
                          </li>
                        </div>

                        <li class="d-flex justify-content-between align-items-center border5 py-1 px-2 bg-maingreen">
                          <h5 class="text-white m-1">
                            {{ "Order.Total Payable" | translate }}
                          </h5>
                          <h5 class="text-white m-1">
                            {{
                            (!orderobj.SubTotal ? 0 : orderobj.SubTotal) +
                            (!orderobj.DeliveryPersonDeliveryPrice ? 0 : orderobj.DeliveryPersonDeliveryPrice) +
                            (!orderobj.TotalInsuranceAmount ? 0 : orderobj.TotalInsuranceAmount)
                            | currency : " " : "symbol" : fraction : priceLang
                            }}
                          </h5>
                        </li>

                        <li>
                          <div class="row header editHeaderCOL4">
                            <ul style="background-color: transparent; box-shadow: none"
                              class="col-md-12 col-sm-12 mt-2 px-0 d-flex">
                              <li class="nav-item" role="presentation">
                                <button [disabled]="disableSendBtn" 
                                  class="nav-link btn m-0" id="ct-tab" data-toggle="tab" href="#ct" role="tab"
                                  aria-controls="contact" aria-selected="false" (click)="sendClicked({} ,true)">
                                  <i class="fas fa-paper-plane"></i>
                                  <ng-container *ngIf="!orderobj.IsCustomerOrder; else saveCustomerOrder">
                                    <div class="d-xs-none">
                                      {{ "Order.Send" | translate }}
                                    </div>
                                    <div class="d-xs-block d-lg-none d-md-none d-sm-none">
                                      {{ "Order.sd" | translate }}
                                    </div>
                                  </ng-container>

                                  <ng-template #saveCustomerOrder>{{ "Order.SaveBooking" | translate }}</ng-template>
                                </button>
                              </li>
                              <li *ngIf="!orderobj?.pointOfSale?.PaymentButtonDirectly" class="nav-item"
                                (click)="destoryTooltip()" role="presentation">
                                <button [disabled]="!validationList['CanViewPayment']" class="nav-link btn m-0"
                                  id="coact-tab" data-toggle="tab" role="tab" aria-controls="contact"
                                  aria-selected="false" (click)="paymentClicked()">
                                  <i class="fas fa-coins"></i>
                                  <div class="d-xs-none">
                                    {{ "Order.Payment" | translate }}
                                  </div>
                                  <div class="d-xs-block d-lg-none d-md-none d-sm-none">
                                    {{ "Order.Pay" | translate }}
                                  </div>
                                </button>
                              </li>
                              <li *ngIf="orderobj?.pointOfSale?.PaymentButtonDirectly && orderobj?.OrderType?.Value !== 2">
                                <button *ngIf="orderobj?.OrderType?.Value != 2"
                                  [disabled]="!validationList['CanViewPayment']" class="nav-link btn btn-primary m-0"
                                  id="CloseWithoutPrint" type="button" (click)="closeOrderWithPrint()">
                                  <i class="fas fa-ban px-2"></i>
                                  <div class="d-xs-none">
                                    {{ "Shared.closeOrder" | translate }}
                                  </div>
                                </button>
                              </li>
                              <li *ngIf="orderobj?.pointOfSale?.PaymentButtonDirectly">
                                <button [disabled]="!validationList['CanViewPayment']"
                                  class="nav-link btn btn-primary m-0" id="ChangePayType" type="button"
                                  (click)="payTypeButtonClicked()">
                                  <!-- <i class="fas fa-ban px-2"></i> -->
                                  <div class="d-xs-none"> {{ orderobj?.OrderPayTypeName ? orderobj?.OrderPayTypeName : "Shared.paytype" | translate }} </div>
                                </button>
                              </li>
                            </ul>
                          </div>
                        </li>
                      </ul>
                      <!-- <ul  class="col-md-12 pAbsolute mb-0 editPositionUl py-2">
                    <div  class="simple-keyboard"></div>
                  </ul> -->

                      <!--ul-->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- options btn -->
          <div class="row">
            <div style="padding-top: 0rem !important" class="col-md-12 py-2">
              <!-- <h6 class="h6Titlegreen mb-4">Options :</h6> -->
              <ul class="nav nav-tabs navTabO nav-tabs-OrderOptions d-flex nav-justified mt-1" role="tablist">
                <li class="tooltipRef" #tooltipRef data-placement="bottom" data-toggle="tooltip" role="presentation"
                  title="{{ 'Order.Split Order' | translate }}" (click)="splitOrChangeOrder(true)">
                  <a aria-controls="tab9870" class="active" data-toggle="tab" href="#tab9870" role="tab">
                    <svg width="24px" height="29px" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 512 512"
                      xml:space="preserve">
                      <g>
                        <g>
                          <polygon points="194.05,236.016 76.428,236.016 130.243,182.201 101.982,153.94 0,255.92 101.902,358.98 130.322,330.878
                   76.045,275.984 194.05,275.984 		" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <polygon points="410.019,153.94 381.758,182.201 435.572,236.016 317.951,236.016 317.951,275.984 435.955,275.984
                   381.678,330.878 410.098,358.98 512,255.92 		" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path
                            d="M511.796,145.089V60.156c0-33.058-26.895-59.952-59.952-59.952H60.157c-33.058,0-59.952,26.895-59.952,59.952v84.932
                   h39.968V60.156c0-11.019,8.965-19.984,19.984-19.984h175.859v431.655H60.157c-11.019,0-19.984-8.965-19.984-19.984v-85.931H0.205
                   v85.931c0,33.058,26.895,59.952,59.952,59.952h391.687c33.058,0,59.952-26.895,59.952-59.952v-85.931h-39.968v85.931
                   c0,11.019-8.965,19.984-19.984,19.984H275.985V40.172h175.859c11.019,0,19.984,8.965,19.984,19.984v84.932H511.796z" />
                        </g>
                      </g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                    </svg>
                  </a>
                </li>
                <li class="tooltipRef" #tooltipRef data-placement="bottom" data-toggle="tooltip" role="presentation"
                  title=" {{ 'Order.Split Reciept' | translate }}" (click)="splitReceipt()">
                  <a aria-controls="tab9871" data-toggle="tab" href="#tab9871" role="tab">
                    <svg height="29px" viewBox="0 0 54 60" width="28px" xmlns="http://www.w3.org/2000/svg">
                      <g id="Page-1" fill-rule="evenodd">
                        <g id="057---Splitting-Bill" fill="" fill-rule="nonzero">
                          <path id="Shape"
                            d="m37 43c0 .5522847.4477153 1 1 1s1-.4477153 1-1c0-1.932-1.721-3.547-4-3.919v-.081c0-.5522847-.4477153-1-1-1s-1 .4477153-1 1v.081c-2.279.372-4 1.987-4 3.919s1.721 3.547 4 3.919v3.954c-1.15-.283-2-1.022-2-1.873 0-.5522847-.4477153-1-1-1s-1 .4477153-1 1c0 1.932 1.721 3.547 4 3.919v.081c0 .5522847.4477153 1 1 1s1-.4477153 1-1v-.081c2.279-.372 4-1.987 4-3.919s-1.721-3.547-4-3.919v-3.954c1.15.283 2 1.022 2 1.873zm-6 0c0-.851.85-1.59 2-1.873v3.746c-1.15-.283-2-1.022-2-1.873zm6 6c0 .851-.85 1.59-2 1.873v-3.746c1.15.283 2 1.022 2 1.873z" />
                          <path id="Shape"
                            d="m7 20h3c1.6680192.0073962 3.1639686-1.0253639 3.748285-2.5877074.5843165-1.5623435.1332171-3.3232998-1.130285-4.4122926 1.2635021-1.0889928 1.7146015-2.8499491 1.130285-4.4122926-.5843164-1.56234348-2.0802658-2.59510356-3.748285-2.5877074h-3c-1.1045695 0-2 .8954305-2 2v10c0 1.1045695.8954305 2 2 2zm5-4c0 1.1045695-.8954305 2-2 2h-3v-4h3c1.1045695 0 2 .8954305 2 2zm-5-8h3c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2h-3z" />
                          <path id="Shape"
                            d="m17 18c-.5522847 0-1 .4477153-1 1s.4477153 1 1 1h4c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1h-1v-10h1c.5522847 0 1-.44771525 1-1s-.4477153-1-1-1h-4c-.5522847 0-1 .44771525-1 1s.4477153 1 1 1h1v10z" />
                          <path id="Shape"
                            d="m26 20h5c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1h-4v-11c0-.55228475-.4477153-1-1-1s-1 .44771525-1 1v12c0 .5522847.4477153 1 1 1z" />
                          <path id="Shape"
                            d="m35 20h5c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1h-4v-11c0-.55228475-.4477153-1-1-1s-1 .44771525-1 1v12c0 .5522847.4477153 1 1 1z" />
                          <path id="Shape"
                            d="m0 2v24.382c-.00299558.75827.42562358 1.4522063 1.105 1.789l3 1.5c.56406386.2789481 1.22593614.2789481 1.79 0l3.105-1.553 3.105 1.553c.5640639.2789481 1.2259361.2789481 1.79 0l3.105-1.553 3.105 1.553c.5640639.2789481 1.2259361.2789481 1.79 0l3.105-1.553 3.105 1.553c.5640639.2789481 1.2259361.2789481 1.79 0l3.105-1.553 3.1 1.553c.5638101.2800314 1.2261899.2800314 1.79 0l3.11-1.553 2.106 1.053c.6199641.309797 1.3561233.2765486 1.9456365-.087874.5895131-.3644226.94834-1.0080678.9483635-1.701126v-25.382c0-1.1045695-.8954305-2-2-2h-42c-1.1045695 0-2 .8954305-2 2zm44 25.382-2.1-1.053c-.5640639-.2789481-1.2259361-.2789481-1.79 0l-3.11 1.553-3.1-1.553c-.5638101-.2800314-1.2261899-.2800314-1.79 0l-3.11 1.553-3.1-1.553c-.5640639-.2789481-1.2259361-.2789481-1.79 0l-3.11 1.553-3.1-1.553c-.5640639-.2789481-1.2259361-.2789481-1.79 0l-3.11 1.553-3.1-1.553c-.56406386-.2789481-1.22593614-.2789481-1.79 0l-3.11 1.553-3-1.5v-24.382h42z" />
                          <path id="Shape"
                            d="m52 40h-6v-5.382c.0039364-.7571514-.4225671-1.4508012-1.1-1.789l-3-1.5c-.5640639-.2789481-1.2259361-.2789481-1.79 0l-3.11 1.553-3.1-1.553c-.5640639-.2789481-1.2259361-.2789481-1.79 0l-3.11 1.553-3.1-1.553c-.5640639-.2789481-1.2259361-.2789481-1.79 0l-3.11 1.553-3.1-1.553c-.5640639-.2789481-1.2259361-.2789481-1.79 0l-3.11 1.553-3.1-1.553c-.56406386-.2789481-1.22593614-.2789481-1.79 0l-3.11 1.553-2.106-1.053c-.61996405-.309797-1.3561233-.2765486-1.94563646.087874s-.94834001 1.0080678-.94836354 1.701126v21.382c.00330612 2.7600532 2.23994685 4.9966939 5 5h43.99c.155 0 .321-.011.495-.024 2.5954655-.3160261 4.5392598-2.531478 4.515-5.146v-12.83c0-1.1045695-.8954305-2-2-2zm-47 18c-1.65685425 0-3-1.3431458-3-3v-21.382l2.105 1.053c.56406386.2789481 1.22593614.2789481 1.79 0l3.105-1.553 3.105 1.553c.5640639.2789481 1.2259361.2789481 1.79 0l3.105-1.553 3.105 1.553c.5640639.2789481 1.2259361.2789481 1.79 0l3.105-1.553 3.105 1.553c.5640639.2789481 1.2259361.2789481 1.79 0l3.105-1.553 3.1 1.553c.5640639.2789481 1.2259361.2789481 1.79 0l3.11-1.553 3 1.5v20.382c-.0010855 1.0820269.3499155 2.1350297 1 3zm47-3.17c.033837 1.5800895-1.1206187 2.935264-2.686 3.153-.1.008-.218.017-.324.017-1.6529477-.0055099-2.9900092-1.3470431-2.99-3v-13h6z" />
                          <path id="Shape"
                            d="m25 38h-19c-.55228475 0-1 .4477153-1 1s.44771525 1 1 1h19c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1z" />
                          <path id="Shape"
                            d="m25 43h-19c-.55228475 0-1 .4477153-1 1s.44771525 1 1 1h19c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1z" />
                          <path id="Shape"
                            d="m25 48h-19c-.55228475 0-1 .4477153-1 1s.44771525 1 1 1h19c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1z" />
                          <path id="Shape"
                            d="m16 53h-10c-.55228475 0-1 .4477153-1 1s.44771525 1 1 1h10c.5522847 0 1-.4477153 1-1s-.4477153-1-1-1z" />
                        </g>
                      </g>
                    </svg>
                  </a>
                </li>
                <li class="tooltipRef" #tooltipRef data-placement="bottom" data-toggle="tooltip" role="presentation"
                  title="{{ 'Order.Change Table' | translate }}" (click)="splitOrChangeOrder(false)">
                  <a aria-controls="tab9872" data-toggle="tab" href="#tab9872" role="tab">
                    <svg xmlns="http://www.w3.org/2000/svg" id="Solid" width="28px" height="29px" viewBox="0 0 512 512">
                      <g>
                        <path d="M304,234v14h40V32H264V216h22A18.02,18.02,0,0,1,304,234Z" />
                        <path d="M208,234a18.02,18.02,0,0,1,18-18h22V32H168V248h40Z" />
                        <path d="M302,464H210a2.002,2.002,0,0,0-2,2v14h96V466A2.002,2.002,0,0,0,302,464Z" />
                        <path
                          d="M364.0308,281.0542a8.0007,8.0007,0,0,1,7.1206-.4072l28.1215,12.0522A12.0005,12.0005,0,0,0,416,281.6694V266a2.002,2.002,0,0,0-2-2H98a2.002,2.002,0,0,0-2,2v15.6694a12.0005,12.0005,0,0,0,16.7271,11.03l28.1215-12.0522a7.9974,7.9974,0,0,1,7.1206.4072l26.2315,14.99a52.2081,52.2081,0,0,0,51.5986,0l26.2315-14.99a7.9994,7.9994,0,0,1,7.9384,0l26.2315,14.99a52.2081,52.2081,0,0,0,51.5986,0Z" />
                        <polygon points="256 297.214 248 301.785 248 448 264 448 264 301.785 256 297.214" />
                        <path d="M226,232a2.002,2.002,0,0,0-2,2v14h64V234a2.002,2.002,0,0,0-2-2Z" />
                        <path
                          d="M488,200H476a28.0314,28.0314,0,0,0-28,28v40a28.0314,28.0314,0,0,0,28,28h4v13.7842L459.4707,344H346a18.02,18.02,0,0,0-18,18v22a8,8,0,0,0,8,8h59.4967l-40.6154,88H336v16h24a8,8,0,0,0,7.2637-4.6475L413.1187,392h28.517l22.5694,97.7988A8,8,0,0,0,472,496h24V480H478.3643L456,383.09V362a18.0988,18.0988,0,0,0-.1107-2H464a8,8,0,0,0,6.86-3.8843l24-40A7.9982,7.9982,0,0,0,496,312V208A8,8,0,0,0,488,200Z" />
                        <path
                          d="M166,344H52.5293L32,309.7842V296h4a28.0314,28.0314,0,0,0,28-28V228a28.0314,28.0314,0,0,0-28-28H24a8,8,0,0,0-8,8V312a7.9982,7.9982,0,0,0,1.14,4.1157l24,40A8,8,0,0,0,48,360h8.1107A18.0988,18.0988,0,0,0,56,362v21.09L33.6357,480H16v16H40a8,8,0,0,0,7.7949-6.2012L70.3643,392h28.517l45.855,99.3525A8,8,0,0,0,152,496h24V480H157.1187l-40.6154-88H176a8,8,0,0,0,8-8V362A18.02,18.02,0,0,0,166,344Z" />
                      </g>
                    </svg>
                  </a>
                </li>
                <li class="tooltipRef" #tooltipRef data-placement="bottom" data-toggle="tooltip" role="presentation"
                  title=" {{ 'Order.Select Customer' | translate }}">
                  <a (click)="showCustomerPopUp(orderobj, validationList)">
                    <svg width="28px" height="29.2px" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 512 512"
                      style="enable-background: new 0 0 512 512" xml:space="preserve">
                      <g>
                        <g>
                          <path d="M162.108,420.513c-0.941-2.896-3.414-5.028-6.417-5.533l-42.782-7.18l-20.05-38.471c-1.406-2.699-4.199-4.393-7.244-4.393
			c-3.045,0-5.838,1.694-7.245,4.394l-20.05,38.471l-42.782,7.18c-3.003,0.503-5.477,2.636-6.419,5.533s-0.193,6.075,1.94,8.249
			l30.392,30.956l-6.392,42.908c-0.449,3.012,0.815,6.023,3.279,7.813c2.462,1.79,5.718,2.06,8.444,0.704l38.832-19.338
			l38.833,19.337c1.153,0.574,2.4,0.857,3.641,0.857c1.696,0,3.381-0.527,4.803-1.561c2.464-1.79,3.728-4.802,3.279-7.813
			l-6.392-42.908l30.392-30.956C162.301,426.589,163.049,423.409,162.108,420.513z M115.267,451.174
			c-1.794,1.829-2.629,4.393-2.251,6.927l4.681,31.427l-28.441-14.164c-2.293-1.142-4.99-1.143-7.285,0l-28.442,14.164l4.681-31.427
			c0.378-2.534-0.455-5.099-2.251-6.927L33.7,428.502l31.336-5.258c2.527-0.424,4.709-2.009,5.893-4.281l14.685-28.176
			l14.685,28.176c1.184,2.272,3.366,3.857,5.893,4.281l31.334,5.258L115.267,451.174z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M332.496,420.513c-0.941-2.896-3.415-5.029-6.419-5.533l-42.783-7.18l-20.05-38.471c-1.407-2.699-4.201-4.393-7.245-4.393
			c-3.045,0-5.838,1.694-7.245,4.394l-20.05,38.471l-42.782,7.18c-3.003,0.503-5.477,2.636-6.419,5.533
			c-0.941,2.897-0.194,6.075,1.94,8.249l30.392,30.956l-6.392,42.908c-0.449,3.012,0.815,6.023,3.279,7.813
			c2.462,1.79,5.717,2.061,8.444,0.704L256,491.805l38.832,19.337c1.153,0.574,2.4,0.857,3.641,0.857
			c1.696,0,3.381-0.527,4.803-1.56c2.464-1.791,3.728-4.802,3.279-7.814l-6.391-42.908l30.392-30.956
			C332.689,426.589,333.437,423.409,332.496,420.513z M285.654,451.174c-1.794,1.829-2.629,4.393-2.251,6.927l4.681,31.427
			l-28.441-14.163c-1.147-0.571-2.394-0.857-3.642-0.857s-2.496,0.285-3.642,0.857l-28.441,14.163l4.681-31.427
			c0.378-2.535-0.455-5.099-2.251-6.927l-22.26-22.673l31.336-5.258c2.527-0.424,4.709-2.009,5.893-4.281L256,390.785l14.685,28.176
			c1.184,2.272,3.366,3.857,5.893,4.281l31.335,5.258L285.654,451.174z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M502.882,420.513c-0.941-2.897-3.415-5.029-6.419-5.533l-42.782-7.18l-20.05-38.471c-1.407-2.701-4.2-4.394-7.245-4.394
			s-5.838,1.694-7.245,4.394l-20.05,38.471l-42.783,7.18c-3.003,0.503-5.477,2.636-6.419,5.533s-0.194,6.075,1.94,8.249
			l30.392,30.956l-6.392,42.908c-0.449,3.012,0.815,6.023,3.279,7.813c2.462,1.79,5.717,2.06,8.444,0.704l38.833-19.338
			l38.832,19.337c1.153,0.574,2.4,0.857,3.641,0.857c1.696,0,3.381-0.527,4.803-1.561c2.464-1.79,3.728-4.802,3.279-7.813
			l-6.392-42.908l30.392-30.956C503.075,426.589,503.823,423.41,502.882,420.513z M456.04,451.174
			c-1.795,1.829-2.629,4.393-2.251,6.927l4.681,31.427l-28.441-14.163c-2.293-1.142-4.99-1.143-7.285,0l-28.442,14.164l4.681-31.427
			c0.378-2.534-0.455-5.099-2.251-6.927l-22.26-22.673l31.336-5.258c2.527-0.424,4.709-2.009,5.893-4.281l14.685-28.176
			l14.685,28.176c1.184,2.272,3.366,3.857,5.893,4.281l31.334,5.258L456.04,451.174z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M387.814,0.011c-4.512,0-8.17,3.658-8.17,8.17v51.745h-16.34V8.181c0-4.512-3.658-8.17-8.17-8.17
			c-4.512,0-8.17,3.658-8.17,8.17v51.745h-16.34V8.181c0-4.512-3.658-8.17-8.17-8.17s-8.17,3.658-8.17,8.17v81.702
			c0,12.889,6.157,25.01,16.34,32.67v201.543c0,13.516,10.995,24.511,24.511,24.511c13.516,0,24.511-10.995,24.511-24.511V122.553
			c10.183-7.66,16.34-19.781,16.34-32.67V8.181C395.984,3.669,392.326,0.011,387.814,0.011z M379.644,89.883
			c0,8.716-4.698,16.849-12.262,21.226c-2.524,1.46-4.079,4.155-4.079,7.071v205.916c0,4.506-3.665,8.17-8.17,8.17
			c-4.506,0-8.17-3.665-8.17-8.17V118.18c0-2.916-1.555-5.611-4.079-7.071c-7.563-4.377-12.262-12.51-12.262-21.226V76.266h49.021
			V89.883z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M445.006,0c-18.02,0-32.681,14.661-32.681,32.681v128c0,18.02,14.661,32.681,32.681,32.681h16.34v130.723
			c0,4.506-3.665,8.17-8.17,8.17c-4.506,0-8.17-3.665-8.17-8.17V217.872c0-4.512-3.658-8.17-8.17-8.17s-8.17,3.658-8.17,8.17
			v106.213c0,13.516,10.995,24.511,24.511,24.511c13.516,0,24.511-10.995,24.511-24.511V32.681C477.686,14.661,463.026,0,445.006,0z
			 M461.346,177.021h-16.34c-9.01,0-16.34-7.33-16.34-16.34v-128c0-9.01,7.33-16.34,16.34-16.34c9.01,0,16.34,7.33,16.34,16.34
			V177.021z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M174.299,0c-50.758,0-92.051,41.294-92.051,92.051c0,50.757,41.294,92.051,92.051,92.051
			c50.757,0,92.051-41.294,92.051-92.051C266.35,41.294,225.057,0,174.299,0z M174.299,167.762
			c-41.747,0-75.711-33.964-75.711-75.711s33.964-75.711,75.711-75.711s75.711,33.964,75.711,75.711
			S216.046,167.762,174.299,167.762z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M195.01,101.08c-4.25-1.509-8.924,0.709-10.435,4.962c-1.543,4.338-5.672,7.252-10.276,7.252s-8.734-2.914-10.276-7.252
			c-1.512-4.252-6.184-6.471-10.435-4.962c-4.252,1.512-6.473,6.183-4.962,10.435c3.854,10.838,14.17,18.119,25.673,18.119
			c11.503,0,21.82-7.281,25.673-18.119C201.483,107.263,199.262,102.592,195.01,101.08z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M174.299,200.453c-31.423,0-61.116,10.178-85.872,29.433c-3.561,2.77-4.203,7.903-1.432,11.464
			c2.769,3.562,7.902,4.203,11.466,1.432c21.86-17.003,48.084-25.991,75.839-25.991c65.43,0,119.153,51.091,123.376,115.472H50.919
			c1.594-24.783,10.445-48.082,25.84-67.814c2.776-3.558,2.142-8.692-1.416-11.467c-3.558-2.777-8.693-2.141-11.467,1.416
			c-19.337,24.785-29.559,54.537-29.559,86.036c-0.001,4.512,3.657,8.17,8.169,8.17h263.626c4.512,0,8.17-3.658,8.17-8.17
			C314.282,263.25,251.486,200.453,174.299,200.453z" />
                        </g>
                      </g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                    </svg>
                  </a>
                </li>
                <li class="tooltipRef" #tooltipRef data-placement="bottom" data-toggle="tooltip" role="presentation"
                  title=" {{ 'Order.Print' | translate }}" *ngIf="!disablePrint(orderobj,false,false)"
                  (click)="printOrderAndClearObject(orderobj)">
                  <a aria-controls="tab9874" data-toggle="tab" href="#tab9874" role="tab">
                    <svg width="28px" height="29.3px" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 512 512"
                      style="enable-background: new 0 0 512 512" xml:space="preserve">
                      <g>
                        <g>
                          <path d="M324.267,366.933H187.733c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533h136.533
                 c5.12,0,8.533-3.413,8.533-8.533S329.387,366.933,324.267,366.933z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M349.867,409.6H162.133c-5.12,0-8.533,3.413-8.533,8.533s3.413,8.533,8.533,8.533h187.733c5.12,0,8.533-3.413,8.533-8.533
                 S354.987,409.6,349.867,409.6z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M375.467,452.267H136.533c-5.12,0-8.533,3.413-8.533,8.533c0,5.12,3.413,8.533,8.533,8.533h238.933
                 c5.12,0,8.533-3.413,8.533-8.533C384,455.68,380.587,452.267,375.467,452.267z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path
                            d="M0,307.2v93.867c0,14.507,11.093,25.6,25.6,25.6h58.027l-12.8,64.853c-0.853,5.12,0,10.24,3.413,14.507
                 S81.92,512,87.04,512h337.92c5.12,0,10.24-2.56,12.8-5.973c3.413-4.267,4.267-9.387,3.413-14.507l-12.8-64.853H486.4
                 c14.507,0,25.6-11.093,25.6-25.6V307.2H0z M87.04,494.933l15.36-75.093l15.36-78.507h276.48l15.36,78.507l15.36,75.093H87.04z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M486.4,85.333h-59.733v102.4c0,23.893-18.773,42.667-42.667,42.667H128c-23.893,0-42.667-18.773-42.667-42.667v-102.4
                 H25.6c-14.507,0-25.6,11.093-25.6,25.6v179.2h512v-179.2C512,96.427,500.907,85.333,486.4,85.333z" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <rect x="290.133px" y="145.067px" width="85.333px" height="34.133px" />
                        </g>
                      </g>
                      <g>
                        <g>
                          <path d="M401.067,85.333V17.067C401.067,7.68,393.387,0,384,0H128c-9.387,0-17.067,7.68-17.067,17.067v68.267H102.4v102.4
                 c0,14.507,11.093,25.6,25.6,25.6h256c14.507,0,25.6-11.093,25.6-25.6v-102.4H401.067z M128,17.067h256v68.267H128V17.067z
                  M392.533,187.733c0,5.12-3.413,8.533-8.533,8.533H281.6c-5.12,0-8.533-3.413-8.533-8.533v-51.2c0-5.12,3.413-8.533,8.533-8.533
                 H384c5.12,0,8.533,3.413,8.533,8.533V187.733z" />
                        </g>
                      </g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                      <g></g>
                    </svg>
                  </a>
                </li>

                <li class="tooltipRef" #tooltipRef data-placement="bottom" data-toggle="tooltip" role="presentation"
                  title="{{ 'Order.Hold' | translate }}" (click)="holdOrder(orderobj)"
                  *ngIf="!orderobj.DocumentId && orderobj.OrderDetails?.length">
                  <a style="background: #fff; color: #4f8dca; margin-top: 6px;">
                    <i class="fas fa-pause menu-icon"></i>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!--model editingProduct-->
      <div class="modal fade" id="modal-181" tabindex="-1" role="dialog" aria-labelledby="modal-181">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h3 class="modal-title has-icon ms-icon-round">
                <img style="width: 40px" src="assets/images/addDishes.svg" />
                Edit Product Form
              </h3>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>

            <div class="modal-body" *ngIf="EditImg">
              <div class="ms-panel-body">
                <div class="needs-validation clearfix" novalidate>
                  <div class="form-row">
                    <div class="col-md-12 mb-3">
                      <label for="validationCustom18">Product Name</label>
                      <div class="input-group">
                        <input type="text" class="form-control" [(ngModel)]="EditImg.Name" placeholder="Product Name"
                          required />
                        <div class="valid-feedback">Looks good!</div>
                      </div>
                    </div>

                    <div class="col-md-12 mb-3">
                      <label for="validationCustom12">Product Image</label>
                      <div class="custom-file">
                        <input type="file" class="custom-file-input" id="validatedCustomFile" #v
                          [(ngModel)]="currentInput" (change)="onFileSelected($event)" />{{ EditImg.ImgPath }}
                        <label class="custom-file-label" for="validatedCustomFile">{{ v.value }}</label>
                        <div class="invalid-feedback">Example invalid custom file feedback</div>
                      </div>
                    </div>
                    <div class="modal-notice">
                      <label class="ms-checkbox-wrap">
                        <input type="checkbox" [(ngModel)]="EditImg.ChangeNameAfterSync" />
                        <i class="ms-checkbox-check"></i>
                      </label>
                      <span> Change Name After Sync! </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="modal-footer p-2">
              <button type="button" class="btn btn-light my-0 btnEdit" data-dismiss="modal">Close</button>
              <button type="button" (click)="uploadeImg()" class="btn btn-primary btnEdit shadow-none my-0">
                Accept
              </button>
            </div>
          </div>
        </div>
      </div>
      <!--payment Component-->
      <div *ngIf="paymentShow" class="row py-2 px-4">
        <div class="col-md-12">
          <app-payment [orderobj]="orderobj" (backtoproductsEvent)="backtoproductsEvent($event)"
            [validateOrder]="validateOrder"></app-payment>
        </div>
      </div>
      <!--end payment component-->
      <!-- start dine in modal-->
      <app-dine-in (cancelDinin)="cancelDinin($event)" (cancelDininAndAddGame)="cancelDininAndAddGame($event)"  [_orderobj]="orderobj" *ngIf="selectDineIn"></app-dine-in>
      <!-- end dine in modal -->
    </div>
  </div>
</div>

<!--Amount Modals-->
<div class="modal fade" id="modal-Volums" tabindex="-1" role="dialog" aria-labelledby="modal-Volums">
  <div class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content modal-contentWidth">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img style="height: 30px; width: 30px" src="assets/images/volume2.svg" alt="" srcset="" />

          <span class="p-1"> {{ "Shared.volume" | translate }} </span>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <ul class="align-items-start flex-column justify-content-start ms-list ms-list-display d-flex">
          <li *ngFor="let PV of productvolumslist; let i = index" class="justifyBetween mb-3 d-flex">
            <button *ngIf="PV.Price > 0 || (PV.Price === 0 && !settingobj.HideZerosProducts)" (click)="volumChanged(PV)"
              [ngClass]="PV.SelectedVolum ? 'bg-maingreen' : 'bg-lightBlue'"
              class="btn m-0 volumeSelect d-flex justify-content-around">
              <span> {{ PV.VolumeName }}&nbsp; </span>

              <span>: {{ PV.Price }} </span>
            </button>
          </li>
        </ul>
      </div>

      <div class="modal-footer p-1">
        <button type="button" class="btn btn-light btnEdit mt-0" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--updatemodal-Volums-->
<div class="modal fade" id="updatemodal-Volums" tabindex="-1" role="dialog" aria-labelledby="updatemodal-Volums">
  <div class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img style="height: 35px; width: 35px" src="assets/images/volume2.svg" alt="" />
          <span class="p-1"> {{ "Shared.volume" | translate }}</span>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <ul class="align-items-start flex-column justify-content-start ms-list ms-list-display d-flex">
          <li *ngFor="let PV of productvolumslist; let i = index" class="justifyBetween mb-3 d-flex">
            <button (click)="updateVolum(PV)" class="btn volumeSelect m-0 d-flex justify-content-around"
              [ngClass]="PV.SelectedVolum ? 'bg-maingreen' : 'bg-lightBlue'">
              <span> {{ PV.VolumeName }}&nbsp; </span>

              <span>: {{ PV.Price }} </span>
            </button>

            <div *ngIf="PV.Showduplicatevolum" class="alert alert-danger mx-4 py-4" role="alert">
              <strong>Cannot change volum !</strong> This volum with same product existed in orderlist .
            </div>
          </li>
        </ul>
      </div>

      <div class="modal-footer p-1">
        <button type="button" class="btn btn-light btnEdit mt-0" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end Amount Modals-->
<!--Note Model second-->
<div class="modal fade" id="updatemodal-Notes" tabindex="-1" role="dialog" aria-labelledby="updatemodal-Notes"
  data-keyboard="false">
  <div class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content" *ngIf="showNotes" >
      <div class="modal-header borderb">
        <h5 class="modal-title align-items-baseline d-flex has-icon ms-icon-round orangeColor restaurantName4">
          <img style="width: 30px; height: 30px" src="assets/images/note2.svg" alt="" />
          <span class="p-1"> Notes</span>
        </h5>
        <button type="button" class="close" (click)="cancelNotes()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="row">
          <perfect-scrollbar class="pS ManageScrollModelNote px-2">
            <div class="row px-1">
              <div class="col-md-8">
                <form class="d-flex row justify-content-center align-items-center">
                  <div class="col-md-10">
                    <div class="form-group mb-0">
                      <input class="form-control Prelative" style="height: 3rem;" id="noteArea" rows="2" name="Name"
                        placeholder="Please Enter Your Note ........*" [(ngModel)]="noteobj.Name"
                       (input)="noteInput$.next($event.target.value)">
                    </div>
                    <div *ngIf="shownoteerror" class="positionNOTE alert alert-danger">Must Enter Note</div>
                  </div>
                  <div class="col-md-2">
                    <button type="button" class="btn bg-mainYellow has-icon text-white p-1 m-0 btnEdit"
                      (click)="addNewNote(noteobj)">
                      <i class="fas fa-plus"></i> Add
                    </button>
                  </div>
                </form>

                <div class="row">
                  <!-- Product Notes Group -->
                  <div class="row col-12 pt-2" *ngIf="orderdetailobj?.Product?.Notes?.length">
                    <div class="col-12 pb-1">
                      <small class="text-muted fw-bold">Notes For This Product</small>
                    </div>
                    <perfect-scrollbar 
                      style="height: 8vh;"
                    class="pS ManageScrollchiller px-1">
                      <div *ngFor="let PN of orderdetailobj?.Product?.Notes; let i = index" class="chiller_cb m-1">
                        <input #NoteChecked name="NoteChecked" id="productNoteInput{{ i }}" type="checkbox" ngModel
                          [(ngModel)]="PN.NoteChecked" [checked]="PN.NoteChecked" (change)="notesChecked($event, PN)" />
                        <label class="labelNotes" for="productNoteInput{{ i }}">{{ PN.Name }}</label>
                        <span></span>
                      </div>
                    </perfect-scrollbar>
                  </div>

                  <!-- All Notes Group -->
                  <div class="row pt-2 col-12" >
                    <div class="col-12 pb-1">
                      <small class="text-muted fw-bold">All Notes</small>
                    </div>
                    <perfect-scrollbar class="pS ManageScrollchiller px-1">
                      <div *ngFor="let N of filterNotesList; let i = index" class="chiller_cb m-1">
                        <input #NoteChecked name="NoteChecked" id="checkedInput{{ i }}" type="checkbox" ngModel
                          [(ngModel)]="N.NoteChecked" [checked]="N.NoteChecked" (change)="notesChecked($event, N)" />
                        <label class="labelNotes" for="checkedInput{{ i }}">{{ N.Name }}</label>
                        <span></span>
                      </div>
                    </perfect-scrollbar>
                    <!--<div  [style.opacity]="Showingkeyboard4 ? 1:0" class="col-md-12 justify-content-center keyboardOrder">
                        <div  class="Note-keyboard"></div>
                   </div> -->
                  </div>
                </div>
              </div>

              <div class="col-md-4">
                <perfect-scrollbar class="pS ManageScrollModelSide px-1">
                  <table class="table table-bordered text-center mb-0">
                    <thead class="bg-maingreen">
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody class="digram text-center">
                      <tr *ngFor="let ODN of orderdetailnotelist; let i = index">
                        <th scope="row">{{ i + 1 }}</th>
                        <td>{{ ODN.NoteName }}</td>

                        <td>
                          <i (click)="DeleteOrderDetailNote(ODN, i)" class="far fa-trash-alt text-crosss p-0"
                            style="font-size: 1.1rem"></i>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </perfect-scrollbar>
              </div>
            </div>
          </perfect-scrollbar>
        </div>
      </div>

      <div class="modal-footer p-1">
        <button type="button" class="btn btn-light mt-0 btnEdit" data-dismiss="modal" (click)="cancelNotes()"
          style="margin-right: auto">
          {{ "Shared.Cancel" | translate }}
        </button>

        <button style="min-width: 100px !important" (click)="updateNotes()" type="button"
          class="btn btn-primary shadow-none mt-0 btnEdit" data-dismiss="modal">
          {{ "Shared.Ok" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

<!--end Note Modal-->
<!--Insurance Model-->
<!-- *ngIf="orderobj.OrderInsurance" -->
<div class="modal fade" id="modal-Insurances" tabindex="-1" role="dialog" aria-labelledby="updatemodal-Insurances">
  <div class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb d-flex align-items-center justify-content-center">
        <svg height="55px" viewBox="0 0 64 64" width="45px" class="">
          <g>
            <path
              d="m57 35h-50a2.006 2.006 0 0 1 -2-2v4a2.006 2.006 0 0 0 2 2h50a2.006 2.006 0 0 0 2-2v-4a2.006 2.006 0 0 1 -2 2z"
              fill="#009986" data-original="#009986" class="active-path" style="fill: #5b4b92"
              data-old_color="#009986" />
            <path
              d="m57 31h-50a2.006 2.006 0 0 1 -2-2v4a2.006 2.006 0 0 0 2 2h50a2.006 2.006 0 0 0 2-2v-4a2.006 2.006 0 0 1 -2 2z"
              fill="#00b39d" data-original="#00B39D" class="" style="fill: #5b4b92" data-old_color="#00b39d" />
            <path
              d="m57 5h-50a2.006 2.006 0 0 0 -2 2v22a2.006 2.006 0 0 0 2 2h50a2.006 2.006 0 0 0 2-2v-22a2.006 2.006 0 0 0 -2-2z"
              fill="#00ccb3" data-original="#00CCB3" class="" style="fill: #5b4b92" data-old_color="#00ccb3" />
            <path
              d="m44 29v16.65a10.013 10.013 0 0 1 -4.45 8.32l-7.55 5.03-7.55-5.03a10.013 10.013 0 0 1 -4.45-8.32v-16.65z"
              fill="#ff5023" data-original="#FF5023" class="" />
            <path d="m36 12.26a7 7 0 1 0 -8 11.48 7 7 0 1 0 8-11.48z" fill="#ffd422" data-original="#FFD422" class="" />
            <path d="m36 33h-12v12.65a6 6 0 0 0 2.67 4.99l5.33 3.55 5.33-3.55a6 6 0 0 0 2.67-4.99v-12.65z"
              fill="#ffd422" data-original="#FFD422" class="" />
            <path d="m28 5v7.26 11.48 5.26h8v-5.26-11.48-7.26z" fill="#e6e7e8" data-original="#E6E7E8" class="" />
            <path
              d="m57 4h-50a3 3 0 0 0 -3 3v30a3 3 0 0 0 3 3h12v5.648a10.979 10.979 0 0 0 4.9 9.152l7.547 5.031a1 1 0 0 0 1.11 0l7.543-5.031a10.979 10.979 0 0 0 4.9-9.152v-5.648h12a3 3 0 0 0 3-3v-30a3 3 0 0 0 -3-3zm-20 10.692a5.971 5.971 0 0 1 0 6.616zm-2 13.308h-6v-22h6zm-8-6.692a5.971 5.971 0 0 1 0-6.616zm-21 10.508a2.966 2.966 0 0 0 1 .184h12v2h-12a1 1 0 0 1 -1-1zm1 6.184a1 1 0 0 1 -1-1v-1.184a2.966 2.966 0 0 0 1 .184h12v2zm12-9v1h-12a1 1 0 0 1 -1-1v-22a1 1 0 0 1 1-1h20v5.776a7.956 7.956 0 0 0 0 12.448v3.776h-7a1 1 0 0 0 -1 1zm24 16.648a8.983 8.983 0 0 1 -4.008 7.489l-6.992 4.663-6.992-4.661a8.983 8.983 0 0 1 -4.008-7.491v-15.648h22zm14-7.648h-12v-2h12a2.966 2.966 0 0 0 1-.184v1.184a1 1 0 0 1 -1 1zm0-4h-12v-2h12a2.966 2.966 0 0 0 1-.184v1.184a1 1 0 0 1 -1 1zm0-4h-12v-1a1 1 0 0 0 -1-1h-7v-3.776a7.956 7.956 0 0 0 0-12.448v-5.776h20a1 1 0 0 1 1 1v22a1 1 0 0 1 -1 1z"
              data-original="#000000" class="" style="fill: #000000" />
            <path d="m53 25h-3v2h4a1 1 0 0 0 1-1v-4h-2z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m11 22h-2v4a1 1 0 0 0 1 1h4v-2h-3z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m54 9h-4v2h3v3h2v-4a1 1 0 0 0 -1-1z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m9 10v4h2v-3h3v-2h-4a1 1 0 0 0 -1 1z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m20 17h2v2h-2z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m42 17h2v2h-2z" data-original="#000000" class="" style="fill: #000000" />
            <path
              d="m26.117 51.473 5.328 3.551a1 1 0 0 0 1.11 0l5.328-3.551a6.989 6.989 0 0 0 3.117-5.825v-12.648a1 1 0 0 0 -1-1h-16a1 1 0 0 0 -1 1v12.648a6.989 6.989 0 0 0 3.117 5.825zm-1.117-17.473h14v11.648a4.991 4.991 0 0 1 -2.227 4.161l-4.773 3.182-4.773-3.182a4.993 4.993 0 0 1 -2.227-4.161z"
              data-original="#000000" class="" style="fill: #000000" />
            <path
              d="m31 45a1 1 0 0 0 .707-.293l5-5-1.414-1.414-4.293 4.293-2.293-2.293-1.414 1.414 3 3a1 1 0 0 0 .707.293z"
              data-original="#000000" class="" style="fill: #000000" />
          </g>
        </svg>
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4 px-2">
          {{ "returninsurance.InsuranceItems" | translate }}
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="row">
          <div class="col-md-5">
            <div class="row justify-content-center">
              <perfect-scrollbar class="pS ManageScrollModelNote col-md-12">
                <div class="form-group" >
                  <label class="maingreen pl-0 pr-4" for="exampleFormControlTextarea1">{{ "Dashboard.SearchHere" |
                    translate }} ...</label>
                  <textarea *ngIf="insurancelist?.length" class="form-control" name="SInsurance" #SInsurance="ngModel" [(ngModel)]="SearchInsurance"
                    (keyup)="searchInsurance(SearchInsurance)" id="exampleFormControlTextarea1" rows="2"></textarea>
                </div>

                <button type="button" *ngFor="let I of insurancelist; let i = index" class="btn mr-1 bg-Orangee"
                  (click)="addToInsuranceList(I, DropDownItem)">
                  {{ I.Name }}
                </button>
              </perfect-scrollbar>
            </div>
          </div>
          <div class="col-md-7">
            <div *ngIf="insurancelist?.length" class="form-group pt-3 d-flex">
              <label class="col-md-4 maingreen pl-0 pr-4" for="TotInsurance">{{ "Dashboard.SelectPayType" | translate }}
                :</label>
              <!-- <ejs-combobox
                class="form-control borderRadius paytype-Insurance"
                name="PayTypeDocId"
                #PayTypeDocId="ngModel"
                [(ngModel)]="PayTypeDocumentId"
                [allowFiltering]="true"
                [autofill]="true"
                [allowCustom]="false"
                [dataSource]="orderPayTypelist"
                [fields]="Flds"
                [value]="defaultSelectedPayType?.DocumentId"></ejs-combobox> -->
              <ejs-dropdownlist [dataSource]="orderPayTypelist" class="form-control borderRadius paytype-Insurance"
                name="PayTypeDocId" #PayTypeDocId="ngModel" [(ngModel)]="PayTypeDocumentId"
                [value]="defaultSelectedPayType?.DocumentId" [fields]="Flds" [placeholder]="waterMark"
                ></ejs-dropdownlist>
            </div>
            <!-- <div class="col-md-12">


            </div> -->
            <table class="table table-bordered mb-0">
              <thead class="bg-maingreen text-center">
                <tr>
                  <th scope="col">{{ "Shared.Name" | translate }}</th>
                  <th scope="col">{{ "stock.Quantity" | translate }}</th>
                  <th *ngIf="validationList['CanChangeInsurancePrice']" scope="col">
                    {{ "Order.Price" | translate }}
                  </th>
                  <th scope="col">{{ "Shared.Total" | translate }}</th>
                  <th scope="col">{{ "products.Product" | translate }}</th>
                  <th scope="col">{{ "delivery.Actions" | translate }}</th>
                </tr>
              </thead>
              <tbody class="text-center editTd">
                <tr *ngFor="let II of orderobj?.OrderInsurance?.OrderInsuranceDetails; let i = index">
                  <th scope="row">{{ II.InsuranceName }}</th>
                  <td class="editmarg2">
                    <!-- <input numbersOnly  [(value)]="II.Quantity" class="btn-count" /> -->
                    <input id="Quantity{{ i }}" type="number" [numbersOnly]="II.Quantity" [allowDecimals]="false"
                      name="Quantity{{ i }}" (keyup)="calculateTotalInsuranceAmount()" class="btn-count"
                      [(ngModel)]="II.Quantity" value="1" min="1"
                      oninput="this.value = !!this.value && Math.abs(this.value) >= 1 ? Math.abs(this.value) : 1"
                      #Quantity="ngModel" />
                  </td>
                  <td class="editmarg2" *ngIf="validationList['CanChangeInsurancePrice']">
                    <input id="Price{{ i }}" type="number" [numbersOnly]="II.Price" [allowDecimals]="true"
                      name="Price{{ i }}" (keyup)="calculateTotalInsuranceAmount()" class="btn-count"
                      [(ngModel)]="II.Price" min="1"
                      oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : 0"
                      #Price="ngModel" />
                  </td>
                  <td>{{ II.Price * II.Quantity }}</td>
                  <td>{{ II.ProductName }}</td>
                  <td>
                    <i (click)="PlusInsuranceItems(i)" class="fa fa-plus p-0" style="font-size: 1.1rem"></i>
                    <i (click)="MinusInsuranceItems(i)" class="fa fa-minus p-0" style="font-size: 1.1rem"></i>
                    <i (click)="deleteInsurance(i)" class="far fa-trash-alt text-crosss p-0"
                      style="font-size: 1.1rem"></i>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="form-group pt-3 d-flex" *ngIf="orderobj?.OrderInsurance?.OrderInsuranceDetails?.length">
              <label class="col-md-4 maingreen pl-0 pr-4" for="TotInsurance">{{ "Order.Total Insurance" | translate }}
                :</label>
              <input type="text" name="TotalInsuranceAmount" #TotalInsuranceAmount="ngModel"
                [(ngModel)]="orderobj.TotalInsuranceAmount" readonly class="col-md-8 form-control" id="TotInsurance"
                rows="2" />
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer p-1">
        <!-- <button type="button" class="btn btn-primary btnEdit mt-0" data-dismiss="modal">{{'Shared.Save'|translate}}</button> -->
        <button type="button" class="btn btn-light btnEdit mt-0" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--End Insurance Model-->

<!--modal of order type-->
<div class="modal fade" id="modal-OrderType" tabindex="-111" role="dialog" aria-labelledby="modal-OrderType">
  <div style="max-width: 40rem" class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header p-1">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div style="background-color: #efefef" class="modal-body">
        <div class="row justify-content-center">
          <div class="col-6">
            <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
              <a style="font-weight: bold; font-size: 1.5rem" *ngFor="let OT of ordertypelist; let i = index"
                class="nav-link bg-Orange my-1 text-center" [ngClass]="
                  (OT.Id && orderobj.OrderTypeId == OT.Id) ||
                  (OT.DocumentId && orderobj.OrderTypeDocumentId == OT.DocumentId)
                    ? 'active'
                    : ''
                " id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings" role="tab"
                aria-controls="v-pills-settings" aria-selected="false" (click)="orderTypeClicked(OT)">{{ getTypeName(OT)
                }}</a>
            </div>
          </div>
          <div *ngIf="selectDineIn" class="col-9">
            <div class="tab-content border-bold px-3">
              <!--Dine In content-->

              <!--Delivery  content-->
              <!-- <div
                class="tab-pane fade"
                id="v-pills-profile"
                role="tabpanel"
                aria-labelledby="v-pills-profile-tab"
              >
                ...
              </div> -->
              <!-- <div
                class="tab-pane fade"
                id="v-pills-messages"
                role="tabpanel"
                aria-labelledby="v-pills-messages-tab"
              >
                ...
              </div> -->
              <div class="tab-pane fade show active" id="v-pills-settings" role="tabpanel"
                aria-labelledby="v-pills-settings-tab"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer p-1 m-0">
        <button type="button" class="btn btn-light mt-0 btnEdit" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>
<!--end modal of order type-->

<!--order Type Model-->

<div class="modal d-block" *ngIf="ordertypelist.length < 0" id="modal-10112">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content modal-contentEdit">
      <div class="modal-header border-b">
        <h3 class="modal-title has-icon ms-icon-round">
          <i class="flaticon-alert-1 bg-primary text-white"></i> No Order Type Found!
        </h3>
      </div>

      <div class="modal-body">
        <p>If you have a permission please add order types, if not Please refer to your supervisor.</p>
      </div>
    </div>
  </div>
</div>
<!--end order type Model-->
<app-deliverycustomer (cancelCustomer)="cancelCustomer($event)" [orderobj]="orderobj"
  [isDelivery]="isDelivery"></app-deliverycustomer>
<!-- <div class="col-md-12 py-5">

        <div class="row">
          <div class="col-md-12">
            <ngx-sortable [items]="productlist" [listStyle]="listStyle" [showHeader]=false   (listSorted)="listSorted($event)">
              <ng-template  let-item>
                <div class="MealAll">

                  <img
                    class="img-fluid mealImg"
                    [src]="imgURL + item.PicturePath | defaultImg:defaultIm"
                    alt=""
                    srcset=""
                  />



                  <div class="img-info">
                    <div class="mealDetails">
                      <p class="mealName">
                        {{ item.Name | slice:0:20 }}
                      </p>
                      <div
                        class="d-flex justify-content-w"
                      >
                        <p>
                          <span
                            class="badge maingreen bg-white badge-pill badge-light"
                            >${{ item.Price }}</span
                          >
                        </p>
                        <p *ngIf="item.PromoCustomModel.ShowPromo" class="flex-end ml-auto">
                          <i
                            class="fas fa-gift mb-1 text-white"
                          ></i>
                        </p>
                      </div>
                    </div>
                  </div>
                  <div *ngIf="item.ShowDiscount"  class="wrap">
                    <span  class="ribbon6">disc {{item.DiscountValue}}%</span>
                  </div>


                </div>
                </ng-template>
            </ngx-sortable>

          </div>
        </div>


</div>
    -->

<!-- <div class="preview text-center">
  <img class="preview-img" src="assets/images/{{v.value}}" alt="Preview Image" width="200" height="200"/>
  <div class="browse-button">
      <i class="fa fa-pencil-alt"></i>
      <input  #v class="browse-input" type="file" required name="UploadedFile" id="UploadedFile"/>
  </div>
  <span class="Error"></span>
</div> -->
<!--modal cancel-->
<div class="modal fade" id="modal-Cancel" tabindex="-1" 
role="dialog" aria-labelledby="modal-Cancel" data-keyboard="false" data-backdrop="static">
  <div class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content" *ngIf="showCancelPopup" style="position: fixed; top: 6vh; left: 0;">
      <!-- <div class="modal-header borderb">
        <h5
          class="modal-title has-icon ms-icon-round orangeColor restaurantName4"
        >
        <i class="fas fa-ban"></i>
        <span > Cancel</span>
        </h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div> -->
      
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12">
            <table class="table table-bordered mb-0">
              <thead class="bg-maingreen text-center">
                <tr>
                  <th class="d-flex justify-content-center align-items-center" scope="col">
                    <input type="checkbox" value="" class="form-control" [(ngModel)]="checkAllCancel"
                      (change)="isCheckAllCancel($event)" />
                    <span class="px-1">Check</span>
                  </th>
                  <th scope="col">Name</th>
                  <th scope="col">Qnty</th>
                  <th scope="col">Returned</th>
                </tr>
              </thead>
              <tbody class="text-center editTd">
                <tr *ngFor="let OD of orderDetailsWithQuantity() ; let i = index">
                  <ng-container *ngIf="OD.DocumentId && OD.DocumentId.trim()">
                    <th class="d-flex justify-content-center" scope="row">
                      <input type="checkbox" value="" [(ngModel)]="OD.IsCancelledFront" (change)="cancelDetailChecked(OD)"class="form-control" />
                    </th>
                    <td>{{ !OD.ProductVolumName ? OD.ProductName: OD.ProductVolumName + " / " + OD.ProductName}}</td>
                    <td *ngIf="OD.StartTime">{{ OD.TotalTime }}</td>
                    <td *ngIf="!OD.StartTime">{{ OD.ProductQuantity }}</td>

                    <td *ngIf="OD.IsCancelledFront && OD.TotalTime">
                      {{ OD.TotalTime }}
                    </td>
                    <td *ngIf="!OD.StartTime" class="editmarg2">
                      <input type="number" style="text-align: center" [(ngModel)]="OD.ReturnedProductQuantity"
                        class="btn-count" [max]="OD.ProductQuantity" min="0" (change)="cancelledQuantityChanged(OD)" />
                    </td>
                  </ng-container>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="modal-footer p-1">
        <button (click)="openCancellationReason()" type="button" class="btn btn-primary btnEdit mt-0">
          Send
        </button>
        <button type="button" (click)="closeCancelDetails()" class="btn btn-light btnEdit mt-0">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<!-- modal for splitOrder -->
<div class="modal fade" id="modal-1001" tabindex="-1" role="dialog" aria-labelledby="modal-1001">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content" *ngIf="orderobj?.OrderType?.Value == 4">
      <div class="modal-header p-1 d-flex justify-content-between align-items-center headerSplitOrder">
        <div class="d-flex tableSelect w-100">
          <img src="assets/images/splittable.svg" alt="" srcset="" />
          <h5 *ngIf="!orderobj.IsDevidOrder" class="modal-title has-icon ms-icon-round restaurantName4 px-1 orangeColor">{{ "Order.Split Order" | translate }}</h5>
          <h5 *ngIf="orderobj.IsDevidOrder" class="modal-title has-icon ms-icon-round restaurantName4 px-1 orangeColor">{{ "Order.DevidOrder" | translate }}</h5>
        </div>


        <div *ngIf="orderobj.IsDevidOrder" class="input-group positionEdit">
          <input placeholder="{{ 'Order.EnterSplitName' | translate }}" [(ngModel)]="SplitName" class="form-control py-3 borderRadius" />
        </div>

        <button  type="button" class="close m-0" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body p-0">
        <perfect-scrollbar class="ManageScrollModelNote table-responsive">
          <table class="table table-hover text-center thead-light">
            <thead>
              <tr>
                <th scope="col">
                  <label class="ms-checkbox-wrap ms-todo-complete">
                    <!-- Check All Checkbox -->
                    <input type="checkbox" (change)="toggleAll($event)" [checked]="checkAllSplit" />
                    <i class="ms-checkbox-check"></i>
                  </label>
                </th>
                <th scope="col">{{ "Order.Name" | translate }}</th>
                <th scope="col">{{ "Order.Qnty" | translate }}</th>
                <th scope="col">{{ "Order.QntytoSplit" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of orderDetailsWithQuantity(); let i = index"
                [style.background-color]="vv.checked ? ' #ff001814' : ''">
                <th scope="row">
                  <label class="ms-checkbox-wrap ms-todo-complete">
                    <input #vv type="checkbox" (change)="checkQntyToSplit(item)" [checked]="item.checkedSplit" />
                    <i class="ms-checkbox-check"></i>
                  </label>
                </th>
                <td>{{ getName(item.Product) }}</td>
                <td>{{ item.ProductQuantity }}</td>
                <td>
                  <div class="centerAll">
                    <div class="editCountRow">
                      <!--minus-->
                      <i (click)="minusBtn(item)" class="fas m-0 fa-minus-circle text-yellow"
                        style="font-size: 1.5rem"></i>
                      <div class="editmarg">
                        <input type="number" [readonly]="!item.Product.UseWeights" style="border-color: #5b4b92" #count [(ngModel)]="item.QntyToSplit" name="qty"
                          class="btn btn-count btn-pill Prelative text-darkgray btnGrayHover mx-1"
                          (focusout)="closekeyboardNum()" (input)="qtySplitChanged(item)" [max]="item.ProductQuantity" [min]="0"/>
                      </div>
                      <!--plus-->
                      <i (click)="plusBtn(item)" class="fas m-0 fa-plus-circle maingreen" style="font-size: 1.5rem"></i>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </perfect-scrollbar>
      </div>

      <div class="modal-footer p-1">
        <button type="button" class="btn btn-light btnEdit mt-0" data-dismiss="modal">{{ "Shared.Close" | translate }}</button>
        <button type="button" (click)="splitNewOrder()" class="btn btn-primary shadow-none btnEdit mt-0">{{ "Shared.Ok" | translate }}</button>
      </div>
    </div>
  </div>
</div>

<!-- modal for splitReceipt -->
<div class="modal fade" id="modal-1021" tabindex="-1" role="dialog" aria-labelledby="modal-1021">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div style="border: 0"
        class="modal-header p-1 d-flex justify-content-between align-items-center headerSplitOrder">
        <button style="border-radius: 5px; color: #fff; background-color: #777" type="button" class="close m-0"
          (click)="closeSplitedOrders()">
          <span aria-hidden="true">&times;</span>
        </button>
        <button [disabled]="!validationList['CanPrint']" (click)="printMultiOrders(allTableOrders)"
          class="btn btn-primary btn-table__actions m-0">
          <i class="fas fa-print"></i>
          {{ "Order.PrintAll" | translate }}
        </button>
      </div>
      <div
        style="display: flex; padding: 2rem 2rem 7rem 2rem !important; justify-content: center; align-content: center"
        class="modal-body p-0">
        <button class="btn mx-2 my-0 bg-maingreen pt-4 pb-4" *ngFor="let item of allTableOrders; let i = index"
          (click)="CheckOrderTable([item])">
          <span> #{{ item.OrderNumber }} &nbsp;</span>
          <span *ngIf="item.SplitName">{{item.SplitName}}</span>
          <span *ngIf="!item.SplitName"> {{ getNameOfTableWithMultiReceipts(item)}}</span>
        </button>
      </div>
    </div>
  </div>
</div>
<!-- modal for Cancellation Reasons -->
<div class="modal fade" id="modal-cancellationReason" tabindex="-1" role="dialog"
  aria-labelledby="modal-cancellationReason" data-keyboard="false" data-backdrop="static">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content" *ngIf="showCancellationReasons">
      <div style="border: 0"
        class="modal-header p-1 d-flex justify-content-between align-items-center headerSplitOrder">
        <button style="border-radius: 5px; color: #fff; background-color: #777" type="button" class="close m-0"
          (click)="closeCancellationReasonsPopup()">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="d-flex col-6"
          *ngIf="settingobj?.AddCancelReasonFromOrder && (orderobj?.isAdmin || validationList['CanAddCancelReasonFromOrder'])">
          <input type="text" class="form-control mr-2 col-8"
            placeholder="{{ 'Reports.CancellationReason' | translate }}" [(ngModel)]="inputCancellationReason"
            style="height: auto; border-color: darkgray;  border-radius: 20px;">
          <button type="button" class="btn bg-mainYellow has-icon text-white p-1 m-0 btnEdit"
            (click)="addCancelReason(inputCancellationReason)">
            >
            <i class="fas fa-plus"></i> Add
          </button>
        </div>

      </div>
      <div style="padding: 2rem 2rem 7rem 2rem !important; justify-content: center; align-content: center"
        class="modal-body p-0">
        <button class="btn mx-1 my-1 bg-maingreen p-4"
          *ngFor="let cancellationReason of cancellationReasons; let i = index"
          (click)="cancelDetail(cancellationReason)">
          {{ cancellationReason.Name }}
        </button>
      </div>
    </div>
  </div>
</div>
<!-- modal for Yemek Cancellation Reasons -->
<div class="modal fade" id="modal-YemekcancellationReason" tabindex="-1" role="dialog"
  aria-labelledby="modal-YemekcancellationReason">
  <div *ngIf="IntegrationCancellationReasons" class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div style="border: 0"
        class="modal-header p-1 d-flex justify-content-between align-items-center headerSplitOrder">
        <button style="border-radius: 5px; color: #fff; background-color: #777" type="button" class="close m-0"
          data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div style="padding: 2rem 2rem 7rem 2rem !important; justify-content: center; align-content: center"
        class="modal-body p-0">
        <button class="btn mx-1 my-1 bg-maingreen p-4"
          *ngFor="let cancellationReason of IntegrationCancellationReasons; let i = index"
          (click)="rejectYemekOrder(cancellationReason)">
          {{ cancellationReason.Name }}
        </button>
      </div>
    </div>
  </div>
</div>
<!-- modal for Trendyol Cancellation Reasons -->
<div class="modal fade" id="modal-TrendyolcancellationReason" tabindex="-1" role="dialog"
  aria-labelledby="modal-TrendyolcancellationReason">
  <div *ngIf="IntegrationCancellationReasons" class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div *ngIf="trendyolOrder" class="modal-body">
        <label for="trendyolCancellationReason" class="form-label">{{ "integration.CancelReason" | translate }}</label>
        <select id="trendyolCancellationReason" class="form-control" [(ngModel)]="trendyolOrder.CancelReasonId">
          <option *ngFor="let reason of IntegrationCancellationReasons" [value]="reason.Id">{{ reason.Name }}</option>
        </select>

        <table class="table table-bordered thead-light text-center mb-0 mt-4">
          <thead>
            <tr>
              <th>
                <input type="checkbox" [(ngModel)]="selectAllTrendyolDetail" (click)="selectAllTrendyolDetails()" />
              </th>
              <th>{{ "stock.Quantity" | translate }}</th>
              <th>{{ "Printer.Product" | translate }}</th>
              <th>{{ "Shared.ProductPrice" | translate }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let detail of trendyolOrder.OrderDetails; let i = index">
              <td>
                <input type="checkbox" name="SelectedToCancel" [(ngModel)]="detail.SelectedToCancel" />
              </td>
              <td>{{ detail.ProductQuantity }}</td>
              <td>{{ detail.ProductName }}</td>
              <td>{{ detail.ProductPrice | number : "1.0-2" }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer py-1 pr-3">
        <button type="button" class="btn btn-primary my-1" (click)="rejectTrendyolOrder()">
          {{ "Shared.Ok" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

<!--EMPLOYEES MODAL-->
<div class="modal fade" id="modal-Waiter" tabindex="-1" role="dialog" aria-labelledby="modal-Waiter"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <!--header-->
      <div class="modal-header" style="padding: 0.5rem 1rem 0 0">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <!--body-->
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12 mb-3">
            <div class="row d-flex pr-xs-0">
              <div class="col-md-6 d-flex justify-content-start align-items-center label1">
                <label *ngIf="isWaiter == true" class="restaurantName4" for="validationCustom20">{{ "manageorder.Waiter"
                  | translate }} :</label>
                <label *ngIf="!isWaiter" class="restaurantName4" for="validationCustom20">{{ "manageorder.Captain" |
                  translate }} :</label>
                <label *ngIf="isWaiter == 'General'" class="restaurantName4" for="validationCustom20">{{
                  "manageorder.Employee" | translate }} :</label>
                <label *ngIf="isWaiter == 'ShouldHaveMeal'" class="restaurantName4" for="validationCustom20">{{
                  "manageorder.Employee" | translate }} :</label>
              </div>
              <div class="col-md-12">
                <div class="row">
                  <div class="col-md-10 paddingLeftz">
                    <div class="input-group editInputGroup">
                      <div class="input-group-addon">
                        <svg version="1.1" id="Capa_1" height="20px" width="30px" x="0px" y="0px"
                          viewBox="0 0 511.998 511.998" style="enable-background: new 0 0 511.998 511.998"
                          xml:space="preserve">
                          <g>
                            <g>
                              <path d="M315.046,361.686h-28.067c-4.142,0-7.5,3.358-7.5,7.5c0,4.143,3.358,7.5,7.5,7.5h28.067c4.142,0,7.5-3.357,7.5-7.5
                              C322.546,365.044,319.188,361.686,315.046,361.686z" />
                            </g>
                          </g>
                          <g>
                            <g>
                              <path
                                d="M480.248,281.394l-40.841-15.753l-20.823-20.823c-1.337-1.337-3.06-2.061-4.82-2.174v-16.569
                              c9.814-10.464,16.8-23.715,19.619-38.643c1.75,0.079,3.517-0.062,5.26-0.418c9.979-2.043,17.222-11.302,17.222-22.014v-5.469
                              c0-6.197-2.513-11.885-6.605-15.952c6.623-36.02,1.168-65.374-15.846-85.021c-16.457-19.003-42.971-28.086-76.672-26.263
                              c-31.136,1.683-51.236,16.009-57.604,21.25c-3.486,0.414-9.424,1.638-15.434,5.244c-8.33,4.998-18.259,15.497-18.259,37.13
                              c0,18.872,3.016,34.628,5.2,43.567c-7.32,3.566-12.217,11.294-12.217,20.129v5.384c0,10.712,7.243,19.971,17.222,22.014
                              c1.743,0.357,3.511,0.497,5.26,0.418c2.819,14.928,9.806,28.179,19.619,38.643v16.569c-1.76,0.113-3.484,0.837-4.82,2.174
                              l-20.823,20.823l-40.841,15.753c-3.533,1.362-6.908,3.129-10.03,5.25c-3.426,2.328-4.316,6.992-1.989,10.418
                              c1.451,2.136,3.81,3.286,6.21,3.286c1.451,0,2.917-0.421,4.208-1.297c2.177-1.479,4.532-2.711,6.999-3.663l37.903-14.62
                              l28.98,43.471c3.592,5.389,9.35,8.846,15.795,9.484c0.717,0.071,1.434,0.106,2.146,0.106c3.731,0,7.351-0.981,10.555-2.794
                              l-6.219,141.068c-0.183,4.138,3.024,7.641,7.163,7.823c0.112,0.005,0.224,0.007,0.336,0.007c3.99,0,7.31-3.145,7.487-7.17
                              l5.772-130.941h15.57l5.772,130.941c0.177,4.026,3.497,7.17,7.487,7.17c0.112,0,0.224-0.002,0.336-0.007
                              c4.138-0.182,7.345-3.685,7.163-7.823l-6.219-141.068c3.204,1.813,6.823,2.794,10.555,2.794c0.712,0,1.429-0.035,2.146-0.106
                              c6.445-0.638,12.202-4.095,15.795-9.484l28.98-43.471l37.903,14.62c5.316,2.05,9.892,5.321,13.49,9.402l-25.931,25.931
                              c-9.369,9.369-14.528,21.825-14.528,35.073v106.64c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-106.64
                              c0-9.241,3.599-17.931,10.134-24.466l22.758-22.758c0.914,3.353,1.341,6.878,1.197,10.482l-5.809,143.078
                              c-0.168,4.139,3.051,7.63,7.189,7.799c0.104,0.004,0.207,0.006,0.31,0.006c4.001,0,7.325-3.161,7.488-7.195l5.811-143.082
                              C512.809,308.433,500.066,289.038,480.248,281.394z M295.592,184.339c-1.323-7.201-7.991-12.435-15.188-11.902
                              c-0.569,0.041-1.155,0.001-1.745-0.119c-2.982-0.61-5.231-3.757-5.231-7.318v-5.386c0-3.479,2.325-6.613,5.292-7.134
                              c2.504-0.44,4.902,0.479,6.419,2.458c1.377,1.795,3.214,3.079,5.311,3.711c3.072,0.928,6.459,0.383,9.063-1.455
                              c4.69-3.311,8.828-7.356,12.299-12.024c2.472-3.324,1.78-8.022-1.543-10.493c-3.325-2.472-8.022-1.781-10.494,1.543
                              c-1.731,2.328-3.687,4.441-5.84,6.311c-2.378-2.034-5.156-3.504-8.133-4.343c-1.927-7.382-5.357-23.197-5.357-42.271
                              c0-11.487,3.541-19.558,10.524-23.988c5.449-3.457,11.216-3.595,11.212-3.596c1.917,0,3.783-0.755,5.175-2.072
                              c0.183-0.172,18.62-17.282,50.194-18.989c28.902-1.56,51.214,5.736,64.523,21.104c13.414,15.49,17.881,39.271,13.035,69.036
                              c-2.009-0.071-4.208,0.081-6.397,0.446l-7.046-16.922c-1.438-3.452-5.204-5.316-8.822-4.373
                              c-0.697,0.182-69.958,17.74-98.999-18.416c-2.593-3.229-7.313-3.745-10.544-1.151c-3.229,2.594-3.745,7.314-1.15,10.544
                              c29.656,36.922,88.5,28.89,108.088,24.973l5.449,13.085c2.343,5.625,8.337,8.697,14.245,7.304
                              c2.425-0.571,4.742-0.584,5.612-0.412c3.033,0.604,5.32,3.629,5.32,7.039v5.47c0,3.562-2.249,6.708-5.231,7.318
                              c-0.589,0.121-1.178,0.161-1.745,0.119c-7.196-0.524-13.864,4.7-15.188,11.903c-5.456,29.704-31.343,51.264-61.554,51.264
                              C326.935,235.603,301.048,214.043,295.592,184.339z M328.863,316.915c-1.902,1.902-4.113,1.995-5.263,1.881
                              c-1.149-0.113-3.3-0.639-4.792-2.877l-29.195-43.792l11.741-11.741l44.82,39.218L328.863,316.915z M350.022,326.822l0.454-10.308
                              l6.669-6.669l6.669,6.669l0.454,10.308H350.022z M357.146,289.272l-41.617-36.415v-14.354c12.1,7.695,26.416,12.1,41.617,12.1
                              s29.518-4.405,41.618-12.1v14.354L357.146,289.272z M395.486,315.919c-1.493,2.239-3.644,2.764-4.792,2.877
                              c-1.151,0.114-3.362,0.021-5.264-1.882l-17.311-17.311l44.82-39.218l11.741,11.741L395.486,315.919z" />
                            </g>
                          </g>
                          <g>
                            <g>
                              <path d="M237.845,320.699l-36.622-15.985l-20.019-20.019c-1.341-1.342-3.065-2.062-4.82-2.174v-11.799
                              c17.109-11.243,29.629-29.124,33.652-50.431c1.97,0.088,3.959-0.101,5.919-0.564c9.597-2.271,16.562-11.468,16.562-21.868v-5.468
                              c0-7.598-3.77-14.433-9.611-18.443c1.718-6.806,2.594-13.769,2.594-20.778c0-31.072-16.796-58.44-42.113-74.154
                              c-0.27-25.933-22.405-46.953-49.588-46.953c-27.183,0-49.318,21.02-49.588,46.953C58.895,94.73,42.099,122.099,42.099,153.17
                              c0,6.988,0.87,13.931,2.578,20.718c-5.838,3.99-9.595,10.857-9.595,18.585v5.386c0,10.4,6.965,19.597,16.562,21.868
                              c1.96,0.464,3.948,0.652,5.919,0.564c4.023,21.307,16.544,39.188,33.653,50.431v11.799c-1.755,0.112-3.479,0.832-4.82,2.174
                              l-20.019,20.019l-36.621,15.985c-18.633,8.134-30.573,27.246-29.712,47.559l4.429,104.493c0.171,4.03,3.492,7.183,7.488,7.183
                              c0.107,0,0.215-0.002,0.323-0.007c4.139-0.175,7.351-3.672,7.176-7.811l-4.43-104.494c-0.285-6.733,1.465-13.266,4.755-18.889
                              l19.685,23.622c6.221,7.465,9.646,16.927,9.646,26.643v73.436c0,4.142,3.358,7.5,7.5,7.5c4.142,0,7.5-3.358,7.5-7.5v-73.436
                              c0-13.218-4.661-26.09-13.123-36.245L30.066,337.64c1.779-1.226,3.67-2.312,5.691-3.194l31.916-13.932l22.554,36.609
                              c2.227,3.615,5.909,6.066,10.103,6.726c0.754,0.119,1.51,0.177,2.263,0.177c3.429,0,6.769-1.215,9.417-3.475l14.292-12.195
                              v124.077c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5V348.358l14.291,12.195c2.648,2.26,5.988,3.475,9.417,3.475
                              c0.752,0,1.509-0.059,2.263-0.177c4.194-0.66,7.876-3.111,10.103-6.726l22.554-36.61l31.916,13.932
                              c2.02,0.882,3.912,1.968,5.691,3.194l-20.927,25.113c-8.462,10.154-13.123,23.027-13.123,36.245v73.436c0,4.142,3.358,7.5,7.5,7.5
                              c4.142,0,7.5-3.358,7.5-7.5v-73.436c0-9.716,3.426-19.178,9.646-26.643l19.685-23.622c3.29,5.623,5.04,12.156,4.755,18.889
                              l-4.429,104.494c-0.175,4.138,3.037,7.635,7.176,7.811c0.108,0.005,0.215,0.007,0.323,0.007c3.996,0,7.317-3.152,7.488-7.183
                              l4.429-104.493C268.42,347.946,256.479,328.833,237.845,320.699z M133.801,47.063c15.956,0,29.418,10.179,33.399,23.971
                              c-10.354-3.908-21.62-6.057-33.399-6.057c-11.779,0-23.045,2.149-33.399,6.057C104.383,57.242,117.844,47.063,133.801,47.063z
                              M72.246,217.2c-1.322-7.203-8.001-12.435-15.187-11.903c-0.637,0.045-1.295-0.009-1.959-0.167
                              c-2.86-0.677-5.017-3.803-5.017-7.271v-5.386c0-3.479,2.325-6.613,5.292-7.134c2.504-0.44,4.901,0.48,6.417,2.457
                              c1.377,1.796,3.214,3.08,5.313,3.714c3.071,0.928,6.46,0.383,9.062-1.456c4.619-3.26,8.703-7.234,12.139-11.81
                              c2.487-3.312,1.818-8.014-1.494-10.5c-3.313-2.487-8.014-1.818-10.501,1.494c-1.701,2.265-3.616,4.324-5.722,6.153
                              c-3.209-2.744-7.144-4.462-11.318-4.983c-1.437-5.649-2.172-11.426-2.172-17.237c0-40.358,34.408-73.193,76.702-73.193
                              c42.293,0,76.701,32.834,76.701,73.193c0,5.8-0.731,11.565-2.163,17.204c-1.974,0.157-3.98,0.48-5.837,0.962l-5.638-4.636
                              c-2.833-2.33-6.399-3.496-10.008-3.281c-11.024,0.651-67.482,2.142-96.448-32.524c-2.656-3.178-7.385-3.602-10.564-0.946
                              c-3.179,2.656-3.602,7.386-0.946,10.564c14.286,17.097,35.239,28.658,62.276,34.362c20.701,4.367,39.103,3.943,46.313,3.532
                              l8.796,7.233c2.421,1.991,5.816,2.272,8.527,0.694c1.272-0.693,5.532-1.355,7.391-0.984c3.033,0.603,5.319,3.629,5.319,7.04v5.468
                              c0,3.469-2.157,6.595-5.017,7.271c-0.663,0.157-1.322,0.214-1.959,0.166c-7.182-0.522-13.865,4.701-15.188,11.903
                              c-5.456,29.705-31.343,51.265-61.554,51.265C103.59,268.464,77.702,246.904,72.246,217.2z M102.702,348.776L80.144,312.16
                              L91.7,300.604l31.058,31.058L102.702,348.776z M133.801,321.491l-27.584-27.584v-15.516c8.611,3.278,17.916,5.073,27.584,5.073
                              c9.668,0,18.973-1.795,27.584-5.072v15.515L133.801,321.491z M164.9,348.776l-20.056-17.114l31.058-31.058l11.556,11.556
                              L164.9,348.776z" />
                            </g>
                          </g>
                          <g>
                            <g>
                              <path d="M105.734,394.766h-21.05c-4.142,0-7.5,3.358-7.5,7.5c0,4.142,3.358,7.5,7.5,7.5h21.05c4.142,0,7.5-3.358,7.5-7.5
                              C113.234,398.124,109.876,394.766,105.734,394.766z" />
                            </g>
                          </g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                          <g></g>
                        </svg>
                      </div>
                      <div class="input-group positionEdit">
                        <input name="EmployeeName" (input)="SearchEmployee(isWaiter)" [(ngModel)]="employeeName"
                          #EmployeeName="ngModel" class="form-control py-3 borderRadius" required />
                      </div>
                    </div>
                  </div>
                  <div class="col-md-2">
                    <button class="btn btn-success dispalyInline py-1 px-2 my-1" type="button"
                      (click)="SearchEmployee(isWaiter)">
                      {{ "ReturnOrder.Search" | translate }}
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-md-12 pt-3">
                <perfect-scrollbar class="table-responsive ManageOrderScroll">
                  <table class="table table-bordered table-striped text-center">
                    <thead class="bg-maingreen">
                      <tr>
                        <th *ngIf="isWaiter == true" scope="col">
                          {{ "manageorder.Waiter" | translate }}
                        </th>
                        <th *ngIf="!isWaiter" scope="col">
                          {{ "manageorder.Captain" | translate }}
                        </th>
                        <th *ngIf="isWaiter == 'General'" scope="col">
                          {{ "manageorder.Employee" | translate }}
                        </th>
                        <th *ngIf="isWaiter == 'ShouldHaveMeal'" scope="col">
                          {{ "manageorder.Employee" | translate }}
                        </th>
                        <th scope="col">
                          {{ "delivery.Actions" | translate }}
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let Employee of employeeList">
                        <th scope="row">{{ Employee.FullName }}</th>
                        <td>
                          <button *ngIf="
                              isWaiter == true &&
                              checkIfPersonSelected(orderobj.WaiterId, orderobj.WaiterDocumentId, Employee, true)
                            " class="btn btn-success dispalyInline py-1 px-3 m-0" type="button"
                            (click)="SelectWaiter(Employee, true)">
                            {{ "Shared.Select" | translate }}
                          </button>
                          <button *ngIf="
                              isWaiter == true &&
                              checkIfPersonSelected(orderobj.WaiterId, orderobj.WaiterDocumentId, Employee, false)
                            " class="btn btn-success dispalyInline py-1 px-3 m-0" type="button"
                            (click)="SelectWaiter(Employee, false)">
                            {{ "Shared.UnSelect" | translate }}
                          </button>
                          <button *ngIf="
                              !isWaiter &&
                              checkIfPersonSelected(orderobj.CaptainId, orderobj.CaptainDocumentId, Employee, true)
                            " class="btn btn-success dispalyInline py-1 px-3 m-0" type="button"
                            (click)="SelectCaptain(Employee, true)">
                            {{ "Shared.Select" | translate }}
                          </button>
                          <button *ngIf="
                              !isWaiter &&
                              checkIfPersonSelected(orderobj.CaptainId, orderobj.CaptainDocumentId, Employee, false)
                            " class="btn btn-success dispalyInline py-1 px-3 m-0" type="button"
                            (click)="SelectCaptain(Employee, false)">
                            {{ "Shared.UnSelect" | translate }}
                          </button>
                          <button *ngIf="
                              isWaiter == 'General' &&
                              checkIfPersonSelected(orderobj.EmployeeId, orderobj.EmployeeDocumentId, Employee, true)
                            " class="btn btn-success dispalyInline py-1 px-3 m-0" type="button"
                            (click)="SelectEmployee(Employee, true)">
                            {{ "Shared.Select" | translate }}
                          </button>
                          <button *ngIf="
                              isWaiter == 'General' &&
                              checkIfPersonSelected(orderobj.EmployeeId, orderobj.EmployeeDocumentId, Employee, false)
                            " class="btn btn-success dispalyInline py-1 px-3 m-0" type="button"
                            (click)="SelectEmployee(Employee, false)">
                            {{ "Shared.UnSelect" | translate }}
                          </button>
                          <button *ngIf="
                              isWaiter == 'ShouldHaveMeal' &&
                              checkIfPersonSelected(orderobj.EmployeeId, orderobj.EmployeeDocumentId, Employee, true)
                            " class="btn btn-success dispalyInline py-1 px-3 m-0" type="button"
                            (click)="SelectEmployee(Employee, true)">
                            {{ "Shared.Select" | translate }}
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </perfect-scrollbar>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--footer-->
      <div class="modal-footer p-1">
        <button type="button" class="btn btn-light btnEdit mt-0" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
        <button type="button" class="btn btn-primary btnEdit mt-0 shadow-none" data-dismiss="modal">
          {{ "manageorder.Accept" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end EMPLOYEES MODAL-->

<!--model editingPrice-->
<div class="modal fade modalPrice" id="modal-161" tabindex="-1" role="dialog" aria-labelledby="modal-161">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img style="width: 40px" src="assets/images/addDishes.svg" />
          <span class="p-1">{{ "Order.editproductprice" | translate }}</span>
        </h5>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="ms-panel-body py-1">
          <div class="needs-validation clearfix" novalidate>
            <div *ngIf="orderDetailForEditPrice" class="form-row">
              <div class="col-md-12 mb-3">
                <label for="newprice">{{ "Order.enternewprice" | translate }}</label>
                <div class="input-group">
                  <input (change)="changePrice(orderDetailForEditPrice.EditedPrice)" id="newprice"
                    [numbersOnly]="orderDetailForEditPrice.EditedPrice" [allowDecimals]="true" class="form-control"
                    [(ngModel)]="orderDetailForEditPrice.EditedPrice" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="numberKeyboard2"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer p-2">
        <button type="button" (click)="changeProductPrice(orderDetailForEditPrice.EditedPrice)"
          class="btn btn-light my-0 btnEdit">
          {{ "Shared.Close" | translate }}
        </button>
        <button type="button" (click)="changeProductPrice(orderDetailForEditPrice.EditedPrice)"
          class="btn btn-primary btnEdit shadow-none my-0">
          {{ "manageorder.Accept" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--modal of YemekSepeti-->
<div class="modal fade" *ngIf="allYemekOrders?.length" id="modal-YemekSepeti" tabindex="-1" role="dialog" aria-labelledby="modal-YemekSepeti">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content shadow" style="border-radius: 1rem">
      <div class="modal-header d-flex align-items-center" style="gap: 1rem">
        <h5 class="m-0 p-0 flex-fill">{{ "delivery.IntegrationOrders" | translate }}</h5>
        <button type="button" class="btn btn-outline-primary border-0 m-0 px-3" [disabled]="refreshingIntegrationOrders"
          style="min-width: 0" (click)="GetYemekSepetiOrders()">
          <i class="fa fa-refresh" [ngClass]="{ 'fa-spin': refreshingIntegrationOrders }"></i>
          {{ "Shared.Refresh" | translate }}
        </button>
        <button type="button" class="btn btn-outline-danger border-0 m-0 px-3" style="min-width: 0"
          (click)="closeYemekPopUp()">
          <i class="fa fa-close"></i>
        </button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-hover thead-light text-center mb-0">
            <thead>
              <tr>
                <th scope="col">{{ "Reports.Customer" | translate }}</th>
                <th scope="col">{{ "Shared.type" | translate }}</th>
                <th scope="col">{{ "delivery.Status" | translate }}</th>
                <th scope="col">{{ "delivery.Subtotal" | translate }}</th>
                <th scope="col">{{ "delivery.Actions" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let order of allYemekOrders; index as i; trackBy: trackByReferenceCode">
                <tr>
                  <td (click)="collapseIndex(order)" data-toggle="collapse" [attr.data-target]="'#' + 'demo' + i">
                    <div class="d-flex align-items-center" style="gap: 0.75rem">
                      <button (click)="collapseIndex(order)" data-toggle="collapse"
                        [attr.data-target]="'#' + 'demo' + i" class="accordion-toggle btn btnEdit m-0">
                        <i class="bi bi-eye p-0 m-0"></i>
                      </button>
                      <div>
                        <div class="text-left small">#{{ order.OrderNumber }}</div>
                        <div class="text-left font-weight-bold mb-2">{{ order.CustomerName }}</div>
                        <div class="text-left small">{{ order.CreationTime | date : "medium" }}</div>
                        <div class="text-left small font-weight-bold" *ngIf="order.IsIntegrationCourier">
                          <ng-container [ngSwitch]="order.IntegrationSystem">
                            <ng-container *ngSwitchCase="2">{{
                              "delivery.DeliveryTypeGetir" | translate
                              }}</ng-container>
                            <ng-container *ngSwitchCase="3">{{
                              "delivery.DeliveryTypeTrendyol" | translate
                              }}</ng-container>
                            <ng-container *ngSwitchDefault>{{
                              "delivery.DeliveryTypeIntegration" | translate
                              }}</ng-container>
                          </ng-container>
                        </div>
                        <div class="text-left small font-weight-bold" *ngIf="!order.IsIntegrationCourier">
                          {{ "delivery.DeliveryTypeRestaurant" | translate }}
                        </div>
                        <div class="text-left small" *ngIf="order.DriverDocumentId">
                          <span class="font-weight-bold">{{ ("integration.Driver" | translate) + ":" }}</span>
                          {{ order.DriverName }}
                        </div>
                        <div class="text-left small">{{ order.AddressDescription }}</div>
                      </div>
                    </div>
                  </td>
                  <td (click)="collapseIndex(order)">
                    <div class="mb-2">
                      <img style="
                          border-radius: 0;
                          margin: 0 !important;
                          max-width: 50px;
                          width: 50px !important;
                          height: 50px !important;
                          aspect-ratio: 1;
                        " [src]="'/assets/images/integrations/' + order.IntegrationSystem + '.png'"
                        [alt]="order.IntegrationName + '\'s logo'" />
                    </div>
                    <div>{{ order.IntegrationName }}</div>
                    <div *ngIf="order.OrderPayments.length > 0">
                      <b>{{ "Shared.PaymentType" | translate }}:</b>
                      {{ order.OrderPayments[0].PayTypeName }}
                    </div>
                    <ng-container *ngIf="order.IsScheduled">
                      <div class="small text-nowrap font-weight-bold">({{ "Shared.ScheduledOrder" | translate }})</div>
                      <div class="small text-nowrap font-weight-bold">
                        ({{ order.ScheduledDate | date : "medium" }})
                      </div>
                    </ng-container>
                  </td>
                  <td>
                    <app-delivery-status
                      [status]="!order.DocumentId ? order.RemoteStatus : order.Status"></app-delivery-status>

                    <div *ngIf="order.DocumentId && order.Status != order.RemoteStatus"
                      class="mt-2 d-flex align-items-center">
                      <i class="bi bi-exclamation-triangle"></i>
                      <div class="small text-left">
                        <div>{{ "delivery.StatusChangedExternally" | translate }}</div>
                        <app-delivery-status class="font-weight-bold" [status]="order.RemoteStatus"
                          [onlyText]="true"></app-delivery-status>
                      </div>
                    </div>
                  </td>
                  <td (click)="collapseIndex(order)" class="lead">{{ order.Total | number : "1.2-2" }}</td>

                  <td>
                    <div *ngIf="order.Status != 8 && order.Status != 9"
                      class="d-flex justify-content-end align-items-center" style="gap: 5px">
                      <!-- Print order receipt -->
                      <button [disabled]="isPrinting" *ngIf="order.RemoteStatus != 0" (click)="printOrderObj(order)"
                        type="button" class="btn btn-light btnEdit m-0">
                        <i class="fa fa-print fa-spin m-0" *ngIf="isPrinting"></i>
                        <ng-container *ngIf="!isPrinting">{{ "pagetransactions.Print" | translate }}</ng-container>
                      </button>

                      <!-- Send to kitchen button (create new order) -->
                      <button type="button" *ngIf="
                          !order.IsSuspended &&
                          (order.RemoteStatus == 1 || order.RemoteStatus == 5) &&
                          order.IsSendToKitchen == false
                        " (click)="sendToKitchen(i, true)" class="btn btn-success btnEdit m-0">
                        {{ "Shared.SendToKitchen" | translate }}
                      </button>

                      <!-- Accept or Pre-accept button -->
                      <button type="button" *ngIf="!order.IsSuspended && order.Status == 0 && order.RemoteStatus == 0"
                        (click)="acceptIntegrationOrder(i, orderDetailCollapse)" class="btn btn-success btnEdit m-0">
                        <ng-container *ngIf="order.IsScheduled">{{ "Shared.PreAccept" | translate }}</ng-container>
                        <ng-container *ngIf="!order.IsScheduled">{{ "Shared.Accept" | translate }}</ng-container>
                      </button>

                      <!-- Mark package as on delivery -->
                      <button type="button"
                        *ngIf="order.IsSendToKitchen == true && !order.IsIntegrationCourier && order.RemoteStatus == 1"
                        (click)="changeIntegrationOrderStatus(4, order.ReferenceCode, '', order)"
                        class="btn btn-warning btnEdit m-0">
                        {{ "Shared.OnDelivery" | translate }}
                      </button>

                      <!-- Mark package as ready -->
                      <button type="button"
                        *ngIf="order.IsSendToKitchen == true && order.IsIntegrationCourier && order.RemoteStatus == 1"
                        (click)="changeIntegrationOrderStatus(4, order.ReferenceCode, '', order)"
                        class="btn btn-warning btnEdit m-0">
                        {{ "Shared.Ready" | translate }}
                      </button>

                      <!-- Delivered, handedover and reject buttons -->
                      <ng-container>
                        <!-- Mark package as delivered -->
                        <button type="button" *ngIf="
                            order.IsSendToKitchen == true &&
                            !order.IsIntegrationCourier &&
                            (order.RemoteStatus == 11 || order.RemoteStatus == 6 || order.RemoteStatus == 7)
                          " (click)="changeIntegrationOrderStatus(5, order.ReferenceCode, '', order)"
                          class="btn btn-primary btnEdit m-0">
                          {{ "Shared.Delivered" | translate }}
                        </button>

                        <!-- Handover package to 3rd party courier -->
                        <button type="button" *ngIf="
                            order.IsSendToKitchen == true &&
                            order.IsIntegrationCourier &&
                            order.IntegrationSystem != 3 &&
                            (order.RemoteStatus == 6 || order.RemoteStatus == 7)
                          " (click)="changeIntegrationOrderStatus(5, order.ReferenceCode, '', order)"
                          class="btn btn-primary btnEdit m-0">
                          {{ "Shared.HandOver" | translate }}
                        </button>

                        <!-- Reject order button -->
                        <button type="button"
                          *ngIf="order.RemoteStatus === 0 || order.RemoteStatus === 1 || order.RemoteStatus === 5"
                          (click)="openYemekCancellationReason(order.ReferenceCode)" class="btn btn-danger btnEdit m-0">
                          {{ "Shared.Reject" | translate }}
                        </button>
                      </ng-container>
                    </div>
                  </td>
                </tr>
                <tr>
                  <td colspan="5" class="hiddenRow">
                    <div class="accordian-body pb-2 collapse" id="demo{{ i }}" #orderDetailCollapse>
                      <table style="width: 100%" class="table table-bordered thead-light text-center mb-0">
                        <thead>
                          <tr>
                            <th>{{ "stock.Quantity" | translate }}</th>
                            <th>{{ "Printer.Product" | translate }}</th>
                            <th>{{ "Shared.ProductPrice" | translate }}</th>
                            <th></th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let detail of order.OrderDetails">
                            <td>{{ detail.ProductQuantity }}</td>
                            <td>
                              <ejs-combobox name="SelectedDocumentId" [(ngModel)]="detail.SelectedDocumentId"
                                [allowFiltering]="true" [autofill]="true" [dataSource]="allproductlist"
                                placeholder="Select Product" [fields]="Flds" class="form-control borderRadius"
                                id="Integration_id" [enabled]="!detail.ProductDocumentId">
                              </ejs-combobox>
                            </td>
                            <td>{{ detail.RealPrice }}</td>
                            <td *ngIf="!detail.ProductDocumentId">
                              {{ detail.ProductGroupName }}
                            </td>
                            <td *ngIf="!detail.ProductDocumentId">
                              <button (click)="updateIntegrationProduct(detail, order)" type="button"
                                class="btn btn-primary btnEdit mt-0">
                                {{ "Shared.Save" | translate }}
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>

      <!--      <div class="modal-footer py-1 pr-3">-->
      <!--        <button type="button" class="btn btn-primary my-1" (click)="closeYemekPopUp()">-->
      <!--          {{ "Shared.Close" | translate }}-->
      <!--        </button>-->
      <!--      </div>-->
    </div>
  </div>
</div>
<!--end modal of YemekSepeti-->

<!--model Stop Product For While-->
<div class="modal fade" id="modal-StopProduct" tabindex="-1" role="dialog" aria-labelledby="modal-StopProduct">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div *ngIf="productToStop" class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img style="width: 40px" src="assets/images/stopProduct.png" />
          <span class="p-1">{{ productToStop.Name }}</span>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="ms-panel-body py-1">
          <!-- Stop Product for time -->
          <div class="row col-md-12">
            <div class="col-md-4 mt-4">
              <div class="modal-notice">
                <label class="ms-checkbox-wrap">
                  <input type="checkbox" [(ngModel)]="productToStop.IsTempStop" />
                  <i class="ms-checkbox-check"></i>
                </label>
                <span> {{ "products.StopForAWhile" | translate }} </span>
              </div>
            </div>

            <div class="col-md-4 mb-3">
              <label for="validationCustom12">{{ "products.StopDurationType" | translate }}</label>
              <div class="custom-file">
                <select [(ngModel)]="productToStop.StopDurationType" class="form-control" required>
                  <option value="1">{{ "Shared.Minutes" | translate }}</option>
                  <option value="2">{{ "setting.Hours" | translate }}</option>
                  <option value="3">{{ "setting.Days" | translate }}</option>
                </select>
              </div>
            </div>

            <div *ngIf="productToStop.StopDurationType" class="col-md-4 mb-3">
              <label for="validationCustom18">{{ "products.StopDuration" | translate }}</label>
              <div class="input-group">
                <input type="text" class="form-control" [(ngModel)]="productToStop.StopDuration" required />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer p-2">
        <button type="button" (click)="StopProduct(productToStop)" class="btn btn-primary btnEdit shadow-none my-0">
          {{ "manageorder.Accept" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- modal for Branches -->
<div class="modal fade" *ngIf="orderobj?.pointOfSale?.IsCallCenter" id="modal-Branches" tabindex="-1" role="dialog" aria-labelledby="modal-Branches">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div style="border: 0"
        class="modal-header p-1 d-flex justify-content-between align-items-center headerSplitOrder">
        <button style="border-radius: 5px; color: #fff; background-color: #777" type="button" class="close m-0"
          data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div style="padding: 2rem 2rem 7rem 2rem !important; justify-content: center; align-content: center"
        class="modal-body p-0">
        <button class="btn mx-1 my-1 bg-maingreen p-4" *ngFor="let branch of branches; let i = index"
          (click)="orderobj = setCallCenterBranch(orderobj, branch)">
          {{ branch.Name }}
        </button>
      </div>
    </div>
  </div>
</div>

<!--modal of MobileOrders-->
<div class="modal fade" id="modal-MobileOrders" tabindex="-1" role="dialog" aria-labelledby="modal-MobileOrders">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="page-header">
          <h1 style="color: green">
            {{ "Order.MobileOrders" | translate }}
          </h1>
        </div>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-bordered thead-light text-center mb-0">
            <thead>
              <tr>
                <th scope="col">{{ "delivery.orderNumber" | translate }}</th>
                <th scope="col">{{ "Order.Table" | translate }}</th>
                <th scope="col">{{ "Printer.OrderType" | translate }}</th>
                <th scope="col">{{ "delivery.Subtotal" | translate }}</th>
                <th scope="col">{{ "Reports.Date" | translate }}</th>
                <th scope="col">{{ "Reports.Customer" | translate }}</th>
                <th scope="col">{{ "Shared.customerPhone" | translate }}</th>
                <th scope="col">{{ "Order.Address" | translate }}</th>
                <th scope="col">{{ "Shared.type" | translate }}</th>
                <th scope="col" *ngIf="settingobj && settingobj.UseKioskMemberId">{{ "Shared.MemberId" | translate }}
                </th>
                <th scope="col">{{ "Shared.ChannelName" | translate }}</th>
                <th scope="col">{{ "delivery.Actions" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let order of filteredMobileOrders; let i = index">
                <tr>
                  <th scope="row">{{ order.ReferenceId }}</th>
                  <td>{{ order.TableName }}</td>
                  <td>{{ order.OrderTypeName }}</td>
                  <td>
                    {{ order.SubTotal | currency : " " : "symbol" : fraction : priceLang }}
                  </td>
                  <td>{{ order.Time }}</td>
                  <td>{{ order.CustomerName }}</td>
                  <td>{{ order.CustomerPhone }}</td>
                  <td>{{ order.AddressDescription }}</td>
                  <td>{{ order.IntegrationName }}</td>
                  <td *ngIf="settingobj && settingobj.UseKioskMemberId">{{ order.MemberId }}</td>
                  <td>{{ order.ChannelName }}</td>

                  <td class="d-flex justify-content-around align-items-center">
                    <button data-toggle="collapse" [attr.data-target]="'#' + 'demo' + i"
                      class="accordion-toggle btn btn-square btnEdit m-0">
                      <span>
                        <i class="bi bi-eye"></i>
                      </span>
                    </button>
                    <button (click)="selectMobileOrder(order)" class="btn btn-success btnEdit m-0">
                      {{ "Order.Accept" | translate }}
                    </button>
                    <button class="btn btn-danger btnEdit m-0" (click)="rejectMobileOrder(order.ReferenceCode)">
                      {{ "Order.Reject" | translate }}
                    </button>
                  </td>
                </tr>
                <tr>
                  <td colspan="6" class="hiddenRow">
                    <div class="accordian-body collapse" id="demo{{ i }}">
                      <table style="width: 70%" class="table table-bordered thead-light text-center mb-0">
                        <thead>
                          <tr>
                            <th>{{ "stock.Quantity" | translate }}</th>
                            <th>{{ "Printer.Product" | translate }}</th>
                            <th>{{ "Shared.Total" | translate }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let detail of order.OrderDetails; let i = index">
                            <td>{{ detail.ProductQuantity }}</td>
                            <td>{{ detail.ProductName }}</td>
                            <td>
                              {{ detail.Total | currency : " " : "symbol" : fraction : priceLang }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
        <div *ngIf="tableStatuses?.length > 0">
          <br />
          <hr />
          <h5 class="d-flex justify-content-center p-2">{{ "Order.tableStatuses" | translate }}</h5>
          <div class="table-responsive">
            <table class="table table-bordered thead-light text-center mb-0">
              <thead>
                <tr>
                  <th scope="col">{{ "Order.tableId" | translate }}</th>
                  <th scope="col">{{ "Order.tableStatus" | translate }}</th>
                  <th scope="col">{{ "delivery.Actions" | translate }}</th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let tableStatus of tableStatuses; let i = index">
                  <tr>
                    <th scope="row">{{ tableStatus.TableId }}</th>
                    <ng-container [ngSwitch]="tableStatus.Status">
                      <td *ngSwitchCase="1">{{ "Order.cleanMyTable" | translate }}</td>
                      <td *ngSwitchCase="2">{{ "Order.iHaveAQuestion" | translate }}</td>
                      <td *ngSwitchCase="3">{{ "Order.getMeTheBill" | translate }}</td>
                      <td *ngSwitchCase="4">{{ "Order.whereIsMyOrder" | translate }}</td>
                      <td *ngSwitchDefault>{{ "unknown status" }}</td>
                    </ng-container>

                    <td class="d-flex justify-content-around align-items-center">
                      <button (click)="updateTableStatusSync(tableStatus.DocumentId)"
                        class="btn btn-success btnEdit m-0">
                        {{ "Order.Accept" | translate }}
                      </button>
                    </td>
                  </tr>
                </ng-container>
              </tbody>
            </table>
          </div>
        </div>
        <!-- reservationOrders -->
        <div class="table-responsive" *ngIf="reservationOrders?.length > 0">
          <br />
          <hr />
          <h5 class="d-flex justify-content-center p-2" style="background-color: rgb(130, 130, 247)">
            {{ "Order.reservationlist" | translate }}
          </h5>

          <table class="table table-bordered thead-light text-center mb-0">
            <thead>
              <tr>
                <th scope="col">{{ "delivery.orderNumber" | translate }}</th>
                <th scope="col">{{ "Order.Table" | translate }}</th>
                <th scope="col">{{ "Printer.OrderType" | translate }}</th>
                <th scope="col">{{ "delivery.Subtotal" | translate }}</th>
                <th scope="col">{{ "Reports.Date" | translate }}</th>
                <th scope="col">{{ "Reports.Customer" | translate }}</th>
                <th scope="col">{{ "Reports.PersonCount" | translate }}</th>
                <th scope="col">{{ "Shared.inWaitingList" | translate }}</th>
                <th scope="col">{{ "Shared.type" | translate }}</th>
                <th scope="col">{{ "delivery.Actions" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let reservationOrder of reservationOrders; let i = index">
                <tr>
                  <th scope="row">{{ reservationOrder.ReferenceId }}</th>
                  <td>{{ reservationOrder.TableName }}</td>
                  <td>{{ reservationOrder.OrderTypeName }}</td>
                  <td>
                    {{ reservationOrder.SubTotal | currency : " " : "symbol" : fraction : priceLang }}
                  </td>
                  <td>{{ reservationOrder.ReceivedDate | date : "yyyy-MM-dd" }}</td>
                  <td>{{ reservationOrder.CustomerName }}</td>
                  <td>{{ reservationOrder.PersonsCount }}</td>
                  <td *ngIf="reservationOrder.InWaitingList == true">{{ "Shared.true" | translate }}</td>
                  <td *ngIf="!reservationOrder.InWaitingList">{{ "Shared.false" | translate }}</td>
                  <td>{{ "Order.reservation" | translate }}</td>

                  <td class="d-flex justify-content-around align-items-center">
                    <button data-toggle="collapse" [attr.data-target]="'#' + 'reservation' + i"
                      class="accordion-toggle btn btn-square btnEdit m-0">
                      <span>
                        <i class="bi bi-eye"></i>
                      </span>
                    </button>
                    <button (click)="selectMobileOrder(reservationOrder)" class="btn btn-success btnEdit m-0">
                      {{ "Order.Accept" | translate }}
                    </button>
                    <button class="btn btn-danger btnEdit m-0"
                      (click)="rejectMobileOrder(reservationOrder.ReferenceCode)">
                      {{ "Order.Reject" | translate }}
                    </button>
                  </td>
                </tr>
                <tr>
                  <td colspan="6" class="hiddenRow">
                    <div class="accordian-body collapse" id="reservation{{ i }}">
                      <table style="width: 70%" class="table table-bordered thead-light text-center mb-0">
                        <thead>
                          <tr>
                            <th>{{ "stock.Quantity" | translate }}</th>
                            <th>{{ "Printer.Product" | translate }}</th>
                            <th>{{ "Shared.Total" | translate }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let detail of reservationOrder.OrderDetails; let i = index">
                            <td>{{ detail.ProductQuantity }}</td>
                            <td>{{ detail.ProductName }}</td>
                            <td>
                              {{ detail.Total | currency : " " : "symbol" : fraction : priceLang }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer py-1 pr-3">
        <button type="button" class="btn btn-primary my-1" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end modal of MobileOrders-->

<!--modal of CallCenterOrders-->
<div class="modal fade" id="modal-CallCenterOrders" tabindex="-1" role="dialog"
  aria-labelledby="modal-CallCenterOrders">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="page-header">
          <h1 style="color: green">
            {{ "Order.CallCenterOrders" | translate }}
          </h1>
        </div>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-bordered thead-light text-center mb-0">
            <thead>
              <tr>
                <th scope="col">{{ "delivery.orderNumber" | translate }}</th>
                <!-- <th scope="col">{{'Order.Table'|translate}}</th> -->
                <th scope="col">{{ "Printer.OrderType" | translate }}</th>
                <th scope="col">{{ "delivery.Subtotal" | translate }}</th>
                <th scope="col">{{ "Reports.Date" | translate }}</th>
                <th scope="col">{{ "Reports.Customer" | translate }}</th>
                <th scope="col">{{ "Order.Address" | translate }}</th>
                <th scope="col">
                  {{ "Order.UpdatedNewDetails" | translate }}
                </th>
                <!-- <th scope="col">{{'Shared.type'|translate}}</th> -->
                <th *ngIf="pointOfSale && pointOfSale.IsCallCenter" scope="col">
                  {{ "Reports.CancellationReason" | translate }}
                </th>
                <th scope="col">{{ "Shared.ChannelName" | translate }}</th>
                <th scope="col">{{ "delivery.Actions" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let order of filteredCallCenterOrders; let i = index">
                <tr>
                  <th scope="row">{{ order.ReferenceId }}</th>
                  <!-- <td>{{order.TableName}}</td>  -->
                  <td>{{ order.OrderTypeName }}</td>
                  <td>
                    {{ order.SubTotal | currency : " " : "symbol" : fraction : priceLang }}
                  </td>
                  <td>{{ order.Time }}</td>
                  <td>{{ order.CustomerName }}</td>
                  <td>{{ order.AddressDescription }}</td>
                  <td>
                    {{ !order.UpdatedNewDetails ?  ('Shared.false' | translate) :('Shared.true' | translate) }}
                  </td>
                  <td *ngIf="pointOfSale && pointOfSale.IsCallCenter">
                    {{ order.NoteForOrder }}
                  </td>
                  <td>{{ order.ChannelName }}</td>
                  <!-- <td >{{order.IntegrationName}}</td> -->

                  <td class="d-flex justify-content-around align-items-center">
                    <button data-toggle="collapse" [attr.data-target]="'#' + 'demo' + i"
                      class="accordion-toggle btn btn-square btnEdit m-0">
                      <span>
                        <i class="bi bi-eye"></i>
                      </span>
                    </button>
                    <button class="btn btn-success btnEdit m-0" (click)="acceptCallCenterOrder(order)">
                      <!-- (click)="selectAnyOrder(order)" -->
                      {{ "Order.Accept" | translate }}
                    </button>
                    <!-- <button  class="btn btn-primary btnEdit m-0" (click)="sendClicked(order)" *ngIf="accepted" >
                  {{ "Order.SendTokitchen" | translate }}
                </button> -->
                    <button *ngIf="pointOfSale && pointOfSale.IsCallCenter"
                      (click)="rejectMobileOrder(order.ReferenceCode)" class="btn btn-danger btnEdit m-0">
                      {{ "Order.Reject" | translate }}
                    </button>
                    <button *ngIf="pointOfSale && pointOfSale.ReceiveCallCenter"
                      (click)="rejectCallCenterOrder(order.ReferenceCode, order)" class="btn btn-danger btnEdit m-0">
                      {{ "Order.Reject" | translate }}
                    </button>
                  </td>
                </tr>
                <tr>
                  <td colspan="6" class="hiddenRow">
                    <div class="accordian-body collapse" id="demo{{ i }}">
                      <table style="width: 100%; table-layout: fixed;" class="table table-bordered thead-light text-center mb-0">
                        <thead>
                          <tr>
                            <th style="width: 10%">{{ "stock.newQuantity" | translate }}</th>
                            <th style="width: 20%">{{ "Printer.Product" | translate }}</th>
                            <th style="width: 15%">{{ "Shared.Total" | translate }}</th>
                            <th style="width: 15%" class="frorm-control">{{ "Shared.updateType" | translate }}</th>
                            <th style="width: 40%">{{ "Shared.CancellationReason" | translate }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let detail of order.OrderDetails; let i = index">
                            <td>{{ detail.ProductQuantity }}</td>
                            <td>{{ detail.ProductName }}</td>
                            <td>{{ detail.Total | currency : " " : "symbol" : fraction : priceLang }}</td>
                            <td *ngIf="
                                detail.NewlyInserted == true &&
                                detail?.OrderDetailCancellations[detail.OrderDetailCancellations.length - 1]?.Printed ==
                                  false
                              ">
                              {{ "Shared.canceldDetail" | translate }}
                            </td>
                            <td *ngIf="
                                detail.NewlyInserted == true &&
                                (detail?.OrderDetailCancellations.length == 0 ||
                                  detail?.OrderDetailCancellations[detail.OrderDetailCancellations.length - 1]
                                    ?.Printed == true)
                              ">
                              {{ "Shared.newlyinserted" | translate }}
                            </td>
                            <td *ngIf="detail.NewlyInserted == false">{{ "--" }}</td>
                            <td *ngIf="detail?.OrderDetailCancellations?.length > 0">
                              {{ detail.OrderDetailCancellations[detail.OrderDetailCancellations.length - 1]?.CancellationReasonName }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer py-1 pr-3">
        <button type="button" class="btn btn-primary my-1" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end modal of CallCenterOrders-->

<!--modal of NotPrintedOrders-->
<div class="modal fade" id="modal-NotPrintedOrders" tabindex="-1" role="dialog"
  aria-labelledby="modal-NotPrintedOrders">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="page-header">
          <h1 style="color: green">
            {{ "Order.NotPrintedOrders" | translate }}
          </h1>
        </div>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-bordered thead-light text-center mb-0">
            <thead>
              <tr>
                <th scope="col">{{ "delivery.orderNumber" | translate }}</th>
                <th scope="col">{{ "Order.Table" | translate }}</th>
                <th scope="col">{{ "Printer.OrderType" | translate }}</th>
                <th scope="col">{{ "delivery.Subtotal" | translate }}</th>
                <th scope="col">{{ "Reports.Date" | translate }}</th>
                <th scope="col">{{ "Reports.Customer" | translate }}</th>
                <th scope="col">{{ "Order.Address" | translate }}</th>
                <th scope="col">{{'delivery.Actions'|translate}}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let order of filteredNotPrintedOrders; let i = index">
                <tr>
                  <th scope="row">{{ order.OrderNumber }}</th>
                  <td>{{ order.TableName }}</td>
                  <td>{{ order.OrderTypeName }}</td>
                  <td>
                    {{ order.SubTotal | currency : " " : "symbol" : fraction : priceLang }}
                  </td>
                  <td>{{ order.Time }}</td>
                  <td>{{ order.CustomerName }}</td>
                  <td>{{ order.AddressDescription }}</td>
                  <td>
                    <button [disabled]="disablePrint(order)" (click)="PrintPreviewOrder(order)" class="btn btn-primary btn-table__actions m-0"
                      type="button">
                      <i class="fas fa-print"></i>
                      {{ "stock.Print" | translate }}
                    </button>
                  </td>

                  <!-- <td class="d-flex justify-content-around align-items-center"  >
    <button  [disabled]="!validationList['CanPrint']" (click)="printOrder(order);$('#modal-78').modal('hide');" class="btn btn-primary btnEdit m-0">
      <i  class="fas fa-print"></i> {{'stock.Print'|translate}}
    </button>
  </td>
-->
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer py-1 pr-3">
        <button type="button" class="btn btn-primary my-1" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end modal of NotPrintedOrders-->

<!--modal of LastOrder-->
<div class="modal fade" id="modal-LastOrder" tabindex="-1" role="dialog" aria-labelledby="modal-LastOrder">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="page-header">
          <input class="form-control" type="search" id="search_LastOrders" name="Name" autocomplete="off"
            #search_LastOrders="ngModel" [(ngModel)]="searchLastOrders" (input)="searchInLastOrders(searchLastOrders)"
            *ngIf="isLastOrder == 0" placeholder="{{ 'Dashboard.SearchHere' | translate }}" />

          <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
            <span *ngIf="isLastOrder != 0" class="p-1"> {{ "Order.LastOrder" | translate }}</span>
            <!-- <span *ngIf="isLastOrder == 0" class="p-1"> {{ "ReturnOrder.All" | translate }}</span> -->
          </h5>
        </div>

        <div class="btn-group mb-2 ml-auto toggleSelect">
          <label [ngClass]="isLastOrder == 1 ? 'active' : ''" (click)="getDayOrders(1)"
            class="btn btnEdit btn-primary m-0 mr-1" [(ngModel)]="isLastOrder" btnRadio="1" role="button">{{
            "Order.LastOrder" | translate }}</label>
          <button [ngClass]="isLastOrder == 0 ? 'active' : ''" [disabled]="!validationList['CanViewClosedOrders']"
            (click)="getDayOrders(0)" class="btn btnEdit btn-primary m-0 mr-1" [(ngModel)]="isLastOrder" btnRadio="0"
            role="button">
            {{ "ReturnOrder.All" | translate }}
          </button>
        </div>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div *ngIf="dayOrdersFiltered" class="modal-body">
        <div class="table-responsive">
          <table class="table table-bordered thead-light text-center mb-0">
            <thead>
              <tr>
                <th scope="col">{{ "delivery.orderNumber" | translate }}</th>
                <th scope="col">{{ "setting.Time" | translate }}</th>
                <th scope="col">{{ "Shared.ordertype" | translate }}</th>
                <th scope="col">{{ "Shared.paytype" | translate }}</th>
                <th scope="col">{{ "manageorder.Customer" | translate }}</th>
                <th *ngIf="isLastOrder == 1 || validationList['CanViewTotalLastOrders']" scope="col">{{ "Reports.SubTotal" | translate }}</th>
                <!-- <th scope="col">{{ "delivery.Subtotal" | translate }}</th> -->
                <th scope="col">{{ "delivery.Actions" | translate }}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let order of dayOrdersFiltered; let i = index">
                <tr>
                  <th scope="row">{{ order.OrderNumber }}</th>
                  <th scope="row">{{ order.CreationTime | date : "shortTime" }}</th>
                  <th scope="row">{{ order.OrderTypeName }}</th>
                  <th scope="row">{{ order.OrderPayTypeName }}</th>
                  <th scope="row">{{ order.CustomerName }}</th>
                  <th *ngIf="isLastOrder == 1 || validationList['CanViewTotalLastOrders']" scope="row">{{ order.SubTotal | currency : " " : "symbol" : fraction : priceLang }}</th>
                  <!-- <td>
                    {{ order.SubTotal | currency : " " : "symbol" : fraction : priceLang }}
                  </td> -->
                  <td class="justify-content-around align-items-center">
                    <button *ngIf="isLastOrder != 0" [disabled]="disablePrint(order)" (click)="PrintPreviewOrder(order)"
                      class="btn btn-primary btn-table__actions m-0 ml-1">
                      <i class="fas fa-print"></i>
                      {{ "stock.Print" | translate }}
                    </button>
                    <button [disabled]="disablePrint(order,true)" (click)="PrintKOT(order)"
                      class="btn btn-primary btn-table__actions m-0 ml-1">
                      <i class="fas fa-print"></i>
                      {{ "Order.PrintKOT" | translate }}
                    </button>

                    <button data-toggle="collapse" [attr.data-target]="'#' + 'dayOrderDetail' + i"
                      class="accordion-toggle btn btn-square btnEdit m-0 ml-1">
                      <span> <i class="bi bi-eye"></i> </span>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td colspan="6" class="hiddenRow">
                    <div class="accordian-body collapse" id="dayOrderDetail{{ i }}">
                      <table style="width: 70%" class="table table-bordered thead-light text-center mb-0">
                        <thead>
                          <tr>
                            <th>{{ "stock.Quantity" | translate }}</th>
                            <th>{{ "Printer.Product" | translate }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let detail of order.OrderDetails; let i = index">
                            <td>{{ detail.ProductQuantity }}</td>
                            <td>{{ detail.ProductName }}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer py-1 pr-3">
        <button type="button" class="btn btn-primary my-1" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end modal of LastOrder-->

<!--CustomPromo Modals first-->
<div class="modal fade" id="modal-CustomPromo" *ngIf="freeProducts?.length || selectedFreeProducts?.length" tabindex="-1" role="dialog" aria-labelledby="modal-CustomPromo"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img src="assets/images/note2.svg" alt="" srcset="" />
          <span class="p-1">You can select up to <strong class="text-danger">{{freeProductsSelectionLimit}}</strong> {{
            "Order.PromoProducts" | translate }}</span>
        </h5>
        <button type="button" class="close" (click)="closeFreeProductsModel()">
          <span>&times;</span>
        </button>
      </div>

      <div style="background-color: #efefef" class="modal-body">
        <div class="p-3">
          <ul class="ulside ManageScrollModelSide2 row flex-nowrap align-items-start justify-content-start">
            <li *ngFor="let freeProduct of freeProducts; let i = index" class="liSide col-md-2">
              <input class="d-none bg-transparent" id="cb{{ i }}" type="checkbox" [ngModel]="freeProduct.FreeChecked"
                (ngModelChange)="selectFreeProducts($event, i)"
                [disabled]="freeProduct.FreeChecked === false && selectedFreeProducts.length === freeProductsSelectionLimit" />
              <label for="cb{{ i }}"><img [src]="imgURL + freeProduct.PicturePath | defaultImg : defaultIm" />
                <p class="text-center">{{ freeProduct.Name }}</p>
              </label>
            </li>
          </ul>
        </div>
        <div *ngIf="selectedFreeProducts.length > 0" class="row align-items-center justify-content-start">
          <ng-container *ngFor="let selectedFreeProduct of selectedFreeProducts; let j = index">
            <div class="col-md-4 d-flex align-items-center justify-content-center free-products-container">
              <i class="fas fa-minus-circle text-yellow col-md-1 p-0" (click)="decreaseFreeQuantity(j)"></i>
              <span class="col-md-10 free-product text-center">{{selectedFreeProduct.Name}} <strong
                  class="text-info">{{freeOrderDetails[j].ProductQuantity}}</strong></span>
              <i class="fas fa-plus-circle maingreen col-md-1 p-0" (click)="increaseFreeQuantity(j)"></i>
            </div>
          </ng-container>
        </div>
      </div>

      <div class="modal-footer p-1">
        <button (click)="confirmFreeProductsModel()" type="button" class="btn btn-primary shadow-none mt-0 btnEdit">
          {{ "Shared.Save" | translate }}
        </button>
        <button type="button" class="btn btn-light mt-0 btnEdit" (click)="closeFreeProductsModel()">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--CustomPromo Model second-->

<!--NewSideDishes Modals first-->
<div class="modal modal-dialog-scrollable fade modal-NewSideDishes" id="modal-NewSideDishes"
  aria-labelledby="modal-NewSideDishes" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header borderb pb-1 pt-1">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img src="assets/images/note2.svg" alt="" srcset="" />
          <span class="p-1"> {{ productName }}</span>
          <span class="p-1 price">{{ productprice }}</span>
        </h5>
        <button type="button" class="close" (click)="closeNewSideDish()">
          <i class="fa fa-times"></i>
        </button>
      </div>

      <div *ngIf="productWithSub" class="modal-body">
        <div class="row meal-info p-2">
          <!-- <div class="col-2">
            <img src="assets/images/note2.svg" alt="" srcset="" />
          </div> -->
          <div class="col-6 d-flex flex-column">
            <!-- <span class="p-1 side-dish__header">{{ "products.SideDishes" | translate }}</span> -->
            <p class="p-1">{{ getSideNames() }}</p>
          </div>
          <div class="col-6">
            <div class="d-flex justify-content-end">
              <div class="qty-num px-2">
                <span>{{ productWithSub.NumberOfSideDishesAllowed }}</span>
              </div>
              <span class="side-dish__header">{{ "messages.Maximumnumbertoselect" | translate }}</span>
            </div>
          </div>
        </div>
        <div class="row meal">
          <div class="col-12">
            <div class="container-fluid">
              <div class="row w-100">
                <div class="col-2"></div>
                <div class="col-4"></div>
                <div class="col-1">
                  <span class="side-dish__header">{{ "Shared.Price" | translate }}</span>
                </div>
                <div class="col-1">
                  <span class="side-dish__header">{{ "stock.Quantity" | translate }}</span>
                </div>
                <div class="col-4"></div>
              </div>
            </div>
          </div>
          <!-- <div class="col-8">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col"></div>
                    <div class="col"></div>
                    <div class="col">
                      <h6>{{'Shared.Price' | translate}}</h6>
                    </div>
                    <div class="col">
                      <h6>{{'stock.Quantity' | translate}}</h6>
                    </div>
                  </div>
                </div>
              </div> -->
          <div class="col-12">
            <ul class="ulside">
              <div class="container-fluid">
                <div class="row">
                  <li *ngFor="let PSI of productWithSub.ProductSubItems; let i = index" class="col-12 liSide pS">
                    <!-- <span style="position: relative;"><label for="cb{{ i }}" class="cb-label"></label></span> -->
                    <div class="row mt-3 mb-3 w-100">
                      <div class="col-1">
                        <!-- <input class="dnonecheck" id="cb{{ i }}" type="checkbox" [(ngModel)]="PSI.SideChecked"
                            (change)="newSideDishesChecked($event,PSI,i)" /-->
                        <!-- <label for="cb{{ i }}">
                              <img [src]="imgURL + PSI.PicturePath | defaultImg:defaultIm" />
                              <p class="sideDishesPrice"><span class="badge bg-white p-1 badge-pill " >{{ PSI.NewPrice }}</span></p>
                              <p class="text-center">{{ PSI.Name }}</p>
                            </label> -->
                        <div class="">
                          <input [disabled]="PSI.IsMandatory" class="form-check-input" id="cb{{ i }}" type="checkbox" [ngModel]="PSI.SideChecked"
                            (ngModelChange)="newSideDishesChecked($event, PSI, i)" />
                        </div>
                      </div>
                      <div class="col-5">
                        <span class="side-dish__info">{{ getTypeName(PSI) }} <span *ngIf="PSI.ForiegnName">/ {{ PSI.ForiegnName
                            }}</span>
                        </span>
                      </div>
                      <div class="col-1">
                        <span class="side-dish__info">{{ PSI.NewPrice }}</span>
                      </div>
                      <div class="col-1">
                        <span class="side-dish__info">{{ getSideQuantity(PSI) }}</span>
                      </div>
                      <div class="col-4">
                        <!-- <div class="col-4" style="z-index: 4;"> -->
                        <div class="d-flex">
                          <button class="btn btn-danger" (click)="plusOrMinusNewSideDishes(PSI, false, i)">
                            <i class="fas fa-minus"></i>
                          </button>
                          <button class="btn btn-success" (click)="plusOrMinusNewSideDishes(PSI, true, i)">
                            <i class="fas fa-plus"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                    <!-- <hr> -->
                  </li>
                </div>
              </div>
            </ul>
          </div>
          <div>
            <!-- <div class="" *ngFor="let orderdetailsubitem of productWithSub.OrderDetailSubItems; let i = index" >
                  <div  *ngIf="!orderdetailsubitem.IsCancelled" class="d-flex">
                    <td class="col-md-6"> {{orderdetailsubitem.Name}}</td>
                    <button class="btn btn-danger"  (click)="plusOrMinusNewSideDishes(orderdetailsubitem,false)">
                      <i class="fas fa-minus"></i>
                    </button>
                    <button class="btn btn-success"  (click)="plusOrMinusNewSideDishes(orderdetailsubitem,true)">
                      <i class="fas fa-plus"></i>
                    </button>
                    <span
                      (click)="plusOrMinusNewSideDishes(orderdetailsubitem,false)">
                      &nbsp; - &nbsp;
                    </span>
                      <input class="text-center" type="text"
                        readonly [(ngModel)]="orderdetailsubitem.SingleQuantity">
                      <span class="text-center btn-success"
                        (click)="plusOrMinusNewSideDishes(orderdetailsubitem,true)"> &nbsp; + &nbsp;
                      </span>
                    </div>
                </div> -->
            <!-- <div class="table-responsive">
                      <table style="width: 100%;" class="table-bordered text-center">
                        <thead>
                          <tr style="background-color: #cce0f6;">
                            <th style="text-align: center;"> {{'Shared.Name'|translate}} </th>
                            <th style="text-align: center;"> {{'Reports.Quantity'|translate}} </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="" *ngFor="let orderdetailsubitem of productWithSub.OrderDetailSubItems; let i = index" >
                            <ng-container class="d-flex my-2" *ngIf="!orderdetailsubitem.IsCancelled">
                              <td class="col-md-6"> {{orderdetailsubitem.Name}}</td>
                              <td class="d-flex justify-content-center">

                              <span style="border-radius:.25rem 0 0 .25rem;height:2rem;cursor:pointer;text-align:center;padding:.5rem;"
                                class="text-center btn-danger" (click)="plusOrMinusNewSideDishes(orderdetailsubitem,false)">
                                &nbsp; - &nbsp; </span>

                                <input class="text-center" style=" max-width: 5rem;height: 2rem;" type="text"
                                  readonly [(ngModel)]="orderdetailsubitem.SingleQuantity">

                                <span class="text-center btn-success" style="border-radius:0 .25rem .25rem 0;height:2rem;cursor:pointer;
                                  padding: .5rem;" (click)="plusOrMinusNewSideDishes(orderdetailsubitem,true)"> &nbsp; + &nbsp; </span>

                              </td>
                            </ng-container>
                          </tr>
                        </tbody>
                      </table>
                    </div> -->
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="col-5 btn btn-light btn-footer btnEdit" (click)="closeNewSideDish()">
          {{ "Shared.Cancel" | translate }}
        </button>
        <button (click)="setSideDishesForFetail()" type="button" class="col-5 btn btn-primary btn-footer btnEdit">
          {{ "Shared.Ok" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--NewSideDishes Modals first-->

<!--Pin Modals first-->
<div class="modal fade" id="modal-Pin" tabindex="-1" role="dialog" aria-labelledby="modal-Pin" data-backdrop="static"
  data-keyboard="false">
  <div style="max-width: 40rem" class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <div><i class="fas fa-lock"></i></div>
          <span class="p-1"> {{ "Shared.Pin" | translate }}</span>
        </h5>
      </div>

      <div style="background-color: #efefef" class="modal-body">
        <div class="row justify-content-center">
          <div class="col-md-8 col-sm-12 pt-4 ml-5 pb-2">
            <div class="form-group row">
              <div class="col-sm-10 col-md-10">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fas fa-lock"></i>
                    </div>
                  </div>
                  <input type="password" id="NewPin" [(ngModel)]="orderobj.Pin" class="form-control edit"
                    placeholder="Pin" />
                  <i (click)="ClearPin()" style="border-style: double" class="fas fa-backspace m-2"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="numberKeyboard3"></div>
          </div>
        </div>
      </div>

      <div class="modal-footer p-1">
        <button (click)="ifHallPointOfSale()" type="button" class="btn btn-primary shadow-none mt-0 btnEdit">Ok</button>
      </div>
    </div>
  </div>
</div>
<!--Pin Modals first-->

<!--ComboProducts Modals first-->
<div class="modal fade combo-modal" id="modal-ComboProducts" aria-labelledby="modal-ComboProducts"
  data-backdrop="static" data-keyboard="false" tabindex="-1" aria-hidden="true">
  <div *ngIf="comboProduct" class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <!-- <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4" >
          <div class="input-group-addon">
            <img style="width: 25px;" src="assets/images/take-away.png" alt="" srcset="">
          </div>
          <span class="p-1"> {{'products.ComboProduct'|translate}}  ( {{comboProduct.ProductName}} ) </span>
        </h5> -->
        <!-- <div data-dismiss="modal" aria-label="Close" (click)="saveComboDetail(false)" class="d-flex justify-content-end">
          <i class="fa fa-times mt-3"></i>
        </div> -->
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="saveComboDetail(false)">
          <i class="fa fa-times"></i>
        </button>
      </div>
      <div *ngIf="comboProduct && comboProduct.ComboDetails" class="modal-body">
        <div class="row">
          <div class="col-9 d-flex align-items-center">
            <h5 class="p-1">{{ comboProduct.ProductName }} </h5>
          </div>
          <!-- <div class="col-3  d-flex align-items-center justify-content-end">
            <h4>0.00</h4>
          </div> -->
        </div>
        <div *ngFor="let level of comboProduct.ComboDetails; let i = index">

          <accordion [isAnimated]="true">
            <accordion-group [isOpen]="level.isOpen" [panelClass]="'customClass'">

              <div accordion-heading  class="d-flex mt-2" style="color: #fff;" (click)="comboOpenChanged(i)">
                <span class="col-4" data-toggle="collapse" data-target="#i">{{ level.Name }} </span>
                <span *ngIf="level.Type != 2" class="">
                  <span class="col-1" *ngIf="getLevelQuantity(comboProduct , i)">
                    <i class="fa fa-check" aria-hidden="true"></i>&nbsp; {{ getLevelQuantity(comboProduct , i) }}
                  </span>
                  <span class="qty-num col-5">{{ level.Quantity }}</span>
                  {{ "messages.Maximumnumbertoselect" | translate }}
                </span>
              </div>

              <ul *ngIf="level.ComboDetailDetails" class="ulside row card-content w-100" style="color: black;">
                <div class="col-12">
                  <div class="row w-100">
                    <div class="col-1"></div>
                    <div class="col-4"></div>
                    <div class="col-2">
                      <h6 *ngIf="level.Type != 2">
                        {{ "Shared.Price" | translate }}
                      </h6>
                    </div>
                    <div class="col-2">
                      <h6 *ngIf="level.Type != 2">
                        {{ "stock.Quantity" | translate }}
                      </h6>
                    </div>
                    <div class="col-3"></div>
                  </div>
                </div>
                <Li class="col-md-12 mb-1" *ngFor="let detail of level.ComboDetailDetails; let i = index">
                  <div class="row w-100">
                    <div class="col-1">
                      <input class="form-check-input enablePointer" type="checkbox" value="" id="flexCheckDefault"
                        [checked]="detail.Selected" (click)="checkComboDetail(level, i)" [(ngModel)]="detail.Selected" />
                    </div>
                    <div (click)="checkComboDetailFromName(level, i)"  class="d-flex justify-content-start enablePointer"
                     [ngClass]="[level.Type == 1 ? 'col-4' : 'col-10' , detail.Selected ? 'greenColor' : '']">
                      <h6>{{ detail.DetailName }}</h6>
                    </div>
                    <div (click)="checkComboDetailFromName(level, i)"  class="col-2 enablePointer" [ngClass]="detail.Selected ? 'greenColor' : ''" *ngIf="level.Type == 1">
                      <h6>{{ detail.Price }}</h6>
                    </div>
                    <div (click)="checkComboDetailFromName(level, i)"  class="col-1 enablePointer" [ngClass]="detail.Selected ? 'greenColor' : ''" *ngIf="level.Type == 1">
                      <h6>{{ detail.Quantity }}</h6>
                    </div>
                    <div class="col-4 d-flex" *ngIf="level.Type == 1">
                      <button class="btn btn-danger" (click)="plusOrMinusComboDetails(level, detail, false)">
                        <i class="fas fa-minus"></i>
                      </button>
                      <button class="btn btn-success" (click)="plusOrMinusComboDetails(level, detail, true)">
                        <i class="fas fa-plus"></i>
                      </button>
                    </div>
                  </div>
                </Li>
              </ul>

            </accordion-group>
          </accordion>
<!-- 
          <div class="d-flex justify-content-between mb-3 mt-3">
            <span class="level" data-toggle="collapse" data-target="#i">{{ level.Name }} </span>
            <h5 *ngIf="level.Type != 2" class="">
              {{ "messages.Maximumnumbertoselect" | translate }}
              <span class="qty-num">{{ level.Quantity }}</span>
            </h5>
          </div>
          <ul *ngIf="level.ComboDetailDetails" class="ulside row card-content w-100">
            <div class="col-12">
              <div class="container-fluid">
                <div class="row w-100">
                  <div class="col-1"></div>
                  <div class="col-4"></div>
                  <div class="col-2">
                    <h6 *ngIf="level.Type != 2">
                      {{ "Shared.Price" | translate }}
                    </h6>
                  </div>
                  <div class="col-1">
                    <h6 *ngIf="level.Type != 2">
                      {{ "stock.Quantity" | translate }}
                    </h6>
                  </div>
                  <div class="col-4"></div>
                </div>
              </div>
            </div>
            <Li class="col-md-12" *ngFor="let detail of level.ComboDetailDetails; let i = index">
              <div class="container-fluid">
                <div class="row w-100">
                  <div class="col-1">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"
                      [checked]="detail.Selected" (click)="checkComboDetail(level, i)" [(ngModel)]="detail.Selected" />
                  </div>
                  <div class="d-flex justify-content-start" [ngClass]="level.Type == 1 ? 'col-4' : 'col-10'">
                    <h6>{{ detail.DetailName }}</h6>
                  </div>
                  <div class="col-2" *ngIf="level.Type == 1">
                    <h6>{{ detail.Price }}</h6>
                  </div>
                  <div class="col-1" *ngIf="level.Type == 1">
                    <h6>{{ detail.Quantity }}</h6>
                  </div>
                  <div class="col-4 d-flex" *ngIf="level.Type == 1">
                    <button class="btn btn-danger" (click)="plusOrMinusComboDetails(level, detail, false)">
                      <i class="fas fa-minus"></i>
                    </button>
                    <button class="btn btn-success" (click)="plusOrMinusComboDetails(level, detail, true)">
                      <i class="fas fa-plus"></i>
                    </button>
                  </div>
                </div>
              </div>
            </Li>
          </ul> -->
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="col-5 mr-auto btn btn-light mt-0 btnEdit" (click)="saveComboDetail(false)">
          {{ "Shared.Cancel" | translate }}
        </button>
        <button (click)="saveComboDetail(true)" type="button" class="col-5 btn btn-primary shadow-none mt-0 btnEdit">
          {{ "Shared.Ok" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--ComboProducts Modals first-->

<!--Persons Modals first-->
<div class="modal fade" id="modal-Persons" tabindex="-1" role="dialog" aria-labelledby="modal-Persons"
  data-backdrop="static" data-keyboard="false">
  <div style="max-width: 40rem" class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img class="pull-right" style="cursor: pointer; width: 40px; height: 30px" src="assets/images/group.png"
            alt="" srcset="" />
          <span class="p-1"> {{ "Reports.PersonCount" | translate }}</span>
        </h5>
      </div>

      <div style="background-color: #efefef" class="modal-body">
        <div class="row justify-content-center">
          <div class="col-md-8 col-sm-12 pt-4 ml-5 pb-2">
            <div class="form-group row">
              <div class="col-sm-10 col-md-10">
                <div class="input-group row">
                  <div class="col-12 d-flex align-items-center justify-content-center mb-2"
                    *ngIf="settingobj?.UseMinimumCharge && orderobj?.OrderTable?.ValuePerPerson && minimumCharges[0]?.CanChangePricePerPerson">
                    <label class="form-label col-4" for="MinimumChargeNewPerPerson">{{ 'Reports.MinimumChargeNewPerPerson' | translate }}</label>
                    <input 
                      type="number"
                      id="MinimumChargeNewPerPerson"
                      [(ngModel)]="orderobj.MinimumChargeNewPerPerson"
                      (ngModelChange)="orderobj.MinimumChargeNewPerPerson = $event"
                      (focus)="setActiveField('minCharge')"
                      class="form-control edit"
                      placeholder="{{ 'Reports.MinimumChargeNewPerPerson' | translate }}" />
                    <i (click)="ClearMinimumChargeNewPerPerson()" style="border-style: double" class="fas fa-backspace m-2"></i>
                  </div>
                  <div class="col-12 d-flex align-items-center justify-content-center">
                    <label class="form-label col-4" for="PersonsCount">{{ 'Reports.PersonCount' | translate }}</label>
                    <input type="number" id="PersonsCount" [(ngModel)]="orderobj.PersonsCount"
                      (focus)="setActiveField('persons')"
                      class="form-control edit"
                      placeholder="{{ 'Reports.PersonCount' | translate }}" />
                    <i (click)="ClearPersonsCount()" style="border-style: double" class="fas fa-backspace m-2"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="numberKeyboard4"></div>
          </div>
        </div>
      </div>

      <div class="modal-footer p-1">
        <button type="button" (click)="ClosePersonsCount()" class="btn btn-primary shadow-none mt-0 btnEdit">
          {{ "Shared.Ok" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--Persons Modals first-->

<!--modal of DetailDiscount-->
<div class="modal fade" id="modal-DetailDiscount" tabindex="-1" role="dialog" aria-labelledby="modal-DetailDiscount"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img class="pull-right" style="cursor: pointer; width: 40px; height: 30px" src="assets/images/discount.png"
            alt="" srcset="" />
          <span *ngIf="orderobj.OrderDetails[indexItem]" class="p-1">
            {{ "products.ProductDiscountAmount" | translate }} ({{ orderobj.OrderDetails[indexItem].ProductName }}
            -
            {{ orderobj.OrderDetails[indexItem].ProductPrice | currency : " " : "symbol" : fraction : priceLang
            }})</span>
        </h5>
      </div>
      <div class="row">
        <div *ngIf="orderobj.OrderDetails[indexItem]" class="modal-body col-md-6">
          <div class="table-responsive">
            <table class="table table-bordered thead-light text-center mb-0">
              <thead>
                <tr>
                  <th scope="col">
                    {{ "CustomerOrder.DiscountPer" | translate }}
                  </th>
                  <th scope="col">
                    {{ "CustomerOrder.DiscountValue" | translate }}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">
                    <input id="DiscountPercentage11" style="text-align: center"
                      [numbersOnly]="orderobj.OrderDetails[indexItem].DiscountPercentage" [allowDecimals]="true"
                      type="number" [(ngModel)]="orderobj.OrderDetails[indexItem].DiscountPercentage"
                      (input)="orderobj.OrderDetails[this.indexItem].DiscountAmount = 0;" class="form-control edit"
                      placeholder="%" (focus)="openkeyboard5('DiscountPercentage11')" />
                  </th>

                  <td>
                    <input id="DiscountAmount11" style="text-align: center" [disabled]="
                        (settingobj && settingobj.AllowMultiTaxOnPrduct) "
                      [numbersOnly]="orderobj.OrderDetails[indexItem].DiscountAmount" [allowDecimals]="true"
                      type="number" [(ngModel)]="orderobj.OrderDetails[indexItem].DiscountAmount"
                      (input)="orderobj.OrderDetails[this.indexItem].DiscountPercentage = 0;" class="form-control edit"
                      placeholder="$" (focus)="openkeyboard5('DiscountAmount11')" />
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <ul class="flex-wrap flex-nowrap-md m-3 ml-5 d-flex flex-column-md">
            <li *ngFor="let discountcategory of discountCategories; let i = index" class="nav-item">
              <a (click)="onChangeKeyBoardValue('DiscountPercentage11', discountcategory.Value)" type="button"
                class="btn btn-outline-info btnNav" style="min-width: 4.5rem !important; min-height: 2.5rem">
                {{ discountcategory.Value }}%
              </a>
            </li>
          </ul>
        </div>

        <div class="col-md-6">
          <div class="numberKeyboard5"></div>
        </div>
      </div>

      <div class="col-md-12 modal-footer p-1">
        <button (click)="SaveDetailDiscount()" type="button" class="col-md-1 btn btn-primary shadow-none mt-0 btnEdit">
          {{ "Shared.Ok" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end modal of DetailDiscount-->

<!--Pin Permission first-->
<div class="modal fade" id="modal-PinPermission" tabindex="-1" role="dialog" aria-labelledby="modal-PinPermission"
  data-backdrop="static" data-keyboard="false">
  <div style="max-width: 40rem" class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <div><i class="fas fa-lock"></i></div>
          <span class="p-1"> {{ "Shared.Pin" | translate }}</span>
        </h5>
      </div>

      <div style="background-color: #efefef" class="modal-body">
        <div class="row justify-content-center">
          <div class="col-md-8 col-sm-12 pt-4 ml-5 pb-2">
            <div class="form-group row">
              <div class="col-sm-10 col-md-10">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fas fa-lock"></i>
                    </div>
                  </div>
                  <input type="password" id="NewPin2" (keyup.enter)="checkPinPermission('CanAddDiscountForDetail')"
                    [(ngModel)]="orderobj.Pin" class="form-control edit" placeholder="Pin" />
                  <i (click)="Keyboardnum6.setInput('', ''); orderobj.Pin = ''" style="border-style: double"
                    class="fas fa-backspace m-2"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="numberKeyboard6"></div>
          </div>
        </div>
      </div>

      <div class="modal-footer p-1">
        <button type="button" class="col-md-1 mr-auto btn btn-light mt-0 btnEdit" data-dismiss="modal">
          {{ "Shared.Cancel" | translate }}
        </button>
        <button (click)="checkPinPermission('CanAddDiscountForDetail')" type="button"
          class="col-md-1 btn btn-primary shadow-none mt-0 btnEdit">
          {{ "Shared.Ok" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--Pin Permission first-->

<!--CardNumber Model-->
<div class="modal fade" id="modal-CardNumber" tabindex="-1" role="dialog" aria-labelledby="modal-CardNumber"
  data-backdrop="static" data-keyboard="false">
  <div style="max-width: 40rem" class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <div><i class="fas fa-id-card"></i></div>
          <span class="p-1"> {{ "Order.CardNumber" | translate }}</span>
        </h5>
      </div>

      <div style="background-color: #efefef" class="modal-body">
        <div class="row justify-content-center">
          <div class="col-md-8 col-sm-12 pt-4 ml-5 pb-2" *ngIf="orderobj?.OrderType?.UseCard">
            <div class="form-group row">
              <div class="col-sm-10 col-md-10">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fas fa-lock"></i>
                    </div>
                  </div>
                  <input type="password" id="CardNumber_Id" [(ngModel)]="orderobj.CardNumber" class="form-control edit"
                    (keyup.enter)="setCardNumber()" placeholder="{{ 'Order.EnterCardNumber' | translate }}" />
                  <i (click)="KeyboardnumCardNumber.setInput('', ''); orderobj.CardNumber = ''"
                    style="border-style: double" class="fas fa-backspace m-2"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="numberKeyboardCardNumber"></div>
            </div>
          </div>
        </div>

        <div class="modal-footer p-1">
          <button type="button" class="col-md-1 mr-auto btn btn-light mt-0 btnEdit" data-dismiss="modal">
            {{ "Shared.Cancel" | translate }}
          </button>
          <button (click)="setCardNumber()" type="button" class="col-md-1 btn btn-primary shadow-none mt-0 btnEdit">
            {{ "Shared.Ok" | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>
  <!--CardNumber Model-->
  <div class="key-boeard" *ngIf="showKeyboard">
    <app-keyboard [KeyboardNgModel]="KeyboardNgModel" [_frm]="frmRef" (tabEvent)="tab()"></app-keyboard>
  </div>
</div>

<!--modal of ProductItems-->
<div class="modal fade" id="modal-ProductItems" tabindex="-1" role="dialog" aria-labelledby="modal-ProductItems">
  <div style="max-width: 40rem" class="modal-dialog AmountModel modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img src="assets/images/note2.svg" alt="" srcset="" />
          <span class="p-1"> {{ "products.ProductItems" | translate }}</span>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span>&times;</span>
        </button>
      </div>

      <div *ngIf="productTOShow" class="modal-body">
        <div class="table-responsive">
          <table class="table table-bordered thead-light text-center mb-0">
            <thead *ngIf="productTOShow.Description" class="thead-dark">
              <tr>
                <th>{{ "stock.Description" | translate }}</th>
                <th>{{ productTOShow.Description }}</th>
              </tr>
            </thead>
            <thead *ngIf="productTOShow.ProductItems && productTOShow.ProductItems.length">
              <tr>
                <th scope="col">{{ "Shared.ItemName" | translate }}</th>
                <th scope="col">{{ "stock.Quantity" | translate }}</th>
              </tr>
            </thead>
            <tbody *ngIf="productTOShow.ProductItems && productTOShow.ProductItems.length">
              <tr *ngFor="let item of productTOShow.ProductItems">
                <th scope="row">{{ item.ItemName }}</th>
                <td>{{ item.ItemUnitQuantity }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer py-1 pr-3">
        <button type="button" class="btn btn-primary my-1" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end modal of ProductItems-->

<!--CardNumber Model-->
<!-- <div
  class="modal fade"
  id="modal-CardNumber"
  tabindex="-1"
  role="dialog"
  aria-labelledby="modal-CardNumber"
  data-backdrop="static"
  data-keyboard="false">
  <div style="max-width: 40rem" class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <div><i class="fas fa-id-card"></i></div>
          <span class="p-1"> {{ "Order.CardNumber" | translate }}</span>
        </h5>
      </div>

      <div style="background-color: #efefef" class="modal-body">
        <div class="row justify-content-center">
          <div class="col-md-8 col-sm-12 pt-4 ml-5 pb-2">
            <div class="form-group row">
              <div class="col-sm-10 col-md-10">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fas fa-lock"></i>
                    </div>
                  </div>
                  <input
                    type="password"
                    id="CardNumber_Id"
                    [(ngModel)]="orderobj.CardNumber"
                    class="form-control edit"
                    (keyup.enter)="setCardNumber()"
                    placeholder="{{ 'Order.EnterCardNumber' | translate }}" />
                  <i
                    (click)="KeyboardnumCardNumber.setInput('', ''); orderobj.CardNumber = ''"
                    style="border-style: double"
                    class="fas fa-backspace m-2"></i>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="numberKeyboardCardNumber"></div>
            </div>
          </div>
        </div>

        <div class="modal-footer p-1">
          <button type="button" class="col-md-1 mr-auto btn btn-light mt-0 btnEdit" data-dismiss="modal">
            {{ "Shared.Cancel" | translate }}
          </button>
          <button (click)="setCardNumber()" type="button" class="col-md-1 btn btn-primary shadow-none mt-0 btnEdit">
            {{ "Shared.Ok" | translate }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div> -->

<!--modal product Group-->
<div class="modal fade" id="productGroupList" tabindex="-1" role="dialog" aria-labelledby="productGroupList">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <img src="assets/images/note2.svg" alt="" srcset="" />
          <span class="p-1"> {{ "Shared.productgrouplist" | translate }}</span>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span>&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <perfect-scrollbar>
          <ul id="ItemsNav"
            class="row nav nav-tabs d-flex has-gap nav-justified nav-tabs-editM groupsUl align-items-center group-section-item"
            role="tablist">
            <li class="col-lg-2 w-100" role="presentation" [style.z-index]="Showingkeyboard ? 9 : 999"
              *ngFor="let PG of productgrouplist; let i = index">
              <a class="d-flex align-items-center justify-content-center rounded" (click)="loadProductDetails(PG)"
                [class.active]="i == 0" aria-controls="tab100" role="tab" data-toggle="tab" data-dismiss="modal">{{
                getName(PG) }}</a>
            </li>
          </ul>
        </perfect-scrollbar>
      </div>
    </div>
  </div>
</div>

<!--modal Pay Types-->
<div class="modal fade" id="modal-payTypesList" tabindex="-1" role="dialog" aria-labelledby="modal-payTypesList">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4">
          <span class="p-1"> {{ "Shared.paytype" | translate }}</span>
        </h5>
      </div>

      <div class="modal-body">
        <ul class="nav nav-tabs d-flex has-gap nav-justified nav-tabs-editM groupsUl align-items-center" role="tablist">
          <li *ngFor="let payType of orderPayTypelist; let i = index" class="nav-item">
            <ng-container *ngIf="payType.PayType !== 70">
              <a *ngIf="payType.Name !== 'مجانا'" type="button" class="btn btn-outline-info btnNav fs-16"
                (click)="payTypeSelected(payType)" [ngClass]="{
                  active: payType.Id == orderobj.OrderPayTypeId
                }">
                {{ getName(payType) }}
              </a>
            </ng-container>
          </li>
        </ul>
      </div>

      <div class="modal-footer p-1">
        <button type="button" class="btn btn-primary my-1" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- modal of shift open-->
<div class="modal fade" id="openshiftmodal" tabindex="-1" role="dialog" aria-labelledby="openshiftmodal"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-dialog-centered editSize" role="document">
    <div class="modal-content" >
      <div class="modal-header">
        <h3 class="modal-title has-icon ms-icon-round">
          <i _ngcontent-jvp-c3="" class="fas fa-hourglass-start orangeColor mx-0"></i>
          <span class="text-darkgray"> Shift Open </span>
        </h3>
        <button type="button" class="close" (click)="closeOpenShiftModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="ms-form-group has-icon" *ngIf="showOpenShiftModal">
          <label class="labelDashboardModal">Open Shift Cash</label>
          <input [numbersOnly]="incominguserobj?.OpenBalance" [allowDecimals]="true" placeholder="Open Balance"
            class="form-control" name="OpenBalance" #OpenBalance="ngModel" [(ngModel)]="incominguserobj.OpenBalance"
            required />
          <i class="fas fa-money-bill-alt"></i>
        </div>
        <!--33-->
        <div [style.opacity]="Showing3 ? 1 : 0">
          <!-- <input (input)="onInputChange($event)" class="input" value={{value}} placeholder="Tap on the virtual keyboard to start" /> -->
          <div class="simple-keyboard"></div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-primary shadow-none mt-0" (click)="openShift()">Submit</button>
        <button type="button" class="btn btn-light mt-0" (click)="closeOpenShiftModal()">Cancel</button>
      </div>
    </div>
  </div>
</div>
<!--end modal-->

<!-- Modal for Pending Orders -->
<div class="modal fade" id="modal-PendingOrders" tabindex="-1" role="dialog" aria-labelledby="modal-PendingOrders">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="page-header">
          <h1 style="color: green">
            {{ "Order.PendingOrders" | translate }}
          </h1>
        </div>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-bordered thead-primary text-center mb-0">
            <thead>
              <tr>
                <th scope="col">{{ "Reports.Note" | translate }}</th>
                <th scope="col">{{ "Printer.OrderType" | translate }}</th>
                <th scope="col">{{ "delivery.Subtotal" | translate }}</th>
                <th scope="col">{{ "Order.Table" | translate }}</th>
                <th scope="col">{{ "Reports.Customer" | translate }}</th>
                <th scope="col">{{'delivery.Actions'|translate}}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let order of pendingOrders; let i = index">
                <tr>
                  <td>{{order.NoteForOrder || '-'}}</td>
                  <td>{{order.OrderType?.Name}}</td>
                  <td>{{order.SubTotal | number:'1.2-2'}}</td>
                  <td>{{ order.TableName || '-' }}</td>
                  <td>{{ order.CustomerName || '-' }}</td>
                  <td>
                    <button (click)="selectPendingOrder(order)" class="btn btn-primary btn-table__actions m-0 mr-5">
                      {{ "Shared.Select" | translate }}
                    </button>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!--modal of HoldedOrders-->
<div class="modal fade" id="modal-HoldedOrders" tabindex="-1" role="dialog" aria-labelledby="modal-HoldedOrders">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div class="page-header">
          <h1 style="color: green">
            {{ "Order.HoldedOrders" | translate }}
          </h1>
        </div>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-bordered thead-light text-center mb-0">
            <thead>
              <tr>
                <th scope="col">{{ "Reports.Note" | translate }}</th>
                <th scope="col">{{ "Printer.OrderType" | translate }}</th>
                <th scope="col">{{ "delivery.Subtotal" | translate }}</th>
                <th scope="col">{{ "Order.Table" | translate }}</th>
                <th scope="col">{{ "Reports.Customer" | translate }}</th>
                <th scope="col">{{'delivery.Actions'|translate}}</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let order of holdedOrders; let i = index">
                <tr>
                  <td>{{ order.NoteForOrder }}</td>
                  <td>{{ order.OrderTypeName }}</td>
                  <td>
                    {{ order.SubTotal | currency : " " : "symbol" : fraction : priceLang }}
                  </td>
                  <td>{{ order.TableName }}</td>
                  <td>{{ order.CustomerName }}</td>
                  <td>
                    <button (click)="selectHoldedOrder(order,i)" class="btn btn-primary btn-table__actions m-0 mr-5">
                      {{ "Shared.Select" | translate }}
                    </button>
                    <i (click)="selectHoldedOrder(order,i,false)" class="far fa-trash-alt text-crosss p-0"
                      style="font-size: 1.1rem"></i>
                  </td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>

      <div class="modal-footer py-1 pr-3">
        <button type="button" class="btn btn-primary my-1" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--end modal of HoldedOrders-->
<!-- Product List Template show products in all orders-->
<!-- paddingBottom: !settingobj.AutoHeight ? '0px' : '100px', -->
<ng-template #productsTemplate let-list="list" let-fromAria="fromAria">
  <perfect-scrollbar
    [disabled]="!settingobj.DontUsePageinationInOrderScreen"
    [config]="{ suppressScrollX: true, wheelPropagation: true }"
    [ngStyle]="{
      height: settingobj.DontUsePageinationInOrderScreen ? (Fullscreen ? '35rem' : '75vh') : null,
      display: 'block',
      minHeight: '0',
      width: '100%',
      marginTop: '-15px'
    }"
    class="pS w-100">
    <div class="row d-flex align-items-center justify-content-start p-3 products-container"
      cdkDropListGroup>
      <div *ngFor="let product of list; let i = index" cdkDropList
        [cdkDropListData]="{ item: product, index: i }" cdkDropListOrientation="horizontal"
        (cdkDropListDropped)="drop($event)">
        <div cdkDrag [cdkDragDisabled]="!showPencile || product.VolumeId || product.VolumeDocumentId" [ngClass]="'draggable-item'"
          [cdkDragBoundary]="'.products-container'"
          (contextmenu)="onProductRightClick($event, product)"
          (click)="addToOrderDetailList(product)" class="product-card"
          [ngStyle]="styleObject(product)">
          <!-- <mat-icon *ngIf="product?.AsGroupMeal" class="as-group-meal-icon" color="primary" aria-label="Group meal">restaurant_menu</mat-icon> -->
          <i *ngIf="product?.AsGroupMeal" class="fas fa-layer-group as-group-meal-icon"></i>
          <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
          <div>
            <div
              class="w-100 h-100 d-flex align-items-center justify-content-center flex-column product-overlay"
              tabindex="{{ i }}">
              <div class="productPrice d-flex align-items-center justify-content-center">
                <span #childRefPrice class="">
                  {{ product?.Price | currency : " " : "symbol" : fraction : priceLang }}
                </span>
                <span *ngIf="
                    product?.Promos &&
                    product?.Promos.length > 0 &&
                    product?.Promos[0].ValueType == 3 &&
                    checkOrderTypeWithPromo(product, orderobj)
                  ">
                  <i class="fas fa-gift mb-1"></i>
                </span>
              </div>
              <div [style.font-size]="settingobj.ProductNameFontSize + 'px'" [style]="
                  product?.ProductProperties?.ImgPath?.length > 1
                    ? 'background-color : #fff'
                    : product?.Color
                    ? 'background-color: transparent'
                    : !settingobj.ProductBGColor || settingobj.ProductBGColor === ''
                    ? 'background-image: url(assets/images/v10.jpg) && background-color:transparent'
                    : 'background-color:transparent'
                " class="productName">
                {{ getNameForProduct(product,fromAria) | slice : 0 : 30 }}
              </div>
              <div class="productAvalQty" *ngIf="settingobj.ShowProductsAvalQty">
                <span class="fas fa-warehouse">
                  {{showProductsAvalQty(product)}}
                </span>
              </div>
            </div>
            <button [style.z-index]="Showingkeyboard ? 1 : 1000" data-toggle="modal"
              data-target="#modal-181"
              (click)="$event.stopPropagation(); clickedEditProduct(product)"
              *ngIf="showPencile && !product.VolumeId && !product.VolumeDocumentId" type="button"
              class="ms-btn-icon btn-pill btn-info btnPencilEditing">
              <i class="flaticon-pencil text-white faa-wrench animated-hover faa-slow"></i>
            </button>
            <div *ngIf="product.ShowDiscount && checkOrderTypeWithPromo(product, orderobj)"
              class="discountWrapper">

              <span *ngIf="product.DiscountValue" class="promoDiscount"> {{ product.DiscountValue }}%</span>
              <span *ngIf="!product.DiscountValue" class="promoDiscount"> Offer</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </perfect-scrollbar>
</ng-template>