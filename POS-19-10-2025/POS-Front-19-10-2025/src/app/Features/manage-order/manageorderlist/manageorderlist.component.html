<!-- spinner -->
<div *ngIf="requestStarted" id="preloader-wrap">
  <div class="col-md-9 d-flex justify-content-center align-items-center">
    <div class="new-spinner">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</div>

<app-breadcrumbs></app-breadcrumbs>
<!-------------------------------------------------->
<div class="px-0 col-md-12">
  <div class="ms-panel-fh">
    <div class="cont">
      <div class="ms-panel-body-1 clearfix">
        <div class="tab-content">
          <div role="tabpanel">
            <div class="col-xl-12 col-md-12 col-xs-12">
              <div class="ms-panel rounded">
                <div class="ms-panel-body">
                  <div class="needs-validation clearfix" novalidate>
                    <!--1-->

                    <div class="form-row pt-3">
                      <!--from date-->
                      <div class="col-md-6 mb-3">
                        <div class="row justify-content-start align-items-center">
                          <div class="col-md-4">
                            <label for="validationCustom19">
                              {{ "Shared.fromdata" | translate }}
                            </label>
                          </div>
                          <div class="col-md-8">
                            <div class="input-group editInputGroup">
                              <div class="input-group-addon">
                                <i class="fa fa-calendar" aria-hidden="true"></i>
                              </div>
                              <div class="input-group">
                                <ejs-datepicker
                                  class="pAsolute absolutePosition form-control borderRadius"
                                  format="dd/MM/yyyy"
                                  name="date"
                                  #date="ngModel"
                                  [(ngModel)]="responseobj.FromDate"
                                  class="form-control borderRadius Prelative"
                                  id="date"
                                  placeholder="mm/dd/yyyy"></ejs-datepicker>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--to dater-->
                      <div class="col-md-6 mb-3">
                        <div class="row justify-content-start align-items-center">
                          <div class="col-md-4 d-flex">
                            <label for="validationCustom18">
                              {{ "Shared.todata" | translate }}
                            </label>
                          </div>
                          <div class="col-md-8 paddingLeftz">
                            <div class="input-group editInputGroup">
                              <div class="input-group-addon">
                                <i class="fa fa-calendar" aria-hidden="true"></i>
                              </div>
                              <div class="input-group">
                                <ejs-datepicker
                                  class="pAsolute absolutePosition form-control borderRadius"
                                  format="dd/MM/yyyy"
                                  name="date"
                                  #date="ngModel"
                                  [(ngModel)]="responseobj.ToDate"
                                  class="form-control borderRadius Prelative"
                                  id="date"
                                  placeholder="mm/dd/yyyy"></ejs-datepicker>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--order type-->
                      <div class="col-md-6 mb-3">
                        <div class="row pr-xs-0">
                          <div class="col-md-4 d-flex justify-content-start align-items-center label1">
                            <label for="validationCustom19">
                              {{ "Printer.OrderType" | translate }}
                            </label>
                          </div>
                          <div class="col-md-8 paddingLeftz">
                            <div class="input-group editInputGroup">
                              <div class="input-group-addon">
                                <i class="fas fa-clipboard-list fs-16" aria-hidden="true"></i>
                              </div>
                              <div class="input-group">
                                <ejs-combobox
                                  name="OrderTypeDocmentId"
                                  #OrderTypeDocmentId="ngModel"
                                  [(ngModel)]="responseobj.OrderTypeDocmentId"
                                  [allowFiltering]="true"
                                  [autofill]="true"
                                  [dataSource]="OrderTypeList"
                                  placeholder="Select Order Type"
                                  [fields]="OrderTypeFlds"
                                  class="form-control borderRadius"
                                  id="OrderTypeDocment_Id"></ejs-combobox>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--order number-->
                      <div class="col-md-6 mb-3">
                        <div class="row pr-xs-0">
                          <div class="col-md-4 d-flex justify-content-start align-items-center label1">
                            <label for="OrderNumber">
                              {{ "ReturnOrder.OrderNumber" | translate }}
                            </label>
                          </div>
                          <div class="col-md-8 paddingLeftz">
                            <div class="input-group editInputGroup">
                              <div class="input-group-addon">
                                <i class="fas fa-clipboard-list fs-16" aria-hidden="true"></i>
                              </div>
                              <div class="input-group">
                                <input
                                  type="number"
                                  class="form-control"
                                  id="OrderNumber"
                                  name="OrderNumber"
                                  [(ngModel)]="responseobj.OrderNumber" />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--payment-->
                      <div class="col-md-6 mb-3">
                        <div class="row pr-xs-0">
                          <div class="col-md-4 d-flex justify-content-start align-items-center label1">
                            <label for="validationCustom19">{{ "Order.Payment" | translate }} </label>
                          </div>
                          <div class="col-md-8 paddingLeftz">
                            <div class="input-group editInputGroup">
                              <div class="input-group-addon">
                                <i class="fas fa-coins fs-16" aria-hidden="true"></i>
                              </div>
                              <div class="input-group">
                                <ejs-combobox
                                  name="OrderPayTypeDocmentId"
                                  #OrderPayTypeDocmentId="ngModel"
                                  [(ngModel)]="responseobj.OrderPayTypeDocmentId"
                                  [allowFiltering]="true"
                                  [autofill]="true"
                                  [dataSource]="OrderPayTypeList"
                                  placeholder="Select Pay Type"
                                  [fields]="OrderPayTypeFlds"
                                  class="form-control borderRadius"
                                  id="OrderPayTypeDocment_id"></ejs-combobox>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--OrdersHasInsurance-->
                      <div class="col-md-6 mb-3">
                        <div class="row pr-xs-0">
                          <div class="col-md-4 d-flex justify-content-start align-items-center label1">
                            <label for="validationCustom19"
                              >{{ "returninsurance.OrdersHasInsurance" | translate }}
                            </label>
                          </div>
                          <div class="col-md-8 paddingLeftz">
                            <div class="input-group editInputGroup">
                              <div class="input-group-addon">
                                <i class="fas fa-coins fs-16" aria-hidden="true"></i>
                              </div>
                              <div class="input-group">
                                <ejs-combobox
                                  [(ngModel)]="OrdersHasInsurance"
                                  [allowFiltering]="true"
                                  [autofill]="true"
                                  [dataSource]="InsuranceTypeList"
                                  placeholder="Select Type"
                                  [fields]="OrderPayTypeFlds"
                                  class="form-control borderRadius"
                                  id="OrderPayTypeDocment_id"
                                  (ngModelChange)="ordersWithInsurance(OrdersHasInsurance)">
                                </ejs-combobox>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6 mb-3">
                        <div class="row align-items-center">
                          <div class="col-md-4 justify-content-start align-items-center">
                            <label> {{ "Shared.Tables" | translate }} </label>
                          </div>
                          <div class="col-md-8">
                            <div class="input-group editInputGroup">
                              <div class="input-group-addon">
                                <i class="fas fa-file" aria-hidden="true"></i>
                              </div>
                              <div class="input-group">
                                <ejs-multiselect
                                  name="TableDocumentIdList"
                                  class="form-control borderRadius"
                                  [(ngModel)]="responseobj.TableDocumentIdList"
                                  [dataSource]="TableList"
                                  [fields]="TableFlds"
                                  placeholder="Tables"
                                  id="Table_Document_Id_List"></ejs-multiselect>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6 mb-3">
                        <button type="button" class="btn btn-success m-0" (click)="GetAllOrders()">
                          {{ "ReturnOrder.Search" | translate }}</button
                        >&nbsp;
                        <button class="btn btn-success m-0" data-toggle="modal" data-target="#modal-101">
                          {{ "Shared.setting" | translate }}
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="col-md-12" *ngIf="showgrid">
  <ejs-grid
    class="ms-panel"
    #grid
    id="grid"
    [dataSource]="filteredOrders"
    [allowPaging]="true"
    [pageSettings]="pageSettings"
    [allowSorting]="true"
    [allowFiltering]="true"
    [filterSettings]="filterOptions"
    [toolbar]="toolbarOptions"
    [allowGrouping]="true"
    [allowPdfExport]="true"
    [allowExcelExport]="true"
    (toolbarClick)="toolbarClick($event)">
    <!-- [format]="orderDateFormat"  -->
    <e-columns>
      <!-- <e-column field='CloseDate' headerText='Date',textAlign='center'></e-column>  -->
      <!--  <e-column field='CloseDate' headerText='t' textAlign='center'></e-column> 
   <e-column field='CloseDate' headerText='Date' textAlign='center'></e-column>  -->

      <e-column
        field="CloseDate"
        [visible]="Properties.CloseDate"
        headerText="{{ 'CashReceipt.Date' | translate }}"
        type="date"
        [format]="orderDateFormat"
        textAlign="center"></e-column>
      <e-column
        field="CloseDate"
        [visible]="Properties.CloseDate"
        headerText="{{ 'setting.Time' | translate }}"
        type="dateTime"
        [format]="DateFormat"
        textAlign="center"
        [allowFiltering]="false"
        [allowSorting]="false"></e-column>
      <e-column
        width="90"
        field="OrderNumber"
        headerText="{{ 'delivery.orderNumber' | translate }}"
        textAlign="center"></e-column>
      <e-column
        width="80"
        field="Paid"
        [visible]="Properties.Paid"
        headerText="{{ 'Shared.paid' | translate }}"
        editType="booleanedit"
        type="boolean"
        [allowFiltering]="false"
        [allowSorting]="false">
        <ng-template #template let-data>
          <div class="d-flex justify-content-center align-items-center">
            <ejs-checkbox #checkbox [checked]="data.Paid" disabled></ejs-checkbox>
          </div>
        </ng-template>
      </e-column>

      <e-column
        width="80"
        field="SubTotal"
        [visible]="Properties.SubTotal"
        headerText="{{ 'Shared.Total' | translate }}"
        [format]='priceFormat'
        textAlign="center"></e-column>

      <e-column
        width="80"
        field="IsSync"
        [visible]="Properties.ShowIsSync"
        headerText="{{ 'Shared.IsSync' | translate }}"
        editType="booleanedit"
        type="boolean"
        [allowFiltering]="false"
        [allowSorting]="false">
        <ng-template #template let-data>
          <div class="d-flex justify-content-center align-items-center">
            <ejs-checkbox #checkbox [checked]="data.IsSync" disabled></ejs-checkbox>
          </div>
        </ng-template>
      </e-column>
      <e-column
        field="CustomerName" type="string"
        headerText="{{ 'manageorder.Customer' | translate }}"
        textAlign="center"></e-column>
      <!-- <e-column
        field="CustomerPhone"
        [visible]="Properties.CustomerPhone"
        headerText="{{ 'Shared.customerPhone' | translate }}"
        textAlign="center"></e-column> -->
        <e-column
          field="CustomerPhone" type="string"
          [visible]="Properties.CustomerPhone"
          headerText="{{ 'Shared.customerPhone' | translate }}"
          textAlign="center"></e-column>
        <e-column
        field="TotalInsuranceAmount"
        [visible]="Properties.TotalInsuranceAmount"
        headerText="{{ 'Reports.InsuranceAmount' | translate }}"
        textAlign="center"></e-column>
        <e-column
        field="TableName"
        [visible]="Properties.TableName"
        headerText="{{ 'delivery.TableName' | translate }}"
        textAlign="center"></e-column>
      <e-column
        field="TotalReturnInsuranceAmount"
        [visible]="Properties.TotalReturnInsuranceAmount"
        headerText="{{ 'Shared.returninsurances' | translate }}"></e-column>
      <e-column
        width="100"
        field="PrintCount"
        headerText="{{ 'Shared.printCount' | translate }}"></e-column>

      <e-column headerText="{{ 'delivery.Actions' | translate }}" width="300" textAlign="center">
        <ng-template #template let-data>
          <div class="d-flex justify-content-start align-items-start">
            <button
              style="min-width: 40px !important"
              type="button"
              *ngIf="ViewPermission && PrintPermission"
              (click)="ImmediatePrintFunc(data)"
              class="btn btn-info btnEdit m-0">
              {{ "Shared.ImmediatePrint" | translate }}
            </button>
            &nbsp;
            <button
              style="min-width: 40px !important"
              type="button"
              *ngIf="ViewPermission && PrintPermission"
              (click)="openPrintTypeModal(data)"
              class="btn btn-info btnEdit m-0">
              {{ "Shared.Show" | translate }}
            </button>
            &nbsp;
            <button
              style="min-width: 40px !important"
              *ngIf="!data.IsSync && settings && settings.CountryType != 2 && DeletePermission && data.Paid"
              type="button"
              (click)="DeleteOrder(data)"
              class="btn btn-warning btnEdit m-0">
              {{ "pagetransactions.Delete" | translate }}
            </button>
            &nbsp;
            <button
              style="min-width: 40px !important"
              *ngIf="
                (data.OrderInsuranceItems && data.OrderInsuranceItems.length > 0) ||
                (data.OrderInsurance && data.OrderInsurance.DocumentId)
              "
              type="button"
              (click)="openReturnInsurance(data)"
              class="btn btn-success btnEdit m-0">
              {{ "Shared.returninsurance" | translate }}
            </button>
            &nbsp;
            <button
              style="min-width: 40px !important"
              data-toggle="modal"
              data-target="#modal-3"
              *ngIf="!data.IsSync && data.Paid && settings && settings.CountryType != 2 && EditPermission"
              type="button"
              (click)="getdatarecord(data)"
              class="btn btn-success btnEdit m-0">
              {{ "Shared.EditPayType" | translate }}
            </button>
          </div>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</div>
<!------------------------------------------------------->

<!-- Print Type Modal -->
<div class="modal fade" id="modal-print-type" tabindex="-1" role="dialog" aria-labelledby="modal-print-type-label">
  <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 80%; width: 80%;">
    <div class="modal-content">
      <div class="modal-header py-3">
        <h5 class="modal-title" id="modal-print-type-label">{{ "Shared.PrintType" | translate }}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="d-flex justify-content-center">
          <div>
            <button type="button" class="btn btn-primary rounded" style="margin: 0 10px;" (click)="choosePrintType(false)">{{ "Printer.CustomerReceipt" | translate }}</button>
            <button type="button" class="btn btn-primary rounded" style="margin: 0 10px;" (click)="choosePrintType(true)">A4</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
</div>

<!--modal 3 -->
<div class="modal fade" id="modal-3" tabindex="-1" role="dialog" aria-labelledby="modal-1">
  <div class="modal__overlay">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header py-3">
          <h5 class="modal-title">
            <button type="button" class="ms-btn-icon btn-pill text-white btn-info editmsBtn">
              <i class="fas fa-coins text-white"></i>
            </button>
            {{ "Shared.changeorderpay" | translate }}
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <div>
            <div class="row">
              <div class="col-md-6 borderEdit">
                <div class="row my-1">
                  <div class="col-md-4 d-flex justify-content-start align-items-center label1">
                    <label for="validationCustom19">
                      {{ "delivery.orderNumber" | translate }}
                    </label>
                  </div>
                  <div class="col-md-8 paddingLeftz">
                    <div class="input-group editInputGroup">
                      <div class="input-group-addon">
                        <i class="fas fa-clipboard-list" aria-hidden="true"></i>
                      </div>
                      <div class="input-group">
                        <input
                          type="number"
                          placeholder="OrderNumber"
                          [(ngModel)]="myOrder.OrderNumber"
                          name="OrderNumber"
                          #OrderNumber="ngModel"
                          id="OrderNumber_id"
                          readonly
                          class="form-control borderRadius" />
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-6 borderEdit">
                <div class="row my-1">
                  <div class="col-md-4 d-flex justify-content-center align-items-center label1">
                    <label for="validationCustom19">
                      {{ "manageorder.payName" | translate }}
                    </label>
                  </div>
                  <div class="col-md-8 paddingLeftz">
                    <div class="input-group editInputGroup">
                      <div class="input-group-addon">
                        <i class="fas fa-clipboard-list" aria-hidden="true"></i>
                      </div>
                      <div class="input-group">
                        <ejs-combobox
                          name="PaymentTypeId"
                          #PaymentTypeId="ngModel"
                          [(ngModel)]="myOrder.PaymentTypeId"
                          [allowFiltering]="true"
                          [autofill]="true"
                          [dataSource]="OrderPayTypeList"
                          [fields]="OrderPayTypeFlds"
                          class="form-control borderRadius"
                          id="PaymentTypeId_Id"
                          (change)="GetValuepaymenttype($event)"></ejs-combobox>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="col-md-6 borderEdit" *ngIf="CustonerFlag">
                <div class="row my-1">
                  <div class="col-md-4 d-flex justify-content-center align-items-center label1">
                    <label for="validationCustom19"> Customer </label>
                  </div>
                  <div class="col-md-8 paddingLeftz">
                    <div class="input-group editInputGroup">
                      <div class="input-group-addon">
                        <i class="fas fa-user" aria-hidden="true"></i>
                      </div>
                      <div class="input-group">
                        <ejs-combobox
                          name="CustmerId"
                          #CustmerId="ngModel"
                          [(ngModel)]="myOrder.CustmerId"
                          [allowFiltering]="true"
                          [autofill]="true"
                          [dataSource]="CustomerList"
                          [fields]="CustomerFlds"
                          class="form-control borderRadius"
                          id="CustmerId_Id"></ejs-combobox>
                      </div>
                    </div>
                  </div>
                </div>
              </div> -->
              <!--Select Customer-->
              <div class="col-md-8 borderEdit" *ngIf="CustonerFlag">
                <div class="row my-1">
                  <div class="col-md-3 d-flex justify-content-start align-items-center label1">
                    <label for="CustomerDocumentId">{{ "manageorder.Customer" | translate }} :</label>
                  </div>
                  <div class="col-md-9 paddingLeftz py-2">
                    <div class="input-group editInputGroup">
                      <div class="input-group-addon">
                        <i class="fas fa-coins fs-16" aria-hidden="true"></i>
                      </div>
                      <div class="input-group">
                        <input class="form-control col-md-5" type="text" [(ngModel)]="searchCustomer" (keyup)="filterCustomers($event,myOrder?.PaymentTypeId)"
                               [ngModelOptions]="{standalone: true}"
                               [placeholder]="'Shared.searchByPhoneorNumber' | translate"
                               >
                        <select
                          [(ngModel)]="myOrder.CustmerId"
                          class="form-select borderRadius col-md-5"
                          #CustomerDocumentId="ngModel"
                          (ngModelChange)="setCustomer(myOrder.CustmerId)"
                          name="CustomerDocumentId"
                          [required]="isRequired"
                          >
                          <option
                            *ngFor="let customer of customers"
                            [ngValue]="customer.DocumentId"
                            >
                            {{ customer.Name }}
                          </option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
                <span class="w-100" style="color:red"> *{{"messages.customerUseCredit" | translate}} </span>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer p-1">
          <button type="button" class="btn btn-success m-0 btnEdit" 
          [disabled]="creditPayType && (!myOrder?.CustmerId || !myOrder?.Customer?.UseCredit)" (click)="SavePaymentType()">Save</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!--Insurance Model-->
<div class="modal fade" id="modal-Insurances" tabindex="-1" role="dialog" aria-labelledby="updatemodal-Insurances">
  <div class="modal-dialog AmountModel modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header borderb d-flex align-items-center justify-content-center">
        <svg height="55px" viewBox="0 0 64 64" width="45px" class="">
          <g>
            <path
              d="m57 35h-50a2.006 2.006 0 0 1 -2-2v4a2.006 2.006 0 0 0 2 2h50a2.006 2.006 0 0 0 2-2v-4a2.006 2.006 0 0 1 -2 2z"
              fill="#009986"
              data-original="#009986"
              class="active-path"
              style="fill: #5b4b92"
              data-old_color="#009986" />
            <path
              d="m57 31h-50a2.006 2.006 0 0 1 -2-2v4a2.006 2.006 0 0 0 2 2h50a2.006 2.006 0 0 0 2-2v-4a2.006 2.006 0 0 1 -2 2z"
              fill="#00b39d"
              data-original="#00B39D"
              class=""
              style="fill: #5b4b92"
              data-old_color="#00b39d" />
            <path
              d="m57 5h-50a2.006 2.006 0 0 0 -2 2v22a2.006 2.006 0 0 0 2 2h50a2.006 2.006 0 0 0 2-2v-22a2.006 2.006 0 0 0 -2-2z"
              fill="#00ccb3"
              data-original="#00CCB3"
              class=""
              style="fill: #5b4b92"
              data-old_color="#00ccb3" />
            <path
              d="m44 29v16.65a10.013 10.013 0 0 1 -4.45 8.32l-7.55 5.03-7.55-5.03a10.013 10.013 0 0 1 -4.45-8.32v-16.65z"
              fill="#ff5023"
              data-original="#FF5023"
              class="" />
            <path d="m36 12.26a7 7 0 1 0 -8 11.48 7 7 0 1 0 8-11.48z" fill="#ffd422" data-original="#FFD422" class="" />
            <path
              d="m36 33h-12v12.65a6 6 0 0 0 2.67 4.99l5.33 3.55 5.33-3.55a6 6 0 0 0 2.67-4.99v-12.65z"
              fill="#ffd422"
              data-original="#FFD422"
              class="" />
            <path d="m28 5v7.26 11.48 5.26h8v-5.26-11.48-7.26z" fill="#e6e7e8" data-original="#E6E7E8" class="" />
            <path
              d="m57 4h-50a3 3 0 0 0 -3 3v30a3 3 0 0 0 3 3h12v5.648a10.979 10.979 0 0 0 4.9 9.152l7.547 5.031a1 1 0 0 0 1.11 0l7.543-5.031a10.979 10.979 0 0 0 4.9-9.152v-5.648h12a3 3 0 0 0 3-3v-30a3 3 0 0 0 -3-3zm-20 10.692a5.971 5.971 0 0 1 0 6.616zm-2 13.308h-6v-22h6zm-8-6.692a5.971 5.971 0 0 1 0-6.616zm-21 10.508a2.966 2.966 0 0 0 1 .184h12v2h-12a1 1 0 0 1 -1-1zm1 6.184a1 1 0 0 1 -1-1v-1.184a2.966 2.966 0 0 0 1 .184h12v2zm12-9v1h-12a1 1 0 0 1 -1-1v-22a1 1 0 0 1 1-1h20v5.776a7.956 7.956 0 0 0 0 12.448v3.776h-7a1 1 0 0 0 -1 1zm24 16.648a8.983 8.983 0 0 1 -4.008 7.489l-6.992 4.663-6.992-4.661a8.983 8.983 0 0 1 -4.008-7.491v-15.648h22zm14-7.648h-12v-2h12a2.966 2.966 0 0 0 1-.184v1.184a1 1 0 0 1 -1 1zm0-4h-12v-2h12a2.966 2.966 0 0 0 1-.184v1.184a1 1 0 0 1 -1 1zm0-4h-12v-1a1 1 0 0 0 -1-1h-7v-3.776a7.956 7.956 0 0 0 0-12.448v-5.776h20a1 1 0 0 1 1 1v22a1 1 0 0 1 -1 1z"
              data-original="#000000"
              class=""
              style="fill: #000000" />
            <path d="m53 25h-3v2h4a1 1 0 0 0 1-1v-4h-2z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m11 22h-2v4a1 1 0 0 0 1 1h4v-2h-3z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m54 9h-4v2h3v3h2v-4a1 1 0 0 0 -1-1z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m9 10v4h2v-3h3v-2h-4a1 1 0 0 0 -1 1z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m20 17h2v2h-2z" data-original="#000000" class="" style="fill: #000000" />
            <path d="m42 17h2v2h-2z" data-original="#000000" class="" style="fill: #000000" />
            <path
              d="m26.117 51.473 5.328 3.551a1 1 0 0 0 1.11 0l5.328-3.551a6.989 6.989 0 0 0 3.117-5.825v-12.648a1 1 0 0 0 -1-1h-16a1 1 0 0 0 -1 1v12.648a6.989 6.989 0 0 0 3.117 5.825zm-1.117-17.473h14v11.648a4.991 4.991 0 0 1 -2.227 4.161l-4.773 3.182-4.773-3.182a4.993 4.993 0 0 1 -2.227-4.161z"
              data-original="#000000"
              class=""
              style="fill: #000000" />
            <path
              d="m31 45a1 1 0 0 0 .707-.293l5-5-1.414-1.414-4.293 4.293-2.293-2.293-1.414 1.414 3 3a1 1 0 0 0 .707.293z"
              data-original="#000000"
              class=""
              style="fill: #000000" />
          </g>
        </svg>
        <h5 class="modal-title has-icon ms-icon-round orangeColor restaurantName4 px-2">
          {{ "Shared.returninsurance" | translate }}
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="row">
          <div class="col-md-12">
            <table class="table table-bordered mb-0">
              <thead class="bg-maingreen text-center">
                <tr>
                  <!-- <th class="d-flex justify-content-center align-items-center" scope="col">
                    <input type="checkbox" value="" class="form-control " [(ngModel)]="checkAllCancel" (change)="isCheckAllCancel($event)">
                    <span class="px-1">{{'Shared.Select'|translate}}</span>
                  </th> -->
                  <th scope="col">{{ "Shared.Name" | translate }}</th>
                  <th scope="col">{{ "stock.Quantity" | translate }}</th>
                  <th scope="col">
                    {{ "Shared.ReturnedQuantity" | translate }}
                  </th>
                  <th scope="col">{{ "Order.Price" | translate }}</th>
                  <th scope="col">{{ "delivery.Actions" | translate }}</th>
                </tr>
              </thead>
              <tbody class="text-center editTd">
                <tr *ngFor="let II of orderobj.OrderInsuranceItems; let i = index">
                  <!-- <th class="d-flex justify-content-center" scope="row">
                    <input type="checkbox" value="" [(ngModel)]="II.RChecked" class="form-control " >
                  </th> -->
                  <th scope="row">{{ II.Name }}</th>
                  <td class="editmarg2">
                    <input numbersOnly readonly [(value)]="II.Quantity" class="btn-count" />
                  </td>
                  <td class="editmarg2">
                    <input type="number" numbersOnly readonly [(value)]="II.ReturnQuantity" class="btn-count" />
                  </td>
                  <td>{{ II.Price }}</td>
                  <td>
                    <i (click)="PlusInsuranceItems(i)" class="fa fa-plus p-0" style="font-size: 1.1rem"></i>
                    <i (click)="MinusInsuranceItems(i)" class="fa fa-minus p-0" style="font-size: 1.1rem"></i>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="form-group pt-3 d-flex">
              <label class="col-md-4 maingreen pl-0 pr-4" for="TotInsurance"
                >{{ "Order.Total Insurance" | translate }} :</label
              >
              <input
                type="text"
                name="TotalInsuranceAmount"
                #TotalInsuranceAmount="ngModel"
                [(ngModel)]="orderobj.TotalInsuranceAmount"
                readonly
                class="col-md-8 form-control"
                id="TotInsurance"
                rows="2" />
            </div>
            <div class="form-group pt-3 d-flex">
              <label class="col-md-4 maingreen pl-0 pr-4" for="TotInsurance"
                >{{ "Layout.Return Insurance" | translate }} :</label
              >
              <input
                type="text"
                name="TotalReturnInsurance"
                #TotalReturnInsurance="ngModel"
                [(ngModel)]="orderobj.TotalReturnInsurance"
                readonly
                class="col-md-8 form-control"
                id="TotInsurance"
                rows="2" />
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer p-1">
        <button
          type="button"
          (click)="updateOrderInsurance()"
          class="btn btn-primary btnEdit mt-0"
          data-dismiss="modal">
          {{ "Shared.Save" | translate }}
        </button>
        <button type="button" class="btn btn-light btnEdit mt-0" data-dismiss="modal">
          {{ "Shared.Close" | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
<!--End Insurance Model-->

<!--modal 101 -->
<div class="modal fade" id="modal-101" tabindex="-1" role="dialog" aria-labelledby="modal-101">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header py-3 d-flex align-items-center">
        <h5 class="modal-title">
          <img style="width: 2rem; height: 2rem" src="assets/images/settings.png" alt="" />
          {{ "Shared.setting" | translate }}
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">
        <div class="row">
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input type="checkbox" name="CloseDate" #CloseDate="ngModel" [(ngModel)]="Properties.CloseDate" />
                  {{ "ExtraExpenses.Date" | translate }}
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input type="checkbox" name="Paid" #Paid="ngModel" [(ngModel)]="Properties.Paid" />
                  {{ "Shared.paid" | translate }}
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input type="checkbox" name="SubTotal" #SubTotal="ngModel" [(ngModel)]="Properties.SubTotal" />
                  {{ "delivery.Subtotal" | translate }}
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input type="checkbox" name="IsSync" #IsSync="ngModel" [(ngModel)]="Properties.ShowIsSync" />
                  {{ "Shared.IsSync" | translate }}
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input
                    type="checkbox"
                    name="CustomerName"
                    #CustomerName="ngModel"
                    [(ngModel)]="Properties.CustomerName" />
                  {{ "returninsurance.CustomerName" | translate }}
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input
                    type="checkbox"
                    name="CustomerPhone"
                    #CustomerPhone="ngModel"
                    [(ngModel)]="Properties.CustomerPhone" />
                  {{ "Shared.customerPhone" | translate }}
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input
                    type="checkbox"
                    name="TotalInsuranceAmount"
                    #TotalInsuranceAmount="ngModel"
                    [(ngModel)]="Properties.TotalInsuranceAmount" />
                  {{ "Reports.TotalInsuranceAmount" | translate }}
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input
                    type="checkbox"
                    name="TotalReturnInsuranceAmount"
                    #TotalReturnInsuranceAmount="ngModel"
                    [(ngModel)]="Properties.TotalReturnInsuranceAmount" />
                  {{ "Shared.returninsurances" | translate }}
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-3 py-1">
            <div class="d-flex align-items-center justify-content-start">
              <div class="d-flex justify-content-center align-items-center">
                <label class="m-0">
                  <input type="checkbox" name="TableName" #TableName="ngModel" [(ngModel)]="Properties.TableName" />
                  {{ "delivery.TableName" | translate }}
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="ms-panel-footer d-flex justify-content-end">
        <button class="btn btn-secondary" id="close-popup" (click)="SaveManageOrderSetting()">save</button>
      </div>
    </div>
  </div>
</div>
